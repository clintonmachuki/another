HTTP/2 200 OK
X-Goog-Generation: 1726752708670536
X-Goog-Metageneration: 1
X-Goog-Stored-Content-Encoding: gzip
X-Goog-Stored-Content-Length: 286810
X-Goog-Hash: crc32c=NexwOg==
X-Goog-Hash: md5=SRcUS/3TgpFHquas+ad39w==
X-Goog-Storage-Class: MULTI_REGIONAL
Accept-Ranges: bytes
Content-Length: 1084546
Access-Control-Allow-Origin: *
X-Guploader-Uploadid: AD-8ljsBW-S-RmlmDUz98rNKPXWHQ4vgc0UAbvEaPfnicSpiuChgnjQwovohe8uUdVCZ-QnCmfakgv4-ow
Access-Control-Expose-Headers: Content-Length, Date, Server, Transfer-Encoding, X-GUploader-UploadID, X-Google-Trace
Server: UploadServer
Date: Fri, 20 Sep 2024 18:20:40 GMT
Expires: Fri, 20 Sep 2024 19:20:40 GMT
Cache-Control: public, max-age=3600
Age: 79
Last-Modified: Thu, 19 Sep 2024 13:31:48 GMT
Etag: "4917144bfdd3829147aae6acf9a777f7"
Content-Type: application/javascript
Vary: Accept-Encoding
Alt-Svc: h3=":443"; ma=2592000,h3-29=":443"; ma=2592000

const __vite__mapDeps = (i, m=__vite__mapDeps, d=(m.f || (m.f = ["assets/inquiry/index-C8sM59xG.js", "assets/inquiry/vendor-CRG5TkfQ.js", "assets/inquiry/assets-DjJL2vde.js", "assets/inquiry/lottie-nhhSAQXC.js", "assets/inquiry/inquiry-fog-BJSbFaer.js", "assets/inquiry/lodash-BWVLg5ix.js", "assets/inquiry/assets-icons-CDAEIqbl.js", "assets/inquiry/faceapi-DSMFxEqo.js", "assets/inquiry/index-ByxvDNK7.js", "assets/inquiry/index-PtT9EKb8.js"]))) => i.map(i => d[i]);
import {A as Qb, C as Zb, o as Jb, d as oi, e as Xi, a as Xb, q as Ko, f as e0, j as i, F as Ah, $ as bo, v as I, w as jn, h as $, W as Pn, r as f, i as g, L as kl, k as Th, m as t0, X as Eh, n as n0, M as Je, p as Nl, t as pn, U as i0, x as r0, y as o0, z as Es, B as Bi, D as a0, R as s0, E as c0, G as l0, H as d0, g as kh, I as Nt, J as Ti, K as En, N as $n, O as u0, b as Nh, P as Se, Q as si, S as st, T as Nr, V as ft, Y as jl, Z as G, _ as m0, a0 as xa, a1 as Pl, a2 as Vn, a3 as h0, a4 as ti, a5 as p0, a6 as Dl, a7 as f0, a8 as g0, a9 as b0, aa as ks, ab as ss, ac as cs, ad as C0, ae as x0, af as v0, ag as I0, ah as jh, ai as Ph, aj as Dh, ak as er, al as ke, am as Vt, an as Oh, ao as kn, ap as Lh, aq as Ol, ar as sa, as as S0, at as va, au as Ia, av as j, aw as K, ax as je, ay as y0, az as w0, aA as _0, aB as xc, aC as R0, aD as nu, aE as A0, aF as T0, aG as iu, aH as xr, aI as zn, aJ as E0, aK as ru, aL as k0, aM as P, aN as ie, aO as ze, aP as N0, aQ as j0, aR as vc, aS as P0, aT as ou, aU as D0, aV as Bo, aW as O0, aX as L0, aY as au, aZ as su, a_ as F0, a$ as cu, b0 as M0, b1 as Fh, b2 as Mh, b3 as Bh, b4 as B0, b5 as Ie, b6 as Vh, b7 as V0, b8 as U0, b9 as H0, ba as q0, bb as $0, bc as G0, bd as W0, be as Y0, bf as z0, bg as K0, bh as Q0, bi as Z0, bj as J0} from "./vendor-CRG5TkfQ.js";
import {S as X0, b as e1, d as t1, e as n1, f as i1, h as r1, i as o1, j as a1, k as s1, l as c1, m as l1, P as d1, C as u1, n as m1, o as h1, p as p1, q as f1, r as g1, s as b1, t as C1, u as x1, v as v1, w as Ll, x as Fl, y as Ml, z as Uh, A as Bl, B as Hh, D as I1, E as S1, F as qh, G as y1, H as w1, I as Vl, J as _1, K as R1, L as A1, M as T1, N as E1, O as $h, Q as k1, R as N1, T as j1, U as Ns, V as P1, W as wn, X as D1, Y as O1, Z as Gh, _ as ls, $ as Wh, a0 as Yh, a1 as zh, a2 as js, a3 as Kh, a4 as L1, a5 as Qh, a6 as F1, a7 as Zh, a8 as Ul, a9 as M1, aa as B1, ab as V1, ac as U1, ad as H1, ae as Jh, af as ds, ag as Ii, ah as vr, ai as q1, aj as Xh, ak as ep, al as tp, am as np, an as ai, ao as $1, ap as G1, aq as W1, ar as Y1, as as ip, at as Jc, au as rp, av as z1, aw as K1} from "./assets-DjJL2vde.js";
import {A as ht, a as xt, c as he, s as Kn, i as op, b as ut, d as _n, e as Sa, f as Q1, g as Be, h as Z1, j as J1, U as tn, o as jr, k as Ps, l as hi, B as Pr, m as X1, n as Hl, D as ap, p as sp, q as cp, r as lp, t as dp, u as ao, v as Ds, w as Ic, x as eC, y as lu, z as Os, C as Ls, E as ql, F as tC, G as up, H as mp, I as Xc, J as nC, K as iC, P as rC, L as oC, M as aC, N as Vo} from "./inquiry-fog-BJSbFaer.js";
import {_ as hp, a as sC, b as Jr, c as cC, d as du, e as el, f as ya, g as pp, h as Wt, i as lC, j as fp, k as dC, l as us, m as uu, n as uC, o as gp, p as mC, q as bp, r as hC, s as pC, t as tl, u as fC, v as Xr, w as gC, x as bC, y as CC, z as xC, A as vC, B as IC, C as SC, D as yC, E as wC, F as _C, G as RC, H as AC, I as TC, J as EC, K as kC, L as NC, M as jC, N as PC, O as DC} from "./lodash-BWVLg5ix.js";
import {S as Cp, a as $l, b as Gl, c as xp, d as vp, e as Ip, f as Sp, g as Fs, h as yp, i as Dr, j as OC, k as ms, l as hs, m as ps, n as LC, o as FC} from "./assets-icons-CDAEIqbl.js";
import {q as MC, z as Uo, Y as BC, Q as VC, G as UC, p as HC, a as qC, m as wp} from "./faceapi-DSMFxEqo.js";
import "./lottie-nhhSAQXC.js";
function xB() {
    import.meta.url,
    import("_").catch( () => 1),
    async function*() {}().next()
}
(function() {
    try {
        var e = typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : {}
          , t = new Error().stack;
        t && (e._sentryDebugIds = e._sentryDebugIds || {},
        e._sentryDebugIds[t] = "438b73a4-4ab2-47b0-b908-7e7069e2fb9b",
        e._sentryDebugIdIdentifier = "sentry-dbid-438b73a4-4ab2-47b0-b908-7e7069e2fb9b")
    } catch {}
}
)();
const ln = {
    base: "1px",
    rounded: "4px",
    circle: "100px",
    pill: "24px"
}
  , Fe = {
    indigo100: "#290087",
    indigo80: "#4F4099",
    indigo60: "#7E66B6",
    indigo50: "#8D89BB",
    indigo30: "#BDB8D9",
    indigo20: "#D4CCE7",
    indigo10: "#EAE6F3",
    yellow100: "#FFDC82",
    yellow10: "#FFF8E6",
    green100: "#62D284",
    green10: "#E0F6E6",
    red100: "#FF645A",
    red60: "#FF8F88",
    red10: "#FFE0DE",
    gray100: "#1E1B17",
    gray70: "#625F5D",
    gray50: "#9394A1",
    gray20: "#D2D1D1",
    gray8: "#EDEDEC",
    gray4: "#F6F6F7",
    black: "#000000",
    white: "#FFFFFF"
}
  , _p = {
    base: "rgba(0, 0, 0, 0.4)",
    popover: "0px 14px 24px rgba(0, 0, 0, 0.12);",
    card: "0px 2px 6px rgba(191, 191, 199, 0.4), 0px 2px 2px rgba(191, 191, 199, 0.24), 0px 0px 2px rgba(191, 191, 199, 0.28);"
}
  , Co = {
    base: "'Rubik', sans-serif",
    mono: "'DM Mono', 'Lucida Console', Monaco, Consolas, 'Andale Mono', 'Ubunto Mono', monospace"
}
  , qt = {
    hero: "44px",
    h1: "30px",
    h2: "24px",
    h3: "18px",
    h4: "16px",
    h5: "14px",
    h6: "14px",
    input: "16px",
    p: "16px",
    small: "14px",
    xs: "12px",
    code: "12px"
}
  , on = {
    light: "300",
    regular: "400",
    medium: "500",
    semiBold: "500",
    bold: "700",
    black: "900"
}
  , Hn = {
    hero: 1.27,
    h1: 1.33,
    h2: 1.45,
    h3: 1.44,
    h4: 1.5,
    h5: 1.71,
    h6: 1.71,
    input: 1.5,
    p: 1.5,
    a: 1.5,
    small: 1.5,
    xs: 1.75,
    code: 1.5
}
  , Ua = {
    mobile: 568
}
  , xi = {
    mobileSmall: 576,
    mobile: 768.98,
    tablet: 769,
    desktop: 1024,
    widescreen: 1216,
    fullHD: 1408
}
  , Zi = .02
  , jt = {
    isSmallVertical: `(max-height: ${Ua.mobile - Zi}px)`,
    isMobileSmall: `(max-width: ${xi.mobileSmall - Zi}px), (max-height: ${Ua.mobile - Zi}px)`,
    isMobile: `(max-width: ${xi.tablet - Zi}px), (max-height: ${Ua.mobile - Zi}px)`,
    isNotMobile: `(min-width: ${xi.tablet}px) and (min-height: ${Ua.mobile}px)`,
    isTablet: `(min-width: ${xi.tablet}px) and (max-width: ${xi.desktop - Zi}px)`,
    isDesktop: `(min-width: ${xi.desktop}px) and (max-width: ${xi.widescreen - Zi}px)`,
    isWidescreen: `(min-width: ${xi.widescreen}px) and (max-width: ${xi.fullHD - Zi}px)`,
    isFullHD: `(min-width: ${xi.fullHD}px)`
}
  , M = {
    base: 8,
    widgetPadding: "24px",
    inputPadding: "16px",
    navHeight: "48px"
}
  , Yi = {
    input: "48px",
    textArea: "96px"
}
  , wa = {
    fast: "0.2s",
    medium: "0.4s"
};
class Wl extends Error {
    constructor({method: t, uri: n}) {
        super(`${t} ${n}`),
        this.name = "ApiCanceledError",
        Object.setPrototypeOf(this, new.target.prototype),
        this.message = [t, n].filter(Boolean).join(" "),
        this.method = t,
        this.uri = n
    }
}
class Yl extends Error {
    constructor({method: t, uri: n}) {
        super(`${t} ${n}`),
        this.name = "ApiRequestError",
        Object.setPrototypeOf(this, new.target.prototype),
        this.message = `${t} ${n}`,
        this.method = t,
        this.uri = n
    }
}
function nr({error: e, method: t, uri: n}) {
    var o;
    if (!(e instanceof Qb))
        throw e;
    const r = e;
    throw r instanceof Zb ? new Wl({
        method: t,
        uri: n
    }) : r.response ? new ht({
        method: t,
        status: r.response.status,
        uri: n,
        errors: (o = r.response.data) == null ? void 0 : o.errors,
        code: r.code
    }) : r.request || r.message === "Network Error" ? new xt({
        method: t,
        uri: n,
        code: r.code
    }) : new Yl({
        method: t,
        uri: n
    })
}
var y = (e => (e.CurrentUser = "current-user",
e.CurrentInquirySession = "current-inquiry-session",
e.Organization = "organization",
e.Organizations = "organizations",
e.Account = "accounts",
e.AccountAction = "account-actions",
e.AccountStatus = "account-statuses",
e.AccountType = "account-types",
e.AccountTypeGridLayout = "account-type-grid-layouts",
e.AccountVariableDefinition = "account-variable-definitions",
e.AnalyticsQueryTemplates = "analytics-query-templates",
e.ApiKey = "api-keys",
e.ApiLog = "api-logs",
e.Blueprint = "blueprints",
e.Case = "cases",
e.CaseAssignmentPolicy = "case-assignment-policies",
e.CaseComment = "case-comments",
e.CaseMessage = "case-messages",
e.CaseQueue = "case-queues",
e.CaseQuery = "case-queries",
e.CaseQueryResult = "case-query-results",
e.CaseTemplate = "case-templates",
e.Device = "devices",
e.Environment = "environments",
e.Event = "events",
e.Exporter = "exporters",
e.ExternalIntegration = "external-integrations",
e.ExternalIntegrationCall = "external-integration-calls",
e.ExternalIntegrationConfig = "external-integration-configs",
e.ExternalIntegrationDataSource = "external-integration/data-sources",
e.ExternalIntegrationLog = "external-integration-logs",
e.ExternalIntegrationVendor = "external-integration-vendors",
e.File = "files",
e.Graph = "graphs",
e.GraphDatumType = "graph-datum-types",
e.GraphNode = "graph-nodes",
e.GraphQuery = "graph-queries",
e.GraphQueryTemplate = "graph-query-templates",
e.GraphSnapshot = "graph-snapshots",
e.ImporterPipeline = "importer-pipelines",
e.ImporterRun = "importer-pipeline-runs",
e.Inquiry = "inquiries",
e.InquirySession = "inquiry-sessions",
e.InquiryTemplate = "inquiry-templates",
e.InquiryTemplateModule = "inquiry-template-modules",
e.InquiryTemplateVersion = "inquiry-template-versions",
e.Invoice = "invoices",
e.List = "lists",
e.ListItem = "list-items",
e.ListMatch = "list-match",
e.OrganizationsSSO = "organizations/sso",
e.OnboardingFlowV1 = "onboarding-flow-v1s",
e.OrganizationPlan = "organization-plan",
e.OrganizationPlanMigration = "organization-plan-migrations",
e.PasswordReset = "password-resets",
e.Persona = "personas",
e.ReviewQueue = "review-queues",
e.ReviewQueueTask = "review-queue-tasks",
e.Role = "roles",
e.SAR = "sars",
e.SARConfiguration = "sar-configurations",
e.Selfie = "selfie",
e.SimulatePreset = "simulate-presets",
e.TableView = "table-views",
e.Tag = "tags",
e.Team = "teams",
e.Template = "templates",
e.Theme = "themes",
e.ThemeSet = "theme-sets",
e.Transaction = "transactions",
e.TransactionLabel = "transaction-labels",
e.TransactionStatus = "transaction-statuses",
e.TransactionType = "transaction-types",
e.TransactionTypeFilters = "transaction-types/basics",
e.Translations = "translations",
e.Trigger = "triggers",
e.FeatureFlag = "feature-flags",
e.User = "users",
e.UserAuditLog = "user-audit-logs",
e.UserAuthentication = "user-authentications",
e.UserNotification = "user-notifications",
e.UserSession = "user-sessions",
e.Verification = "verifications",
e.VerificationTemplate = "verification-templates",
e.VerificationTemplateVersion = "verification-template-versions",
e.Webhook = "webhooks",
e.WebhookEvent = "webhook-events",
e.Workflow = "workflows",
e.WorkflowBlock = "workflow-blocks",
e.WorkflowDeployment = "workflow-deployments",
e.WorkflowModule = "workflow-modules",
e.WorkflowRun = "workflow-runs",
e.WorkflowRunStep = "workflow-steps",
e.WorkflowSchemaFullOld = "workflows/schema",
e.WorkflowSchema = "workflow-schemas",
e.WorkflowSchemaCriteriaVariableSchemas = "workflow-schemas/criteria-variable-schemas",
e.WorkflowSchemaOperators = "workflow-schemas/operators",
e.WorkflowSchemaRedactableFieldConfigs = "workflow-schemas/redactable-field-configs",
e.WorkflowSchemaFilterFieldConfigs = "workflow-schemas/filter-field-configs",
e.WorkflowSchemaWorkflowActions = "workflow-schemas/workflow-actions",
e.WorkflowVersion = "workflow-versions",
e.ExporterAccount = "exporter/accounts",
e.ExporterCase = "exporter/cases",
e.ExporterCustomFiles = "exporter/custom-files",
e.ExporterInsightQueries = "exporter/insight-queries",
e.ExporterDataset = "exporter/dataset",
e.ExporterMetricsVerificationVolume = "exporter/metrics/verifications/volume",
e.ExporterMetricsVerificationChecks = "exporter/metrics/verifications/checks",
e.ExporterGraph = "exporter/graphs",
e.ExporterInquiry = "exporter/inquiries",
e.ExporterMetricsInquiry = "exporter/metrics/inquiry",
e.ExporterReport = "exporter/reports",
e.ExporterReviewQueueTask = "exporter/review-queue-tasks",
e.ExporterTransactions = "exporter/txns",
e.Importer = "importers",
e.ImporterReportAddressLookup = "importer/report/address-lookups",
e.ImporterReportAdverseMedia = "importer/report/adverse-media",
e.ImporterReportBusinessAdverseMedia = "importer/report/business-adverse-media",
e.ImporterReportBusinessLookup = "importer/report/business-lookups",
e.ImporterReportBusinessWatchlist = "importer/report/business-watchlists",
e.ImporterReportEmailAddress = "importer/report/email-addresses",
e.ImporterReportPhoneNumber = "importer/report/phone-numbers",
e.ImporterReportPoliticallyExposedPerson = "importer/report/politically-exposed-people",
e.ImporterReportProfileNonAuthoritative = "importer/report/profile-non-authoritatives",
e.ImporterReportSocialMedia = "importer/report/social-media",
e.ImporterReportWatchlist = "importer/report/watchlists",
e.SelfieCenterOnly = "selfie/center-onlies",
e.SelfieProfileAndCenter = "selfie/profile-and-centers",
e.VerificationAamva = "verification/aamvas",
e.VerificationBusinessWebsite = "verification/business-websites",
e.VerificationCertificateKorea = "verification/certificate-koreas",
e.VerificationDatabase = "verification/databases",
e.VerificationDatabaseAadhaar = "verification/database-aadhaars",
e.VerificationDatabaseBusiness = "verification/database-businesses",
e.VerificationDatabaseEcbsv = "verification/database-ecbsvs",
e.VerificationDatabasePhoneCarrier = "verification/database-phone-carriers",
e.VerificationDatabaseSerpro = "verification/database-serpros",
e.VerificationDatabaseStandard = "verification/database-standards",
e.VerificationDatabaseTin = "verification/database-tins",
e.VerificationDatabaseVatNumber = "verification/database-vat-numbers",
e.VerificationDigitalIdSingpass = "verification/digital-id-singpasses",
e.VerificationDigitalIdUkSharecode = "verification/digital-id-uk-sharecodes",
e.VerificationDocument = "verification/documents",
e.VerificationEmailAddress = "verification/email-addresses",
e.VerificationGovernmentId = "verification/government-ids",
e.VerificationGovernmentIdNfc = "verification/government-id-nfcs",
e.VerificationMobileDriversLicense = "verification/mobile-drivers-license",
e.VerificationPhoneNumber = "verification/phone-numbers",
e.VerificationSelfie = "verification/selfies",
e.Report = "reports",
e.ReportAddressLookup = "report/address-lookups",
e.ReportAdverseMedia = "report/adverse-media",
e.ReportBusinessAdverseMedia = "report/business-adverse-media",
e.ReportBusinessAssociatedPersons = "report/business-associated-persons",
e.ReportBusinessClassification = "report/business-classifications",
e.ReportBusinessIndustryClassification = "report/business-industry-classifications",
e.ReportBusinessLiensLookup = "report/business-liens-lookup",
e.ReportBusinessLookup = "report/business-lookups",
e.ReportBusinessNonprofit = "report/business-nonprofits",
e.ReportBusinessRegistrationsLookup = "report/business-registrations-lookup",
e.ReportBusinessSocialMedia = "report/business-social-media",
e.ReportBusinessWatchlist = "report/business-watchlists",
e.ReportBusinessWebsite = "report/business-websites",
e.ReportChainalysisAddressScreening = "report/integration/chainalysis-address-screening",
e.ReportClearbitBusinessLookup = "report/integration/clearbit-business-lookup",
e.ReportCoinbaseCheckCryptoRisk = "report/integration/coinbase-check-crypto-risk",
e.ReportCryptoAddressWatchlist = "report/crypto-address-watchlists",
e.ReportCustomList = "report/custom-lists",
e.ReportEmailAddress = "report/email-addresses",
e.ReportEquifaxOneview = "report/integration/equifax-oneview",
e.ReportFinraBrokerCheck = "report/finra-broker-checks",
e.ReportKyckrBusinessLookup = "report/integration/kyckr-business-lookup",
e.ReportMiddeskBusinessLookup = "report/integration/middesk-business-lookup",
e.ReportMxAccount = "report/integration/mx-account",
e.ReportPhoneNumber = "report/phone-numbers",
e.ReportPoliticallyExposedPerson = "report/politically-exposed-people",
e.ReportProfile = "report/profiles",
e.ReportProfileNonAuthoritative = "report/profile-non-authoritatives",
e.ReportSecActionLookup = "report/sec-action-lookups",
e.ReportSentilinkApplicationRisk = "report/integration/sentilink-application-risk",
e.ReportSentilinkScores = "report/integration/sentilink-scores",
e.ReportSocialMedia = "report/social-media",
e.ReportSynthetic = "report/synthetics",
e.ReportTrmWalletScreening = "report/integration/trm-wallet-screening",
e.ReportWatchlist = "report/watchlists",
e.ReportRunsCustomList = "report-run/custom-lists",
e.ReportSnapshot = "report-snapshot",
e.ReportTemplate = "report-templates",
e.ReportTemplateAddressLookup = "report-template/address-lookups",
e.ReportTemplateAdverseMedia = "report-template/adverse-media",
e.ReportTemplateBusinessAdverseMedia = "report-template/business-adverse-media",
e.ReportTemplateBusinessAssociatedPersons = "report-template/business-associated-persons",
e.ReportTemplateBusinessClassification = "report-template/business-classifications",
e.ReportTemplateBusinessIndustryClassification = "report-template/business-industry-classifications",
e.ReportTemplateBusinessLookup = "report-template/business-lookups",
e.ReportTemplateBusinessLiensLookup = "report-template/business-liens-lookup",
e.ReportTemplateBusinessNonprofit = "report-template/business-nonprofits",
e.ReportTemplateBusinessRegistrationsLookup = "report-template/business-registrations-lookups",
e.ReportTemplateBusinessSocialMedia = "report-template/business-social-media",
e.ReportTemplateBusinessWatchlist = "report-template/business-watchlists",
e.ReportTemplateBusinessWebsite = "report-template/business-websites",
e.ReportTemplateCreateable = "report-templates/createable",
e.ReportTemplateChainalysisAddressScreening = "report-template/integration/chainalysis-address-screenings",
e.ReportTemplateClearbitBusinessLookup = "report-template/integration/clearbit-business-lookup",
e.ReportTemplateCoinbaseCheckCryptoRisk = "report-template/integration/coinbase-check-crypto-risk",
e.ReportTemplateCryptoAddressWatchlist = "report-template/crypto-address-watchlists",
e.ReportTemplateCustomList = "report-template/custom-lists",
e.ReportTemplateEmailAddress = "report-template/email-addresses",
e.ReportTemplateEquifaxOneview = "report-template/integration/equifax-oneview",
e.ReportTemplateFilters = "report-templates/basics",
e.ReportTemplateFinraBrokerCheck = "report-template/finra-broker-checks",
e.ReportTemplateKyckrBusinessLookup = "report-template/integration/kyckr-business-lookups",
e.ReportTemplateNovaCreditCashAtlas = "report-template/integration/nova-credit-cash-atlas",
e.ReportTemplateMiddeskBusinessLookup = "report-template/integration/middesk-business-lookups",
e.ReportTemplateMxAccount = "report-template/integration/mx-accounts",
e.ReportTemplateNovaCreditCreditPassport = "report-template/integration/nova-credit-credit-passport",
e.ReportTemplatePhoneNumber = "report-template/phone-numbers",
e.ReportTemplatePoliticallyExposedPerson = "report-template/politically-exposed-people",
e.ReportTemplateProfile = "report-template/profiles",
e.ReportTemplateProfileNonAuthoritative = "report-template/profile-non-authoritatives",
e.ReportTemplateSecActionLookup = "report-template/sec-action-lookups",
e.ReportTemplateSentilinkApplicationRisk = "report-template/integration/sentilink-application-risk",
e.ReportTemplateSentilinkScores = "report-template/integration/sentilink-scores",
e.ReportTemplateSocialMedia = "report-template/social-media",
e.ReportTemplateSynthetic = "report-template/synthetics",
e.ReportTemplateTrmWalletScreening = "report-template/integration/trm-wallet-screening",
e.ReportTemplateWatchlist = "report-template/watchlists",
e.ReportTemplateVersion = "report-template-versions",
e.ReportTemplateVersionCustomList = "report-template-version/custom-lists",
e.MetricsApiLogsPaths = "metrics/api-logs/paths",
e.MetricsApiLogsVolumeOverTime = "metrics/api-logs/volume-over-time",
e.MetricsCases = "metrics/cases",
e.MetricsCasesStatusOverTime = "metrics/cases/status-over-time",
e.MetricsInquiries = "metrics/inquiries",
e.MetricsInquiriesFunnelConversionOverTime = "metrics/inquiries/conversion-over-time",
e.MetricsInquiriesFunnelFlow = "metrics/inquiries/funnel-flow",
e.MetricsInquiriesRecentActivity = "metrics/inquiries/recent-activity",
e.MetricsInquiriesRiskDistribution = "metrics/inquiries/risk-distribution",
e.MetricsInquiriesVolume = "metrics/inquiries/volume",
e.MetricsInquiriesVolumeOverTime = "metrics/inquiries/volume-over-time",
e.MetricsTransactions = "metrics/txns",
e.MetricsTransactionsVolumeOverTime = "metrics/txns/volume-over-time",
e.MetricsVerifications = "metrics/verifications",
e.MetricsVerificationsFilteredVolume = "metrics/verifications/volume-with-filters",
e.MetricsVerificationsVolumeOverTime = "metrics/verifications/volume-over-time",
e.MetricsVerificationsFilteredChecksOverTime = "metrics/verifications/checks-over-time-filters",
e.MetricsReportsSummary = "metrics/reports/reports-summary",
e.MetricsReportsOverTime = "metrics/reports/reports-over-time",
e.MetricsWorkflowRuns = "metrics/workflow-runs",
e.Document = "documents",
e.DocumentGeneric = "document/generics",
e.DocumentGovernmentId = "document/government-ids",
e.DocumentFile = "document-files",
e.DataSourceS3Config = "data-source/s3/config",
e.DataSourceS3ListObjects = "data-source/s3/list-objects",
e.Omnisearch = "omnisearch/search",
e.HelpCenterArticles = "article_search",
e.TrackingEvents = "t",
e.SimulatePresetVerification = "simulate/preset/verification",
e))(y || {})
  , w = (e => (e.Account = "account",
e.AccountAction = "account-action",
e.AccountStatus = "account-status",
e.AccountType = "account-type",
e.AccountTypeGridLayout = "account-type-grid-layout",
e.AccountVariableDefinition = "account-variable-definition",
e.AnalyticsQueryTemplate = "analytics-query-template",
e.Blueprint = "blueprint",
e.Case = "case",
e.CaseAssignmentPolicy = "case-assignment-policy",
e.CaseComment = "case-comment",
e.CaseMessage = "case-message",
e.CaseQueue = "case-queue",
e.CaseQuery = "case-query",
e.CaseQueryResult = "case-query-result",
e.CaseTemplate = "case-template",
e.CurrentInquirySession = "current-inquiry-session",
e.CurrentUser = "current-user",
e.Device = "device",
e.Environment = "environment",
e.EnvironmentProduction = "environment/production",
e.EnvironmentSandbox = "environment/sandbox",
e.Event = "event",
e.Graph = "graph",
e.GraphDatumType = "graph-datum-type",
e.GraphNode = "graph-node",
e.GraphQuery = "graph-query",
e.GraphQueryTemplate = "graph-query-template",
e.GraphSnapshot = "graph-snapshot",
e.ImporterPipelineCsv = "importer-pipeline/csv-external-integration-importer-pipeline",
e.ImporterPipelineMysql = "importer-pipeline/mysql-external-integration-importer-pipeline",
e.ImporterPipelineSnowflake = "importer-pipeline/snowflake-external-integration-importer-pipeline",
e.ImporterPipelineRedshift = "importer-pipeline/redshift-external-integration-importer-pipeline",
e.ImporterPipelineS3 = "importer-pipeline/s3-external-integration-importer-pipeline",
e.ImporterPipelineGoogleSheets = "importer-pipeline/google-sheets-external-integration-importer-pipeline",
e.ImporterRun = "importer-pipeline-run",
e.Inquiry = "inquiry",
e.InquirySession = "inquiry-session",
e.InquiryTemplate = "inquiry-template",
e.InquiryTemplateModule = "inquiry-template-module",
e.InquiryTemplateVersion = "inquiry-template-version",
e.InquiryTemplateVersionDiff = "inquiry-template-version-diff",
e.Invoice = "invoice",
e.OnboardingFlowV1 = "onboarding-flow/v1",
e.Organization = "organization",
e.OrganizationPlan = "organization-plan",
e.OrganizationPlanMigration = "organization-plan-migration",
e.PartialInquiryTemplateVersion = "partial-inquiry-template-version",
e.PasswordResetEmail = "password-reset/email",
e.Role = "role",
e.SAR = "sar",
e.SARConfiguration = "sar-configurations",
e.TableView = "table-view",
e.Team = "team",
e.Template = "template",
e.Theme = "theme",
e.ThemeSet = "theme-set",
e.Transaction = "transaction",
e.TransactionLabel = "transaction-label",
e.TransactionStatus = "transaction-status",
e.TransactionType = "transaction-type",
e.TriggerAccount = "trigger-account",
e.TriggerEvent = "trigger-event",
e.TriggerSchedule = "trigger-schedule",
e.TriggerRecurring = "trigger-recurring",
e.TriggerApi = "trigger-api",
e.TriggerCase = "trigger-case",
e.TriggerDirect = "trigger-direct",
e.TriggerComputedField = "trigger-computed-field",
e.User = "user",
e.UserAuditLog = "user-audit-log",
e.UserAuthentication = "user-authentication",
e.UserNotification = "user-notification",
e.UserSession = "user-session",
e.Webhook = "webhook",
e.WebhookEvent = "webhook-event",
e.List = "list",
e.ListGovernmentIdNumber = "list/government-id-number",
e.ListIpAddress = "list/ip-address",
e.ListName = "list/name",
e.ListPhoneNumber = "list/phone-number",
e.ListEmailAddress = "list/email-address",
e.ListGeolocation = "list/geolocation",
e.ListBrowserFingerprint = "list/browser-fingerprint",
e.ListDeviceFingerprint = "list/device-fingerprint",
e.ListFace = "list/face",
e.ListCountry = "list/country",
e.ListField = "list/field",
e.ListString = "list/string",
e.ListSelfieBackground = "list/selfie-background",
e.ListItem = "list-item",
e.ListItemGovernmentIdNumber = "list-item/government-id-number",
e.ListItemIpAddress = "list-item/ip-address",
e.ListItemName = "list-item/name",
e.ListItemPhoneNumber = "list-item/phone-number",
e.ListItemEmailAddress = "list-item/email-address",
e.ListItemGeolocation = "list-item/geolocation",
e.ListItemBrowserFingerprint = "list-item/browser-fingerprint",
e.ListItemDeviceFingerprint = "list-item/device-fingerprint",
e.ListItemFace = "list-item/face",
e.ListItemCountry = "list-item/country",
e.ListItemField = "list-item/field",
e.ListItemString = "list-item/string",
e.ListItemSelfieBackground = "list-item/selfie-background",
e.ListMatch = "list-match",
e.ReviewQueue = "review-queue",
e.ReviewQueueTask = "review-queue-task",
e.Workflow = "workflow",
e.WorkflowBlock = "workflow-block",
e.WorkflowDeployment = "workflow-deployment",
e.WorkflowModule = "workflow-module",
e.WorkflowRun = "workflow-run",
e.WorkflowRunSimulated = "workflow-run/simulated",
e.WorkflowVersion = "workflow-version",
e.WorkflowRunStep = "workflow-step",
e.WorkflowRunStepAction = "workflow-step/action",
e.WorkflowRunStepConditional = "workflow-step/conditional",
e.WorkflowRunStepLoop = "workflow-step/loop",
e.WorkflowRunStepModule = "workflow-step/module",
e.WorkflowRunStepParallel = "workflow-step/parallel",
e.WorkflowRunStepWait = "workflow-step/wait",
e.WorkflowRunVariablePersonaObject = "workflow-run/variable-store/persona-object-variable",
e.WorkflowRunVariablePlatformIntegration = "workflow-run/variable-store/platform-integration-variable",
e.WorkflowRunVariableOutput = "workflow-run/variable-store/output-variable",
e.WorkflowRunVariableTriggerParams = "workflow-run/variable-store/trigger-params-variable",
e.WorkflowRunVariableLoop = "workflow-run/variable-store/loop-variable",
e.Report = "report",
e.ReportAdverseMedia = "report/adverse-media",
e.ReportBusinessAdverseMedia = "report/business-adverse-media",
e.ReportBusinessAssociatedPersons = "report/business-associated-persons",
e.ReportBusinessClassification = "report/business-classification",
e.ReportBusinessIndustryClassification = "report/business-industry-classification",
e.ReportBusinessLiensLookup = "report/business-liens-lookup",
e.ReportBusinessLookup = "report/business-lookup",
e.ReportBusinessNonprofit = "report/business-nonprofit",
e.ReportBusinessRegistrationsLookup = "report/business-registrations-lookup",
e.ReportBusinessSocialMedia = "report/business-social-media",
e.ReportBusinessWatchlist = "report/business-watchlist",
e.ReportBusinessWebsite = "report/business-website",
e.ReportCryptoAddressWatchlist = "report/crypto-address-watchlist",
e.ReportCustomList = "report/custom-list",
e.ReportEmailAddress = "report/email-address",
e.ReportFinraBrokerCheck = "report/finra-broker-check",
e.ReportPhoneNumber = "report/phone-number",
e.ReportPoliticallyExposedPerson = "report/politically-exposed-person",
e.ReportProfile = "report/profile",
e.ReportProfileNonAuthoritative = "report/profile-non-authoritative",
e.ReportSecActionLookup = "report/sec-action-lookup",
e.ReportAddressLookup = "report/address-lookup",
e.ReportSocialMedia = "report/social-media",
e.ReportSynthetic = "report/synthetic",
e.ReportWatchlist = "report/watchlist",
e.ReportSnapshotAdverseMedia = "report-snapshot/adverse-media",
e.ReportSnapshotBusinessNonprofit = "report-snapshot/business-nonprofit",
e.ReportSnapshotWatchlist = "report-snapshot/watchlist",
e.ReportChainalysisAddressScreening = "report/integration/chainalysis-address-screening",
e.ReportClearbitBusinessLookup = "report/integration/clearbit-business-lookup",
e.ReportCoinbaseCheckCryptoRisk = "report/integration/coinbase-check-crypto-risk",
e.ReportEquifaxOneview = "report/integration/equifax-oneview",
e.ReportKyckrBusinessLookup = "report/integration/kyckr-business-lookup",
e.ReportMiddeskBusinessLookup = "report/integration/middesk-business-lookup",
e.ReportMxAccount = "report/integration/mx-account",
e.ReportSentilinkApplicationRisk = "report/integration/sentilink-application-risk",
e.ReportSentilinkScores = "report/integration/sentilink-scores",
e.ReportTrmWalletScreening = "report/integration/trm-wallet-screening",
e.ReportTemplate = "report-template",
e.ReportTemplateAddressLookup = "report-template/address-lookup",
e.ReportTemplateAdverseMedia = "report-template/adverse-media",
e.ReportTemplateBusinessAdverseMedia = "report-template/business-adverse-media",
e.ReportTemplateBusinessAssociatedPersons = "report-template/business-associated-persons",
e.ReportTemplateBusinessClassification = "report-template/business-classification",
e.ReportTemplateBusinessIndustryClassification = "report-template/business-industry-classification",
e.ReportTemplateBusinessLiensLookup = "report-template/business-liens-lookup",
e.ReportTemplateBusinessLookup = "report-template/business-lookup",
e.ReportTemplateBusinessNonprofit = "report-template/business-nonprofit",
e.ReportTemplateBusinessRegistrationsLookup = "report-template/business-registrations-lookup",
e.ReportTemplateBusinessSocialMedia = "report-template/business-social-media",
e.ReportTemplateBusinessWatchlist = "report-template/business-watchlist",
e.ReportTemplateBusinessWebsite = "report-template/business-website",
e.ReportTemplateCryptoAddressWatchlist = "report-template/crypto-address-watchlist",
e.ReportTemplateCustomList = "report-template/custom-list",
e.ReportTemplateEmailAddress = "report-template/email-address",
e.ReportTemplateFinraBrokerCheck = "report-template/finra-broker-check",
e.ReportTemplatePhoneNumber = "report-template/phone-number",
e.ReportTemplatePoliticallyExposedPerson = "report-template/politically-exposed-person",
e.ReportTemplateProfile = "report-template/profile",
e.ReportTemplateProfileNonAuthoritative = "report-template/profile-non-authoritative",
e.ReportTemplateSecActionLookup = "report-template/sec-action-lookup",
e.ReportTemplateSocialMedia = "report-template/social-media",
e.ReportTemplateSynthetic = "report-template/synthetic",
e.ReportTemplateWatchlist = "report-template/watchlist",
e.ReportTemplateClearbitBusinessLookup = "report-template/integration/clearbit-business-lookup",
e.ReportTemplateChainalysisAddressScreening = "report-template/integration/chainalysis-address-screening",
e.ReportTemplateCoinbaseCheckCryptoRisk = "report-template/integration/coinbase-check-crypto-risk",
e.ReportTemplateEquifaxOneview = "report-template/integration/equifax-oneview",
e.ReportTemplateKyckrBusinessLookup = "report-template/integration/kyckr-business-lookup",
e.ReportTemplateMiddeskBusinessLookup = "report-template/integration/middesk-business-lookup",
e.ReportTemplateMxAccount = "report-template/integration/mx-account",
e.ReportTemplateNovaCreditCashAtlas = "report-template/integration/nova-credit-cash-atlas",
e.ReportTemplateNovaCreditCreditPassport = "report-template/integration/nova-credit-credit-passport",
e.ReportTemplateSentilinkApplicationRisk = "report-template/integration/sentilink-application-risk",
e.ReportTemplateSentilinkScores = "report-template/integration/sentilink-scores",
e.ReportTemplateTrmWalletScreening = "report-template/integration/trm-wallet-screening",
e.ReportTemplateVersionAddressLookup = "report-template-version/address-lookup",
e.ReportTemplateVersionAdverseMedia = "report-template-version/adverse-media",
e.ReportTemplateVersionBusinessAdverseMedia = "report-template-version/business-adverse-media",
e.ReportTemplateVersionBusinessAssociatedPersons = "report-template-version/business-associated-persons",
e.ReportTemplateVersionBusinessClassification = "report-template-version/business-classification",
e.ReportTemplateVersionBusinessIndustryClassification = "report-template-version/business-industry-classification",
e.ReportTemplateVersionBusinessLiensLookup = "report-template-version/business-liens-lookup",
e.ReportTemplateVersionBusinessLookup = "report-template-version/business-lookup",
e.ReportTemplateVersionBusinessNonprofit = "report-template-version/business-nonprofit",
e.ReportTemplateVersionBusinessRegistrationsLookup = "report-template-version/business-registrations-lookup",
e.ReportTemplateVersionBusinessSocialMedia = "report-template-version/business-social-media",
e.ReportTemplateVersionBusinessWatchlist = "report-template-version/business-watchlist",
e.ReportTemplateVersionBusinessWebsite = "report-template-version/business-website",
e.ReportTemplateVersionCryptoAddressWatchlist = "report-template-version/crypto-address-watchlist",
e.ReportTemplateVersionCustomList = "report-template-version/custom-list",
e.ReportTemplateVersionEmailAddress = "report-template-version/email-address",
e.ReportTemplateVersionFinraBrokerCheck = "report-template-version/finra-broker-check",
e.ReportTemplateVersionPhoneNumber = "report-template-version/phone-number",
e.ReportTemplateVersionPoliticallyExposedPerson = "report-template-version/politically-exposed-person",
e.ReportTemplateVersionProfile = "report-template-version/profile",
e.ReportTemplateVersionProfileNonAuthoritative = "report-template-version/profile-non-authoritative",
e.ReportTemplateVersionSecActionLookup = "report-template-version/sec-action-lookup",
e.ReportTemplateVersionSocialMedia = "report-template-version/social-media",
e.ReportTemplateVersionSynthetic = "report-template-version/synthetic",
e.ReportTemplateVersionWatchlist = "report-template-version/watchlist",
e.ReportTemplateVersionChainalysisAddressScreening = "report-template-version/integration/chainalysis-address-screening",
e.ReportTemplateVersionClearbitBusinessLookup = "report-template-version/integration/clearbit-business-lookup",
e.ReportTemplateVersionEquifaxOneview = "report-template-version/integration/equifax-oneview",
e.ReportTemplateVersionKyckrBusinessLookup = "report-template-version/integration/kyckr-business-lookup",
e.ReportTemplateVersionMiddeskBusinessLookup = "report-template-version/integration/middesk-business-lookup",
e.ReportTemplateVersionMxAccount = "report-template-version/integration/mx-account",
e.ReportTemplateVersionSentilinkApplicationRisk = "report-template-version/sentilink-application-risk",
e.ReportTemplateVersionSentilinkScores = "report-template-version/sentilink-scores",
e.ReportTemplateVersionTrmWalletScreening = "report-template-version/integration/trm-wallet-screening",
e.ReportSnapshot = "report-snapshot",
e.ReportRun = "report-run",
e.ReportRunCustomList = "report-run/custom-list",
e.SelfieCenterOnly = "selfie/center-only",
e.SelfieProfileAndCenter = "selfie/profile-and-center",
e.Tag = "tag",
e.Translations = "translations",
e.Exporter = "exporter",
e.ExporterAccount = "exporter/account",
e.ExporterCase = "exporter/case",
e.ExporterCustomFile = "exporter/custom-file",
e.ExporterInsightQuery = "exporter/insight-query",
e.ExporterDataset = "exporter/dataset",
e.ExporterGraph = "exporter/graph",
e.ExporterInquiry = "exporter/inquiry",
e.ExporterMetricsVerificationVolume = "exporter/metrics/verifications/volume",
e.ExporterMetricsInquiry = "exporter/metrics/inquiry",
e.ExporterMetricsVerificationChecks = "exporter/metrics/verifications/checks",
e.ExporterReport = "exporter/report",
e.ExporterReviewQueueTask = "exporter/review-queue-task",
e.ExporterTransaction = "exporter/txn",
e.Importer = "importer",
e.ImporterReportAddressLookup = "importer/report/address-lookup",
e.ImporterReportAdverseMedia = "importer/report/adverse-media",
e.ImporterReportBusinessAdverseMedia = "importer/report/business-adverse-media",
e.ImporterReportBusinessLookup = "importer/report/business-lookup",
e.ImporterReportBusinessWatchlist = "importer/report/business-watchlist",
e.ImporterReportEmailAddress = "importer/report/email-address",
e.ImporterReportPhoneNumber = "importer/report/phone-number",
e.ImporterReportPoliticallyExposedPerson = "importer/report/politically-exposed-person",
e.ImporterReportProfileNonAuthoritative = "importer/report/profile-non-authoritative",
e.ImporterReportSocialMedia = "importer/report/social-media",
e.ImporterReportWatchlist = "importer/report/watchlist",
e.Verification = "verification",
e.VerificationAamva = "verification/aamva",
e.VerificationBusinessWebsite = "verification/business-website",
e.VerificationCertificateKorea = "verification/certificate-korea",
e.VerificationDatabase = "verification/database",
e.VerificationDatabaseAadhaar = "verification/database-aadhaar",
e.VerificationDatabaseStandard = "verification/database-standard",
e.VerificationDatabaseBusiness = "verification/database-business",
e.VerificationDatabaseEcbsv = "verification/database-ecbsv",
e.VerificationDatabasePhoneCarrier = "verification/database-phone-carrier",
e.VerificationDatabaseSerpro = "verification/database-serpro",
e.VerificationDatabaseTin = "verification/database-tin",
e.VerificationDatabaseVatNumber = "verification/database-vat-number",
e.VerificationDigitalIdSingpass = "verification/digital-id-singpass",
e.VerificationDigitalIdUkSharecode = "verification/digital-id-uk-sharecode",
e.VerificationDocument = "verification/document",
e.VerificationEmailAddress = "verification/email-address",
e.VerificationGovernmentId = "verification/government-id",
e.VerificationGovernmentIdNfc = "verification/government-id-nfc",
e.VerificationMobileDriversLicense = "verification/mobile-drivers-license",
e.VerificationPhoneNumber = "verification/phone-number",
e.VerificationSelfie = "verification/selfie",
e.VerificationTemplate = "verification-template",
e.VerificationTemplateAamva = "verification-template/aamva",
e.VerificationTemplateBusinessWebsite = "verification-template/business-website",
e.VerificationTemplateCertificateKorea = "verification-template/certificate-korea",
e.VerificationTemplateDatabase = "verification-template/database",
e.VerificationTemplateDatabaseAadhaar = "verification-template/database-aadhaar",
e.VerificationTemplateDatabaseStandard = "verification-template/database-standard",
e.VerificationTemplateDatabaseBusiness = "verification-template/database-business",
e.VerificationTemplateDatabaseEcbsv = "verification-template/database-ecbsv",
e.VerificationTemplateDatabasePhoneCarrier = "verification-template/database-phone-carrier",
e.VerificationTemplateDatabaseSerpro = "verification-template/database-serpro",
e.VerificationTemplateDatabaseTin = "verification-template/database-tin",
e.VerificationTemplateDatabaseVatNumber = "verification-template/database-vat-number",
e.VerificationTemplateDigitalIdSingpass = "verification-template/digital-id-singpass",
e.VerificationTemplateDigitalIdUkSharecode = "verification-template/digital-id-uk-sharecode",
e.VerificationTemplateDocument = "verification-template/document",
e.VerificationTemplateEmailAddress = "verification-template/email-address",
e.VerificationTemplateGovernmentId = "verification-template/government-id",
e.VerificationTemplateGovernmentIdNfc = "verification-template/government-id-nfc",
e.VerificationTemplateMobileDriversLicense = "verification-template/mobile-drivers-license",
e.VerificationTemplatePhoneNumber = "verification-template/phone-number",
e.VerificationTemplateSelfie = "verification-template/selfie",
e.VerificationTemplateVersion = "verification-template-version",
e.VerificationTemplateVersionAamva = "verification-template-version/aamva",
e.VerificationTemplateVersionBusinessWebsite = "verification-template-version/business-website",
e.VerificationTemplateVersionCertificateKorea = "verification-template-version/certificate-korea",
e.VerificationTemplateVersionDatabase = "verification-template-version/database",
e.VerificationTemplateVersionDatabaseAadhaar = "verification-template-version/database-aadhaar",
e.VerificationTemplateVersionDatabaseStandard = "verification-template-version/database-standard",
e.VerificationTemplateVersionDatabaseBusiness = "verification-template-version/database-business",
e.VerificationTemplateVersionDatabaseEcbsv = "verification-template-version/database-ecbsv",
e.VerificationTemplateVersionDatabasePhoneCarrier = "verification-template-version/database-phone-carrier",
e.VerificationTemplateVersionDatabaseSerpro = "verification-template-version/database-serpro",
e.VerificationTemplateVersionDatabaseTin = "verification-template-version/database-tin",
e.VerificationTemplateVersionDatabaseVatNumber = "verification-template-version/database-vat-number",
e.VerificationTemplateVersionDigitalIdSingpass = "verification-template-version/digital-id-singpass",
e.VerificationTemplateVersionDigitalIdUkSharecode = "verification-template-version/digital-id-uk-sharecode",
e.VerificationTemplateVersionDocument = "verification-template-version/document",
e.VerificationTemplateVersionEmailAddress = "verification-template-version/email-address",
e.VerificationTemplateVersionGovernmentId = "verification-template-version/government-id",
e.VerificationTemplateVersionGovernmentIdNfc = "verification-template-version/government-id-nfc",
e.VerificationTemplateVersionMobileDriversLicense = "verification-template-version/mobile-drivers-license",
e.VerificationTemplateVersionPhoneNumber = "verification-template-version/phone-number",
e.VerificationTemplateVersionSelfie = "verification-template-version/selfie",
e.Document = "document",
e.DocumentGeneric = "document/generic",
e.DocumentGovernmentId = "document/government-id",
e.DocumentFile = "document-file",
e.ApiKey = "api-key",
e.ApiLog = "api-log",
e.ExternalIntegrationCall = "external-integration-call",
e.ExternalIntegrationConfig = "external-integration-config",
e.ExternalIntegrationConfigCredentialApiKey = "external-integration-config/http-credential/api-key-scheme",
e.ExternalIntegrationConfigCredentialBearer = "external-integration-config/http-credential/bearer-scheme",
e.ExternalIntegrationConfigCredentialBasic = "external-integration-config/http-credential/basic-scheme",
e.ExternalIntegrationDataSource = "external-integration/data-source",
e.ExternalIntegrationDataSourceCsv = "external-integration/data-source/csv",
e.ExternalIntegrationDataSourceGoogleSheets = "external-integration/data-source/google-sheets",
e.ExternalIntegrationDataSourceMongodb = "external-integration/data-source/mongodb",
e.ExternalIntegrationDataSourceMysql = "external-integration/data-source/mysql",
e.ExternalIntegrationDataSourcePostgres = "external-integration/data-source/postgres",
e.ExternalIntegrationDataSourceRedshift = "external-integration/data-source/redshift",
e.ExternalIntegrationDataSourceS3 = "external-integration/data-source/s3",
e.ExternalIntegrationDataSourceSnowflake = "external-integration/data-source/snowflake",
e.ExternalIntegrationEnrichmentChainalysis = "external-integration/enrichment/chainalysis",
e.ExternalIntegrationEnrichmentEquifaxOneview = "external-integration/enrichment/equifax/oneview",
e.ExternalIntegrationEnrichmentKyckr = "external-integration/enrichment/kyckr",
e.ExternalIntegrationEnrichmentMiddesk = "external-integration/enrichment/middesk",
e.ExternalIntegrationEnrichmentMx = "external-integration/enrichment/mx",
e.ExternalIntegrationEnrichmentSentilink = "external-integration/enrichment/sentilink",
e.ExternalIntegrationEnrichmentTrm = "external-integration/enrichment/trm",
e.ExternalIntegrationLog = "external-integration-log",
e.ExternalIntegrationProductivity = "external-integration/productivity",
e.ExternalIntegrationProductivityHubspotOAuth = "external-integration/productivity/hubspot-oauth",
e.ExternalIntegrationProductivityOpenAi = "external-integration/productivity/openai",
e.ExternalIntegrationProductivitySalesforceOAuth = "external-integration/productivity/salesforce-oauth",
e.ExternalIntegrationProductivitySlackOAuth = "external-integration/productivity/slack-oauth",
e.ExternalIntegrationProductivityZendeskOAuth = "external-integration/productivity/zendesk-oauth",
e.ExternalIntegrationVendor = "external-integration-vendor",
e.SimulatePreset = "simulate/preset",
e.SimulatePresetVerification = "simulate/preset/verification",
e))(w || {});
const $C = {
    [w.Account]: y.Account,
    [w.AccountAction]: y.AccountAction,
    [w.AccountStatus]: y.AccountStatus,
    [w.AccountType]: y.AccountType,
    [w.AccountTypeGridLayout]: y.AccountTypeGridLayout,
    [w.AccountVariableDefinition]: y.AccountVariableDefinition,
    [w.AnalyticsQueryTemplate]: y.AnalyticsQueryTemplates,
    [w.ApiKey]: y.ApiKey,
    [w.Blueprint]: y.Blueprint,
    [w.Case]: y.Case,
    [w.CaseAssignmentPolicy]: y.CaseAssignmentPolicy,
    [w.CaseComment]: y.CaseComment,
    [w.CaseMessage]: y.CaseMessage,
    [w.CaseQueue]: y.CaseQueue,
    [w.CaseQuery]: y.CaseQuery,
    [w.CaseQueryResult]: y.CaseQueryResult,
    [w.CaseTemplate]: y.CaseTemplate,
    [w.Device]: y.Device,
    [w.Document]: y.Document,
    [w.DocumentGeneric]: y.DocumentGeneric,
    [w.DocumentGovernmentId]: y.DocumentGovernmentId,
    [w.DocumentFile]: y.DocumentFile,
    [w.Inquiry]: y.Inquiry,
    [w.CurrentInquirySession]: y.CurrentInquirySession,
    [w.Graph]: y.Graph,
    [w.GraphDatumType]: y.GraphDatumType,
    [w.GraphNode]: y.GraphNode,
    [w.GraphQuery]: y.GraphQuery,
    [w.GraphQueryTemplate]: y.GraphQueryTemplate,
    [w.GraphSnapshot]: y.GraphSnapshot,
    [w.InquirySession]: y.InquirySession,
    [w.Template]: y.Template,
    [w.InquiryTemplate]: y.InquiryTemplate,
    [w.InquiryTemplateVersion]: y.InquiryTemplateVersion,
    [w.InquiryTemplateVersionDiff]: y.InquiryTemplateVersion,
    [w.InquiryTemplateModule]: y.InquiryTemplateModule,
    [w.PartialInquiryTemplateVersion]: y.InquiryTemplateVersion,
    [w.Importer]: y.Importer,
    [w.ImporterPipelineCsv]: y.ImporterPipeline,
    [w.ImporterPipelineMysql]: y.ImporterPipeline,
    [w.ImporterPipelineSnowflake]: y.ImporterPipeline,
    [w.ImporterPipelineRedshift]: y.ImporterPipeline,
    [w.ImporterPipelineS3]: y.ImporterPipeline,
    [w.ImporterPipelineGoogleSheets]: y.ImporterPipeline,
    [w.ImporterRun]: y.ImporterRun,
    [w.ImporterReportAddressLookup]: y.ImporterReportAddressLookup,
    [w.ImporterReportAdverseMedia]: y.ImporterReportAdverseMedia,
    [w.ImporterReportBusinessAdverseMedia]: y.ImporterReportBusinessAdverseMedia,
    [w.ImporterReportBusinessLookup]: y.ImporterReportBusinessLookup,
    [w.ImporterReportBusinessWatchlist]: y.ImporterReportBusinessWatchlist,
    [w.ImporterReportEmailAddress]: y.ImporterReportEmailAddress,
    [w.ImporterReportPhoneNumber]: y.ImporterReportPhoneNumber,
    [w.ImporterReportPoliticallyExposedPerson]: y.ImporterReportPoliticallyExposedPerson,
    [w.ImporterReportProfileNonAuthoritative]: y.ImporterReportProfileNonAuthoritative,
    [w.ImporterReportSocialMedia]: y.ImporterReportSocialMedia,
    [w.ImporterReportWatchlist]: y.ImporterReportWatchlist,
    [w.Report]: y.Report,
    [w.ReportAddressLookup]: y.ReportAddressLookup,
    [w.ReportAdverseMedia]: y.ReportAdverseMedia,
    [w.ReportBusinessAdverseMedia]: y.ReportBusinessAdverseMedia,
    [w.ReportBusinessAssociatedPersons]: y.ReportBusinessAssociatedPersons,
    [w.ReportBusinessClassification]: y.ReportBusinessClassification,
    [w.ReportBusinessIndustryClassification]: y.ReportBusinessIndustryClassification,
    [w.ReportBusinessLiensLookup]: y.ReportBusinessLiensLookup,
    [w.ReportBusinessLookup]: y.ReportBusinessLookup,
    [w.ReportBusinessNonprofit]: y.ReportBusinessNonprofit,
    [w.ReportBusinessRegistrationsLookup]: y.ReportBusinessRegistrationsLookup,
    [w.ReportBusinessSocialMedia]: y.ReportBusinessSocialMedia,
    [w.ReportBusinessWatchlist]: y.ReportBusinessWatchlist,
    [w.ReportBusinessWebsite]: y.ReportBusinessWebsite,
    [w.ReportChainalysisAddressScreening]: y.ReportChainalysisAddressScreening,
    [w.ReportClearbitBusinessLookup]: y.ReportClearbitBusinessLookup,
    [w.ReportCoinbaseCheckCryptoRisk]: y.ReportCoinbaseCheckCryptoRisk,
    [w.ReportCryptoAddressWatchlist]: y.ReportCryptoAddressWatchlist,
    [w.ReportCustomList]: y.ReportCustomList,
    [w.ReportEmailAddress]: y.ReportEmailAddress,
    [w.ReportEquifaxOneview]: y.ReportEquifaxOneview,
    [w.ReportFinraBrokerCheck]: y.ReportFinraBrokerCheck,
    [w.ReportKyckrBusinessLookup]: y.ReportKyckrBusinessLookup,
    [w.ReportMiddeskBusinessLookup]: y.ReportMiddeskBusinessLookup,
    [w.ReportMxAccount]: y.ReportMxAccount,
    [w.ReportPhoneNumber]: y.ReportPhoneNumber,
    [w.ReportPoliticallyExposedPerson]: y.ReportPoliticallyExposedPerson,
    [w.ReportProfile]: y.ReportProfile,
    [w.ReportProfileNonAuthoritative]: y.ReportProfileNonAuthoritative,
    [w.ReportSecActionLookup]: y.ReportSecActionLookup,
    [w.ReportSentilinkApplicationRisk]: y.ReportSentilinkApplicationRisk,
    [w.ReportSentilinkScores]: y.ReportSentilinkScores,
    [w.ReportSocialMedia]: y.ReportSocialMedia,
    [w.ReportSynthetic]: y.ReportSynthetic,
    [w.ReportTrmWalletScreening]: y.ReportTrmWalletScreening,
    [w.ReportWatchlist]: y.ReportWatchlist,
    [w.ReportSnapshot]: y.ReportSnapshot,
    [w.ReportSnapshotWatchlist]: y.ReportSnapshot,
    [w.ReportSnapshotAdverseMedia]: y.ReportSnapshot,
    [w.ReportSnapshotBusinessNonprofit]: y.ReportSnapshot,
    [w.ReportTemplate]: y.ReportTemplate,
    [w.ReportTemplateAddressLookup]: y.ReportTemplateAddressLookup,
    [w.ReportTemplateAdverseMedia]: y.ReportTemplateAdverseMedia,
    [w.ReportTemplateBusinessAdverseMedia]: y.ReportTemplateBusinessAdverseMedia,
    [w.ReportTemplateBusinessAssociatedPersons]: y.ReportTemplateBusinessAssociatedPersons,
    [w.ReportTemplateBusinessClassification]: y.ReportTemplateBusinessClassification,
    [w.ReportTemplateBusinessIndustryClassification]: y.ReportTemplateBusinessIndustryClassification,
    [w.ReportTemplateBusinessLiensLookup]: y.ReportTemplateBusinessLiensLookup,
    [w.ReportTemplateBusinessLookup]: y.ReportTemplateBusinessLookup,
    [w.ReportTemplateBusinessNonprofit]: y.ReportTemplateBusinessNonprofit,
    [w.ReportTemplateBusinessRegistrationsLookup]: y.ReportTemplateBusinessRegistrationsLookup,
    [w.ReportTemplateBusinessSocialMedia]: y.ReportTemplateBusinessSocialMedia,
    [w.ReportTemplateBusinessWatchlist]: y.ReportTemplateBusinessWatchlist,
    [w.ReportTemplateBusinessWebsite]: y.ReportTemplateBusinessWebsite,
    [w.ReportTemplateChainalysisAddressScreening]: y.ReportTemplateChainalysisAddressScreening,
    [w.ReportTemplateClearbitBusinessLookup]: y.ReportTemplateClearbitBusinessLookup,
    [w.ReportTemplateCoinbaseCheckCryptoRisk]: y.ReportTemplateCoinbaseCheckCryptoRisk,
    [w.ReportTemplateCryptoAddressWatchlist]: y.ReportTemplateCryptoAddressWatchlist,
    [w.ReportTemplateCustomList]: y.ReportTemplateCustomList,
    [w.ReportTemplateEmailAddress]: y.ReportTemplateEmailAddress,
    [w.ReportTemplateEquifaxOneview]: y.ReportTemplateEquifaxOneview,
    [w.ReportTemplateFinraBrokerCheck]: y.ReportTemplateFinraBrokerCheck,
    [w.ReportTemplateKyckrBusinessLookup]: y.ReportTemplateKyckrBusinessLookup,
    [w.ReportTemplateMiddeskBusinessLookup]: y.ReportTemplateMiddeskBusinessLookup,
    [w.ReportTemplateMxAccount]: y.ReportTemplateMxAccount,
    [w.ReportTemplateNovaCreditCashAtlas]: y.ReportTemplateNovaCreditCashAtlas,
    [w.ReportTemplateNovaCreditCreditPassport]: y.ReportTemplateNovaCreditCreditPassport,
    [w.ReportTemplatePhoneNumber]: y.ReportTemplatePhoneNumber,
    [w.ReportTemplatePoliticallyExposedPerson]: y.ReportTemplatePoliticallyExposedPerson,
    [w.ReportTemplateProfile]: y.ReportTemplateProfile,
    [w.ReportTemplateProfileNonAuthoritative]: y.ReportTemplateProfileNonAuthoritative,
    [w.ReportTemplateSecActionLookup]: y.ReportTemplateSecActionLookup,
    [w.ReportTemplateSentilinkApplicationRisk]: y.ReportTemplateSentilinkApplicationRisk,
    [w.ReportTemplateSentilinkScores]: y.ReportTemplateSentilinkScores,
    [w.ReportTemplateSocialMedia]: y.ReportTemplateSocialMedia,
    [w.ReportTemplateSynthetic]: y.ReportTemplateSynthetic,
    [w.ReportTemplateTrmWalletScreening]: y.ReportTemplateTrmWalletScreening,
    [w.ReportTemplateWatchlist]: y.ReportTemplateWatchlist,
    [w.ReportTemplateVersionAddressLookup]: y.ReportTemplateVersion,
    [w.ReportTemplateVersionAdverseMedia]: y.ReportTemplateVersion,
    [w.ReportTemplateVersionBusinessAdverseMedia]: y.ReportTemplateVersion,
    [w.ReportTemplateVersionBusinessAssociatedPersons]: y.ReportTemplateVersion,
    [w.ReportTemplateVersionBusinessClassification]: y.ReportTemplateVersion,
    [w.ReportTemplateVersionBusinessIndustryClassification]: y.ReportTemplateVersion,
    [w.ReportTemplateVersionBusinessLiensLookup]: y.ReportTemplateVersion,
    [w.ReportTemplateVersionBusinessLookup]: y.ReportTemplateVersion,
    [w.ReportTemplateVersionBusinessNonprofit]: y.ReportTemplateVersion,
    [w.ReportTemplateVersionBusinessRegistrationsLookup]: y.ReportTemplateVersion,
    [w.ReportTemplateVersionBusinessSocialMedia]: y.ReportTemplateVersion,
    [w.ReportTemplateVersionBusinessWatchlist]: y.ReportTemplateVersion,
    [w.ReportTemplateVersionBusinessWebsite]: y.ReportTemplateVersion,
    [w.ReportTemplateVersionClearbitBusinessLookup]: y.ReportTemplateVersion,
    [w.ReportTemplateVersionChainalysisAddressScreening]: y.ReportTemplateVersion,
    [w.ReportTemplateVersionCryptoAddressWatchlist]: y.ReportTemplateVersion,
    [w.ReportTemplateVersionCustomList]: y.ReportTemplateVersionCustomList,
    [w.ReportTemplateVersionEmailAddress]: y.ReportTemplateVersion,
    [w.ReportTemplateVersionEquifaxOneview]: y.ReportTemplateVersion,
    [w.ReportTemplateVersionFinraBrokerCheck]: y.ReportTemplateVersion,
    [w.ReportTemplateVersionKyckrBusinessLookup]: y.ReportTemplateVersion,
    [w.ReportTemplateVersionMiddeskBusinessLookup]: y.ReportTemplateVersion,
    [w.ReportTemplateVersionMxAccount]: y.ReportTemplateVersion,
    [w.ReportTemplateVersionPhoneNumber]: y.ReportTemplateVersion,
    [w.ReportTemplateVersionPoliticallyExposedPerson]: y.ReportTemplateVersion,
    [w.ReportTemplateVersionProfile]: y.ReportTemplateVersion,
    [w.ReportTemplateVersionProfileNonAuthoritative]: y.ReportTemplateVersion,
    [w.ReportTemplateVersionSecActionLookup]: y.ReportTemplateVersion,
    [w.ReportTemplateVersionSentilinkApplicationRisk]: y.ReportTemplateVersion,
    [w.ReportTemplateVersionSentilinkScores]: y.ReportTemplateVersion,
    [w.ReportTemplateVersionSocialMedia]: y.ReportTemplateVersion,
    [w.ReportTemplateVersionSynthetic]: y.ReportTemplateVersion,
    [w.ReportTemplateVersionTrmWalletScreening]: y.ReportTemplateVersion,
    [w.ReportTemplateVersionWatchlist]: y.ReportTemplateVersion,
    [w.ReportRun]: y.ReportRunsCustomList,
    [w.ReportRunCustomList]: y.ReportRunsCustomList,
    [w.SAR]: y.SAR,
    [w.SARConfiguration]: y.SARConfiguration,
    [w.SelfieCenterOnly]: y.SelfieCenterOnly,
    [w.SelfieProfileAndCenter]: y.SelfieProfileAndCenter,
    [w.Verification]: y.Verification,
    [w.VerificationAamva]: y.VerificationAamva,
    [w.VerificationBusinessWebsite]: y.VerificationBusinessWebsite,
    [w.VerificationCertificateKorea]: y.VerificationCertificateKorea,
    [w.VerificationDatabase]: y.VerificationDatabase,
    [w.VerificationDatabaseAadhaar]: y.VerificationDatabaseAadhaar,
    [w.VerificationDatabaseBusiness]: y.VerificationDatabaseBusiness,
    [w.VerificationDatabaseEcbsv]: y.VerificationDatabaseEcbsv,
    [w.VerificationDatabasePhoneCarrier]: y.VerificationDatabasePhoneCarrier,
    [w.VerificationDatabaseSerpro]: y.VerificationDatabaseSerpro,
    [w.VerificationDatabaseStandard]: y.VerificationDatabaseStandard,
    [w.VerificationDatabaseTin]: y.VerificationDatabaseTin,
    [w.VerificationDatabaseVatNumber]: y.VerificationDatabaseVatNumber,
    [w.VerificationDigitalIdSingpass]: y.VerificationDigitalIdSingpass,
    [w.VerificationDigitalIdUkSharecode]: y.VerificationDigitalIdUkSharecode,
    [w.VerificationDocument]: y.VerificationDocument,
    [w.VerificationEmailAddress]: y.VerificationEmailAddress,
    [w.VerificationGovernmentId]: y.VerificationGovernmentId,
    [w.VerificationGovernmentIdNfc]: y.VerificationGovernmentIdNfc,
    [w.VerificationMobileDriversLicense]: y.VerificationMobileDriversLicense,
    [w.VerificationPhoneNumber]: y.VerificationPhoneNumber,
    [w.VerificationSelfie]: y.VerificationSelfie,
    [w.VerificationTemplate]: y.VerificationTemplate,
    [w.VerificationTemplateAamva]: y.VerificationTemplate,
    [w.VerificationTemplateBusinessWebsite]: y.VerificationTemplate,
    [w.VerificationTemplateCertificateKorea]: y.VerificationTemplate,
    [w.VerificationTemplateDatabase]: y.VerificationTemplate,
    [w.VerificationTemplateDatabaseAadhaar]: y.VerificationTemplate,
    [w.VerificationTemplateDatabaseEcbsv]: y.VerificationTemplate,
    [w.VerificationTemplateDatabaseBusiness]: y.VerificationTemplate,
    [w.VerificationTemplateDatabasePhoneCarrier]: y.VerificationTemplate,
    [w.VerificationTemplateDatabaseSerpro]: y.VerificationTemplate,
    [w.VerificationTemplateDatabaseStandard]: y.VerificationTemplate,
    [w.VerificationTemplateDatabaseTin]: y.VerificationTemplate,
    [w.VerificationTemplateDatabaseVatNumber]: y.VerificationTemplate,
    [w.VerificationTemplateDigitalIdSingpass]: y.VerificationTemplate,
    [w.VerificationTemplateDigitalIdUkSharecode]: y.VerificationTemplate,
    [w.VerificationTemplateDocument]: y.VerificationTemplate,
    [w.VerificationTemplateEmailAddress]: y.VerificationTemplate,
    [w.VerificationTemplateGovernmentId]: y.VerificationTemplate,
    [w.VerificationTemplateGovernmentIdNfc]: y.VerificationTemplate,
    [w.VerificationTemplateMobileDriversLicense]: y.VerificationTemplate,
    [w.VerificationTemplatePhoneNumber]: y.VerificationTemplate,
    [w.VerificationTemplateSelfie]: y.VerificationTemplate,
    [w.VerificationTemplateVersion]: y.VerificationTemplateVersion,
    [w.VerificationTemplateVersionAamva]: y.VerificationTemplateVersion,
    [w.VerificationTemplateVersionBusinessWebsite]: y.VerificationTemplateVersion,
    [w.VerificationTemplateVersionCertificateKorea]: y.VerificationTemplateVersion,
    [w.VerificationTemplateVersionDatabase]: y.VerificationTemplateVersion,
    [w.VerificationTemplateVersionDatabaseAadhaar]: y.VerificationTemplateVersion,
    [w.VerificationTemplateVersionDatabaseStandard]: y.VerificationTemplateVersion,
    [w.VerificationTemplateVersionDatabaseBusiness]: y.VerificationTemplateVersion,
    [w.VerificationTemplateVersionDatabaseEcbsv]: y.VerificationTemplateVersion,
    [w.VerificationTemplateVersionDatabasePhoneCarrier]: y.VerificationTemplateVersion,
    [w.VerificationTemplateVersionDatabaseSerpro]: y.VerificationTemplateVersion,
    [w.VerificationTemplateVersionDatabaseTin]: y.VerificationTemplateVersion,
    [w.VerificationTemplateVersionDatabaseVatNumber]: y.VerificationTemplateVersion,
    [w.VerificationTemplateVersionDigitalIdSingpass]: y.VerificationTemplateVersion,
    [w.VerificationTemplateVersionDigitalIdUkSharecode]: y.VerificationTemplateVersion,
    [w.VerificationTemplateVersionDocument]: y.VerificationTemplateVersion,
    [w.VerificationTemplateVersionEmailAddress]: y.VerificationTemplateVersion,
    [w.VerificationTemplateVersionGovernmentId]: y.VerificationTemplateVersion,
    [w.VerificationTemplateVersionGovernmentIdNfc]: y.VerificationTemplateVersion,
    [w.VerificationTemplateVersionMobileDriversLicense]: y.VerificationTemplateVersion,
    [w.VerificationTemplateVersionPhoneNumber]: y.VerificationTemplateVersion,
    [w.VerificationTemplateVersionSelfie]: y.VerificationTemplateVersion,
    [w.Organization]: y.Organization,
    [w.OrganizationPlan]: y.OrganizationPlan,
    [w.OrganizationPlanMigration]: y.OrganizationPlanMigration,
    [w.OnboardingFlowV1]: y.OnboardingFlowV1,
    [w.Invoice]: y.Invoice,
    [w.CurrentUser]: y.CurrentUser,
    [w.User]: y.User,
    [w.UserAuditLog]: y.UserAuditLog,
    [w.UserAuthentication]: y.UserAuthentication,
    [w.UserNotification]: y.UserNotification,
    [w.UserSession]: y.UserSession,
    [w.Event]: y.Event,
    [w.ApiLog]: y.ApiLog,
    [w.Environment]: y.Environment,
    [w.EnvironmentProduction]: y.Environment,
    [w.EnvironmentSandbox]: y.Environment,
    [w.Exporter]: y.Exporter,
    [w.ExporterAccount]: y.ExporterAccount,
    [w.ExporterInquiry]: y.ExporterInquiry,
    [w.ExporterMetricsInquiry]: y.ExporterMetricsInquiry,
    [w.ExporterCase]: y.ExporterCase,
    [w.ExporterCustomFile]: y.ExporterCustomFiles,
    [w.ExporterInsightQuery]: y.ExporterInsightQueries,
    [w.ExporterDataset]: y.ExporterDataset,
    [w.ExporterGraph]: y.ExporterGraph,
    [w.ExporterMetricsVerificationVolume]: y.ExporterMetricsVerificationVolume,
    [w.ExporterMetricsVerificationChecks]: y.ExporterMetricsVerificationChecks,
    [w.ExporterReport]: y.ExporterReport,
    [w.ExporterReviewQueueTask]: y.ExporterReviewQueueTask,
    [w.ExporterTransaction]: y.ExporterTransactions,
    [w.ExternalIntegrationCall]: y.ExternalIntegrationCall,
    [w.ExternalIntegrationConfig]: y.ExternalIntegrationConfig,
    [w.ExternalIntegrationConfigCredentialApiKey]: y.ExternalIntegrationConfig,
    [w.ExternalIntegrationConfigCredentialBearer]: y.ExternalIntegrationConfig,
    [w.ExternalIntegrationConfigCredentialBasic]: y.ExternalIntegrationConfig,
    [w.ExternalIntegrationDataSource]: y.ExternalIntegrationDataSource,
    [w.ExternalIntegrationDataSourceCsv]: y.ExternalIntegration,
    [w.ExternalIntegrationDataSourceMongodb]: y.ExternalIntegration,
    [w.ExternalIntegrationDataSourceMysql]: y.ExternalIntegration,
    [w.ExternalIntegrationDataSourcePostgres]: y.ExternalIntegration,
    [w.ExternalIntegrationDataSourceRedshift]: y.ExternalIntegration,
    [w.ExternalIntegrationDataSourceGoogleSheets]: y.ExternalIntegration,
    [w.ExternalIntegrationDataSourceSnowflake]: y.ExternalIntegration,
    [w.ExternalIntegrationDataSourceS3]: y.ExternalIntegration,
    [w.ExternalIntegrationEnrichmentChainalysis]: y.ExternalIntegration,
    [w.ExternalIntegrationEnrichmentEquifaxOneview]: y.ExternalIntegration,
    [w.ExternalIntegrationEnrichmentKyckr]: y.ExternalIntegration,
    [w.ExternalIntegrationEnrichmentMiddesk]: y.ExternalIntegration,
    [w.ExternalIntegrationEnrichmentMx]: y.ExternalIntegration,
    [w.ExternalIntegrationEnrichmentSentilink]: y.ExternalIntegration,
    [w.ExternalIntegrationEnrichmentTrm]: y.ExternalIntegration,
    [w.ExternalIntegrationLog]: y.ExternalIntegrationLog,
    [w.ExternalIntegrationProductivity]: y.ExternalIntegration,
    [w.ExternalIntegrationProductivityHubspotOAuth]: y.ExternalIntegration,
    [w.ExternalIntegrationProductivityOpenAi]: y.ExternalIntegration,
    [w.ExternalIntegrationProductivitySalesforceOAuth]: y.ExternalIntegration,
    [w.ExternalIntegrationProductivitySlackOAuth]: y.ExternalIntegration,
    [w.ExternalIntegrationProductivityZendeskOAuth]: y.ExternalIntegration,
    [w.ExternalIntegrationVendor]: y.ExternalIntegrationVendor,
    [w.PasswordResetEmail]: y.PasswordReset,
    [w.SimulatePreset]: y.SimulatePreset,
    [w.SimulatePresetVerification]: y.SimulatePreset,
    [w.TableView]: y.TableView,
    [w.Theme]: y.Theme,
    [w.ThemeSet]: y.ThemeSet,
    [w.Transaction]: y.Transaction,
    [w.TransactionLabel]: y.TransactionLabel,
    [w.TransactionStatus]: y.TransactionStatus,
    [w.TransactionType]: y.TransactionType,
    [w.Translations]: y.Translations,
    [w.TriggerComputedField]: y.Trigger,
    [w.TriggerEvent]: y.Trigger,
    [w.TriggerSchedule]: y.Trigger,
    [w.TriggerRecurring]: y.Trigger,
    [w.TriggerAccount]: y.Trigger,
    [w.TriggerApi]: y.Trigger,
    [w.TriggerCase]: y.Trigger,
    [w.TriggerDirect]: y.Trigger,
    [w.Webhook]: y.Webhook,
    [w.Workflow]: y.Workflow,
    [w.WorkflowBlock]: y.WorkflowBlock,
    [w.WorkflowDeployment]: y.WorkflowDeployment,
    [w.WorkflowModule]: y.WorkflowModule,
    [w.WorkflowRun]: y.WorkflowRun,
    [w.WorkflowRunSimulated]: y.WorkflowRun,
    [w.WorkflowRunStep]: y.WorkflowRunStep,
    [w.WorkflowRunStepAction]: y.WorkflowRunStep,
    [w.WorkflowRunStepConditional]: y.WorkflowRunStep,
    [w.WorkflowRunStepParallel]: y.WorkflowRunStep,
    [w.WorkflowRunStepLoop]: y.WorkflowRunStep,
    [w.WorkflowRunStepModule]: y.WorkflowRunStep,
    [w.WorkflowRunStepWait]: y.WorkflowRunStep,
    [w.WorkflowRunVariablePersonaObject]: y.WorkflowRunStep,
    [w.WorkflowRunVariablePlatformIntegration]: y.WorkflowRunStep,
    [w.WorkflowRunVariableOutput]: y.WorkflowRunStep,
    [w.WorkflowRunVariableTriggerParams]: y.WorkflowRunStep,
    [w.WorkflowRunVariableLoop]: y.WorkflowRunStep,
    [w.WorkflowVersion]: y.WorkflowVersion,
    [w.List]: y.List,
    [w.ListGovernmentIdNumber]: y.List,
    [w.ListIpAddress]: y.List,
    [w.ListName]: y.List,
    [w.ListPhoneNumber]: y.List,
    [w.ListEmailAddress]: y.List,
    [w.ListGeolocation]: y.List,
    [w.ListBrowserFingerprint]: y.List,
    [w.ListDeviceFingerprint]: y.List,
    [w.ListString]: y.List,
    [w.ListFace]: y.List,
    [w.ListCountry]: y.List,
    [w.ListField]: y.List,
    [w.ListSelfieBackground]: y.List,
    [w.ListItem]: y.ListItem,
    [w.ListItemGovernmentIdNumber]: y.ListItem,
    [w.ListItemIpAddress]: y.ListItem,
    [w.ListItemName]: y.ListItem,
    [w.ListItemPhoneNumber]: y.ListItem,
    [w.ListItemEmailAddress]: y.ListItem,
    [w.ListItemGeolocation]: y.ListItem,
    [w.ListItemBrowserFingerprint]: y.ListItem,
    [w.ListItemDeviceFingerprint]: y.ListItem,
    [w.ListItemFace]: y.ListItem,
    [w.ListItemCountry]: y.ListItem,
    [w.ListItemField]: y.ListItem,
    [w.ListItemString]: y.ListItem,
    [w.ListItemSelfieBackground]: y.ListItem,
    [w.ListMatch]: y.ListMatch,
    [w.WebhookEvent]: y.WebhookEvent,
    [w.ReviewQueue]: y.ReviewQueue,
    [w.ReviewQueueTask]: y.ReviewQueueTask,
    [w.Tag]: y.Tag,
    [w.Role]: y.Role,
    [w.Team]: y.Team
}
  , Qt = e => $C[e];
class GC {
    constructor(t) {
        this.apiRoot = t
    }
    listResource(t, n={}) {
        return this.makeRequest(t, "GET", n)
    }
    getResource(t, n, r={}) {
        return this.makeRequest(`${t}/${n}`, "GET", r)
    }
    getResourceMeta(t, n, r={}) {
        return this.makeRequest(`${t}/${n}`, "GET", r)
    }
    getResourceMetaTyped(t, n={}) {
        return this.makeRequest(`${t}`, "GET", n)
    }
    getResourceSingleton(t, n={}) {
        return this.makeRequest(t, "GET", n)
    }
    get(t, n, r, o={}) {
        return this.makeRequest(`${t}/${n}/${r}`, "GET", o)
    }
    getEndpoint(t, n={}) {
        return this.makeRequest(t, "GET", n)
    }
    getBlob(t, n, r, o={}) {
        return this.makeRequest(hp([t, n, r]).join("/"), "GET", {
            ...o,
            responseType: "blob"
        })
    }
    postResourceCreate(t, n={}) {
        const r = t.type
          , o = n.parent
          , s = (o && `${Qt(o.type)}/${o.id}/` || "") + Qt(r);
        return this.makeRequestWithBody(s, "POST", t, n)
    }
    postMultiResourceCreate(t, n, r={}) {
        const {parent: o, additionalData: a} = r
          , c = (o && `${Qt(o.type)}/${o.id}/` || "") + t;
        return this.makeRequestWithMultipleResources(c, "POST", n, a, r)
    }
    deleteResource(t, n) {
        return this.makeRequest(`${t}/${n}`, "DELETE")
    }
    deleteResourceWithPayload(t, n, r) {
        return this.makeRequestWithBody(`${n}/${r}`, "DELETE", t)
    }
    updateResource(t, n={}) {
        const r = t.type
          , o = n.parent
          , s = `${(o ? `${Qt(o.type)}/${o.id}/` : "") + Qt(r)}/${t.id}`;
        return this.makeRequestWithBody(s, "PATCH", t, n)
    }
    updateResourceAction(t, n, r={}) {
        const o = t.type
          , a = r.parent
          , c = `${(a ? `${Qt(a.type)}/${a.id}/` : "") + Qt(o)}/${t.id}/${n}`;
        return this.makeRequestWithBody(c, "PATCH", t, r)
    }
    updateResourceSingleton(t, n={}) {
        const r = t.type
          , o = n.parent
          , s = (o && `${Qt(o.type)}/${o.id}/` || "") + Qt(r);
        return this.makeRequestWithBody(s, "PATCH", t, n)
    }
    postResourceSingletonActionNew(t, n, r, o={}) {
        const a = `${t}/${n}`;
        return this.makeRequestWithBody(a, "POST", r, o)
    }
    postResourceSingletonAction(t, n, r={}) {
        const o = t.type
          , a = `${Qt(o)}/${n}`;
        return this.makeRequestWithBody(a, "POST", t, r)
    }
    postResourceAction(t, n, r={}) {
        const o = t.type
          , a = `${Qt(o)}/${t.id}/${n}`;
        return this.makeRequestWithBody(a, "POST", t, r)
    }
    async sendRequest(t, n, r={}) {
        var a, s;
        const o = this.generateParams(r);
        r.contentType === "multipart/form-data" && (n.data = Jb.serialize(n.data, {
            allowEmptyArrays: !!r.formDataAllowEmptyArrays
        })),
        (a = n.headers) != null || (n.headers = {}),
        n.headers["Persona-Server-SHA"] = "13fb53b8b01";
        try {
            const c = await oi.request({
                ...n,
                url: `${this.apiRoot}/${t}${o}`
            });
            if (Xi("request_id", (s = c == null ? void 0 : c.headers) == null ? void 0 : s["x-request-id"]),
            c.status === 0 && n.method)
                throw new xt({
                    method: n.method,
                    uri: t,
                    extra: "with 0 status code"
                });
            if (c.data == null && n.method && n.method.toLowerCase() !== "delete")
                throw new xt({
                    method: n.method,
                    uri: t,
                    extra: "with empty response"
                });
            return c
        } catch (c) {
            n.method ? nr({
                error: c,
                method: n.method,
                uri: t
            }) : Xb(new Error(`Missing request method for Axios error. Error: ${JSON.stringify(c)}`))
        } finally {
            Xi("request_id", void 0)
        }
    }
    async makeRequest(t, n, r={}) {
        const o = {
            method: n,
            "axios-retry": r.retryOptions,
            signal: r.signal,
            responseType: r.responseType,
            headers: r.headers
        }
          , a = await this.sendRequest(t, o, r);
        return a == null ? void 0 : a.data
    }
    async makeRequestWithBody(t, n, r, o={}) {
        const s = {
            data: {
                data: r,
                meta: o.meta
            },
            headers: {
                "Content-Type": o.contentType || "application/json",
                ...o.headers
            },
            method: n,
            "axios-retry": o.retryOptions,
            onUploadProgress: o.onUploadProgress
        }
          , c = await this.sendRequest(t, s, o);
        return c == null ? void 0 : c.data
    }
    async makeRequestWithMultipleResources(t, n, r, o=[], a={}) {
        const s = {
            data: {
                data: [r, ...o],
                meta: a.meta
            },
            headers: {
                "Content-Type": "application/json",
                ...a.headers
            },
            method: n,
            "axios-retry": a.retryOptions,
            onUploadProgress: a.onUploadProgress
        }
          , c = await this.sendRequest(t, s, a);
        return c == null ? void 0 : c.data
    }
    generateParams(t) {
        const n = Ko.stringify({
            filter: {
                ...t.filter
            },
            page: {
                ...t.page
            },
            sort: t.sort,
            query: t.query,
            include: Array.isArray(t.include) ? t.include.join(",") : void 0,
            activation_token: t == null ? void 0 : t.activationToken
        });
        return n ? `?${n}` : ""
    }
}
const Ts = class Ts {
    static init() {
        try {
            sessionStorage.setItem("testtest", "testtest"),
            sessionStorage.getItem("testtest"),
            sessionStorage.removeItem("testtest"),
            localStorage.setItem("testtest", "testtest"),
            localStorage.getItem("testtest"),
            localStorage.removeItem("testtest"),
            this.supportsStorage = !0
        } catch {
            this.supportsStorage = !1
        }
    }
    static setSessionItem(t, n) {
        if (this.sessionData[t] = n,
        this.supportsStorage)
            try {
                sessionStorage.setItem(t, n)
            } catch (r) {
                he(r, "warning", {
                    keys: Object.keys(sessionStorage)
                }),
                this.supportsStorage = !1
            }
    }
    static getSessionItem(t) {
        return this.supportsStorage ? this.sessionData[t] = sessionStorage.getItem(t) : t in this.sessionData || (this.sessionData[t] = null),
        this.sessionData[t]
    }
    static removeSessionItem(t) {
        delete this.sessionData[t],
        this.supportsStorage && sessionStorage.removeItem(t)
    }
    static setLocalItem(t, n) {
        if (this.localData[t] = n,
        this.supportsStorage)
            try {
                localStorage.setItem(t, n)
            } catch (r) {
                he(r, "warning", {
                    keys: Object.keys(localStorage)
                }),
                this.supportsStorage = !1
            }
    }
    static getLocalItem(t) {
        return this.supportsStorage ? this.localData[t] = localStorage.getItem(t) : t in this.localData || (this.localData[t] = null),
        this.localData[t]
    }
    static removeLocalItem(t) {
        delete this.localData[t],
        this.supportsStorage && localStorage.removeItem(t)
    }
}
;
Ts.sessionData = {},
Ts.localData = {};
let en = Ts;
en.init();
var _a = (e => (e.IpStackCacheKey = "cached-ipstack-location",
e.LocaleInfoCacheKey = "cached-locale-info",
e.DashboardCurrentEnvironmentId = "dashboard:current-environment-id",
e.DashboardRefreshTokenSession = "PERSONA-DASHBOARD-REFRESH",
e.DashboardCasesNextPageSettingDefault = "dashboard:cases:next-page-setting-default",
e.DashboardLayoutEditorCopiedModule = "dashboard:copied-module",
e.DashboardGraphQueryParameters = "dashboard:graph:query-parameters",
e.DashboardInquirySimulateBannerDismissed = "dashboard:inquiry:simulate-banner-dismissed",
e.DashboardITEInternalEditingEnabled = "dashboard:ite:internal-editing-enabled",
e.DashboardITEPreviewSimulatePanelOpen = "dashboard:ite:simulate-panel-open",
e.DashboardITEScreenEditorSelectedScreenMode = "dashboard:ite-screen-editor-selected-screen-mode",
e.DashboardITEScreenEditorSelectedComponentPanelSettings = "dashboard:ite-screen-editor-selected-component-panel-settings",
e.DashboardITEPreviewStepsPanelOpen = "dashboard:ite:simulate-steps-panel-open",
e.DasbhoardITEScreenEditorCopiedComponent = "dashboard:ite:screen-editor:copied-component",
e.DashboardITEScreenDimensions = "dashboard:ite:screen-dimensions",
e.DashboardReportsTableVisibleColumns = "dashboard:reports:visible-columns",
e.DashboardWorkflowEditorCollapsedSteps = "dashboard:workflow-editor:collapsed-steps",
e.DashboardWorkflowEditorCopiedSteps = "dashboard:workflow-editor:copied-steps",
e.DashboardWorkflowEditorRunCodeFormInputs = "dashboard:workflow-editor:run-code-form-inputs",
e.DashboardActivityAt = "dashboard:activity-at",
e.GroupProperties = "ajs_group_properties",
e.UserTraits = "ajs_user_traits",
e.APIListInfoBanner = "api-list-info-banner",
e.APIEditInfoBanner = "api-edit-info-banner",
e.WebhooksInfoBanner = "webhooks-info-banner",
e.EventsInfoBanner = "events-info-banner",
e.DashboardImporterStepperFormInputs = "dashboard:importer-stepper-form-inputs",
e.MarketingGclid = "marketing:gclid",
e.MarketingUtmSource = "marketing:utm-source",
e.MarketingUtmMedium = "marketing:utm-medium",
e.MarketingUtmCampaign = "marketing:utm-campaign",
e.MarketingUtmTerm = "marketing:utm-term",
e.MarketingUtmContent = "marketing:utm-content",
e.MarketingUtmAudience = "marketing:utm-audience",
e.MarketingUtmOther = "marketing:utm-other",
e.InquirySandboxBannerHidden = "inquiry:sandbox-banner-hidden",
e))(_a || {})
  , di = (e => (e.CommentModuleDrafts = "dashboard:comment-module-drafts",
e.SarModuleTabIdx = "dashboard:sar-module-tab-idx",
e.SectionedCardIdx = "dashboard:sectioned-card-idx",
e.CaseTemplateSettingTabIdx = "dashboard:case-template-setting-tab-idx",
e.InquiryParams = "inquiry:params-key",
e.InquiryAccessToken = "inquiry:access-token",
e.InquiryDeviceId = "inquiry:device-id",
e))(di || {});
function fs(e) {
    try {
        return e0(e)
    } catch {
        return null
    }
}
const nl = (e, t=null, n=[]) => {
    const r = Object.prototype.toString.call(e);
    if (r === "[object Object]")
        for (const o in e)
            nl(e[o], t ? `${t}[${o}]` : o, n);
    else if (r === "[object Array]")
        for (let o = 0; o < e.length; o++)
            nl(e[o], `${t}[${o}]`, n);
    else
        String(e) === "undefined" || String(e) === "null" || n.push([t, e]);
    return n
}
  , WC = e => {
    try {
        return btoa(unescape(encodeURIComponent(e)))
    } catch {
        return "Failed to encode input"
    }
}
  , YC = "/dashboard/inquiry-templates/:inquiryTemplateId/:inquiryTemplateVersionId"
  , gs = {
    CREATED: "create-persona/created",
    DISMISSED: "create-persona/dismissed"
}
  , yi = {
    TRANSITION_STARTED: "verify-with-persona/transition-started",
    TRANSITION_POLLING: "verify-with-persona/transition-polling",
    TRANSITION_COMPLETED: "verify-with-persona/transition-completed",
    TRANSITION_ERRORED: "verify-with-persona/transition-errored"
}
  , Rp = "/inquiry/reusable-persona-create-popup"
  , Ap = "/inquiry/reusable-persona-verify-popup";
var Ee = (e => (e.NameFirst = "name-first",
e.NameMiddle = "name-middle",
e.NameLast = "name-last",
e.NameFull = "name-full",
e.Birthdate = "birthdate",
e.SocialSecurityNumber = "social-security-number",
e.Address = "address",
e.AddressStreet1 = "address-street-1",
e.AddressStreet2 = "address-street-2",
e.AddressCity = "address-city",
e.AddressSubdivision = "address-subdivision",
e.AddressPostalCode = "address-postal-code",
e.AddressCountryCode = "address-country-code",
e.CountryCode = "country-code",
e.PhoneNumber = "phone-number",
e.EmailAddress = "email-address",
e.IdentificationNumber = "identification-number",
e.IdentificationClass = "identification-class",
e))(Ee || {})
  , Ge = (e => (e.Ui = "ui",
e.Document = "document",
e.GovernmentId = "government_id",
e.Selfie = "selfie",
e.Complete = "complete",
e.Integration = "integration",
e.VerifyWithPersona = "verify_with_persona",
e.Start = "start",
e.Completed = "completed",
e.Failed = "failed",
e.CountrySelect = "country_select",
e.DocumentsUpload = "documents_upload",
e))(Ge || {})
  , Tp = (e => (e.Default = "default",
e.None = "none",
e))(Tp || {});
function lt(e) {
    const t = typeof e == "object" ? JSON.stringify(e) : e;
    he(new TypeError(`assertNever non-exhaustive match: ${t}`))
}
const zC = e => e.replace(/\/$/, "")
  , Ep = e => {
    const t = e.split(".");
    return t.length > 1 ? t.pop() : null
}
  , KC = e => {
    if (e == null || e === "personacallback")
        return !0;
    let t;
    try {
        t = new URL(e).protocol
    } catch {
        return !1
    }
    return !["data:", "javascript:"].includes(t)
}
  , QC = e => e && e.substring(0, 15) === "intent:#Intent;" && e.substr(-4) === ";end";
function kp({children: e, disabled: t, ...n}) {
    return t ? i.jsx(i.Fragment, {
        children: e
    }) : i.jsx(Ah, {
        ...n,
        children: e
    })
}
var Tt = (e => (e.Embedded = "embedded",
e.WebView = "webview",
e.Hosted = "hosted",
e.Inline = "inline",
e))(Tt || {});
const ZC = bo(["body{height:100%;width:100%;font-size:", ";line-height:", ";color:", ";-webkit-font-smoothing:antialiased;font-family:", ";overflow:auto;-webkit-overflow-scrolling:touch;@media ", "{overflow:hidden;}@media ", "{background-color:", ";}}input,textarea,select{opacity:unset;}a{color:", ";font-size:inherit;line-height:inherit;text-decoration-line:", ";&:focus-visible{outline:", " auto 1px;outline-offset:2px;}}h2{font-size:", ";line-height:", ";font-weight:", ";margin-bottom:", "px;}h3{font-size:", ";line-height:", ";font-weight:", ";}small{font-size:", ";line-height:", ";a{font-size:", ";line-height:", ";}}section{margin-bottom:", "px;}.row{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-right:-", "px;margin-left:-", "px;}.col-sm-1,.col-sm-2,.col-sm-3,.col-sm-4,.col-sm-5,.col-sm-6,.col-sm-7,.col-sm-8,.col-sm-9,.col-sm-10,.col-sm-11,.col-sm-12{position:relative;width:100%;min-height:1px;padding-right:", "px;padding-left:", "px;}@media (min-width:576px){.col-sm-1{-webkit-box-flex:0;-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%;}.col-sm-2{-webkit-box-flex:0;-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%;}.col-sm-3{-webkit-box-flex:0;-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%;}.col-sm-4{-webkit-box-flex:0;-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%;}.col-sm-5{-webkit-box-flex:0;-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%;}.col-sm-6{-webkit-box-flex:0;-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%;}.col-sm-7{-webkit-box-flex:0;-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%;}.col-sm-8{-webkit-box-flex:0;-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%;}.col-sm-9{-webkit-box-flex:0;-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%;}.col-sm-10{-webkit-box-flex:0;-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%;}.col-sm-11{-webkit-box-flex:0;-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%;}.col-sm-12{-webkit-box-flex:0;-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%;}}"], qt.p, Hn.p, I.Color.CoreSlate500, Co.base, jt.isMobile, jt.isNotMobile, ({flowType: e}) => e === Tt.Inline ? "unset" : "#505060", ({theme: e}) => e.colorLink, ({theme: e}) => e.textDecorationLineLink, ({theme: e}) => e.colorLink, qt.h2, Hn.h2, on.semiBold, M.base, qt.h3, Hn.h3, on.semiBold, qt.small, Hn.small, qt.small, Hn.small, M.base * 2, M.base * 2, M.base * 2, M.base * 2, M.base * 2)
  , Sr = {
    "ar-EG": "",
    bn: "",
    cs: "etina",
    cy: "Cymraeg",
    da: "dansk",
    de: "Deutsch",
    "el-GR": "",
    "en-US": "English",
    "es-MX": "Espaol",
    fi: "suomi",
    fr: "Franais",
    he: "",
    hi: "",
    hr: "hrvatski",
    hu: "magyar",
    "id-ID": "Bahasa indonesia",
    it: "Italiano",
    ja: "",
    "ko-KR": "",
    lt: "lietuvi kalba",
    ms: "Bahasa Melayu",
    "nl-NL": "Nederlands",
    no: "norsk",
    pl: "Polski",
    "pt-BR": "Portugus",
    ro: "Romn",
    ru: "",
    sk: "slovenina",
    sv: "Svenska",
    ta: "",
    th: "",
    tl: "Tagalog",
    "tr-TR": "Trke",
    "uk-UA": "",
    ur: "Roman Urdu",
    vi: "ting vit",
    "zh-CN": " (",
    "zh-TW": " ("
}
  , JC = ["ar-EG", "he"]
  , bs = {
    AK: "Alaska",
    AL: "Alabama",
    AR: "Arkansas",
    AZ: "Arizona",
    CA: "California",
    CO: "Colorado",
    CT: "Connecticut",
    DC: "District of Columbia",
    DE: "Delaware",
    FL: "Florida",
    GA: "Georgia",
    HI: "Hawaii",
    IA: "Iowa",
    ID: "Idaho",
    IL: "Illinois",
    IN: "Indiana",
    KS: "Kansas",
    KY: "Kentucky",
    LA: "Louisiana",
    MA: "Massachusetts",
    MD: "Maryland",
    ME: "Maine",
    MI: "Michigan",
    MN: "Minnesota",
    MO: "Missouri",
    MS: "Mississippi",
    MT: "Montana",
    NC: "North Carolina",
    ND: "North Dakota",
    NE: "Nebraska",
    NH: "New Hampshire",
    NJ: "New Jersey",
    NM: "New Mexico",
    NV: "Nevada",
    NY: "New York",
    OH: "Ohio",
    OK: "Oklahoma",
    OR: "Oregon",
    PA: "Pennsylvania",
    RI: "Rhode Island",
    SC: "South Carolina",
    SD: "South Dakota",
    TN: "Tennessee",
    TX: "Texas",
    UT: "Utah",
    VA: "Virginia",
    VT: "Vermont",
    WA: "Washington",
    WI: "Wisconsin",
    WV: "West Virginia",
    WY: "Wyoming"
}
  , Cs = {
    AD: "Andorra",
    AE: "United Arab Emirates",
    AF: "Afghanistan",
    AG: "Antigua and Barbuda",
    AI: "Anguilla",
    AL: "Albania",
    AM: "Armenia",
    AO: "Angola",
    AQ: "Antarctica",
    AR: "Argentina",
    AS: "American Samoa",
    AT: "Austria",
    AU: "Australia",
    AW: "Aruba",
    AX: "land Islands",
    AZ: "Azerbaijan",
    BA: "Bosnia and Herzegovina",
    BB: "Barbados",
    BD: "Bangladesh",
    BE: "Belgium",
    BF: "Burkina Faso",
    BG: "Bulgaria",
    BH: "Bahrain",
    BI: "Burundi",
    BJ: "Benin",
    BL: "Saint Barthlemy",
    BM: "Bermuda",
    BN: "Brunei Darussalam",
    BO: "Bolivia (Plurinational State of)",
    BQ: "Bonaire, Sint Eustatius and Saba",
    BR: "Brazil",
    BS: "Bahamas",
    BT: "Bhutan",
    BV: "Bouvet Island",
    BW: "Botswana",
    BY: "Belarus",
    BZ: "Belize",
    CA: "Canada",
    CC: "Cocos (Keeling) Islands",
    CD: "Congo, Democratic Republic of the",
    CF: "Central African Republic",
    CG: "Congo",
    CH: "Switzerland",
    CI: "Cte dIvoire",
    CK: "Cook Islands",
    CL: "Chile",
    CM: "Cameroon",
    CN: "China",
    CO: "Colombia",
    CR: "Costa Rica",
    CU: "Cuba",
    CV: "Cabo Verde",
    CW: "Curaao",
    CX: "Christmas Island",
    CY: "Cyprus",
    CZ: "Czechia",
    DE: "Germany",
    DJ: "Djibouti",
    DK: "Denmark",
    DM: "Dominica",
    DO: "Dominican Republic",
    DZ: "Algeria",
    EC: "Ecuador",
    EE: "Estonia",
    EG: "Egypt",
    EH: "Western Sahara",
    ER: "Eritrea",
    ES: "Spain",
    ET: "Ethiopia",
    FI: "Finland",
    FJ: "Fiji",
    FK: "Falkland Islands (Malvinas)",
    FM: "Micronesia (Federated States of)",
    FO: "Faroe Islands",
    FR: "France",
    GA: "Gabon",
    GB: "United Kingdom of Great Britain and Northern Ireland",
    GD: "Grenada",
    GE: "Georgia",
    GF: "French Guiana",
    GG: "Guernsey",
    GH: "Ghana",
    GI: "Gibraltar",
    GL: "Greenland",
    GM: "Gambia",
    GN: "Guinea",
    GP: "Guadeloupe",
    GQ: "Equatorial Guinea",
    GR: "Greece",
    GS: "South Georgia and the South Sandwich Islands",
    GT: "Guatemala",
    GU: "Guam",
    GW: "Guinea-Bissau",
    GY: "Guyana",
    HK: "Hong Kong",
    HM: "Heard Island and McDonald Islands",
    HN: "Honduras",
    HR: "Croatia",
    HT: "Haiti",
    HU: "Hungary",
    ID: "Indonesia",
    IE: "Ireland",
    IL: "Israel",
    IM: "Isle of Man",
    IN: "India",
    IO: "British Indian Ocean Territory",
    IQ: "Iraq",
    IR: "Iran (Islamic Republic of)",
    IS: "Iceland",
    IT: "Italy",
    JE: "Jersey",
    JM: "Jamaica",
    JO: "Jordan",
    JP: "Japan",
    KE: "Kenya",
    KG: "Kyrgyzstan",
    KH: "Cambodia",
    KI: "Kiribati",
    KM: "Comoros",
    KN: "Saint Kitts and Nevis",
    KP: "Korea (Democratic Peoples Republic of)",
    KR: "Korea, Republic of",
    KW: "Kuwait",
    KY: "Cayman Islands",
    KZ: "Kazakhstan",
    LA: "Lao Peoples Democratic Republic",
    LB: "Lebanon",
    LC: "Saint Lucia",
    LI: "Liechtenstein",
    LK: "Sri Lanka",
    LR: "Liberia",
    LS: "Lesotho",
    LT: "Lithuania",
    LU: "Luxembourg",
    LV: "Latvia",
    LY: "Libya",
    MA: "Morocco",
    MC: "Monaco",
    MD: "Moldova, Republic of",
    ME: "Montenegro",
    MF: "Saint Martin (French part)",
    MG: "Madagascar",
    MH: "Marshall Islands",
    MK: "Macedonia, the former Yugoslav Republic of",
    ML: "Mali",
    MM: "Myanmar",
    MN: "Mongolia",
    MO: "Macao",
    MP: "Northern Mariana Islands",
    MQ: "Martinique",
    MR: "Mauritania",
    MS: "Montserrat",
    MT: "Malta",
    MU: "Mauritius",
    MV: "Maldives",
    MW: "Malawi",
    MX: "Mexico",
    MY: "Malaysia",
    MZ: "Mozambique",
    NA: "Namibia",
    NC: "New Caledonia",
    NE: "Niger",
    NF: "Norfolk Island",
    NG: "Nigeria",
    NI: "Nicaragua",
    NL: "Netherlands",
    NO: "Norway",
    NP: "Nepal",
    NR: "Nauru",
    NU: "Niue",
    NZ: "New Zealand",
    OM: "Oman",
    PA: "Panama",
    PE: "Peru",
    PF: "French Polynesia",
    PG: "Papua New Guinea",
    PH: "Philippines",
    PK: "Pakistan",
    PL: "Poland",
    PM: "Saint Pierre and Miquelon",
    PN: "Pitcairn",
    PR: "Puerto Rico",
    PS: "Palestine, State of",
    PT: "Portugal",
    PW: "Palau",
    PY: "Paraguay",
    QA: "Qatar",
    RE: "Runion",
    RO: "Romania",
    RS: "Serbia",
    RU: "Russian Federation",
    RW: "Rwanda",
    SA: "Saudi Arabia",
    SB: "Solomon Islands",
    SC: "Seychelles",
    SD: "Sudan",
    SE: "Sweden",
    SG: "Singapore",
    SH: "Saint Helena, Ascension and Tristan da Cunha",
    SI: "Slovenia",
    SJ: "Svalbard and Jan Mayen",
    SK: "Slovakia",
    SL: "Sierra Leone",
    SM: "San Marino",
    SN: "Senegal",
    SO: "Somalia",
    SR: "Suriname",
    SS: "South Sudan",
    ST: "Sao Tome and Principe",
    SV: "El Salvador",
    SX: "Sint Maarten (Dutch part)",
    SY: "Syrian Arab Republic",
    SZ: "Eswatini",
    TC: "Turks and Caicos Islands",
    TD: "Chad",
    TF: "French Southern Territories",
    TG: "Togo",
    TH: "Thailand",
    TJ: "Tajikistan",
    TK: "Tokelau",
    TL: "Timor-Leste",
    TM: "Turkmenistan",
    TN: "Tunisia",
    TO: "Tonga",
    TR: "Turkey",
    TT: "Trinidad and Tobago",
    TV: "Tuvalu",
    TW: "Taiwan",
    TZ: "Tanzania, United Republic of",
    UA: "Ukraine",
    UG: "Uganda",
    UM: "United States Minor Outlying Islands",
    US: "United States of America",
    UY: "Uruguay",
    UZ: "Uzbekistan",
    VA: "Holy See",
    VC: "Saint Vincent and the Grenadines",
    VE: "Venezuela (Bolivarian Republic of)",
    VG: "Virgin Islands (British)",
    VI: "Virgin Islands (U.S.)",
    VN: "Vietnam",
    VU: "Vanuatu",
    WF: "Wallis and Futuna",
    WS: "Samoa",
    XK: "Kosovo",
    YE: "Yemen",
    YT: "Mayotte",
    ZA: "South Africa",
    ZM: "Zambia",
    ZW: "Zimbabwe"
}
  , Ms = ["GB"]
  , XC = {
    AD: "AND",
    AE: "ARE",
    AF: "AFG",
    AG: "ATG",
    AI: "AIA",
    AL: "ALB",
    AM: "ARM",
    AN: "ANT",
    AO: "AGO",
    AQ: "ATA",
    AR: "ARG",
    AS: "ASM",
    AT: "AUT",
    AU: "AUS",
    AW: "ABW",
    AX: "ALA",
    AZ: "AZE",
    BA: "BIH",
    BB: "BRB",
    BD: "BGD",
    BE: "BEL",
    BF: "BFA",
    BG: "BGR",
    BH: "BHR",
    BI: "BDI",
    BJ: "BEN",
    BL: "BLM",
    BM: "BMU",
    BN: "BRN",
    BO: "BOL",
    BR: "BRA",
    BS: "BHS",
    BT: "BTN",
    BV: "BVT",
    BW: "BWA",
    BY: "BLR",
    BZ: "BLZ",
    CA: "CAN",
    CC: "CCK",
    CD: "COD",
    CF: "CAF",
    CG: "COG",
    CH: "CHE",
    CI: "CIV",
    CK: "COK",
    CL: "CHL",
    CM: "CMR",
    CN: "CHN",
    CO: "COL",
    CR: "CRI",
    CU: "CUB",
    CV: "CPV",
    CX: "CXR",
    CY: "CYP",
    CZ: "CZE",
    DE: "DEU",
    DJ: "DJI",
    DK: "DNK",
    DM: "DMA",
    DO: "DOM",
    DZ: "DZA",
    EC: "ECU",
    EE: "EST",
    EG: "EGY",
    EH: "ESH",
    ER: "ERI",
    ES: "ESP",
    ET: "ETH",
    FI: "FIN",
    FJ: "FJI",
    FK: "FLK",
    FM: "FSM",
    FO: "FRO",
    FR: "FRA",
    GA: "GAB",
    GB: "GBR",
    GD: "GRD",
    GE: "GEO",
    GF: "GUF",
    GG: "GGY",
    GH: "GHA",
    GI: "GIB",
    GL: "GRL",
    GM: "GMB",
    GN: "GIN",
    GP: "GLP",
    GQ: "GNQ",
    GR: "GRC",
    GS: "SGS",
    GT: "GTM",
    GU: "GUM",
    GW: "GNB",
    GY: "GUY",
    HK: "HKG",
    HM: "HMD",
    HN: "HND",
    HR: "HRV",
    HT: "HTI",
    HU: "HUN",
    ID: "IDN",
    IE: "IRL",
    IL: "ISR",
    IM: "IMN",
    IN: "IND",
    IO: "IOT",
    IQ: "IRQ",
    IR: "IRN",
    IS: "ISL",
    IT: "ITA",
    JE: "JEY",
    JM: "JAM",
    JO: "JOR",
    JP: "JPN",
    KE: "KEN",
    KG: "KGZ",
    KH: "KHM",
    KI: "KIR",
    KM: "COM",
    KN: "KNA",
    KP: "PRK",
    KR: "KOR",
    KW: "KWT",
    KY: "CYM",
    KZ: "KAZ",
    LA: "LAO",
    LB: "LBN",
    LC: "LCA",
    LI: "LIE",
    LK: "LKA",
    LR: "LBR",
    LS: "LSO",
    LT: "LTU",
    LU: "LUX",
    LV: "LVA",
    LY: "LBY",
    MA: "MAR",
    MC: "MCO",
    MD: "MDA",
    ME: "MNE",
    MF: "MAF",
    MG: "MDG",
    MH: "MHL",
    MK: "MKD",
    ML: "MLI",
    MM: "MMR",
    MN: "MNG",
    MO: "MAC",
    MP: "MNP",
    MQ: "MTQ",
    MR: "MRT",
    MS: "MSR",
    MT: "MLT",
    MU: "MUS",
    MV: "MDV",
    MW: "MWI",
    MX: "MEX",
    MY: "MYS",
    MZ: "MOZ",
    NA: "NAM",
    NC: "NCL",
    NE: "NER",
    NF: "NFK",
    NG: "NGA",
    NI: "NIC",
    NL: "NLD",
    NO: "NOR",
    NP: "NPL",
    NR: "NRU",
    NU: "NIU",
    NZ: "NZL",
    OM: "OMN",
    PA: "PAN",
    PE: "PER",
    PF: "PYF",
    PG: "PNG",
    PH: "PHL",
    PK: "PAK",
    PL: "POL",
    PM: "SPM",
    PN: "PCN",
    PR: "PRI",
    PS: "PSE",
    PT: "PRT",
    PW: "PLW",
    PY: "PRY",
    QA: "QAT",
    RE: "REU",
    RO: "ROU",
    RS: "SRB",
    RU: "RUS",
    RW: "RWA",
    SA: "SAU",
    SB: "SLB",
    SC: "SYC",
    SD: "SDN",
    SE: "SWE",
    SG: "SGP",
    SH: "SHN",
    SI: "SVN",
    SJ: "SJM",
    SK: "SVK",
    SL: "SLE",
    SM: "SMR",
    SN: "SEN",
    SO: "SOM",
    SR: "SUR",
    SS: "SSD",
    ST: "STP",
    SV: "SLV",
    SY: "SYR",
    SZ: "SWZ",
    TC: "TCA",
    TD: "TCD",
    TF: "ATF",
    TG: "TGO",
    TH: "THA",
    TJ: "TJK",
    TK: "TKL",
    TL: "TLS",
    TM: "TKM",
    TN: "TUN",
    TO: "TON",
    TR: "TUR",
    TT: "TTO",
    TV: "TUV",
    TW: "TWN",
    TZ: "TZA",
    UA: "UKR",
    UG: "UGA",
    UM: "UMI",
    US: "USA",
    UY: "URY",
    UZ: "UZB",
    VA: "VAT",
    VC: "VCT",
    VE: "VEN",
    VG: "VGB",
    VI: "VIR",
    VN: "VNM",
    VU: "VUT",
    WF: "WLF",
    WS: "WSM",
    XK: "XKX",
    YE: "YEM",
    YT: "MYT",
    ZA: "ZAF",
    ZM: "ZMB",
    ZW: "ZWE"
};
sC(XC);
const ex = bo(["select{padding-right:", "px !important;}h4{padding-left:0px !important;padding-right:", "px !important;}"], M.base * 3, M.base * 3)
  , tx = ({children: e, i18n: t}) => {
    const n = JC.indexOf(t.language) >= 0 ? "rtl" : "ltr";
    return i.jsxs("div", {
        dir: n,
        "data-test": "localized-direction",
        children: [n === "rtl" && i.jsx(ex, {}), e]
    })
}
  , nx = jn()(tx)
  , ix = {
    hide: $(["@media print{display:none;}"]),
    border: $(["@media print{border:1px solid ", ";}"], ({theme: e}) => e.color.border.primary),
    avoidPageBreak: $(["@media print{break-inside:avoid;}"])
}
  , zl = ({disabled: e}) => e ? "" : ":disabled"
  , Rn = ({disabled: e}) => e ? ":not(*)" : ":not(:disabled)"
  , so = ({hovered: e}) => e ? "" : ":hover"
  , Hi = ({focused: e}) => e ? "" : ":focus"
  , rx = ({active: e}) => e ? "" : ":focus-within";
var Di = (e => (e.High = "0px 11px 15px rgba(191, 191, 199, 0.2), 0px 9px 46px rgba(191, 191, 199, 0.12), 0px 24px 38px rgba(191, 191, 199, 0.14)",
e.Mid = "0px 10px 14px rgba(0, 0, 0, 0.08), 0px 6px 6px rgba(0, 0, 0, 0.06)",
e.Low = "0px 4px 5px rgba(191, 191, 199, 0.2), 0px 3px 14px rgba(191, 191, 199, 0.12), 0px 8px 10px rgba(191, 191, 199, 0.14)",
e))(Di || {});
`${I.Color.BorderHairline}`,
`${I.Color.BorderHairline}`,
`${I.Color.BorderHairline}`;
var tt = (e => (e.Fast = "200ms",
e.Medium = "400ms",
e))(tt || {});
const ox = $(["box-shadow:0 0 0 3px transparent,", ";"], Di.Mid)
  , ax = e => $(["", ""], ({theme: t, variant: n="primary"}) => $(["box-shadow:0 0 0 3px ", ";"], t.color.variants[n].highlight))
  , sx = e => $(["", ""], ({theme: t, variant: n="primary"}) => $(["box-shadow:0 0 0 3px ", ",", ";"], t.color.variants[n].highlight, Di.Mid))
  , Np = $(["cursor:pointer;&", "{cursor:not-allowed;}transition:box-shadow ", ";&", "", "{", ";}&", "", "{", ";}&", "", "", "{", ";}"], zl, tt.Fast, so, Rn, ox, Hi, Rn, ax(), so, Hi, Rn, sx())
  , cx = $(["font-family:", ";"], ({theme: e}) => e.text.fontFamily.base)
  , lx = {
    lg: $(["", ";margin:0;"], I.Typography.DisplayLarge),
    md: $(["", ";margin:0;"], I.Typography.DisplayMedium),
    sm: $(["", ";margin:0;"], I.Typography.DisplaySmall)
}
  , dx = {
    lg: $(["", ";margin:0;"], I.Typography.HeadingLarge),
    md: $(["", ";margin:0;"], I.Typography.HeadingMedium),
    sm: $(["", ";margin:0;"], I.Typography.HeadingSmall)
}
  , Ni = {
    lg: $(["", ";margin:0;"], I.Typography.TextLarge),
    lgBold: $(["", ";margin:0;"], I.Typography.TextLargeBold),
    lgLight: $(["", ";margin:0;"], I.Typography.TextLargeLight),
    md: $(["", ";margin:0;"], I.Typography.TextMedium),
    mdBold: $(["", ";margin:0;"], I.Typography.TextMediumBold),
    mdLight: $(["", ";margin:0;"], I.Typography.TextMediumLight),
    mdLink: $(["", ";margin:0;"], I.Typography.TextMediumLink),
    sm: $(["", ";margin:0;"], I.Typography.TextSmall),
    smLink: $(["", ";margin:0;"], I.Typography.TextSmallLink),
    xs: $(["", ";margin:0;"], I.Typography.TextExtraSmall)
}
  , ux = Pn(["100%{transform:rotate(360deg);}"]);
Pn(["0%{opacity:0;}100%{opacity:1;}"]);
function rt(e=!1) {
    const [t,n] = f.useState(!!e)
      , r = f.useCallback(c => n(c), [])
      , o = f.useCallback( () => n(!t), [t])
      , a = f.useCallback( () => n(!0), [])
      , s = f.useCallback( () => n(!1), []);
    return [t, {
        set: r,
        toggle: o,
        enable: a,
        disable: s
    }]
}
const mx = () => {}
  , hx = ({active: e}) => e ? "" : ":active:enabled"
  , px = {
    md: $(["", " height:", ";padding:", ";svg{height:16px;width:16px;}"], Ni.md, ({theme: e}) => e.button.height.md, I.Spacing[2]),
    sm: $(["", " height:", ";padding:", ";svg{height:16px;width:16px;}"], Ni.sm, ({theme: e}) => e.button.height.sm, I.Spacing[1])
}
  , fx = {
    full: $(["width:100%;"]),
    auto: $(["width:auto;"]),
    button: $(["width:", ";"], ({theme: e}) => e.element.width.md),
    icon: $(["width:", ";padding:0;flex:none;"], ({theme: e, size: t}) => e.button.height[t])
}
  , gx = g.button.attrs( ({to: e}) => Jr(e) ? "button" : typeof e == "string" && e.startsWith("https://") ? {
    as: "a",
    href: e,
    target: "_blank",
    rel: "noreferrer"
} : {
    as: kl
}).withConfig({
    displayName: "Button__StyledButton",
    componentId: "sc-91wjkl-0"
})(["", ";border:none;box-sizing:border-box;outline:0 !important;white-space:nowrap;", " display:flex;align-items:center;justify-content:center;position:relative;border-radius:", ";transition:", ";", " ", " ", " ", ""], Np, ({theme: e, variant: t}) => {
    const n = e.color.variants[t];
    return $(["&:disabled{background-color:", ";color:", ";svg path{stroke:", ";}svg.pds-icon{path{stroke:unset;}path[stroke]{stroke:currentColor;}}user-select:none;}"], n.disabled, n.textDisabled, n.textDisabled)
}
, ({theme: e}) => e.button.borderRadius, tt.Fast, ({size: e}) => px[e], ({width: e}) => fx[e], ({theme: e, variant: t, $isPending: n, to: r}) => {
    const o = e.color.variants[t];
    return $(["background-color:", ";color:", ";svg path{stroke:", ";};}svg.pds-icon{path{stroke:unset;}path[stroke]{stroke:currentColor;}}&", "{background-color:", ";}", ""], Jr(r) ? o.default : "none", Jr(r) ? o.text : e.color.text.primary, Jr(r) ? o.text : o.default, hx, o.active, n && $(["cursor:default;background-color:", ";&:disabled{background-color:", ";user-select:none;}svg path{stroke:", ";}svg.pds-icon{path{stroke:unset;}path[stroke]{stroke:currentColor;}}"], o.active, ({theme: a}) => a.color.variants[t].active, o.highlightDark))
}
, ix.hide)
  , bx = g.div.withConfig({
    displayName: "Button__LoaderContainer",
    componentId: "sc-91wjkl-1"
})(["position:absolute;height:100%;width:100%;top:0;display:flex;align-items:center;justify-content:center;transition:opacity 2s;opacity:", ";"], ({isPending: e}) => e ? "1" : "0")
  , Cx = g(Th).withConfig({
    displayName: "Button__Loader",
    componentId: "sc-91wjkl-2"
})(["animation:", " linear 1s infinite;"], ux)
  , xx = g("div").attrs( ({isPending: e}) => ({
    "aria-hidden": e
})).withConfig({
    displayName: "Button__ButtonChildren",
    componentId: "sc-91wjkl-3"
})(["width:100%;display:flex;flex-wrap:nowrap;align-items:center;justify-content:center;transition:opacity ", ";opacity:", ";"], tt.Fast, ({isPending: e}) => e ? "0" : "1")
  , jp = g.div.withConfig({
    displayName: "Button__PrefixIconContainer",
    componentId: "sc-91wjkl-4"
})(["display:flex;align-items:center;margin-right:", ";"], I.Spacing[1])
  , vx = g.div.withConfig({
    displayName: "Button__InheritPrefixIconContainer",
    componentId: "sc-91wjkl-5"
})(["display:flex;align-items:center;& svg{width:inherit;height:inherit;}"])
  , Ix = g(jp).withConfig({
    displayName: "Button__SuffixIconContainer",
    componentId: "sc-91wjkl-6"
})(["margin-left:", ";margin-right:0;flex-grow:1;justify-content:flex-end;"], I.Spacing[1])
  , Pp = f.forwardRef(function({id: t, children: n, prefixIcon: r, suffixIcon: o, disabled: a, isPending: s, type: c="button", prefixIconType: l="basic", variant: d="primary", size: u="md", width: m="full", onClick: h, ...p}, b) {
    const [C,{enable: S, disable: v}] = rt(!1)
      , x = cC(h) ? h : mx
      , _ = s || C
      , R = f.useCallback(async E => {
        if (_)
            return;
        const T = x(E);
        T instanceof Promise && (S(),
        await T,
        v())
    }
    , [_, x]);
    return i.jsxs(gx, {
        id: t,
        type: c,
        "data-test": "button__" + d,
        variant: d,
        size: u,
        width: m,
        disabled: a || _,
        $isPending: _,
        ...p,
        onClick: R,
        ref: b,
        children: [_ && i.jsx(bx, {
            isPending: _,
            children: i.jsx(Cx, {
                "aria-label": `Loading ${p["aria-label"] || ""}`
            })
        }), i.jsxs(xx, {
            isPending: _,
            children: [r != null && i.jsxs(i.Fragment, {
                children: [l === "basic" && i.jsx(jp, {
                    children: r
                }), l === "inherit" && i.jsx(vx, {
                    children: r
                })]
            }), n, o != null && i.jsx(Ix, {
                children: o
            })]
        })]
    })
})
  , Ha = {
    sm: "12px",
    md: "16px"
}
  , Sx = g(Pp).attrs({
    width: "icon",
    variant: "basic"
}).withConfig({
    displayName: "IconButton__IconBtn",
    componentId: "sc-1b440bg-0"
})(["background-color:transparent;padding:0;border-radius:", ";", " ", ""], I.BorderRadius.Circle, ({size: e}) => $(["height:", ";width:", ";svg{width:", ";height:", ";}"], Ha[e], Ha[e], Ha[e], Ha[e]), ({theme: e}) => $(["&", "", "{box-shadow:0 0 0 3px ", ";}&", "", "", "{box-shadow:0 0 0 3px ", ",", ";}"], Hi, Rn, e.color.border.active, so, Hi, Rn, e.color.border.active, Di.Mid));
f.forwardRef(function({size: t="md", ...n}, r) {
    return i.jsx(Sx, {
        size: t,
        ref: r,
        ...n
    })
});
const yx = g("div").withConfig({
    displayName: "Banner__StyledBanner",
    componentId: "sc-1jbckac-0"
})(["", ";line-height:18px;display:flex;align-items:center;justify-content:space-between;padding:0px ", ";border-radius:4px;background:", ";"], Ni.sm, I.Spacing[2], ({variant: e}) => {
    switch (e) {
    case "success":
        return I.Color.CoreGreen100;
    case "warning":
        return I.Color.CoreYellow100;
    case "alert":
        return I.Color.CoreRed100;
    case "basic":
    default:
        return I.Color.BackgroundSecondary
    }
}
)
  , wx = g.div.withConfig({
    displayName: "Banner__BannerContent",
    componentId: "sc-1jbckac-1"
})(["display:flex;align-items:center;> svg:first-child{margin-right:", ";}"], I.Spacing[2])
  , mu = g(Pp).withConfig({
    displayName: "Banner__ActionButton",
    componentId: "sc-1jbckac-2"
})(["background-color:transparent;justify-self:space-between;&", "", "{background-color:unset;}&", "", "{box-shadow:none;}", ""], rx, Rn, so, Rn, ({isFocusVisible: e}) => !e && $(["&", "", "", "{box-shadow:none;}&", "", "{box-shadow:none;}"], so, Hi, Rn, Hi, Rn))
  , _x = ({children: e, variant: t, action: n, onClose: r, ...o}) => {
    const {isFocusVisible: a} = t0();
    return i.jsxs(yx, {
        variant: t,
        role: "alert",
        ...o,
        children: [i.jsx(wx, {
            children: e
        }), typeof n == "string" ? r && i.jsx(mu, {
            variant: "basic",
            width: "auto",
            size: "sm",
            onClick: r,
            children: n
        }) : n, !n && r && i.jsx(mu, {
            variant: "basic",
            width: "icon",
            "aria-label": "Close",
            title: "Close",
            onClick: r,
            isFocusVisible: a,
            children: i.jsx(Eh, {})
        })]
    })
}
  , Rx = (e, t, {sync: n}={
    sync: !1
}) => {
    const [r,o] = f.useState( () => {
        const s = en.getLocalItem(e);
        return s != null ? JSON.parse(s) : (en.setLocalItem(e, JSON.stringify(t)),
        t)
    }
    );
    f.useEffect( () => {
        if (!n)
            return;
        const s = c => {
            c.key === e && c.newValue && o(JSON.parse(c.newValue))
        }
        ;
        return window.addEventListener("storage", s),
        () => {
            window.removeEventListener("storage", s)
        }
    }
    , [e, n]);
    const a = f.useCallback(s => {
        const c = typeof s == "function" ? s(r) : s
          , l = JSON.stringify(c);
        en.setLocalItem(e, l),
        n ? window.dispatchEvent(new StorageEvent("storage",{
            key: e,
            newValue: l
        })) : o(c)
    }
    , [e, r, n]);
    return [r, a]
}
  , wt = {
    page: 0,
    inputButtons: 1,
    navbar: 10,
    footer: 10,
    dropdown: 11,
    notifications: 100,
    drawer: 101,
    popupBackdrop: 102
}
  , Dp = {
    small: "400px"
}
  , We = {
    header: "104px"
}
  , Ax = g(_x).withConfig({
    displayName: "SandboxBanner__StyledBanner",
    componentId: "sc-3vktuu-0"
})(["", ";position:absolute;top:", ";left:", ";right:", ";z-index:", ";box-shadow:", ";"], Ni.md, I.Spacing[2], I.Spacing[2], I.Spacing[2], wt.notifications, Di.Low)
  , Tx = g("div").withConfig({
    displayName: "SandboxBanner__IconContainer",
    componentId: "sc-3vktuu-1"
})(["height:40px;width:40px;display:flex;align-items:center;justify-content:center;"])
  , Ex = g("div").withConfig({
    displayName: "SandboxBanner__MessageContainer",
    componentId: "sc-3vktuu-2"
})(["margin:", ";"], I.Spacing[2])
  , kx = g.h1.attrs( () => ({
    tabIndex: -1
})).withConfig({
    displayName: "SandboxBanner__Title",
    componentId: "sc-3vktuu-3"
})(["", ";color:", ";"], Ni.md, ({theme: e}) => e.color.text.primary)
  , Nx = "https://help.withpersona.com/articles/11tePoksKZ5kSCo7pdC800/";
function jx() {
    const [e,t] = f.useState(!1)
      , [n,r] = Rx(_a.InquirySandboxBannerHidden, !1)
      , o = () => {
        t(!0),
        setTimeout(qi, 0)
    }
      , a = s => {
        s.preventDefault(),
        r(!0),
        setTimeout(qi, 0)
    }
    ;
    return e || n ? null : i.jsxs(Ax, {
        "data-test": "sandbox-banner",
        variant: "alert",
        onClose: o,
        children: [i.jsx(Tx, {
            children: i.jsx(n0, {
                size: 24
            })
        }), i.jsxs(Ex, {
            children: [i.jsxs(kx, {
                children: [i.jsx("span", {
                    children: "You are in a Sandbox environment. No verifications or extractions are performed and you will see simulated data."
                }), " ", i.jsx("a", {
                    href: Nx,
                    target: "_blank",
                    rel: "noreferrer",
                    children: "Learn more."
                })]
            }), i.jsx("div", {
                children: i.jsx("a", {
                    href: "#",
                    id: "sandbox-banner__dismiss-forever",
                    onClick: a,
                    children: "Dont show me again."
                })
            })]
        })]
    })
}
function co(e) {
    const [t,n] = f.useState(e ? "loading" : "idle");
    return f.useEffect( () => {
        if (!e) {
            n("idle");
            return
        }
        let r = document.querySelector(`link[href="${e}"]`);
        r == null ? (r = document.createElement("link"),
        r.href = e,
        r.rel = "stylesheet",
        r.setAttribute("data-status", "loading"),
        document.head.appendChild(r)) : n(r.getAttribute("data-status")),
        r.onload = () => {
            r.setAttribute("data-status", "ready"),
            n("ready")
        }
        ,
        r.onerror = () => {
            r.setAttribute("data-status", "error"),
            n("error")
        }
    }
    , [e]),
    t
}
var yr = (e => (e.Anton = "Anton",
e.Archivo = "Archivo",
e.Domine = "Domine",
e.Dosis = "Dosis",
e.DroidSans = "Droid Sans",
e.IBMPlexSans = "IBM Plex Sans",
e.Inter = "Inter",
e.Jost = "Jost",
e.Lato = "Lato",
e.Lora = "Lora",
e.Montserrat = "Montserrat",
e.NotoSansJP = "Noto Sans JP",
e.NotoSansTC = "Noto Sans TC",
e.Nunito = "Nunito",
e.NunitoSans = "Nunito Sans",
e.OpenSans = "Open Sans",
e.Oswald = "Oswald",
e.Outfit = "Outfit",
e.PTSans = "PT Sans",
e.PlayfairDisplay = "Playfair Display",
e.Poppins = "Poppins",
e.PublicSans = "Public Sans",
e.RedditSans = "Reddit Sans",
e.Roboto = "Roboto",
e.Rubik = "Rubik",
e.SourceSansPro = "Source Sans Pro",
e.SourceSerifPro = "Source Serif Pro",
e.SpaceGrotesk = "Space Grotesk",
e.Ubuntu = "Ubuntu",
e.WorkSans = "Work Sans",
e))(yr || {});
const Gt = e => e != null ? `'${e}', sans-serif` : Co.base
  , hu = (e, t) => e && (e == null ? void 0 : e.replace(/\s/g, ""))in yr ? `https://fonts.googleapis.com/css2?family=${e.replace(/\s/g, "+")}:wght@300;400;500;700;900&display=swap` : t || `https://fonts.googleapis.com/css2?family=${yr.Rubik}:wght@300;400;500;700;900&display=swap`
  , Px = g.div.withConfig({
    displayName: "ThemedFonts__Container",
    componentId: "sc-1o9ay19-0"
})(["font-family:", ";color:", ";font-size:", ";line-height:", ";"], ({theme: {fontFamily: e}}) => Gt(e), ({theme: e}) => e.colorFont, ({theme: e}) => e.fontSizeBody, ({theme: e}) => e.lineHeightBody)
  , Dx = ({children: e}) => {
    const {fontFamily: t, fontFamilyTitle: n, fontUrl: r} = f.useContext(Je);
    return co(hu(t, r)),
    co(hu(n, r)),
    i.jsx(Px, {
        children: e
    })
}
  , Ox = 50
  , Ra = 650
  , Lx = g("div").withConfig({
    displayName: "Frame__ContainerWrapper",
    componentId: "sc-hgw3de-0"
})(["position:relative;height:100%;width:100%;", ""], ({flowType: e, extraMarginTop: t}) => e === Tt.Inline ? null : t ? `
        @media ${jt.isNotMobile} {
          margin-top: 70px;
          margin-bottom: 50px;
        }
      ` : `
        @media ${jt.isNotMobile} {
          margin-top: 50px;
          margin-bottom: 50px;
        }
      `)
  , Fx = g("div").withConfig({
    displayName: "Frame__Container",
    componentId: "sc-hgw3de-1"
})(["", ";position:relative;color:", ";@media ", "{height:100vh;}@media ", "{border-radius:", ";margin-left:auto;margin-right:auto;", " min-height:", "px;max-height:100%;overflow-y:hidden;}"], ({hidden: e}) => e && "display: none;", ({theme: e}) => e.colorFont, jt.isMobile, jt.isNotMobile, ({theme: e}) => e.borderRadiusModal, ({flowType: e}) => e === Tt.Inline ? null : `
          max-width: ${Dp.small};
          box-shadow: 0 5px 15px 0 ${_p.base};
        `, Ra)
  , Op = "application__frame";
function pu(e) {
    const t = Mx()
      , n = {};
    return window.matchMedia(jt.isMobile).matches && (n.height = t ? `${t}px` : "100vh"),
    i.jsx(kp, {
        disabled: !D.isEmbedded,
        focusTrapOptions: {
            escapeDeactivates: !1,
            clickOutsideDeactivates: !1,
            allowOutsideClick: !1,
            initialFocus: !1,
            fallbackFocus: document.body,
            setReturnFocus: !1
        },
        children: i.jsx("div", {
            id: Op,
            "data-test": e["data-test"],
            children: i.jsxs(Nl, {
                theme: e.themeSerialized,
                children: [i.jsx(ZC, {
                    flowType: e.flowType
                }), i.jsx(f.Suspense, {
                    fallback: null,
                    children: i.jsx(nx, {
                        children: i.jsxs(Dx, {
                            children: [e.isSandbox && !e.sandboxBannerDisabled && i.jsx(jx, {}), i.jsxs(Lx, {
                                flowType: e.flowType,
                                extraMarginTop: !!(e.isSandbox && e.sandboxBannerDisabled),
                                children: [i.jsx(Fx, {
                                    "data-test": "frame__container",
                                    flowType: e.flowType,
                                    style: n,
                                    hidden: e.hidden,
                                    children: e.children
                                }), e.footerWidgets]
                            })]
                        })
                    })
                })]
            })
        })
    })
}
function Mx() {
    const [e,t] = f.useState(fu)
      , n = Bx();
    return f.useEffect( () => {
        if (!n)
            return;
        function r() {
            const o = fu();
            t(o)
        }
        return window.addEventListener("resize", r),
        () => window.removeEventListener("resize", r)
    }
    , [n]),
    n ? e : null
}
function fu() {
    var e;
    return Lp() ? ((e = document.documentElement) == null ? void 0 : e.clientHeight) || window.innerHeight : null
}
function Bx() {
    const [e,t] = f.useState(!1);
    return f.useEffect( () => {
        Lp() && t(!0)
    }
    , []),
    e
}
function Lp() {
    return typeof window < "u" && typeof document < "u"
}
function qi(e) {
    var r;
    e != null || (e = document.getElementById(Op));
    const t = (r = e == null ? void 0 : e.querySelector("h1")) != null ? r : e;
    (t == null ? void 0 : t.offsetParent) != null && (t == null || t.focus())
}
const Vx = "/dashboard/";
var Oe = (e => (e.Error = "error",
e.Exit = "exit",
e.Complete = "complete",
e.Fail = "fail",
e.Load = "load",
e.Ready = "ready",
e.Start = "start",
e.Success = "success",
e.DocumentCameraSelect = "document-camera-select",
e.DocumentCameraCapture = "document-camera-capture",
e.DocumentUpload = "document-upload",
e.OneTimeLinkSent = "one-time-link-sent",
e.OneTimeLinkStart = "one-time-link-start",
e.OneTimeLinkExit = "one-time-link-exit",
e.SelfieCameraSelect = "selfie-camera-select",
e.SelfieCameraCapture = "selfie-camera-capture",
e.SelfieRecordUpload = "selfie-record-upload",
e.PageChange = "page-change",
e.LoadCameraFailed = "load-camera-failed",
e.CameraCaptureFailed = "camera-capture-failed",
e.InquiryLoad = "inquiry-load",
e.CountrySelect = "country-select",
e.VerificationChange = "verification-change",
e))(Oe || {})
  , il = (e => (e.Open = "open",
e.Exit = "exit",
e))(il || {});
let Ux = class {
    constructor(t, n) {
        var s;
        const r = Ko.parse(n, {
            ignoreQueryPrefix: !0
        });
        this.currentPath = t,
        ((s = r["is-webview"]) == null ? void 0 : s.toLowerCase()) === "true" ? this.flowType = Tt.WebView : Object.values(Tt).includes(r["flow-type"]) ? this.flowType = r["flow-type"] : t.startsWith("/widget") ? this.flowType = Tt.Embedded : this.flowType = Tt.Hosted,
        r["template-id"] || (r["template-id"] = r["blueprint-id"]),
        r["reference-id"] || (r["reference-id"] = r.subject);
        const a = (r["inquiry-template-id"] != null || r["inquiry-template-version-id"] != null || r["template-id"] != null || r.code != null || r["inquiry-id"] != null ? r : JSON.parse(en.getSessionItem(di.InquiryParams))) || {};
        this.inquiryParams = {
            ...a,
            prefill: this.normalizePrefill(a.prefill)
        },
        this.flowType === Tt.Hosted && en.setSessionItem(di.InquiryParams, JSON.stringify(this.inquiryParams))
    }
    removeSessionTokenFromCachedParams() {
        const t = JSON.parse(en.getSessionItem(di.InquiryParams));
        t && (delete t["session-token"],
        en.setSessionItem(di.InquiryParams, JSON.stringify(t)))
    }
    get isEmbedded() {
        return this.flowType === Tt.Embedded
    }
    get isWebView() {
        var t;
        return this.flowType === Tt.WebView || ((t = navigator.userAgent) == null ? void 0 : t.includes("WebView"))
    }
    get isHosted() {
        return this.flowType === Tt.Hosted
    }
    get isInline() {
        return this.flowType === Tt.Inline
    }
    get widgetPadding() {
        var r, o, a, s, c, l, d, u;
        const t = {
            top: 72,
            bottom: 24,
            left: 24,
            right: 24
        };
        if (!this.isInline)
            return t;
        const n = (m, h) => m == null || Number.isNaN(Number(m)) ? h : Number(m);
        return {
            top: n((o = (r = this.inquiryParams) == null ? void 0 : r["widget-padding"]) == null ? void 0 : o.top, t.top),
            bottom: n((s = (a = this.inquiryParams) == null ? void 0 : a["widget-padding"]) == null ? void 0 : s.bottom, t.bottom),
            left: n((l = (c = this.inquiryParams) == null ? void 0 : c["widget-padding"]) == null ? void 0 : l.left, t.left),
            right: n((u = (d = this.inquiryParams) == null ? void 0 : d["widget-padding"]) == null ? void 0 : u.right, t.right)
        }
    }
    get isEmbeddedOrIframeIntegration() {
        return this.flowType === Tt.Embedded || this.flowType === Tt.Inline || window.parent !== window
    }
    get isNonIframeHostedIntegration() {
        return this.flowType === Tt.Hosted && window.parent === window
    }
    get isDashboard() {
        try {
            return !!pn(window.location.pathname, {
                path: Vx,
                exact: !1
            })
        } catch (t) {
            return he(t),
            !1
        }
    }
    get isDashboardFLE() {
        try {
            return !!pn(window.location.pathname, {
                path: YC,
                exact: !1
            })
        } catch (t) {
            return he(t),
            !1
        }
    }
    get isReusablePersonaPopup() {
        const t = pn(this.currentPath, {
            path: Ap,
            exact: !1
        })
          , n = pn(this.currentPath, {
            path: Rp,
            exact: !1
        });
        return !!t || !!n
    }
    get canRequestMicrophone() {
        return this.flowType !== Tt.Embedded && this.flowType !== Tt.Inline || !this.beforeVersion("4.8.1")
    }
    redirectToStart(t) {
        const n = o => window.location.assign(o)
          , r = t != null ? t : n;
        if (this.isEmbeddedOrIframeIntegration)
            r("/widget?" + Ko.stringify(D.inquiryParams));
        else if (this.flowType === Tt.WebView || this.flowType === Tt.Hosted)
            r("/verify");
        else
            throw this.onError({
                status: 400,
                code: "invalid_config",
                message: "Unsupported flow type for redirect to start event"
            }),
            new Error("[IGNORED] Unsupported flow type for redirect to start event")
    }
    beforeVersion(t) {
        if (this.inquiryParams["client-version"] == null)
            return !0;
        try {
            const {major: n, minor: r, patch: o} = this.parseClientVersion(t)
              , {major: a, minor: s, patch: c} = this.parseClientVersion(this.inquiryParams["client-version"]);
            if (a < n)
                return !0;
            if (a === n && s < r)
                return !0;
            if (a === n && s === r && c < o)
                return !0
        } catch (n) {
            return he(n),
            !1
        }
        return !1
    }
    parseClientVersion(t) {
        const n = /(\d+)\.(\d+)\.(\d+)/.exec(t);
        return {
            major: parseInt(n[1]),
            minor: parseInt(n[2]),
            patch: parseInt(n[3])
        }
    }
    get targetOrigin() {
        var r;
        const t = (r = this.inquiryParams["message-target-origin"]) != null ? r : this.inquiryParams["iframe-origin"]
          , n = new i0(t).origin;
        return n === "null" && t !== "*" ? t : n
    }
    onError(t) {
        var r;
        const n = {
            containerId: this.inquiryParams["container-id"],
            templateId: (r = this.inquiryParams["inquiry-template-id"]) != null ? r : this.inquiryParams["template-id"],
            templateVersionId: this.inquiryParams["inquiry-template-version-id"],
            name: "error",
            error: t
        };
        window.parent.postMessage(this.flowType === Tt.WebView ? JSON.stringify(n) : n, this.targetOrigin)
    }
    onEvent(t, n={}, r={}) {
        var l, d;
        t === "ready" && (this.isInline || setTimeout(qi, 0)),
        this.beforeVersion("3.1.1") && t === "fail" && (t = "exit");
        const o = {
            containerId: this.inquiryParams["container-id"],
            templateId: (l = this.inquiryParams["inquiry-template-id"]) != null ? l : this.inquiryParams["template-id"],
            templateVersionId: this.inquiryParams["inquiry-template-version-id"],
            name: t,
            metadata: n
        };
        if (window.parent.postMessage(this.flowType === Tt.WebView ? JSON.stringify(o) : o, this.targetOrigin),
        this.flowType !== Tt.Hosted && this.flowType !== Tt.WebView || t !== "exit" && t !== "complete" && t !== "fail")
            return;
        const a = r == null ? void 0 : r.inquiry
          , s = a == null ? void 0 : a.attributes["redirect-query-string-config"];
        let c = this.inquiryParams["redirect-uri"] || (a == null ? void 0 : a.attributes["redirect-uri"]);
        if (!KC(c))
            throw this.onError({
                status: 400,
                code: "invalid_config",
                message: "Unsafe redirect. Redirects must be valid URLs."
            }),
            new Error("[IGNORED] Unsafe redirect. Redirects must be valid URLs.");
        switch (this.flowType) {
        case Tt.WebView:
            {
                c || (c = "https://personacallback");
                const u = {
                    "inquiry-id": t === "complete" ? n.inquiryId : void 0,
                    "persona-inquiry-id": n.inquiryId,
                    "reference-id": n.referenceId,
                    subject: n.referenceId,
                    scopes: n.scopes,
                    status: n.status,
                    fields: n.fields
                }
                  , m = this.applyRedirectQueryStringConfig(u, s)
                  , h = Ko.stringify(m, {
                    addQueryPrefix: !1
                })
                  , b = c.includes("?") || decodeURIComponent(c).includes("?") ? "&" : "?"
                  , C = h ? c + b + h : c;
                window.location.assign(C);
                break
            }
        case Tt.Hosted:
            {
                if (c == null)
                    if (((d = a == null ? void 0 : a.attributes["next-step"]) == null ? void 0 : d.type) === Ge.Complete) {
                        window.close();
                        return
                    } else
                        throw this.onError({
                            status: 400,
                            code: "invalid_config",
                            message: "Close event called from hosted inquiry flow without redirect-uri; investigate template for misconfiguration"
                        }),
                        new Error("[IGNORED] Close event called from hosted inquiry flow without redirect-uri; investigate template for misconfiguration");
                else if (QC(c)) {
                    const u = c.length - 3
                      , m = c.substring(0, u) + "S.com.withpersona.INQUIRY_ID=" + n.inquiryId + ";end";
                    window.location.assign(m)
                } else {
                    const u = {
                        "inquiry-id": n.inquiryId,
                        "reference-id": n.referenceId,
                        subject: n.referenceId,
                        scopes: n.scopes,
                        status: n.status,
                        fields: n.fields
                    }
                      , m = this.applyRedirectQueryStringConfig(u, s)
                      , h = Ko.stringify(m, {
                        addQueryPrefix: !1
                    })
                      , b = c.includes("?") || decodeURIComponent(c).includes("?") ? "&" : "?"
                      , C = h ? c + b + h : c;
                    window.location.assign(C)
                }
                break
            }
        default:
            lt(this.flowType)
        }
    }
    normalizePrefill(t) {
        if (!t)
            return {};
        let n;
        t[Ee.PhoneNumber] && (n = r0(t[Ee.PhoneNumber], {
            defaultCountry: t[Ee.CountryCode] || "US"
        }));
        let r;
        return t[Ee.EmailAddress] && (r = t[Ee.EmailAddress].replace(/\s/g, "+")),
        {
            ...t,
            [Ee.PhoneNumber]: n ? n.number : void 0,
            [Ee.EmailAddress]: r != null ? r : t[Ee.EmailAddress]
        }
    }
    applyRedirectQueryStringConfig(t, n) {
        if (t = {
            ...t
        },
        t.fields = {
            ...t.fields
        },
        n != null)
            switch (n["include-inquiry-id"] || (delete t["inquiry-id"],
            "persona-inquiry-id"in t && delete t["persona-inquiry-id"]),
            n["include-reference-id"] || (delete t["reference-id"],
            delete t.subject),
            n["include-status"] || delete t.status,
            n["include-fields"]) {
            case "allowlist":
                {
                    const r = new Set(n["field-keys"].concat(n["field-keys"].map(du)));
                    Object.keys(t.fields).forEach(o => {
                        r.has(o) || delete t.fields[o]
                    }
                    );
                    break
                }
            case "blocklist":
                {
                    const r = new Set(n["field-keys"].concat(n["field-keys"].map(du)));
                    Object.keys(t.fields).forEach(o => {
                        r.has(o) && delete t.fields[o]
                    }
                    );
                    break
                }
            }
        return t
    }
}
;
const D = new Ux(window.location.pathname,window.location.search)
  , lo = "/api/internal/verify/v1"
  , Hx = "2023-08-08";
var rl = (e => (e.Other = "other",
e.Network = "network",
e.Camera = "camera",
e.Permissions = "permissions",
e))(rl || {});
let qx = class extends GC {
    constructor() {
        super(...arguments),
        this.onError = async t => fetch(`${lo}/current-inquiry-session/error`, {
            method: "post",
            headers: {
                ...this.getHeaders(),
                "Content-Type": "application/json"
            },
            body: JSON.stringify({
                error_type: t.type,
                debug_description: t.description || {}
            })
        }),
        this.onCancel = async () => fetch(`${lo}/current-inquiry-session/cancel`, {
            method: "post",
            headers: this.getHeaders(),
            keepalive: !0
        })
    }
    get accessToken() {
        var t, n;
        return (n = (t = this.myAccessToken) != null ? t : en.getSessionItem(di.InquiryAccessToken)) != null ? n : void 0
    }
    set accessToken(t) {
        fs(t) == null ? (this.myAccessToken = null,
        en.removeSessionItem(di.InquiryAccessToken),
        D.removeSessionTokenFromCachedParams()) : (this.myAccessToken = t,
        t == null ? en.removeSessionItem(di.InquiryAccessToken) : en.setSessionItem(di.InquiryAccessToken, t))
    }
    clearAccessToken() {
        this.accessToken = null
    }
    getAuthHeaders() {
        if (this.accessToken)
            return {
                Authorization: `Bearer ${this.accessToken}`
            }
    }
    set organizationMetadata(t) {
        this.myOrganizationMetadata = t
    }
    getOrganizationMetadataHeaders() {
        var t, n;
        return {
            "Persona-Inquiry-Template-Id": (t = this.myOrganizationMetadata) == null ? void 0 : t.templateId,
            "Persona-Organization-Id": (n = this.myOrganizationMetadata) == null ? void 0 : n.organizationId
        }
    }
    getSdkVersionHeaders() {
        return D.inquiryParams["client-version"] != null ? {
            "Persona-Js-Sdk-Version": D.inquiryParams["client-version"]
        } : {}
    }
    getChecksumHeaders(t, n) {
        if (this.accessToken) {
            const r = Math.floor(t / 1e3).toString();
            let o = nl(n).map(s => s[1]instanceof Blob ? [s[0], String(s[1].size)] : /^[+-]?\d+(\.\d+)?$/.test(String(s[1])) ? [s[0], String(s[1]).substring(0, 10)] : [s[0], String(s[1]).replace(/\s/g, "")]).filter(s => s[1].length > 0);
            o = el(o, [s => ya(s).join()]);
            const a = o0([fs(this.accessToken).sub, r, JSON.stringify(o)].join(":")).toString();
            return {
                nhmjlnrs: r,
                stpbwsbb: a,
                requestparams: WC(JSON.stringify(o.map(s => s[1])).slice(0, 1e3))
            }
        }
    }
    get styleVariant() {
        var t, n;
        return D.inquiryParams["style-variant"] ? D.inquiryParams["style-variant"] : (n = (t = window.matchMedia) == null ? void 0 : t.call(window, "(prefers-color-scheme: dark)")) != null && n.matches ? "dark" : "base"
    }
    getHeaders() {
        var t, n;
        return {
            ...this.getAuthHeaders(),
            ...this.getOrganizationMetadataHeaders(),
            ...this.getSdkVersionHeaders(),
            "Persona-Version": Hx,
            "Persona-Device-Id": (t = en.getSessionItem(di.InquiryDeviceId)) != null ? t : void 0,
            "Persona-Device-Locale": Es.language,
            "Persona-Style-Variant": this.styleVariant,
            "Persona-Country": (n = this.countryToRouteRequests) != null ? n : D.inquiryParams["routing-country"]
        }
    }
    get fpjsCountry() {
        return this.countryToRouteRequests
    }
    async sendRequest(t, n, r={}) {
        var a, s;
        const o = {
            ...n,
            headers: {
                ...n.headers,
                ...this.getHeaders(),
                ...this.getChecksumHeaders(Date.now(), n.data)
            }
        };
        try {
            const c = await super.sendRequest(t, o, r);
            return (a = c.headers) != null && a["persona-device-id"] && en.setSessionItem(di.InquiryDeviceId, c.headers["persona-device-id"]),
            (s = c.headers) != null && s["persona-country"] && (this.countryToRouteRequests = c.headers["persona-country"]),
            c
        } catch (c) {
            if (c instanceof ht && c.status === 401)
                this.clearAccessToken(),
                delete D.inquiryParams["session-token"],
                D.redirectToStart();
            else
                throw c
        }
    }
}
;
const te = new qx(lo)
  , $x = 60 * 60 * 24 * 60;
function Gx() {
    let e = {
        country_code: "US"
    };
    try {
        const t = new Date().getTime()
          , n = JSON.parse(en.getLocalItem(_a.LocaleInfoCacheKey));
        n && n.expire >= t && (e == null ? void 0 : e.country_code) != null && (e = n.value)
    } catch {
        e = {
            country_code: "US"
        }
    }
    return e
}
function Wx(e) {
    return en.setLocalItem(_a.LocaleInfoCacheKey, JSON.stringify({
        value: e,
        expire: new Date().getTime() + $x
    })),
    e
}
function Yx(e) {
    if (e == null)
        return !1;
    const t = JSON.parse(en.getLocalItem(_a.LocaleInfoCacheKey));
    return (t == null ? void 0 : t.value) == null || (t == null ? void 0 : t.expire) == null ? !0 : new Date().getTime() >= t.expire || t.value.country_code !== e.country_code || t.value.latitude !== e.latitude || t.value.longitude !== e.longitude
}
var Fp = (e => (e.SaveLocaleInfo = "locale/SAVE_LOCALE_INFO",
e))(Fp || {});
function Mp(e) {
    return {
        payload: {
            localeInfo: e
        },
        type: "locale/SAVE_LOCALE_INFO"
    }
}
function zx(e) {
    return async t => {
        var o;
        const n = await te.updateResourceSingleton(e)
          , r = (o = n == null ? void 0 : n.data) == null ? void 0 : o.attributes;
        if (r != null && r["country-code"]) {
            const a = {
                country_code: r["country-code"],
                latitude: r == null ? void 0 : r.latitude,
                longitude: r == null ? void 0 : r.longitude
            };
            Yx(a) && (Wx(a),
            t(Mp(a)))
        }
    }
}
var Bs = (e => (e.InquiriesEnableDeviceFingerprint = "inquiries.device-fingerprint",
e))(Bs || {});
const In = () => {
    try {
        return !!window.Cypress
    } catch {
        return !1
    }
}
;
class J {
    static async logAmplitude(t, n) {
        In() || Bi.getInstance().logEvent(t, n)
    }
    static async logPendo(t, n) {
        In() || window.pendo.track(t, n)
    }
    static async logAll(t, n) {
        J.logAmplitude(t, n),
        J.logPendo(t, n)
    }
}
var ol = (e => (e.InsideMargins = "inside_margins",
e.EdgeToEdge = "edge_to_edge",
e))(ol || {})
  , Aa = (e => (e.Start = "start",
e.Center = "center",
e.End = "end",
e))(Aa || {})
  , Kl = (e => (e.Horizontal = "horizontal",
e.Vertical = "vertical",
e))(Kl || {})
  , Ql = (e => (e.Light = "light",
e.Normal = "normal",
e.Medium = "medium",
e.Bold = "bold",
e.Heavy = "heavy",
e))(Ql || {});
const Kx = {
    light: 300,
    normal: 400,
    medium: 500,
    bold: 700,
    heavy: 900
}
  , Qn = e => e != null ? Kx[e] : null
  , k = e => {
    if (e != null)
        switch (e.unit) {
        case "px":
        case "%":
            return `${e.value}${e.unit}`;
        default:
            lt(e)
        }
}
  , A = e => e == null ? null : e.value
  , Qx = e => e == null ? null : Object.keys(e).map(t => {
    var n;
    return e[t] == null ? "0px" : (n = k(e[t])) != null ? n : "0px"
}
).join(" ")
  , Bp = e => e == null ? null : ["top", "right", "bottom", "left"].map(n => {
    var r;
    return e[n] == null ? "0px" : (r = k(e[n])) != null ? r : "0px"
}
).join(" ");
var Me = (e => (e.ButtonAction = "button_action",
e.ButtonCancel = "button_cancel",
e.ButtonComplete = "button_complete",
e.ButtonCreatePersona = "button_create_persona",
e.ButtonDeviceHandoff = "button_device_handoff",
e.ButtonLink = "button_link",
e.ButtonSubmit = "button_submit",
e.ButtonVerifyWithPersona = "button_verify_with_persona",
e.CombinedStepButton = "combined_step/button",
e.CombinedStepImagePreview = "combined_step/image_preview",
e.ClickableStack = "clickable_stack",
e.Footer = "footer",
e.GovernmentIdNfcScan = "government_id_nfc_scan",
e.GovernmentIdTypeSelect = "government_id_type_select",
e.HorizontalStack = "horizontal_stack",
e.ImageLocal = "image_local",
e.ImageRemote = "image_remote",
e.InputAddress = "input_address",
e.InputCheckbox = "input_checkbox",
e.InputCheckboxGroup = "input_checkbox_group",
e.InputConfirmationCode = "input_confirmation_code",
e.InputCurrency = "input_currency",
e.InputDate = "input_date",
e.InputESignature = "input_e_signature",
e.InputFileUpload = "input_file_upload",
e.InputInternationalDb = "input_international_db",
e.InputMaskedText = "input_masked_text",
e.InputMultiSelect = "input_multi_select",
e.InputNumber = "input_number",
e.InputPhoneNumber = "input_phone_number",
e.InputRadioGroup = "input_radio_group",
e.InputSelect = "input_select",
e.InputText = "input_text",
e.InputTextArea = "input_text_area",
e.LanguageSelector = "language_selector",
e.PasskeyAuthentication = "passkey_authentication",
e.PasskeyRegistration = "passkey_registration",
e.PersonaBranding = "persona_branding",
e.PrivacyPolicy = "privacy_policy",
e.QrCode = "qr_code",
e.Spacer = "spacer",
e.Stepper = "stepper",
e.TableStatic = "table_static",
e.Text = "text",
e.Title = "title",
e))(Me || {});
function Zx(e) {
    switch (e == null ? void 0 : e.type) {
    case "clickable_stack":
    case "footer":
    case "horizontal_stack":
        return !0;
    default:
        return !1
    }
}
var Vp = (e => (e.Primary = "primary",
e.Secondary = "secondary",
e))(Vp || {})
  , le = (e => (e.AnimatedCheck = "animated_check",
e.FailedIcon = "failed_icon",
e.StartHero = "start_hero",
e.FailureDefaultIcon = "failure_default_icon",
e.FailureDocumentIcon = "failure_document_icon",
e.FailureSelfieIcon = "failure_selfie_icon",
e.IdBackIcon = "id_back_icon",
e.IdFrontIcon = "id_front_icon",
e.DocumentStartHero = "document_start_hero",
e.OptionFlagIcon = "option_flag_icon",
e.OptionGlobeIcon = "option_globe_icon",
e.OptionHomeIcon = "option_home_icon",
e.OptionIdIcon = "option_id_icon",
e.OptionIdDocumentIcon = "option_id_document_icon",
e.OptionUserIcon = "option_user_icon",
e.OptionPhoneIcon = "option_phone_icon",
e.OptionCheckIcon = "option_check_icon",
e.OptionChevronIcon = "option_chevron_icon",
e.CreatePersonaCtaCardIcon = "create_persona_cta_card_icon",
e.CreatePersonaPasskeyRegistrationHero = "create_persona_passkey_registration_hero",
e.CreatePersonaPasskeyRegistrationSpeedIcon = "create_persona_passkey_registration_speed_icon",
e.CreatePersonaPasskeyRegistrationShieldIcon = "create_persona_passkey_registration_shield_icon",
e.CreatePersonaPasskeyRegistrationFingerprintIcon = "create_persona_passkey_registration_fingerprint_icon",
e.CreatePersonaSuccessHero = "create_persona_success_hero",
e.VerifyWithPersonaPasskeyAuthenticationHero = "verify_with_persona_passkey_authentication_hero",
e.VerifyWithPersonaPasskeyAuthenticationPersonaLogo = "verify_with_persona_passkey_authentication_persona_logo",
e.VerifyWithPersonaPasskeyAuthenticationIdIcon = "verify_with_persona_passkey_authentication_id_icon",
e.VerifyWithPersonaPasskeyAuthenticationAddressIcon = "verify_with_persona_passkey_authentication_address_icon",
e.VerifyWithPersonaPasskeyAuthenticationNameIcon = "verify_with_persona_passkey_authentication_name_icon",
e.VerifyWithPersonaPasskeyAuthenticationSelfieIcon = "verify_with_persona_passkey_authentication_selfie_icon",
e.GovernmentIdNfcScanBackClosed = "government_id_nfc_scan_back_closed",
e.GovernmentIdNfcScanFrontClosed = "government_id_nfc_scan_front_closed",
e.GovernmentIdNfcScanPhotoPage = "government_id_nfc_scan_photo_page",
e.GovernmentIdNfcScanIdCard = "government_id_nfc_scan_id_card",
e.GovernmentIdNfcScanBackThenFront = "government_id_nfc_scan_back_then_front",
e.StepperIncompleteIcon = "stepper_incomplete_icon",
e.StepperConnectorIcon = "stepper_connector_icon",
e.StepperCurrentIcon = "stepper_current_icon",
e.StepperCompletedIcon = "stepper_completed_icon",
e.StepperErroredIcon = "stepper_errored_icon",
e))(le || {})
  , rs = (e => (e.None = "none",
e.GoogleMaps = "google_maps",
e))(rs || {})
  , ra = (e => (e.Text = "text",
e.Email = "email",
e.NumberPad = "number_pad",
e))(ra || {})
  , Up = (e => (e.ButtonAction = "button_action",
e.ButtonCancel = "button_cancel",
e.ButtonComplete = "button_complete",
e.ButtonDeviceHandoff = "button_device_handoff",
e.ButtonLink = "button_link",
e.ButtonSubmit = "button_submit",
e.ButtonVerifyWithPersona = "button_verify_with_persona",
e.CombinedStepButton = "combined_step/button",
e.CombinedStepImagePreview = "combined_step/image_preview",
e.ClickableStack = "clickable_stack",
e.FailureReasonText = "failure_reason_text",
e.FailureReasonImage = "failure_reason_image",
e.Footer = "footer",
e.GovernmentIdNfcScan = "government_id_nfc_scan",
e.GovernmentIdTypeSelect = "government_id_type_select",
e.HorizontalStack = "horizontal_stack",
e.ImageHosted = "image_hosted",
e.ImageLocal = "image_local",
e.InputAddress = "input_address",
e.InputCheckbox = "input_checkbox",
e.InputCheckboxDatetime = "input_checkbox_datetime",
e.InputCheckboxGroup = "input_checkbox_group",
e.InputConfirmationCode = "input_confirmation_code",
e.InputCountrySelect = "input_country_select",
e.InputCurrency = "input_currency",
e.InputDate = "input_date",
e.InputESignature = "input_e_signature",
e.InputFileUpload = "input_file_upload",
e.InputInternationalDb = "input_international_db",
e.InputMaskedText = "input_masked_text",
e.InputMultiSelect = "input_multi_select",
e.InputNumber = "input_number",
e.InputPhoneNumber = "input_phone_number",
e.InputRadioGroup = "input_radio_group",
e.InputSelect = "input_select",
e.InputSubdivisionSelect = "input_subdivision_select",
e.InputText = "input_text",
e.InputTextArea = "input_text_area",
e.InputUrl = "input_url",
e.LanguageSelector = "language_selector",
e.PasskeyAuthentication = "passkey_authentication",
e.PasskeyRegistration = "passkey_registration",
e.PersonaBranding = "persona_branding",
e.PrivacyPolicy = "privacy_policy",
e.QrCode = "qr_code",
e.Spacer = "spacer",
e.Stepper = "stepper",
e.TableStatic = "table_static",
e.Text = "text",
e.Title = "title",
e))(Up || {});
Object.values(Up).filter(e => ![].includes(e));
var al = (e => (e.Auto = "auto",
e.National = "national",
e.International = "international",
e))(al || {});
const Jx = "QXz8BHySkL0h61Kytaae"
  , Xx = "TDFWciWInORo44Ij1rSu";
async function Hp() {
    try {
        const e = await a0.load()
          , {visitorId: t} = await e.get();
        return t
    } catch {}
}
async function qp(e) {
    try {
        const t = e === "DE" ? Xx : Jx
          , n = e === "DE" ? "eu" : "us";
        return (await s0({
            token: t,
            modules: [c0()],
            endpoint: `https://fp-${n}.withpersona.com`,
            region: n
        })).get({
            extendedResult: !0
        })
    } catch {}
}
function An(e) {
    e && (e.entries = [],
    e.length = 0,
    e.index = -1)
}
function ev(e) {
    e && (e.entries = e.entries.slice(-1),
    e.length = 1,
    e.index = 0)
}
function Vs(e, t, n, r, o, a) {
    {
        l0({
            id: e
        }),
        Xi("organization_id", o),
        Xi("template_id", r),
        Xi("environment_type", n),
        Xi("viewType", D.flowType),
        Xi("release", "13fb53b8b01-vite"),
        Xi("is_government_id_beta", (a == null ? void 0 : a["inquiry:enable-experimental-govid-perf-improvements"]) && (a == null ? void 0 : a["inquiry:enable-experimental-govid-perf-improvements-percentage"])),
        d0("featureFlags", a);
        const s = kh();
        t == null || e == null || s.setSession({
            sid: t,
            did: e,
            release: "13fb53b8b01-vite",
            init: !0
        }),
        Bi.getInstance().setOptOut(!a["inquiry:enable-amplitude"]),
        Bi.getInstance().setUserId(e),
        Bi.getInstance().setGroup("environment", n),
        Bi.getInstance().setGroup("template-id", r),
        Bi.getInstance().setGroup("organization-id", o),
        Bi.getInstance().setGroup("viewType", D.flowType),
        Object.entries(a).forEach( ([c,l]) => {
            Bi.getInstance().setGroup(c, l.toString())
        }
        )
    }
}
var ge = (e => (e.Created = "created",
e.Pending = "pending",
e.Completed = "completed",
e.Expired = "expired",
e.Approved = "approved",
e.NeedsReview = "needs_review",
e.Declined = "declined",
e.Failed = "failed",
e))(ge || {})
  , nn = (e => (e.BACKGROUND = "background",
e.BLOCKING = "blocking",
e.NONE = "none",
e))(nn || {})
  , sl = (e => (e.CREATED = "created",
e.ERRORED = "errored",
e.AUTHENTICATED = "authenticated",
e.UPDATED = "updated",
e))(sl || {});
function Oi(e) {
    var t, n;
    return (n = (t = e == null ? void 0 : e.attributes["wait-for-transition"]) == null ? void 0 : t["polling-mode"]) != null ? n : "none"
}
function xo(e) {
    switch (e.type) {
    case Ge.Document:
    case Ge.GovernmentId:
    case Ge.Selfie:
        return !0;
    default:
        return !1
    }
}
var sn = (e => (e.LoadVerifications = "inquiry/LOAD_VERIFICATIONS",
e.LogCollectedData = "inquiry/LOG_COLLECTED_DATA",
e.SaveVerification = "inquiry/SAVE_VERIFICATION",
e.LoadDocuments = "inquiry/LOAD_DOCUMENTS",
e.UpdateDocumentAtIndex = "inquiry/UPDATE_DOCUMENT_AT_INDEX",
e.SaveTemplate = "inquiry/SAVE_TEMPLATE",
e.SaveInquiryTemplateVersion = "inquiry/SAVE_INQUIRY_TEMPLATE_VERSION",
e.SaveInquiry = "inquiry/SAVE_INQUIRY",
e.SaveOrganization = "inquiry/SAVE_ORGANIZATION",
e.SaveTheme = "inquiry/SAVE_THEME",
e.SaveIsWebGLIncompatible = "inquiry/SAVE_WEB_GL_INCOMPATIBILITY",
e.SavePopupUrl = "inquiry/SAVE_POPUP_URL",
e.SaveFeatureFlags = "inquiry/SAVE_FEATURE_FLAGS",
e.SaveProductFeatures = "inquiry/SAVE_PRODUCT_FEATURES",
e.SetCurrentSession = "inquiry/SET_CURRENT_SESSION",
e.SetCurrentStep = "inquiry/SET_CURRENT_STEP",
e.SetComponent = "inquiry/SET_COMPONENT",
e))(sn || {});
function tv(e) {
    return {
        payload: {
            verifications: e
        },
        type: "inquiry/LOAD_VERIFICATIONS"
    }
}
function nv(e) {
    return {
        payload: {
            verification: e
        },
        type: "inquiry/SAVE_VERIFICATION"
    }
}
function iv(e) {
    return {
        payload: {
            documents: e
        },
        type: "inquiry/LOAD_DOCUMENTS"
    }
}
function Ta(e) {
    return {
        payload: {
            data: e
        },
        type: "inquiry/LOG_COLLECTED_DATA"
    }
}
function ca(e, t) {
    return {
        payload: {
            document: e,
            documentNumber: t
        },
        type: "inquiry/UPDATE_DOCUMENT_AT_INDEX"
    }
}
function $p(e) {
    return {
        payload: {
            template: e
        },
        type: "inquiry/SAVE_TEMPLATE"
    }
}
function rv(e) {
    return {
        payload: {
            inquiryTemplateVersion: e
        },
        type: "inquiry/SAVE_INQUIRY_TEMPLATE_VERSION"
    }
}
function Ot(e) {
    return {
        payload: {
            inquiry: e
        },
        type: "inquiry/SAVE_INQUIRY"
    }
}
function Zl(e) {
    return {
        payload: {
            organization: e
        },
        type: "inquiry/SAVE_ORGANIZATION"
    }
}
function Jl(e) {
    return {
        payload: {
            theme: e
        },
        type: "inquiry/SAVE_THEME"
    }
}
function Gp(e) {
    return {
        payload: {
            isWebGLIncompatible: e
        },
        type: "inquiry/SAVE_WEB_GL_INCOMPATIBILITY"
    }
}
function Wp(e) {
    return {
        payload: {
            popupUrl: e
        },
        type: "inquiry/SAVE_POPUP_URL"
    }
}
function Xl(e) {
    return {
        payload: {
            featureFlags: e
        },
        type: "inquiry/SAVE_FEATURE_FLAGS"
    }
}
function ed(e) {
    return {
        payload: {
            productFeatures: e
        },
        type: "inquiry/SAVE_PRODUCT_FEATURES"
    }
}
function Us(e) {
    return {
        payload: {
            session: e
        },
        type: "inquiry/SET_CURRENT_SESSION"
    }
}
function ov(e) {
    return {
        payload: {
            step: e
        },
        type: "inquiry/SET_CURRENT_STEP"
    }
}
function cr(e) {
    return {
        payload: {
            component: e
        },
        type: "inquiry/SET_COMPONENT"
    }
}
var Qo = (e => (e.ShowMessage = "messages/SHOW_MESSAGE",
e.RemoveMessage = "messages/REMOVE_MESSAGE",
e.ClearMessage = "messages/CLEAR_MESSAGE",
e.ClearMessages = "messages/CLEAR_MESSAGES",
e.ClearMessagesOnRouteChange = "messages/CLEAR_MESSAGES_ON_ROUTE_CHANGE",
e))(Qo || {});
function ce(e, t) {
    return {
        payload: {
            id: pp("message"),
            message: e,
            persist: t
        },
        type: "messages/SHOW_MESSAGE"
    }
}
function Lt() {
    return {
        type: "messages/CLEAR_MESSAGES"
    }
}
function av() {
    return {
        type: "messages/CLEAR_MESSAGES_ON_ROUTE_CHANGE"
    }
}
var Yp = (e => (e.Default = "default",
e.None = "none",
e))(Yp || {})
  , td = (e => (e.None = "none",
e.Mobile = "mobile",
e))(td || {})
  , B = (e => (e.Front = "front",
e.Back = "back",
e.BarcodePdf417 = "barcode_pdf417",
e.FrontOrBack = "front_or_back",
e.PassportSignature = "passport_signature",
e))(B || {})
  , Zo = (e => (e.Flag = "flag",
e.World = "world",
e.House = "house",
e.Card = "card",
e))(Zo || {})
  , xn = (e => (e.Barcode = "barcode",
e.Passport = "passport",
e.IdFront = "id_front",
e.IdFrontRightPortrait = "id_front_right_portrait",
e.IdBack = "id_back",
e.CornersOnly = "corners_only",
e.Empty = "empty",
e))(xn || {})
  , mn = (e => (e.Name = "name",
e.Birthdate = "birthdate",
e.Address = "address",
e.IdentificationNumberLast4 = "identification_number_last_4",
e.IdentificationNumberFull9 = "identification_number_full_9",
e.PhoneNumber = "phone_number",
e.EmailAddress = "email_address",
e))(mn || {})
  , zp = (e => (e.Full = "full",
e.Partial = "partial",
e.None = "none",
e))(zp || {})
  , Kp = (e => (e.NameFirst = "name_first",
e.NameLast = "name_last",
e.Birthdate = "birthdate",
e.IdentificationNumber = "identification_number",
e.AddressStreet1 = "address_street_1",
e.AddressStreet2 = "address_street_2",
e.AddressCity = "address_city",
e.AddressSubdivision = "address_subdivision",
e.AddressPostalCode = "address_postal_code",
e))(Kp || {})
  , fn = (e => (e.WebCamera = "web_camera",
e.MobileCamera = "mobile_camera",
e.Upload = "upload",
e.DeviceHandoff = "device_handoff",
e))(fn || {})
  , nd = (e => (e.None = "none",
e.Name = "name",
e.NameAndBirthdate = "name_and_birthdate",
e.NameAndSsn = "name_and_ssn",
e))(nd || {})
  , Qp = (e => (e.Telesign = "telesign",
e))(Qp || {})
  , rn = (e => (e.ProfileAndCenter = "profile_and_center",
e.OnlyCenter = "only_center",
e.ConfigurablePoses = "configurable_poses",
e))(rn || {})
  , qn = (e => (e.WebCamera = "web_camera",
e.Manual = "manual",
e.Stillfie = "stillfie",
e.DeviceHandoff = "device_handoff",
e))(qn || {})
  , la = (e => (e.None = "none",
e.GoogleMaps = "google_maps",
e))(la || {});
async function id(e, t, n) {
    const [{data: r}] = await Promise.all([oi.get(e).catch(o => {
        let a;
        try {
            a = new URL(e)
        } catch {}
        nr({
            error: o,
            method: "GET",
            uri: a instanceof URL ? `${a.origin}${a.pathname}` : e
        })
    }
    ), t.loadLanguages([n])]);
    return t.addResourceBundle(n, "translation", r, !0, !0),
    r
}
var Et = (e => (e.Initiated = "initiated",
e.Confirmed = "confirmed",
e.Submitted = "submitted",
e.Passed = "passed",
e.TentativelyPassed = "tentatively_passed",
e.TentativelyFailed = "tentatively_failed",
e.RequiresRetry = "requires_retry",
e.Failed = "failed",
e.Skipped = "skipped",
e.Canceled = "canceled",
e))(Et || {});
const Zp = (e, t, n) => {
    if (e == null)
        return;
    const r = e.attributes["enabled-country-codes"]
      , o = (t || {})["country-code"];
    if (r.length === 0 && o in Cs || r.includes(o))
        return o;
    if (o == null && r.length === 1)
        return r[0];
    if (r.length === 0 && n in Cs || r.includes(n))
        return n
}
  , sv = (e, t, n, r) => {
    var C;
    const {"enabled-capture-options-desktop": o, "enabled-capture-options-mobile": a, "enabled-id-classes-by-country": s} = e
      , l = ((C = (s || {})[t]) != null ? C : []).find(S => S.class === n)
      , d = l == null || l["requires-device"] !== td.Mobile
      , u = Kn()
      , m = (u ? a : o) || []
      , h = d || op() || u
      , p = r && h && m.includes(fn.WebCamera)
      , b = window.FileReader != null;
    return [{
        option: fn.WebCamera,
        condition: p
    }, {
        option: fn.MobileCamera,
        condition: !p && u
    }, {
        option: fn.Upload,
        condition: b
    }, {
        option: fn.DeviceHandoff,
        condition: !0
    }].filter(S => S.condition && m.includes(S.option)).map(S => S.option)
}
;
function wr(e) {
    var t, n;
    return ((n = (t = e == null ? void 0 : e.relationships) == null ? void 0 : t["inquiry-template-version"]) == null ? void 0 : n.data) != null
}
function vo(e) {
    return D.isHosted ? !!D.inquiryParams["redirect-uri"] || !!e.attributes["redirect-uri"] : !0
}
var ue = (e => (e.Center = "center",
e.Left = "left",
e.Right = "right",
e))(ue || {})
  , gt = (e => (e.Live = "live",
e.Auto = "auto",
e.Manual = "manual",
e.Upload = "upload",
e))(gt || {})
  , Io = (e => (e.Guided = "guided",
e.Unguided = "unguided",
e))(Io || {})
  , cn = (e => (e.PortraitMissing = "portrait_missing",
e.PortraitNotClear = "portrait_not_clear",
e.DisabledIdClass = "disabled_id_class",
e.MilitaryId = "military_id",
e.BarcodeNotDetected = "barcode_not_detected",
e.MrzNotDetected = "mrz_not_detected",
e.Expired = "expired",
e.FailedAgeComparison = "failed_age_comparison",
e.DoubleFrontDetected = "double_front",
e.Blurry = "blurry",
e.Glare = "glare",
e.CornerMissing = "corner_missing",
e.SelectedCountryMismatch = "selected_country_mismatch",
e.UnprocessableImage = "unprocessable_image",
e.Generic = "generic",
e))(cn || {})
  , cl = (e => (e.AddressDeliverableDetection = "database_address_deliverable_detection",
e))(cl || {})
  , ro = (e => (e.Generic = "generic",
e.Glare = "glare",
e.Glasses = "glasses",
e))(ro || {});
function os(e) {
    return (e.attributes["next-step"].config || {})["require-selfie-match"] || rn.ProfileAndCenter
}
function Hs(e) {
    return (e.attributes["next-step"].config || {})["require-strict-selfie-capture"] || !1
}
function Ri(e, t) {
    return !!e.find(n => n.pose === t)
}
function da(e, t, n) {
    if (n && rn.ConfigurablePoses)
        return Qr(e, n);
    switch (t) {
    case rn.ProfileAndCenter:
        return Ri(e, ue.Center) ? Ri(e, ue.Left) ? Ri(e, ue.Right) ? void 0 : ue.Right : ue.Left : ue.Center;
    case rn.OnlyCenter:
        return Ri(e, ue.Center) ? void 0 : ue.Center
    }
}
function Jp({orderedPoses: e, requireSelfieMatch: t}) {
    const n = t === rn.OnlyCenter ? [] : [ue.Left, ue.Right];
    return e != null ? e : [ue.Center, ...n]
}
function Qr(e, t) {
    for (const n of t)
        if (!Ri(e, n))
            return n
}
function rd(e, t, n, r, o) {
    return [...e, {
        dataUrl: n,
        captureMethod: r,
        pose: t,
        capturedAt: o
    }]
}
const cv = ({verificationConfigSelfie: e, isMobile: t, isWebGLIncompatible: n, hasCamera: r}) => {
    const o = e[t ? "enabled-capture-options-mobile" : "enabled-capture-options-desktop"]
      , a = r && !n && (o == null ? void 0 : o.includes(qn.WebCamera));
    return [{
        option: qn.WebCamera,
        condition: a
    }, {
        option: qn.Manual,
        condition: a
    }, {
        option: qn.Stillfie,
        condition: !a
    }, {
        option: qn.DeviceHandoff,
        condition: !0
    }].filter(s => s.condition && (o == null ? void 0 : o.includes(s.option))).map(s => s.option)
}
  , ui = (e, t) => e.find(n => n.pose === t)
  , lv = e => e ? Object.values(e).map(n => n.captureMethod).indexOf(gt.Upload) >= 0 : !1;
var un = (e => (e.ClearCapturedSelfies = "verification/CLEAR_CAPTURED_SELFIES",
e.SaveActiveVerificationType = "verification/SAVE_ACTIVE_VERIFICATION_TYPE",
e.SaveActiveVerification = "verification/SAVE_ACTIVE_VERIFICATION",
e.SaveCapturedSelfie = "verification/SAVE_CAPTURED_SELFIE",
e.SaveCaptureMethod = "verification/SAVE_CAPTURE_METHOD",
e.SaveSubmittedValues = "verification/SAVE_SUBMITTED_VALUES",
e.SaveVideoConstraints = "verification/SAVE_VIDEO_CONSTRAINTS",
e.SaveUploadProgress = "verification/SAVE_UPLOAD_PROGRESS",
e.SaveWaitingOnNetwork = "verification/SAVE_WAITING_ON_NETWORK",
e.SaveVideoCaptureEnabled = "verification/SAVE_VIDEO_CAPTURE_ENABLED",
e.SelectGovernmentIdClass = "verification/SELECT_GOVERNMENT_ID_CLASS",
e.UpdateCameraInspectionData = "verification/UPDATE_CAMERA_INSPECTION_DATA",
e.UploadFiles = "verification/UPLOAD_FILES",
e.AcceptCheck = "verification/ACCEPT_CHECK",
e.SaveAutoclassificatonSuccessIdDetails = "verification/SAVE_AUTOCLASSIFICATION_SUCCESS_ID_DETAILS",
e.SaveAutoclassificatonFailureResult = "verification/SAVE_AUTOCLASSIFICATION_FAILURE_RESULT",
e.SaveAutoclassificatonIdSelection = "verification/SAVE_AUTOCLASSIFICATION_ID_SELECTION",
e.ClearAutoclassificatonIdSelection = "verification/CLEAR_AUTOCLASSIFICATION_ID_SELECTION",
e))(un || {});
function dv(e) {
    return {
        payload: {
            verificationType: e
        },
        type: "verification/SAVE_ACTIVE_VERIFICATION_TYPE"
    }
}
function uv(e) {
    return {
        payload: {
            verification: e
        },
        type: "verification/SAVE_ACTIVE_VERIFICATION"
    }
}
function Xp(e) {
    return {
        payload: {
            submittedValues: e
        },
        type: "verification/SAVE_SUBMITTED_VALUES"
    }
}
function So(e) {
    return {
        payload: {
            videoConstraints: e
        },
        type: "verification/SAVE_VIDEO_CONSTRAINTS"
    }
}
function lr(e) {
    return {
        payload: {
            captureMethod: e
        },
        type: "verification/SAVE_CAPTURE_METHOD"
    }
}
function mv(e) {
    return {
        payload: {
            videoCaptureEnabled: e
        },
        type: "verification/SAVE_VIDEO_CAPTURE_ENABLED"
    }
}
function qs(e, t, n, r) {
    return {
        payload: {
            selfieStep: e,
            imageDataUrl: t,
            captureMethod: n,
            capturedAt: r
        },
        type: "verification/SAVE_CAPTURED_SELFIE"
    }
}
function od() {
    return {
        type: "verification/CLEAR_CAPTURED_SELFIES"
    }
}
function ad(e) {
    return {
        payload: {
            governmentIdClass: e
        },
        type: "verification/SELECT_GOVERNMENT_ID_CLASS"
    }
}
function ef(e) {
    return {
        payload: {
            cameraInspectionData: e
        },
        type: "verification/UPDATE_CAMERA_INSPECTION_DATA"
    }
}
function $s(e, t, n, r) {
    return {
        payload: {
            actionStep: e,
            clientExtractions: n,
            clientExtractionSource: r,
            files: t
        },
        type: "verification/UPLOAD_FILES"
    }
}
function Ei(e) {
    return {
        payload: {
            progress: e
        },
        type: "verification/SAVE_UPLOAD_PROGRESS"
    }
}
function hv(e, t, n) {
    return {
        payload: {
            autoclassificationCountryCode: e,
            governmentIdClass: t,
            idClassesByCountries: n
        },
        type: "verification/SAVE_AUTOCLASSIFICATION_SUCCESS_ID_DETAILS"
    }
}
function pv(e, t) {
    return {
        payload: {
            autoclassificationFailureReason: e,
            idClassesByCountries: t
        },
        type: "verification/SAVE_AUTOCLASSIFICATION_FAILURE_RESULT"
    }
}
function fv(e, t) {
    return {
        payload: {
            autoclassificationCountryCode: e,
            governmentIdClass: t
        },
        type: "verification/SAVE_AUTOCLASSIFICATION_ID_SELECTION"
    }
}
function tf() {
    return {
        payload: {},
        type: "verification/CLEAR_AUTOCLASSIFICATION_ID_SELECTION"
    }
}
var Ke = (e => (e[e.Prompt = 0] = "Prompt",
e[e.TakePhoto = 1] = "TakePhoto",
e[e.CaptureLeadInAnimation = 2] = "CaptureLeadInAnimation",
e[e.Check = 3] = "Check",
e[e.CheckUpload = 4] = "CheckUpload",
e[e.AutoclassificationFailure = 5] = "AutoclassificationFailure",
e[e.AutoclassificationSelect = 6] = "AutoclassificationSelect",
e))(Ke || {});
function nf(e) {
    return e.replace(/^[^,]+,/, "")
}
const gu = ";base64,";
function bu(e) {
    const t = e.indexOf(gu) + gu.length
      , n = e.substring(t)
      , r = atob(n)
      , o = new Uint8Array(new ArrayBuffer(r.length));
    for (let a = 0; a < r.length; a++)
        o[a] = r.charCodeAt(a);
    return o.buffer
}
function sd(e) {
    try {
        return new File([bu(e.dataUrl)],e.filename)
    } catch {
        return new Blob([bu(e.dataUrl)])
    }
}
function yo(e, t=!1) {
    return new Promise( (n, r) => {
        const o = new FileReader;
        o.onload = a => n(a.target.result),
        o.onerror = a => {
            r(a.target.error),
            o.abort()
        }
        ,
        t ? o.readAsText(e) : o.readAsDataURL(e)
    }
    )
}
function cd(e, t=!0) {
    return t ? sd(e) : {
        filename: e.filename,
        data: nf(e.dataUrl)
    }
}
function Ir(e=[], t=!0) {
    return e.map(n => cd(n, t))
}
function rf(e, t, n) {
    try {
        return new File(e,t,{
            type: n
        })
    } catch {
        return new Blob(e,{
            type: n
        })
    }
}
const Gs = 1e7;
var ll = (e => (e.ImageJpg = "image/jpg",
e.ImageJpeg = "image/jpeg",
e.ImagePng = "image/png",
e.ImageHeic = "image/heic",
e.ImageHeif = "image/heif",
e.ImageTif = "image/tif",
e.ImageTiff = "image/tiff",
e.ImageGif = "image/gif",
e.ImageSvgXml = "image/svg+xml",
e.ApplicationPdf = "application/pdf",
e.TextPlain = "text/plain",
e.VideoMp4 = "video/mp4",
e.VideoWebm = "video/webm",
e))(ll || {});
function rr(e) {
    switch (e) {
    case "image/svg+xml":
        return "svg";
    case "text/plain":
        return "txt";
    case "video/mp4":
        return "mp4";
    case "video/webm":
        return "webm";
    default:
        return e.split("/")[1]
    }
}
function ld(e, t, n, r) {
    var c;
    if ((e == null ? void 0 : e["enabled-id-classes-by-country"]) == null)
        return;
    if (n == null)
        return r === 0 ? B.Front : void 0;
    const s = ((c = e["enabled-id-classes-by-country"][t.toLowerCase()]) != null ? c : []).find(l => l.class === n);
    if (s == null)
        throw new Error(`No configuration for id class: ${n} for country: ${t}`);
    return s["requires-sides"][r]
}
function ji(e, t) {
    switch (t) {
    case Ke.Prompt:
        return `/verify/government-id/${e}/prompt`;
    case Ke.TakePhoto:
        return `/verify/government-id/${e}/capture`;
    case Ke.Check:
    case Ke.CheckUpload:
        return `/verify/government-id/${e}/check`;
    case Ke.AutoclassificationFailure:
    case Ke.AutoclassificationSelect:
        throw new Error("Inquiry 2.0 should not have autoclassification step");
    case Ke.CaptureLeadInAnimation:
        throw new Error("Inquiry 2.0 should not have this govid redesign-only step");
    default:
        lt(t)
    }
}
function gv(e, t, n, r) {
    const a = (e.attributes["next-step"].config || {})["enabled-id-classes-by-country"][t.toLowerCase()];
    return a && a.find(c => c.class === n && c["requires-sides"].length > r) ? r >= 2 : r >= 1
}
function Cu(e, t, n, r, o=!0) {
    var u, m, h, p, b, C;
    const a = t[B.Front] || t[B.FrontOrBack]
      , s = t[B.Back] || t[B.BarcodePdf417]
      , c = t[B.PassportSignature]
      , l = [{
        page: B.Front,
        "capture-method": (u = Wt(a)) == null ? void 0 : u.captureMethod,
        "capture-flow": (m = Wt(a)) == null ? void 0 : m.captureFlow,
        data: Ir(a, o)
    }, {
        page: B.Back,
        "capture-method": (h = Wt(s)) == null ? void 0 : h.captureMethod,
        "capture-flow": (p = Wt(s)) == null ? void 0 : p.captureFlow,
        data: Ir(s, o)
    }, {
        page: B.PassportSignature,
        "capture-method": (b = Wt(c)) == null ? void 0 : b.captureMethod,
        "capture-flow": (C = Wt(c)) == null ? void 0 : C.captureFlow,
        data: Ir(c, o)
    }].filter(S => S.data.length !== 0);
    return {
        attributes: {
            "selected-id-class": e,
            "government-id-files": l,
            "client-extraction-raws": r,
            "camera-properties": n
        },
        type: w.VerificationGovernmentId
    }
}
function dd(e, t, n) {
    return async r => {
        var o, a, s;
        try {
            const c = await vv(t, n);
            r(Us(c.data)),
            c.data.attributes.locale && await e.changeLanguage(c.data.attributes.locale);
            const l = await te.getResource(y.Inquiry, c.data.relationships.inquiry.data.id, {
                include: ["inquiry-template-version", "organization"]
            });
            if ((l == null ? void 0 : l.data) == null)
                return;
            const d = l.data
              , u = c.data;
            r(Ot(d)),
            Vs(d.id, u.id, (o = d.attributes.environment) != null ? o : "undefined", wr(d) ? d.relationships["inquiry-template-version"].data.id : d.relationships.template.data.id, d.relationships.organization.data.id, (s = (a = l.meta) == null ? void 0 : a["feature-flags"]) != null ? s : {}),
            J.logAmplitude("inquiry.one-time-link.start"),
            D.onEvent(Oe.OneTimeLinkStart),
            J.logAmplitude("inquiry.load", {
                inquiryId: d.id
            }),
            D.onEvent(Oe.InquiryLoad, {
                inquiryId: d.id
            }),
            wr(d) ? await r(ud(e, l, c)) : await r(of(e, l, c))
        } catch (c) {
            if (c instanceof ht)
                switch (c.status) {
                case 403:
                    zt({
                        status: 403,
                        code: "too_many_sessions"
                    }, c);
                    break;
                case 404:
                    zt({
                        status: 404,
                        code: "invalid_inquiry_id"
                    }, c);
                    break;
                case 409:
                    zt({
                        status: 409,
                        code: "unauthenticated"
                    }, c);
                    break;
                default:
                    zt({
                        status: c.status,
                        code: "http_response"
                    }, c),
                    he(c, "warning", void 0, {
                        functionName: "loadInquiryFromCode"
                    })
                }
            else
                c instanceof Error ? zt({
                    status: 0,
                    code: "application_error"
                }, c) : zt({
                    status: -1,
                    code: "unknown"
                }),
                he(c, "warning", void 0, {
                    functionName: "loadInquiryFromCode"
                });
            r(Nt("/verify/invalid/code"))
        }
    }
}
function bv(e, t) {
    return async n => {
        var r, o, a, s;
        try {
            const c = await te.getResource(y.Inquiry, t, {
                include: ["inquiry-template-version", "organization"]
            });
            if ((c == null ? void 0 : c.data) == null)
                return;
            const l = c.data
              , d = wr(l);
            let u;
            D.inquiryParams["theme-id"] && !d && (u = (await te.getResource(y.Theme, D.inquiryParams["theme-id"])).data),
            n(Ot(l)),
            ((r = fs(te.accessToken)) == null ? void 0 : r.inquiry_id) !== l.id && te.clearAccessToken();
            const m = te.accessToken ? await Iv() : await sf(l);
            if ((m == null ? void 0 : m.data) == null)
                return;
            n(Us(m.data)),
            Vs(l.id, m.data.id, (o = l.attributes.environment) != null ? o : "undefined", d ? l.relationships["inquiry-template-version"].data.id : l.relationships.template.data.id, l.relationships.organization.data.id, (s = (a = c.meta) == null ? void 0 : a["feature-flags"]) != null ? s : {}),
            J.logAmplitude("inquiry.load", {
                inquiryId: l.id
            }),
            D.onEvent(Oe.InquiryLoad, {
                inquiryId: l.id
            }),
            d ? await n(ud(e, c, m)) : await n(of(e, c, m, u))
        } catch (c) {
            if (c instanceof ht)
                switch (c.status) {
                case 404:
                    zt({
                        status: 404,
                        code: "invalid_inquiry_id"
                    }, c);
                    break;
                case 409:
                    zt({
                        status: 409,
                        code: "unauthenticated"
                    }, c);
                    break;
                default:
                    zt({
                        status: c.status,
                        code: "http_response"
                    }, c),
                    he(c, "warning", void 0, {
                        functionName: "loadInquiryFromId"
                    })
                }
            else
                c instanceof Error ? zt({
                    status: 0,
                    code: "application_error"
                }, c) : zt({
                    status: -1,
                    code: "unknown"
                }),
                he(c, "warning", void 0, {
                    functionName: "loadInquiryFromId"
                });
            n(Nt("/verify/invalid/inquiry"))
        }
    }
}
function Cv(e, t) {
    return async n => {
        te.clearAccessToken();
        try {
            const {data: r, included: o} = await te.getResource(y.Template, t);
            te.organizationMetadata = {
                templateId: r.id,
                organizationId: r.relationships.organization.data.id
            };
            const a = await lf(e, r.attributes["enabled-locales"])
              , c = (r.attributes["custom-translations"] || []).filter(u => u.lang === a);
            c.length > 0 && await id(c.shift()["translation-url"], e, a),
            n($p(r));
            const l = o.find(u => u.id === r.relationships.organization.data.id);
            n(Zl(l));
            let d;
            D.inquiryParams["theme-id"] ? d = (await te.getResource(y.Theme, D.inquiryParams["theme-id"])).data : d = o.find(u => u.id === r.relationships["default-theme"].data.id),
            n(Jl(d)),
            r.attributes["skip-intro-page"] ? await n(af(D.inquiryParams, d, window.location.host)) : n(Nt("/verify/intro", {
                skipAnimation: !0
            }))
        } catch (r) {
            he(r, "warning", void 0, {
                functionName: "loadThemeAndRedirect"
            }),
            zt({
                status: 400,
                code: "invalid_config"
            }, r),
            n(Nt("/verify/invalid/config", {
                error: r
            }))
        }
    }
}
function of(e, {data: t, meta: n, included: r}, {data: o}, a) {
    return async s => {
        var h;
        if (!te.accessToken)
            throw new Error("No access token set for inquiry:" + t.id);
        te.organizationMetadata = {
            templateId: t.relationships.template.data.id,
            organizationId: t.relationships.organization.data.id
        };
        const c = n == null ? void 0 : n["feature-flags"];
        s(Xl(c));
        const l = n["product-features"];
        s(ed(l)),
        s(Jl(a != null ? a : r.find(p => p.id === t.relationships.theme.data.id)));
        const d = te.getResource(y.Template, t.relationships.template.data.id).then(async ({data: p, included: b}) => {
            await lf(e, p.attributes["enabled-locales"], o.attributes.locale),
            s($p(p));
            const C = b.find(x => x.id === p.relationships.organization.data.id);
            if (s(Zl(C)),
            t.attributes["selected-country-code"] == null && p.attributes["enabled-country-codes"].length === 1) {
                const x = {
                    type: t.type,
                    id: t.id,
                    attributes: {
                        "selected-country-code": p.attributes["enabled-country-codes"][0]
                    }
                };
                te.updateResource(x).then( ({data: _}) => Ot(_))
            }
            const v = (p.attributes["custom-translations"] || []).filter(x => x.lang === e.language);
            v.length > 0 && await id(v.shift()["translation-url"], e, e.language)
        }
        )
          , u = te.listResource(y.Verification).then( ({data: p}) => s(tv(p)))
          , m = !!((h = n["product-features"]) != null && h[Bs.InquiriesEnableDeviceFingerprint]);
        cf(m, te.fpjsCountry),
        await Promise.all([d, u]),
        s(Yt(t, Nt))
    }
}
function af(e, t, n) {
    return async r => {
        var c, l, d, u, m, h, p;
        const o = n === "sandbox.withpersona.com" ? "sandbox" : e.environment
          , a = e.prefill || {}
          , s = {
            attributes: {
                "template-id": e["template-id"],
                "theme-id": t.id,
                "redirect-uri": e["redirect-uri"],
                "account-id": e["account-id"],
                "account-type-id": e["account-type-id"],
                "reference-id": e["reference-id"],
                note: e.note,
                environment: o,
                "environment-id": e["environment-id"],
                "flow-type": D.flowType,
                "accepted-policies": !0,
                fields: e.fields,
                ...a,
                "country-code": a["country-code"]
            },
            type: w.Inquiry
        };
        try {
            const b = await te.postResourceCreate(s, {
                retryOptions: {
                    retryCondition: R => Ti.isNetworkError(R) || Ti.isRetryableError(R)
                }
            })
              , C = b.data;
            r(Ot(C));
            const S = (l = (c = b.meta) == null ? void 0 : c["feature-flags"]) != null ? l : {};
            r(Xl(S));
            const v = (u = (d = b.meta) == null ? void 0 : d["product-features"]) != null ? u : {};
            r(ed(v));
            const x = await sf(C);
            r(Us(x.data)),
            Vs(C.id, x.data.id, (m = C.attributes.environment) != null ? m : "undefined", C.relationships.template.data.id, C.relationships.organization.data.id, S),
            J.logAmplitude("inquiry.start", {
                inquiryId: C.id
            }),
            D.onEvent(Oe.Start, {
                inquiryId: C.id
            });
            const _ = !!((p = (h = b.meta) == null ? void 0 : h["product-features"]) != null && p[Bs.InquiriesEnableDeviceFingerprint]);
            cf(_, te.fpjsCountry),
            r(Yt(C, Nt))
        } catch (b) {
            if (b instanceof ht) {
                switch (b.status) {
                case 400:
                    zt({
                        status: b.status,
                        code: "invalid_config"
                    }, b),
                    he(b, "warning", void 0, {
                        functionName: "startInquiry"
                    });
                    break;
                default:
                    zt({
                        status: b.status,
                        code: "http_response"
                    }, b),
                    he(b, "error", void 0, {
                        functionName: "startInquiry"
                    });
                    break
                }
                r(Nt("/verify/invalid/config", {
                    error: b
                }))
            } else
                b instanceof Error ? zt({
                    status: 0,
                    code: "application_error"
                }, b) : zt({
                    status: -1,
                    code: "unknown"
                }),
                he(b, "error", void 0, {
                    functionName: "startInquiry"
                }),
                r(Nt("/verify/invalid/config", {
                    error: b
                }))
        }
    }
}
function xv(e) {
    return async t => {
        const n = {
            type: e.type,
            id: e.id,
            attributes: {
                "accepted-policies": !0
            }
        }
          , r = (await te.updateResource(n)).data;
        t(Yt(r, Nt))
    }
}
async function sf(e) {
    const t = await te.postResourceCreate({
        type: w.InquirySession,
        attributes: {
            "flow-type": D.flowType
        }
    }, {
        meta: {
            "inquiry-id": e.id
        }
    });
    return te.accessToken = t.meta["access-token"],
    t
}
async function vv(e, t) {
    const n = {
        attributes: {
            "one-time-link-code": e
        },
        type: w.InquirySession
    }
      , r = await te.postResourceSingletonAction(n, "exchange-one-time-link-code", {
        meta: {
            "device-handoff-method": t == null ? void 0 : t.deviceHandoffMethod
        }
    });
    return te.accessToken = r.meta["access-token"],
    r
}
async function Iv() {
    return await te.getResourceSingleton(y.CurrentInquirySession)
}
function wo(e, t, n) {
    return async r => {
        J.logAmplitude("inquiry.language-change", {
            "from-language": t.language,
            "to-language": n
        }),
        await t.changeLanguage(n);
        const o = await te.getResource(y.Inquiry, e.id);
        r(Ot(o.data))
    }
}
function dl(e, t={}) {
    return async n => {
        const r = e.data
          , o = e.included.find(a => a.id === r.relationships.inquiry.data.id);
        n(Yt(o))
    }
}
function Yt(e, t=En) {
    return async n => {
        var o;
        n(Ot(e));
        const r = e.attributes["next-step"];
        switch (n(ov(r)),
        r.type) {
        case Ge.Start:
            n(t("/verify/intro"));
            return;
        case Ge.CountrySelect:
            n(t("/verify/select-country"));
            return;
        case Ge.DocumentsUpload:
            n(t("/verify/documents/intro"));
            return;
        case Ge.Completed:
            n(t("/verify/success"));
            return;
        case Ge.Failed:
            n(t("/verify/failed"));
            return;
        case Ge.Ui:
        case Ge.Document:
        case Ge.Integration:
        case Ge.GovernmentId:
        case Ge.Selfie:
        case Ge.Complete:
        case Ge.VerifyWithPersona:
            return;
        default:
            n(Sv(r.type, r.config, (o = e.attributes["selected-country-code"]) != null ? o : e.attributes["country-code"], t))
        }
    }
}
function Sv(e, t, n, r=En) {
    return t = t || {},
    o => {
        switch (o(dv(e)),
        e) {
        case w.VerificationDatabase:
            o(r("/verify/database"));
            break;
        case w.VerificationGovernmentId:
            {
                const a = t["enabled-id-classes-by-country"];
                if (!t["enabled-skip-unknown"] && a && a[n.toLowerCase()] && a[n.toLowerCase()].length === 1) {
                    const c = a[n.toLowerCase()][0].class;
                    o(ad(c)),
                    o(r(ji(0, Ke.Prompt)))
                } else
                    o(r("/verify/government-id/select"));
                break
            }
        case w.VerificationEmailAddress:
            o(r("/verify/email-address/prompt"));
            break;
        case w.VerificationPhoneNumber:
            o(r("/verify/phone-number/prompt"));
            break;
        case w.VerificationSelfie:
            {
                const a = da([], rn.OnlyCenter);
                o(r(`/verify/selfie/${a}/prompt`));
                break
            }
        default:
            throw new Error("Invalid verification type selected")
        }
    }
}
function pi(e) {
    return t => {
        if (t(uv(e)),
        t(nv(e)),
        e != null) {
            let n;
            e.attributes["submitted-at"] && [Et.TentativelyPassed, Et.TentativelyFailed, Et.Passed, Et.RequiresRetry, Et.Failed].includes(e.attributes.status) && (n = $n.local().diff($n.fromISO(e.attributes["submitted-at"]), "seconds").seconds),
            J.logAmplitude("inquiry.verification-change", {
                id: e.id,
                type: e.type,
                status: e.attributes.status,
                duration: n
            }),
            D.onEvent(Oe.VerificationChange, {
                id: e.id,
                type: e.type,
                status: e.attributes.status,
                duration: n
            })
        }
    }
}
function yv() {
    return async e => {
        const {data: t} = await te.listResource(y.Document);
        e(iv(t.filter(n => n.type === w.DocumentGeneric && n.attributes["latest-verification-status"] === Et.Passed)))
    }
}
function cf(e, t) {
    async function n() {
        try {
            const [r,o] = await Promise.all([Hp(), e ? qp(t) : null]);
            await te.updateResourceSingleton({
                attributes: {},
                type: w.CurrentInquirySession
            }, {
                meta: {
                    "browser-fingerprint": r,
                    "device-fingerprint": o == null || o.visitorId === "n/a" ? null : o.visitorId,
                    "device-fingerprint-components": o
                }
            })
        } catch {}
    }
    n()
}
async function lf(e, t, n) {
    let r;
    return n && (t.length === 0 || t.includes(n)) ? r = n : t.length > 0 ? t.includes(e.language) ? r = e.language : r = t[0] : r = e.language,
    r !== e.language && await e.changeLanguage(r),
    r
}
const wv = {
    nextInquiry: null
}
  , {reducer: _v, actions: Rv} = u0({
    name: "verify-with-persona",
    initialState: wv,
    reducers: {
        setNextInquiry: (e, t) => {
            e.nextInquiry = t.payload.inquiry
        }
    }
})
  , {setNextInquiry: ul} = Rv
  , df = e => e != null ? uf(e.config.components) : []
  , uf = e => e.flatMap(t => Zx(t) ? [t, ...uf(t.attributes.children)] : [t]);
function Av(e, t, n) {
    return async (r, o) => {
        var l;
        await r(dd(e, t));
        const a = o().inquiry.inquiry;
        if (!a) {
            r(Nt("/verify/invalid/code"));
            return
        }
        const s = (l = a.attributes) == null ? void 0 : l["next-step"];
        if ((s == null ? void 0 : s.type) !== Ge.Ui) {
            r(Nt("/verify/invalid/config", {
                error: new Error("verify with persona popup accessed on non-ui step")
            }));
            return
        }
        const c = df(s).find(d => d.type === Me.ButtonVerifyWithPersona && d.name === n);
        if (!c) {
            r(Nt("/verify/invalid/config", {
                error: new Error("verify with persona popup accessed without verify with persona component")
            }));
            return
        }
        r(cr(c)),
        r(Nt("/inquiry/verify-with-persona/passkey-authentication"))
    }
}
function Tv(e, t, n) {
    return async (r, o) => {
        var l;
        await r(dd(e, t));
        const a = o().inquiry.inquiry;
        if (!a) {
            r(Nt("/verify/invalid/code"));
            return
        }
        const s = (l = a.attributes) == null ? void 0 : l["next-step"];
        if ((s == null ? void 0 : s.type) !== Ge.Ui) {
            r(Nt("/verify/invalid/config", {
                error: new Error("create persona popup accessed on non-ui step")
            }));
            return
        }
        const c = df(s).find(d => d.type === Me.ButtonCreatePersona && d.name === n);
        if (!c) {
            r(Nt("/verify/invalid/config", {
                error: new Error("create persona popup accessed without create persona component")
            }));
            return
        }
        r(cr(c)),
        r(Nt("/inquiry/create-persona/passkey-registration"))
    }
}
function Ev(e, t, n) {
    return async r => {
        var o, a, s, c, l;
        try {
            const d = n === "sandbox.withpersona.com" ? "sandbox" : t.environment
              , u = {
                attributes: {
                    "inquiry-template-id": (o = t["inquiry-template-id"]) != null ? o : t["template-id"],
                    "inquiry-template-version-id": t["inquiry-template-version-id"],
                    "redirect-uri": t["redirect-uri"],
                    "account-id": t["account-id"],
                    "account-type-id": t["account-type-id"],
                    "reference-id": t["reference-id"],
                    "theme-set-id": t["theme-set-id"],
                    "theme-id": t["theme-id"],
                    environment: d,
                    "environment-id": t["environment-id"],
                    "flow-type": D.flowType,
                    "accepted-policies": !0,
                    fields: t.fields
                },
                type: w.Inquiry
            }
              , m = await te.postResourceCreate(u, {
                retryOptions: {
                    retryCondition: b => Ti.isNetworkError(b) || Ti.isRetryableError(b)
                }
            })
              , h = m.data;
            r(Ot(h));
            const p = await Dv(h);
            r(Us(p.data)),
            Vs(h.id, p.data.id, (a = h.attributes.environment) != null ? a : "undefined", h.relationships["inquiry-template-version"].data.id, h.relationships.organization.data.id, (c = (s = m.meta) == null ? void 0 : s["feature-flags"]) != null ? c : {}),
            J.logAmplitude("inquiry.start", {
                inquiryId: h.id
            }),
            D.onEvent(Oe.Start, {
                inquiryId: h.id
            }),
            r(ud(e, m, p))
        } catch (d) {
            d instanceof ht ? ((l = d.errors) == null ? void 0 : l[0].code) === "inactive_template_error" ? (zt({
                status: 422,
                code: "inactive_template"
            }, d),
            r(Nt("/inquiry/inactive"))) : d.status >= 500 ? (zt({
                status: d.status,
                code: "http_response"
            }, d),
            he(d, "error", void 0, {
                functionName: "createInquiry"
            }),
            r(Nt("/verify/invalid/config", {
                error: d
            }))) : (zt({
                status: 400,
                code: "invalid_config"
            }, d),
            he(d, "warning", void 0, {
                functionName: "createInquiry"
            }),
            r(Nt("/verify/invalid/config", {
                error: d
            }))) : (d instanceof Error ? zt({
                status: 0,
                code: "application_error"
            }, d) : zt({
                status: -1,
                code: "unknown"
            }),
            he(d, "error", void 0, {
                functionName: "createInquiry"
            }),
            r(Nt("/verify/invalid/config", {
                error: d
            })))
        }
    }
}
function ud(e, {data: t, meta: n, included: r}, {data: o}) {
    return async a => {
        if (!te.accessToken)
            throw new Error("No access token set for inquiry:" + t.id);
        te.organizationMetadata = {
            templateId: t.relationships["inquiry-template-version"].data.id,
            organizationId: t.relationships.organization.data.id
        };
        const s = n == null ? void 0 : n["feature-flags"]
          , c = n == null ? void 0 : n["product-features"]
          , l = r.find(b => b.id === t.relationships["inquiry-template-version"].data.id)
          , d = r.find(b => b.id === t.relationships.organization.data.id);
        s && a(Xl(s)),
        c && a(ed(c)),
        a(rv(l)),
        a(Jl({
            id: "backserialized-inquiry-template-version-theme",
            type: w.Theme,
            attributes: l.attributes.theme
        })),
        a(Zl(d));
        const u = !!(c != null && c[Bs.InquiriesEnableDeviceFingerprint]);
        Ov(u, te.fpjsCountry);
        const m = e.language;
        if (await Lv(e, l.attributes["enabled-locales"], o.attributes.locale) !== m && ({data: t} = await te.getResource(y.Inquiry, t.id)),
        Oi(t) === nn.BLOCKING)
            try {
                await a(Gn(t))
            } catch (b) {
                throw a(ut()),
                b
            }
        else
            a(Dt(t, {
                skipAnimation: !0
            }))
    }
}
function mf({inquiry: e, componentParams: t, fromComponent: n, workflowInitialVariables: r, contentType: o="multipart/form-data", onUploadProgress: a}) {
    return async s => {
        var c;
        s(_n()),
        s(Sa());
        try {
            const l = {
                meta: {
                    "from-component": n,
                    "from-step": e.attributes["next-step"].name,
                    "workflow-initial-variables": r
                }
            };
            l.contentType = o,
            l.onUploadProgress = a,
            l.formDataAllowEmptyArrays = !0,
            o === "multipart/form-data" && Jr(t) && (t = "");
            const {data: d} = await te.postResourceAction({
                id: e.id,
                type: e.type,
                attributes: {
                    componentParams: t,
                    "flow-type": D.flowType
                }
            }, "transition", l);
            D.inquiryParams["send-client-side-collected-data-in-events"] && s(Ta({
                name: e.attributes["next-step"].name,
                type: Ge.Ui,
                data: t || {}
            })),
            Oi(d) === nn.BLOCKING ? await s(Gn(d)) : (s(ut()),
            s(Dt(d, {
                isSameStep: e.attributes["next-step"].name === d.attributes["next-step"].name
            })))
        } catch (l) {
            if (s(ut()),
            l instanceof xt) {
                const {data: d} = await te.getResource(y.Inquiry, e.id);
                throw s(Dt(d)),
                l
            } else if (l instanceof ht)
                switch (l.status) {
                case 409:
                    if (((c = l.errors) == null ? void 0 : c[0].code) === "inconsistent_transition_error") {
                        const {data: d} = await te.getResource(y.Inquiry, e.id);
                        s(Dt(d))
                    } else
                        throw l;
                    break;
                default:
                    throw l
                }
            else
                throw l
        }
    }
}
function kv(e, t, n, r) {
    return async o => {
        var a;
        o(_n()),
        o(Sa());
        try {
            const {data: s} = await te.postResourceAction({
                id: e.id,
                type: e.type,
                attributes: {
                    fields: t,
                    "flow-type": D.flowType
                }
            }, "transition", {
                meta: {
                    "from-component": n,
                    "from-step": e.attributes["next-step"].name,
                    "workflow-initial-variables": r
                }
            });
            D.inquiryParams["send-client-side-collected-data-in-events"] && o(Ta({
                name: e.attributes["next-step"].name,
                type: Ge.Integration,
                data: t
            })),
            Oi(s) === nn.BLOCKING ? await o(Gn(s)) : (o(ut()),
            o(Dt(s, {
                isSameStep: e.attributes["next-step"].name === s.attributes["next-step"].name
            })))
        } catch (s) {
            if (o(ut()),
            s instanceof xt) {
                const {data: c} = await te.getResource(y.Inquiry, e.id);
                throw o(Dt(c)),
                s
            } else if (s instanceof ht)
                switch (s.status) {
                case 409:
                    if (((a = s.errors) == null ? void 0 : a[0].code) === "inconsistent_transition_error") {
                        const {data: c} = await te.getResource(y.Inquiry, e.id);
                        o(Dt(c))
                    } else
                        throw s;
                    break;
                default:
                    throw s
                }
            else
                throw s
        }
    }
}
function Nv(e, t, n, r) {
    return async o => {
        var a;
        o(_n()),
        o(Sa()),
        D.isReusablePersonaPopup && window.opener && window.opener.postMessage({
            name: yi.TRANSITION_STARTED
        });
        try {
            const {data: s} = await te.postResourceAction({
                id: e.id,
                type: e.type,
                attributes: {
                    fields: {
                        "client-key": t.response.userHandle,
                        "public-key": JSON.stringify(t),
                        "expected-origin": window.location.origin
                    },
                    "flow-type": D.flowType
                }
            }, "transition", {
                meta: {
                    "from-component": n,
                    "from-step": e.attributes["next-step"].name,
                    "workflow-initial-variables": r
                }
            });
            Oi(s) === nn.BLOCKING ? (D.isReusablePersonaPopup && window.opener && window.opener.postMessage({
                name: yi.TRANSITION_POLLING
            }),
            await o(Gn(s, {
                skipInquiryStateUpdateOnPoll: !0,
                onComplete: (l, d, u) => {
                    D.isReusablePersonaPopup && window.opener && window.opener.postMessage({
                        name: yi.TRANSITION_COMPLETED
                    }),
                    o(ut()),
                    o(ul({
                        inquiry: u
                    })),
                    u.attributes["reusable-persona-status"] === sl.ERRORED ? o(Nt("/inquiry/verify-with-persona/error")) : o(Nt("/inquiry/verify-with-persona/success")),
                    l()
                }
            }))) : (D.isReusablePersonaPopup && window.opener && window.opener.postMessage({
                name: yi.TRANSITION_COMPLETED
            }),
            o(ut()),
            o(ul({
                inquiry: s
            })),
            s.attributes["reusable-persona-status"] === sl.ERRORED ? o(Nt("/inquiry/verify-with-persona/error")) : o(Nt("/inquiry/verify-with-persona/success")))
        } catch (s) {
            if (D.isReusablePersonaPopup && window.opener && window.opener.postMessage({
                name: yi.TRANSITION_ERRORED
            }),
            o(ut()),
            s instanceof xt) {
                const {data: c} = await te.getResource(y.Inquiry, e.id);
                throw o(Dt(c)),
                s
            } else if (s instanceof ht)
                switch (s.status) {
                case 409:
                    if (((a = s.errors) == null ? void 0 : a[0].code) === "inconsistent_transition_error") {
                        const {data: c} = await te.getResource(y.Inquiry, e.id);
                        o(Dt(c))
                    } else
                        throw s;
                    break;
                default:
                    throw s
                }
            else
                throw s
        }
    }
}
function jv(e) {
    return async t => {
        var n;
        t(_n()),
        t(Sa());
        try {
            const {data: r} = await te.postResourceAction({
                id: e.id,
                type: e.type
            }, "transition-back", {
                meta: {
                    "from-step": e.attributes["next-step"].name
                }
            });
            t(ut()),
            t(Dt(r, {
                back: !0
            }))
        } catch (r) {
            if (t(ut()),
            r instanceof xt) {
                const {data: o} = await te.getResource(y.Inquiry, e.id);
                throw t(Dt(o)),
                r
            } else if (r instanceof ht)
                switch (r.status) {
                case 409:
                    if (((n = r.errors) == null ? void 0 : n[0].code) === "inconsistent_transition_error") {
                        const {data: o} = await te.getResource(y.Inquiry, e.id);
                        t(Dt(o))
                    } else
                        throw r;
                    break;
                default:
                    throw r
                }
            else
                throw r
        }
    }
}
function Dt(e, t={}) {
    return n => {
        n(Ot(e)),
        !t.isSameStep && (t.historyToClear && ev(t.historyToClear),
        n(Nt("/inquiry/ui", {
            back: !!t.back,
            skipAnimation: !!t.skipAnimation,
            transition: t.transition
        })))
    }
}
function md() {
    return te.onCancel().catch(e => {
        he(e, "warning", {
            note: "A fetch exception may imply the fetch library we are using (in react-native?) is invalid"
        })
    }
    )
}
function Pv(e) {
    switch (e.code) {
    case "unauthenticated":
        return rl.Permissions;
    default:
        return rl.Other
    }
}
function xu(e) {
    if (e)
        return {
            name: e == null ? void 0 : e.name,
            message: e == null ? void 0 : e.message
        }
}
function zt(e, t) {
    try {
        D.onError(e),
        J.logAmplitude("inquiry.error", e),
        te.accessToken && te.onError({
            type: Pv(e),
            description: xu(t)
        }),
        Nh({
            level: "error",
            message: "HolderClient.onError",
            data: {
                status: e.status,
                code: e.code,
                message: e.message,
                description: xu(t)
            }
        })
    } catch (n) {
        he(n, "warning")
    }
}
async function Dv(e) {
    const t = await te.postResourceCreate({
        type: w.InquirySession,
        attributes: {
            "flow-type": D.flowType
        }
    }, {
        meta: {
            "inquiry-id": e.id
        }
    });
    return te.accessToken = t.meta["access-token"],
    t
}
async function Ov(e, t) {
    async function n() {
        try {
            const [r,o] = await Promise.all([Hp(), e ? qp(t) : null]);
            await te.updateResourceSingleton({
                attributes: {
                    "flow-type": D.flowType
                },
                type: w.CurrentInquirySession
            }, {
                meta: {
                    "browser-fingerprint": r,
                    "device-fingerprint": o == null || o.visitorId === "n/a" ? null : o.visitorId,
                    "device-fingerprint-components": o
                }
            })
        } catch {}
    }
    n()
}
function vu(e, t, n="en-US") {
    if (e.length === 0 || e.includes(t))
        return t;
    const r = t && e.find(o => o.split("-")[0] === t.split("-")[0]);
    return r || (e.includes(n) ? n : e[0])
}
async function Lv(e, t, n) {
    let r;
    const o = vu(t, e.language);
    return n ? r = vu(t, n, o) : r = o,
    r !== e.language && await e.changeLanguage(r),
    r
}
const Fv = 1e3
  , Mv = 90;
function Gn(e, t={}) {
    return (n, r) => new Promise( (o, a) => {
        var b, C, S;
        t.skipInquiryStateUpdateOnPoll || n(Ot(e));
        let s;
        const c = (b = t.pollingMode) != null ? b : Oi(e)
          , l = e.attributes["wait-for-transition"]
          , d = (C = l == null ? void 0 : l["interval-ms"]) != null ? C : Fv
          , u = (S = l == null ? void 0 : l["max-attempts"]) != null ? S : Mv
          , m = t.onComplete ? v => t.onComplete(o, a, v) : null;
        n(Sa());
        const h = r().ui.pollerId;
        c === nn.BLOCKING && n(Q1());
        function p(v, x) {
            if (v <= 0) {
                clearTimeout(s),
                n(ut()),
                Be(`Polled more than ${u} times without success`, "error", {
                    id: x.id
                }),
                a();
                return
            }
            s = window.setTimeout( () => Vv({
                inquiry: x,
                context: {
                    initialPollerId: h,
                    pollingMode: c,
                    getPollerId: () => Bv(r())
                },
                onPending: _ => {
                    p(v - 1, _)
                }
                ,
                onComplete: m != null ? m : _ => {
                    var O, N;
                    const {historyToClear: R} = t
                      , E = _.attributes["next-step"].name === x.attributes["next-step"].name
                      , T = (O = _.attributes["next-step"].config) == null ? void 0 : O["server-component-errors"]
                      , F = (N = _.attributes["next-step"].config) == null ? void 0 : N["server-step-messages"];
                    if (F && E)
                        for (const U of F)
                            n(ce(U));
                    if (n(ut()),
                    n(Dt(_, {
                        isSameStep: E,
                        historyToClear: R
                    })),
                    T && E) {
                        const U = lC(fp(V => [V.name, V.message], T));
                        a(new Se.SubmissionError(U))
                    } else
                        o()
                }
                ,
                onError: _ => {
                    console.error(_),
                    clearTimeout(s),
                    n(ut()),
                    Be("Failed to poll for inquiry status", "error", {
                        id: x.id,
                        error: _
                    }),
                    a()
                }
                ,
                onAbort: () => {
                    clearTimeout(s),
                    o()
                }
            }), d)
        }
        p(u, e)
    }
    )
}
function Bv(e) {
    return e.ui.pollerId
}
async function Vv({inquiry: e, context: t, onPending: n, onComplete: r, onError: o, onAbort: a}) {
    try {
        const {data: s, meta: c} = await te.getResource(y.Inquiry, e.id, {
            retryOptions: {
                retries: 0
            }
        });
        if (t.getPollerId() > t.initialPollerId) {
            a();
            return
        }
        if (!(s.attributes["next-step"].name === e.attributes["next-step"].name)) {
            const u = c == null ? void 0 : c["feature-flags"];
            if (u != null && u["inquiry:enable-generalized-rp-flow"]) {
                if (!s.attributes["wait-for-transition"]["currently-transitioning-with-persona"]) {
                    r(s);
                    return
                }
            } else {
                r(s);
                return
            }
        }
        switch (t.pollingMode) {
        case nn.BACKGROUND:
        case nn.BLOCKING:
            t.pollingMode !== Oi(s) ? r(s) : n(s);
            break;
        case nn.NONE:
        default:
            r(s)
        }
    } catch (s) {
        if (s instanceof xt || s instanceof ht && s.status === 502)
            n(e);
        else if (o != null)
            o(s);
        else
            throw s
    }
}
function Or() {
    return async (e, t) => {
        if (t().ui.hasCamera !== !0) {
            const n = await Z1();
            e(J1(n))
        }
    }
}
const xs = Uv();
function Uv() {
    var n;
    const e = {}
      , t = document.getElementsByTagName("meta");
    for (const r of t)
        if (r.name.startsWith("config.")) {
            let o;
            (r.name === "config.sandboxToolsDisabled" || r.name === "config.sandboxBannerDisabled") && (o = ((n = r.content) == null ? void 0 : n.toLowerCase()) === "true"),
            e[r.name.substring(7)] = o
        }
    return e
}
const Hv = {
    cccd: "Citizen ID",
    cct: "Citizen certificate",
    cid: "Consular ID",
    dl: "Driver license",
    hic: "Healthcare Insurance card",
    foid: "Foreigner ID",
    id: "National ID",
    ipp: "Internal passport",
    keyp: "Keypass ID",
    ltpass: "Long-Term pass card",
    mid: "Military ID",
    munid: "Municipal ID",
    myn: "My Number card",
    nbi: "NBI Clearance",
    nric: "NRIC",
    ofw: "OFW ID",
    pan: "PAN card",
    pid: "Postal ID",
    pp: "Passport",
    ppc: "Passport card",
    pr: "Permanent resident card",
    rp: "Residency permit",
    sss: "SSS ID",
    td: "Travel Document",
    tribalid: "Tribal ID",
    umid: "UMID",
    "us-id": "US ID",
    vid: "Voter ID",
    visa: "Visa",
    wp: "Work permit"
}
  , _o = {
    V0: 0,
    V1: 1
};
var wi = (e => (e.None = "none",
e.Slide = "slide",
e.Fade = "fade",
e.SlideVertical = "slide-vertical",
e))(wi || {})
  , ml = (e => (e.Light = "300",
e.Regular = "400",
e.Medium = "500",
e.Bold = "700",
e.Black = "900",
e))(ml || {})
  , vs = (e => (e.Inline = "inline",
e.Bottom = "bottom",
e))(vs || {})
  , Ws = (e => (e.Input = "input",
e.Select = "select",
e))(Ws || {})
  , Ys = (e => (e.Default = "default",
e.Start = "start",
e.Center = "center",
e))(Ys || {})
  , hf = (e => (e.None = "none",
e.Underline = "underline",
e))(hf || {})
  , Ai = (e => (e.Start = "start",
e.Center = "center",
e.End = "end",
e.None = "none",
e))(Ai || {})
  , Lr = (e => (e.Default = "default",
e.None = "none",
e))(Lr || {})
  , Ea = (e => (e.Default = "default",
e.Overlay = "overlay",
e))(Ea || {})
  , $i = (e => (e.Default = "default",
e.Light = "light",
e.Button = "button",
e))($i || {})
  , $t = (e => (e.Start = "start",
e.Center = "center",
e))($t || {})
  , gn = (e => (e.AboveButton = "above_button",
e.BelowButton = "below_button",
e))(gn || {});
const ka = e => {
    const t = e.inquiry.inquiry.attributes["next-step"];
    return t.type === Ge.Document ? t.config : void 0
}
  , Na = si([e => e.inquiry], e => {
    const t = e.attributes["next-step"];
    return t.type === Ge.Document ? t.styles : null
}
)
  , zs = si([e => e.document.document, ka], (e, t) => (e == null ? void 0 : e.id) === (t == null ? void 0 : t["document-id"]) ? e : void 0)
  , zi = si([e => e.inquiry], e => {
    const t = e.attributes["next-step"];
    return t.type === Ge.GovernmentId ? t.styles : null
}
)
  , dr = e => {
    const t = e.inquiry.inquiry.attributes["next-step"];
    return t.type === Ge.GovernmentId ? t.config : null
}
  , pf = e => {
    const t = e.inquiry.inquiry.attributes["next-step"];
    return t.type === Ge.Selfie ? t.config : null
}
  , qv = e => {
    const t = e.inquiry.inquiry.attributes["next-step"];
    return t.type === Ge.Integration ? t.config : null
}
  , hd = e => {
    const t = e.inquiry.component;
    return (t == null ? void 0 : t.type) === Me.ButtonVerifyWithPersona ? t : null
}
  , pd = si([e => e.inquiry], e => {
    const t = e.attributes["next-step"];
    return t.type === Ge.Selfie ? t.styles : null
}
)
  , Li = si([e => e.inquiry], e => {
    var n;
    const t = (n = e.inquiry) == null ? void 0 : n.attributes["next-step"];
    switch (t == null ? void 0 : t.type) {
    case Ge.Ui:
        return t.styles;
    case Ge.Document:
        return Na(e);
    case Ge.GovernmentId:
        return zi(e);
    case Ge.Selfie:
        return pd(e);
    default:
        return
    }
}
)
  , ff = si([e => e.document.uploadedFiles, e => e.document.documentFiles], (e, t) => e.filter(n => t.some(r => r.id === n.fileId)))
  , Ki = () => {
    const e = f.useRef(!1);
    return f.useEffect( () => (e.current = !0,
    () => {
        e.current = !1
    }
    ), []),
    f.useCallback( () => e.current, [])
}
  , $v = g.div.withConfig({
    displayName: "FrameBackground__BackgroundColorDiv",
    componentId: "sc-1re4kos-0"
})(["position:absolute;height:100%;width:100%;bottom:0;left:0;right:0;z-index:-1;overflow-y:hidden;@media ", "{height:100vh;width:100vw;}"], jt.isMobile)
  , gf = () => {
    var l, d;
    const e = f.useContext(Je)
      , t = st(Li)
      , o = !!Nr().pathname.match(new RegExp("/inquiry/create-persona")) ? "#ffffff" : (d = (l = A(t == null ? void 0 : t["background-color"].base.base)) != null ? l : e.colorModalBackground) != null ? d : "#ffffff"
      , [a,s] = f.useState(o)
      , c = Ki();
    return f.useEffect( () => {
        c || s(o)
    }
    , [c]),
    i.jsx($v, {
        "data-test": "frame-background",
        style: {
            backgroundColor: a
        },
        "aria-hidden": !0
    })
}
  , Gv = g("div").withConfig({
    displayName: "InlineLoadingIndicator__InlineImage",
    componentId: "sc-1xu4kxi-0"
})(["display:inline-block;width:20px;", ";svg{vertical-align:baseline;}"], e => e.dark && $(["filter:invert(0.8) brightness(250%);"]))
  , Qi = ({className: e, dark: t}) => i.jsx(Gv, {
    dark: t,
    className: e,
    role: "progressbar",
    "aria-busy": !0,
    "aria-live": "polite",
    children: i.jsx(X0, {})
});
var Jo = (e => (e.Primary = "primary",
e.Secondary = "secondary",
e))(Jo || {});
const Wv = g(Qi).withConfig({
    displayName: "ButtonBase__StyledLoadingIndicator",
    componentId: "sc-sjtwuq-0"
})(["position:absolute;transition:opacity 0.2s;", ";"], e => !e.isVisible && $(["opacity:0;"]))
  , Sc = g("div").attrs( ({isVisible: e}) => ({
    "aria-hidden": !e
})).withConfig({
    displayName: "ButtonBase__ButtonChildren",
    componentId: "sc-sjtwuq-1"
})(["width:100%;display:flex;flex-wrap:unset;align-items:center;justify-content:center;transition:opacity 0.2s;", ";"], e => !e.isVisible && $(["opacity:0;"]))
  , Yv = g.div.withConfig({
    displayName: "ButtonBase__LoadingProgressBackground",
    componentId: "sc-sjtwuq-2"
})(["position:absolute;width:100%;height:100%;display:block;background:rgba(0,0,0,0.2);z-index:0;transform:translateX(", ");transition:all 0.7s ease-out;"], ({xValue: e}) => `${e}%`)
  , bf = ({styles: e, hasLoadingBackground: t}) => {
    var n, r, o, a, s, c, l, d, u, m, h, p, b, C, S, v, x, _, R, E, T, F, O, N, U, V, ne, L, H;
    return {
        boxSizing: "border-box",
        cursor: "pointer",
        position: "relative",
        display: "flex",
        alignItems: "center",
        justifyContent: "center",
        textDecoration: "none",
        borderStyle: "solid",
        whiteSpace: "nowrap",
        transition: tt.Fast,
        overflow: t ? "hidden" : "initial",
        height: k(e == null ? void 0 : e.height.base.base),
        width: k(e == null ? void 0 : e.width.base.base),
        marginTop: k((n = e == null ? void 0 : e.margin.base.base) == null ? void 0 : n.top),
        marginBottom: k((r = e == null ? void 0 : e.margin.base.base) == null ? void 0 : r.bottom),
        marginLeft: k((o = e == null ? void 0 : e.margin.base.base) == null ? void 0 : o.left),
        marginRight: k((a = e == null ? void 0 : e.margin.base.base) == null ? void 0 : a.right),
        paddingTop: k((s = e == null ? void 0 : e.padding.base.base) == null ? void 0 : s.top),
        paddingBottom: k((c = e == null ? void 0 : e.padding.base.base) == null ? void 0 : c.bottom),
        paddingLeft: k((l = e == null ? void 0 : e.padding.base.base) == null ? void 0 : l.left),
        paddingRight: k((d = e == null ? void 0 : e.padding.base.base) == null ? void 0 : d.right),
        justifySelf: e == null ? void 0 : e.justify.base.base,
        ...((u = e == null ? void 0 : e["font-family"]) == null ? void 0 : u.base.base) != null && {
            fontFamily: Gt(e == null ? void 0 : e["font-family"].base.base)
        },
        fontSize: k(e == null ? void 0 : e["font-size"].base.base),
        fontWeight: Qn(e == null ? void 0 : e["font-weight"].base.base),
        lineHeight: k(e == null ? void 0 : e["line-height"].base.base),
        color: A(e == null ? void 0 : e["text-color"].base.base),
        "svg path": {
            stroke: A(e == null ? void 0 : e["text-color"].base.base)
        },
        backgroundColor: A(e == null ? void 0 : e["background-color"].base.base),
        borderColor: A(e == null ? void 0 : e["border-color"].base.base),
        borderTopWidth: k((m = e == null ? void 0 : e["border-width"].base.base) == null ? void 0 : m.top),
        borderBottomWidth: k((h = e == null ? void 0 : e["border-width"].base.base) == null ? void 0 : h.bottom),
        borderLeftWidth: k((p = e == null ? void 0 : e["border-width"].base.base) == null ? void 0 : p.left),
        borderRightWidth: k((b = e == null ? void 0 : e["border-width"].base.base) == null ? void 0 : b.right),
        borderRadius: k(e == null ? void 0 : e["border-radius"].base.base),
        boxShadow: `${k((C = e == null ? void 0 : e["shadow-offset"].base.base) == null ? void 0 : C.x)} ${k((S = e == null ? void 0 : e["shadow-offset"].base.base) == null ? void 0 : S.y)} ${k(e == null ? void 0 : e["shadow-radius"].base.base)} 0 ${A(e == null ? void 0 : e["shadow-color"].base.base)}`,
        transform: `translateX(${k((v = e == null ? void 0 : e.translate.base.base) == null ? void 0 : v.x)}) translateY(${k((x = e == null ? void 0 : e.translate.base.base) == null ? void 0 : x.y)})`,
        "&:hover:not(:disabled), &:focus:not(:disabled)": {
            color: A(e == null ? void 0 : e["text-color"].base.focused),
            backgroundColor: A(e == null ? void 0 : e["background-color"].base.focused),
            borderColor: A(e == null ? void 0 : e["border-color"].base.focused),
            boxShadow: `${k((_ = e == null ? void 0 : e["shadow-offset"].base.focused) == null ? void 0 : _.x)} ${k((R = e == null ? void 0 : e["shadow-offset"].base.focused) == null ? void 0 : R.y)} ${k(e == null ? void 0 : e["shadow-radius"].base.focused)} 0 ${A(e == null ? void 0 : e["shadow-color"].base.focused)}`
        },
        "&:active:not(:disabled)": {
            color: A(e == null ? void 0 : e["text-color"].base.active),
            backgroundColor: A(e == null ? void 0 : e["background-color"].base.active),
            borderColor: A(e == null ? void 0 : e["border-color"].base.active),
            boxShadow: `${k((E = e == null ? void 0 : e["shadow-offset"].base.active) == null ? void 0 : E.x)} ${k((T = e == null ? void 0 : e["shadow-offset"].base.active) == null ? void 0 : T.y)} ${k(e == null ? void 0 : e["shadow-radius"].base.active)} 0 ${A(e == null ? void 0 : e["shadow-color"].base.active)}`,
            transform: `translateX(${k((F = e == null ? void 0 : e.translate.base.active) == null ? void 0 : F.x)}) translateY(${k((O = e == null ? void 0 : e.translate.base.active) == null ? void 0 : O.y)})`
        },
        "&:disabled": {
            cursor: "not-allowed",
            color: A(e == null ? void 0 : e["text-color"].base.disabled),
            backgroundColor: A(e == null ? void 0 : e["background-color"].base.disabled),
            borderColor: A(e == null ? void 0 : e["border-color"].base.disabled),
            boxShadow: `${k((N = e == null ? void 0 : e["shadow-offset"].base.disabled) == null ? void 0 : N.x)} ${k((U = e == null ? void 0 : e["shadow-offset"].base.disabled) == null ? void 0 : U.y)} ${k(e == null ? void 0 : e["shadow-radius"].base.disabled)} 0 ${A(e == null ? void 0 : e["shadow-color"].base.disabled)}`,
            transform: `translateX(${k((V = e == null ? void 0 : e.translate.base.disabled) == null ? void 0 : V.x)}) translateY(${k((ne = e == null ? void 0 : e.translate.base.disabled) == null ? void 0 : ne.y)})`
        },
        "&:not(:active):not(:disabled)": {
            "&:hover, &:focus": {
                transform: `translateX(${k((L = e == null ? void 0 : e.translate.base.focused) == null ? void 0 : L.x)}) translateY(${k((H = e == null ? void 0 : e.translate.base.focused) == null ? void 0 : H.y)})`
            }
        },
        outlineColor: "#00000000",
        outlineWidth: "2px",
        outlineOffset: "2px",
        outlineStyle: "solid",
        "&:focus-visible": {
            outlineColor: A(e == null ? void 0 : e["border-color"].base.focused),
            outlineWidth: "2px",
            outlineOffset: "2px",
            outlineStyle: "solid"
        }
    }
}
  , zv = g.a.withConfig({
    displayName: "ButtonBase__StyledLink",
    componentId: "sc-sjtwuq-3"
})(bf)
  , Kv = g.button.withConfig({
    displayName: "ButtonBase__StyledButton",
    componentId: "sc-sjtwuq-4"
})(bf)
  , ua = e => {
    const {children: t, href: n, type: r="button", styles: o, isPending: a, uploadProgress: s, pendingContent: c, ...l} = e
      , d = s != null ? (100 - s) * -1 : -100
      , u = i.jsxs(i.Fragment, {
        children: [a && s != null && i.jsx(Yv, {
            xValue: d,
            role: "progressbar",
            "aria-busy": !0,
            "aria-live": "polite",
            "aria-valuemin": 0,
            "aria-valuemax": 1,
            "aria-valuenow": s
        }), c ? i.jsx(i.Fragment, {
            children: a ? i.jsxs(Sc, {
                isVisible: !0,
                children: [i.jsx("span", {
                    children: c
                }), i.jsx(Qi, {})]
            }) : i.jsx(Sc, {
                isVisible: !0,
                "data-test": "button__children",
                children: t
            })
        }) : i.jsxs(i.Fragment, {
            children: [a && i.jsx(Wv, {
                isVisible: a
            }), i.jsx(Sc, {
                isVisible: !a,
                "data-test": "button__children",
                children: t
            })]
        })]
    });
    return n ? i.jsx(zv, {
        href: n,
        "data-test": "button__" + e.buttonType,
        styles: o,
        hasLoadingBackground: a && s != null,
        target: "_blank",
        rel: "noopener",
        ...l,
        children: u
    }) : i.jsx(Kv, {
        "data-test": "button__" + e.buttonType,
        type: r,
        styles: o,
        hasLoadingBackground: a && s != null,
        ...l,
        children: u
    })
}
  , Qv = (e, t, n) => {
    const {"enabled-capture-options-desktop": r, "enabled-capture-options-mobile": o, idclasses: a} = e
      , s = Kn()
      , c = s ? o : r
      , l = a.find(b => b.class === t)
      , u = (l == null ? void 0 : l["requires-device"]) !== td.Mobile || op() || s
      , m = n && u && c.includes("web_camera")
      , h = s && (!m || e["always-show-mobile-camera-capture-option"])
      , p = window.FileReader != null;
    return [{
        option: "web_camera",
        condition: m
    }, {
        option: "mobile_camera",
        condition: h
    }, {
        option: "upload",
        condition: p
    }, {
        option: "device_handoff",
        condition: !0
    }].filter(b => b.condition && c.includes(b.option)).map(b => b.option)
}
  , Zv = ({config: e, isWebGLIncompatible: t, hasCamera: n}) => {
    const {"enabled-capture-options-desktop": r, "enabled-capture-options-mobile": o} = e
      , s = Kn() ? o : r;
    return [{
        option: "web_camera",
        condition: n && !t && s.includes("web_camera")
    }, {
        option: "device_handoff",
        condition: !0
    }].filter(l => l.condition && s.includes(l.option)).map(l => l.option)
}
  , Jv = (e, t) => {
    const {"enabled-capture-options-desktop": n, "enabled-capture-options-mobile": r} = e
      , o = Kn()
      , a = o ? r : n
      , s = t && (a == null ? void 0 : a.includes("web_camera"));
    return [{
        option: "web_camera",
        condition: s
    }, {
        option: "mobile_camera",
        condition: !s && o
    }, {
        option: "upload",
        condition: !0
    }, {
        option: "device_handoff",
        condition: !0
    }].filter(c => c.condition && (a == null ? void 0 : a.includes(c.option))).map(c => c.option)
}
  , fd = e => {
    const {terminal: t} = e.attributes["next-step"].config;
    return t
}
;
function hl(e, t=void 0, n) {
    const r = e == null ? void 0 : e[n];
    if (t == null)
        return r;
    {
        const o = e == null ? void 0 : e[`${t.toLowerCase()}-${n}`];
        return o != null ? o : r
    }
}
const Ro = (e, t) => {
    if (!fd(e))
        throw new Error("Cannot trigger completion on non-terminal step");
    D.onEvent(Oe.Complete, {
        inquiryId: e.id,
        referenceId: e.attributes["reference-id"],
        status: e.attributes.status,
        fields: e.attributes.fields,
        collectedData: D.inquiryParams["send-client-side-collected-data-in-events"] ? t : void 0
    }, {
        inquiry: e
    })
}
  , ja = e => {
    var t, n;
    return e == null ? {
        base: void 0,
        buttons: void 0
    } : {
        base: {
            backgroundColor: e["background-color"].base.base,
            headerButton: {
                text: {
                    color: e["text-color"]["header-button"].base
                }
            },
            header: {
                border: {
                    color: e["border-color"].header.base,
                    width: e["border-width"].header.base
                }
            },
            modal: {
                backgroundColor: e["background-color"].base.base,
                padding: e.padding.modal.base,
                border: {
                    radius: e["border-radius"].modal.base
                }
            },
            fill: {
                color: e["fill-color"].base.base,
                highlightColor: (t = e["fill-color"].highlight) == null ? void 0 : t.base,
                backgroundColor: (n = e["fill-color"].background) == null ? void 0 : n.base
            },
            stroke: {
                color: e["stroke-color"].base.base
            },
            textStyle: e["text-style"].base.base,
            titleStyle: e["title-style"].base.base,
            disclaimerStyle: e["disclaimer-style"].base.base
        },
        buttons: Xv(e)
    }
}
  , Xv = e => e == null ? {
    [Jo.Primary]: null,
    [Jo.Secondary]: null
} : {
    [Jo.Primary]: e["button-primary-style"].base.base,
    [Jo.Secondary]: e["button-secondary-style"].base.base
}
  , Cf = e => {
    if (e == null)
        return {
            base: void 0,
            buttons: void 0,
            imagePreview: void 0,
            processingPage: void 0
        };
    const {base: t, buttons: n} = ja(e);
    return {
        base: {
            ...t,
            border: {
                color: e["border-color"].base,
                width: e["border-width"].base
            }
        },
        buttons: n,
        imagePreview: {
            border: {
                color: e["border-color"]["image-preview"].base,
                radius: e["border-radius"]["image-preview"].base,
                width: e["border-width"]["image-preview"].base
            },
            plusIcon: {
                stroke: {
                    color: e["stroke-color"]["image-preview-plus-icon"].base
                },
                fill: {
                    color: e["fill-color"]["image-preview-plus-icon"].base
                }
            },
            xIcon: {
                stroke: {
                    color: e["stroke-color"]["image-preview-x-icon"].base
                },
                fill: {
                    color: e["fill-color"]["image-preview-x-icon"].base
                }
            },
            mainArea: {
                fill: {
                    color: e["fill-color"]["image-preview-main-area"].base
                }
            },
            cropArea: {
                fill: {
                    color: e["fill-color"]["image-preview-crop-area"].base
                }
            },
            imageName: {
                textStyle: e["text-style"]["image-name"].base
            }
        },
        processingPage: {
            textStyle: e["text-style"]["document-processing-text"].base,
            titleStyle: e["title-style"]["document-processing-title"].base
        }
    }
}
  , xf = e => {
    var r, o, a, s, c, l, d, u, m, h, p;
    if (e == null)
        return {
            base: void 0,
            buttons: void 0,
            captureHint: void 0,
            captureHintIcon: void 0,
            captureButtons: void 0,
            captureFeedBox: void 0,
            captureOverlayHeaderButton: void 0,
            processingPage: void 0,
            reviewImageBox: void 0,
            selectOption: void 0
        };
    const {base: t, buttons: n} = ja(e);
    return {
        base: {
            ...t,
            border: {
                color: e["border-color"].base,
                width: e["border-width"].base
            }
        },
        buttons: n,
        captureHint: {
            textStyle: e["text-style"]["government-id-capture-hint-text"].base
        },
        captureHintIcon: {
            fill: {
                color: (a = (r = e["fill-color"]["capture-page-hint-icon"]) == null ? void 0 : r.base) != null ? a : (o = e["fill-color"].base) == null ? void 0 : o.base
            },
            stroke: {
                color: (l = (s = e["stroke-color"]["capture-page-hint-icon"]) == null ? void 0 : s.base) != null ? l : (c = e["stroke-color"].base) == null ? void 0 : c.base
            }
        },
        captureButtons: {
            submit: (d = e["button-primary-style"]["submit-photo-button"]) == null ? void 0 : d.base,
            retake: (u = e["button-secondary-style"]["retake-photo-button"]) == null ? void 0 : u.base
        },
        captureHelpButtonIcon: {
            stroke: {
                color: (m = e["stroke-color"]["capture-page-help-button-icon"]) == null ? void 0 : m.base
            }
        },
        captureFeedBox: {
            border: {
                color: e["border-color"]["government-id-capture-feed-box"].base,
                radius: e["border-radius"]["government-id-capture-feed-box"].base,
                width: e["border-width"]["government-id-capture-feed-box"].base
            },
            stroke: {
                color: (h = e["stroke-color"]["government-id-capture-feed-box"]) == null ? void 0 : h.base
            }
        },
        captureOverlayHeaderButton: {
            stroke: {
                color: (p = e["stroke-color"]["capture-overlay-header-button"]) == null ? void 0 : p.base
            }
        },
        processingPage: {
            textStyle: e["text-style"]["government-id-processing-text"].base,
            titleStyle: e["title-style"]["government-id-processing-title"].base
        },
        reviewImageBox: {
            border: {
                color: e["border-color"]["government-id-review-image-box"].base,
                radius: e["border-radius"]["government-id-review-image-box"].base,
                width: e["border-width"]["government-id-review-image-box"].base
            }
        },
        selectOption: {
            backgroundColor: {
                base: e["background-color"].base.base,
                active: e["background-color"].option.active,
                focused: e["background-color"].option.focused
            },
            border: {
                color: e["border-color"]["government-id-select-option"].base,
                width: e["border-width"]["government-id-select-option"].base
            },
            chevron: {
                stroke: {
                    color: e["stroke-color"]["government-id-select-option-chevron"].base
                }
            },
            height: e.height["government-id-select-option-min-row-height"].base,
            icon: {
                stroke: {
                    color: e["stroke-color"]["government-id-select-option-icon"].base
                },
                fill: {
                    color: e["fill-color"]["government-id-select-option-icon"].base
                }
            },
            textStyle: e["text-style"]["government-id-vertical-option"].base
        },
        inputSelect: {
            base: e["input-select-style"].base.base
        },
        imageLocal: {
            illustration: e["image-local-style"].illustration.base
        }
    }
}
  , vf = e => {
    if (e == null)
        return {
            base: void 0,
            buttons: void 0,
            captureFeedbox: void 0,
            captureHintText: void 0,
            captureCompleteIcon: void 0,
            captureIcon: void 0,
            processingPage: void 0,
            startIcon: void 0
        };
    const {base: t, buttons: n} = ja(e);
    return {
        base: t,
        buttons: n,
        captureFeedbox: {
            border: {
                color: e["border-color"]["selfie-capture-feed-box"].base,
                width: e["border-width"]["selfie-capture-feed-box"].base
            }
        },
        captureHintText: e["text-style"]["selfie-processing-text"].base,
        captureCompleteIcon: {
            stroke: {
                color: e["stroke-color"]["capture-complete-icon"].base
            }
        },
        captureIcon: {
            fill: {
                color: e["fill-color"]["selfie-capture-icon-fill-color"].base
            },
            background: {
                color: e["fill-color"]["selfie-capture-icon-background-fill-color"].base
            },
            stroke: {
                color: e["stroke-color"]["selfie-capture-icon-stroke-color"].base
            }
        },
        processingPage: {
            titleStyle: e["title-style"]["selfie-processing-title"].base,
            textStyle: e["text-style"]["selfie-processing-text"].base
        },
        startIcon: e["image-local-style"]["selfie-start-icon"].base
    }
}
;
var If = (e => (e.SetStatus = "create-persona/SET_STATUS",
e))(If || {})
  , Bn = (e => (e.CtaNotShown = "cta-not-shown",
e.CtaShown = "cta-shown",
e.CtaDismissed = "cta-dismissed",
e.PersonaCreated = "persona-created",
e))(Bn || {});
function Xo(e) {
    return {
        type: "create-persona/SET_STATUS",
        payload: {
            status: e
        }
    }
}
var Q = (e => (e.Primary = "primary",
e.Secondary = "secondary",
e))(Q || {});
function eI(e, t) {
    var m, h, p;
    const n = t.colorButtonPrimary || t.colorPrimary
      , r = ft(n).mix(ft("white"), .2).hex()
      , o = ft(n).mix(ft("white"), .4).hex()
      , a = t.colorButtonSecondary || t.colorPrimary
      , s = ft(a).mix(ft("white"), .2).hex()
      , c = ft(a).mix(ft("white"), .4).hex()
      , l = t.colorButtonSecondaryFill
      , d = l != null ? ft(l).mix(ft("white"), .2).hex() : void 0
      , u = l != null ? ft(l).mix(ft("white"), .4).hex() : void 0;
    switch (e) {
    default:
    case "primary":
        {
            const b = t.buttonShadowStrength;
            return $(["background-color:", ";background-image:", ";border:", " solid ", ";color:", ";svg:not(.pds-icon) path{stroke:", ";}", ";&:hover:not(:disabled),&:focus:not(:disabled){background-color:", ";border-color:", ";", ";}&:active:not(:disabled){background-color:", ";border-color:", ";box-shadow:none;}&:disabled{background-color:", ";border-color:", ";background-image:none;box-shadow:none;}&:focus-visible{outline-color:", ";outline-width:2px;outline-offset:2px;outline-style:solid;}"], n, t.buttonBackgroundImage, t.borderWidth, n, t.colorFontButtonPrimary, t.colorFontButtonPrimary, b > 0 && $(["box-shadow:0 3px 10px 0px ", ";"], I.Color.CoreSlate500), r, r, b > 0 && $(["box-shadow:0 6px 15px 0px ", ";"], I.Color.CoreSlate500), o, o, t.colorButtonPrimaryFillDisabled, t.colorButtonPrimaryFillDisabled, r)
        }
    case "secondary":
        return $(["border:", " solid ", ";background-color:", ";color:", ";svg:not(.pds-icon) path{stroke:", ";}&:hover:not(:disabled),&:focus:not(:disabled){border:", " solid ", ";background-color:", ";}&:active:not(:disabled){border:", " solid ", ";background-color:", ";}&:disabled{background-color:", ";border-color:", ";color:", ";svg:not(.pds-icon) path{stroke:", ";}}&:focus-visible{outline-color:", ";outline-width:2px;outline-offset:2px;outline-style:solid;}"], t.borderWidth, a, (m = l != null ? l : t.colorModalBackground) != null ? m : I.Color.PrimaryWhite, (h = t.colorFontButtonSecondary) != null ? h : a, (p = t.colorFontButtonSecondary) != null ? p : a, t.borderWidth, s, d != null ? d : I.Color.CoreSlate50, t.borderWidth, c, u != null ? u : I.Color.CoreSlate200, l != null ? t.colorButtonSecondaryFillDisabled : I.Color.PrimaryWhite, t.colorButtonSecondaryFillDisabled, I.Color.CoreSlate500, I.Color.CoreSlate500, s)
    }
}
const Sf = $(["", " border-radius:", ";box-sizing:border-box;height:48px;text-transform:", ";padding:0 ", "px;font-size:", ";line-height:", ";cursor:pointer;position:relative;display:flex;align-items:center;justify-content:center;width:100%;font-weight:", ";text-decoration:none;white-space:nowrap;transition:", ";outline-color:transparent;outline-width:2px;outline-offset:2px;outline-style:solid;&:disabled{cursor:not-allowed;}&:not(:active):not(:disabled){&:hover,&:focus{transform:translateY(-2px);}}"], e => eI(e.buttonType, e.theme), e => {
    var t;
    return (t = e.theme.borderRadius) != null ? t : ln.base
}
, e => e.theme.buttonTextTransform, M.base * 2, qt.input, Hn.input, e => {
    var t;
    return (t = e.theme.buttonFontWeight) != null ? t : on.medium
}
, wa.fast)
  , Iu = g(Qi).withConfig({
    displayName: "Button__StyledLoadingIndicator",
    componentId: "sc-qijgxr-0"
})(["position:absolute;transition:opacity 0.2s;", ";"], e => !e.isPending && $(["opacity:0;"]))
  , Su = g("div").attrs( ({isPending: e}) => ({
    "aria-hidden": e
})).withConfig({
    displayName: "Button__ButtonChildren",
    componentId: "sc-qijgxr-1"
})(["width:100%;display:flex;flex-wrap:unset;align-items:center;justify-content:center;transition:opacity 0.2s;", ";"], e => e.isPending && $(["opacity:0;"]))
  , yu = g("div").withConfig({
    displayName: "Button__PrefixIconContainer",
    componentId: "sc-qijgxr-2"
})(["display:flex;align-items:center;margin-right:", "px;"], M.base)
  , wu = g("div").withConfig({
    displayName: "Button__SuffixIconContainer",
    componentId: "sc-qijgxr-3"
})(["display:flex;align-items:center;margin-left:", "px;"], M.base)
  , tI = g("button").withConfig({
    displayName: "Button__StyledButton",
    componentId: "sc-qijgxr-4"
})(["", ";"], Sf)
  , nI = g("a").withConfig({
    displayName: "Button__StyledLink",
    componentId: "sc-qijgxr-5"
})(["", ";"], Sf)
  , fe = e => {
    const {children: t, href: n, prefixIcon: r, suffixIcon: o, type: a="button", styles: s, ...c} = e;
    return s != null ? i.jsx(ua, {
        href: n,
        prefixIcon: r,
        suffixIcon: o,
        type: a,
        styles: s,
        ...c,
        children: t
    }) : n ? i.jsxs(nI, {
        "data-test": "button__" + e.buttonType,
        type: a,
        href: n,
        target: "_blank",
        rel: "noopener",
        buttonType: e.buttonType,
        children: [e.isPending && i.jsx(Iu, {
            isPending: e.isPending
        }), i.jsxs(Su, {
            isPending: e.isPending,
            children: [r != null && i.jsx(yu, {
                children: r
            }), t, o != null && i.jsx(wu, {
                children: o
            })]
        })]
    }) : i.jsxs(tI, {
        "data-test": "button__" + e.buttonType,
        type: a,
        ...c,
        children: [e.isPending && i.jsx(Iu, {
            isPending: e.isPending
        }), i.jsxs(Su, {
            isPending: e.isPending,
            children: [r != null && i.jsx(yu, {
                children: r
            }), t, o != null && i.jsx(wu, {
                children: o
            })]
        })]
    })
}
  , iI = e => e === ""
  , rI = e => Array.isArray(e) && e.length === 0
  , oI = e => dC(e) && Object.keys(e).length === 0
  , Ft = e => e == null || iI(e) || rI(e) || oI(e);
jl.add_operation("scalarlength", e => (e == null ? void 0 : e.length) || 0);
jl.add_operation("=", (e, t) => e == t);
const br = (e, t, n) => {
    if (e != null)
        try {
            return jl.apply(e, t)
        } catch (r) {
            return r instanceof Error && r.message === "Unrecognized operation matchesregex" || he(r, "warning", {
                rule: e
            }),
            n
        }
}
;
function It(e, t) {
    const n = st(s => {
        var c;
        return (c = s.form[t]) == null ? void 0 : c.values
    }
    )
      , r = st(s => {
        var c;
        return ((c = s.ui) == null ? void 0 : c.status) === tn.Blocked
    }
    )
      , o = f.useMemo( () => ({
        form: n,
        value: n == null ? void 0 : n[e],
        meta: {
            polling: r
        }
    }), [n, e, r]);
    return f.useCallback( (s, c) => br(s, o, c), [o])
}
function dn({hidden: e, optional: t, validations: n}) {
    return f.useMemo( () => {
        const o = (s, c) => !br(e, {
            form: c,
            value: s
        }) && (Ft(s) || s === !1) && !br(t.logic, {
            form: c,
            value: s
        }) && t.message
          , a = (n != null ? n : []).map( ({logic: s, message: c}) => (l, d) => !br(e, {
            form: d,
            value: l
        }) && !(Ft(l) && br(t.logic, {
            form: d,
            value: l
        })) && !br(s, {
            form: d,
            value: l
        }, !0) && c);
        return [o].concat(a)
    }
    , [e, t, n])
}
class vn extends Error {
    constructor({method: t}) {
        super(t),
        this.name = "ApiNonRetryableResponseError",
        Object.setPrototypeOf(this, new.target.prototype),
        this.message = t != null ? t : this.name,
        this.method = t
    }
}
const vt = (e, t, n={}) => {
    const [r,o] = f.useState(!!n.defaultLoading)
      , [a,s] = f.useState(void 0)
      , c = Ki()
      , l = f.useCallback(async (...d) => {
        let u = !1;
        try {
            o(!0);
            const m = await e(...d);
            return s(void 0),
            m
        } catch (m) {
            if (m instanceof Wl)
                u = !0;
            else if (m instanceof xt || m instanceof ht || m instanceof Yl || m instanceof vn)
                c() && s(m);
            else
                throw m
        } finally {
            c() && !u && o(!1)
        }
    }
    , t);
    return {
        loading: r,
        error: a,
        callback: l
    }
}
  , _t = ({error: e, onError: t, onNetworkError: n, onNonRetryableError: r, onRequestError: o}) => {
    f.useEffect( () => {
        if (e == null)
            return;
        if (!(typeof e == "object" && e != null && "method"in e))
            throw e;
        if (e instanceof xt)
            n == null || n(e);
        else if (e instanceof ht)
            t == null || t(e);
        else if (e instanceof Yl)
            o == null || o(e);
        else if (e instanceof vn)
            r == null || r(e);
        else
            throw e
    }
    , [e])
}
  , aI = ({component: e, inquiry: t, actionsApi: n, inquiryLoading: r}) => {
    const {"button-type": o, disabled: a, hidden: s, text: c} = e.attributes
      , [l] = G()
      , {loading: d, error: u, callback: m} = vt(async C => {
        await n.onActionButtonClick(e.name)
    }
    , [n.onActionButtonClick, e.name]);
    _t({
        error: u,
        onNetworkError: () => n.showMessage(l("errors.network")),
        onError: C => {
            C instanceof ht && C.status === 422 ? n.showMessage("Invalid configuration. Please check your parameters.") : he(C)
        }
    });
    const h = It(e.name, t.attributes["next-step"].name);
    if (h(s))
        return null;
    const b = d || r || h(a);
    return i.jsx(fe, {
        id: e.name,
        type: "button",
        buttonType: o != null ? o : Q.Primary,
        onClick: m,
        disabled: b,
        isPending: d,
        styles: e == null ? void 0 : e.styles,
        children: c
    })
}
  , sI = ({component: e, inquiry: t, actionsApi: n, inquiryLoading: r}) => {
    const {"button-type": o, disabled: a, hidden: s, text: c} = e.attributes
      , l = It(e.name, t.attributes["next-step"].name);
    if (!D.isDashboardFLE && (D.isHosted || D.isInline) || l(s))
        return null;
    const d = r || l(a);
    return i.jsx(fe, {
        id: e.name,
        type: "button",
        buttonType: o != null ? o : Q.Primary,
        onClick: () => n.onCancel(),
        disabled: d,
        styles: e == null ? void 0 : e.styles,
        children: c
    })
}
  , cI = ({component: e, inquiry: t, actionsApi: n, inquiryLoading: r}) => {
    var v;
    const {disabled: o, hidden: a, text: s, "auto-submit-countdown-text": c, "auto-submit-interval-seconds": l} = e.attributes
      , {onComplete: d} = n
      , u = f.useCallback(x => {
        x == null || x.preventDefault(),
        d()
    }
    , [d])
      , [m,h] = f.useState(l);
    f.useEffect( () => {
        if (m != null && u != null && m > 0) {
            const x = setTimeout( () => {
                m > 1 ? h(m - 1) : (h(m - 1),
                u())
            }
            , 1e3);
            return () => clearTimeout(x)
        }
    }
    , [m, u]);
    const p = It(e.name, t.attributes["next-step"].name);
    if (p(a) || !vo(t))
        return null;
    const C = r || p(o)
      , S = m != null && m > 0 && c ? c.replace("{time}", String(m)) : s;
    return i.jsx(fe, {
        id: "complete__button",
        type: "submit",
        buttonType: (v = e.attributes["button-type"]) != null ? v : Q.Primary,
        onClick: u,
        disabled: C,
        styles: e == null ? void 0 : e.styles,
        children: S
    })
}
  , lI = {
    disableParsingRawHTML: !0,
    overrides: {
        a: {
            component: g.a.withConfig({
                displayName: "Markdown__component",
                componentId: "sc-1qxdm1t-0"
            })([""]),
            props: {
                target: "_blank",
                rel: "noreferrer",
                onClick: e => {
                    e.stopPropagation()
                }
            }
        }
    }
}
  , X = ({id: e, className: t, children: n, markdownOptions: r, wrapper: o, wrapperProps: a}) => {
    const s = o != null ? {
        wrapper: o,
        forceWrapper: !0
    } : {}
      , c = f.useMemo( () => ({
        ...lI,
        ...s,
        ...r
    }), [o, r]);
    return i.jsx(dI, {
        id: e,
        className: t,
        children: i.jsx(m0, {
            ...a,
            options: c,
            children: n != null ? n : ""
        })
    })
}
  , dI = g.div.withConfig({
    displayName: "Markdown__Container",
    componentId: "sc-1qxdm1t-1"
})(["display:flex;flex-direction:column;a{font-size:inherit;}p + p,ol + p,ul + p{margin-top:", ";}p + ol,p + ul,ol + ol,ol + ul,ul + ol,ul + ul{margin-top:0.75rem;}ol,ul{li + li,p + p{margin-top:0.75rem;}p{display:initial;}}ol{margin-left:1.8ch;}ul{list-style:none;li::before{content:'';font-size:150%;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';line-height:0;margin:0 0.5rem 0 0.25rem;position:relative;top:1px;color:", ";}}"], I.Spacing[5], ({theme: e}) => e.colorFont)
  , Cn = 8
  , uI = g.div.withConfig({
    displayName: "PopupBackdrop__BackdropBackground",
    componentId: "sc-l968gl-0"
})(["position:fixed;top:0;bottom:0;left:0;right:0;z-index:", ";&.backdrop-enter{background-color:rgba(0,0,0,0);pointer-events:none;}&.backdrop-enter-active,&.backdrop-enter-done{background-color:rgba(0,0,0,0.85);transition:background-color ", ";pointer-events:unset;}&.backdrop-exit{background-color:rgba(0,0,0,0.85);pointer-events:unset;}&.backdrop-exit-active{background-color:rgba(0,0,0,0);transition:background-color ", ";pointer-events:none;}"], wt.popupBackdrop, tt.Fast, tt.Fast)
  , mI = g("button").withConfig({
    displayName: "PopupBackdrop__CloseButton",
    componentId: "sc-l968gl-1"
})(["position:absolute;right:24px;top:24px;cursor:pointer;pointer-events:auto;background:none;display:flex;align-items:center;justify-content:center;flex:none;margin:-", "px;padding:", "px;border-radius:", ";outline:0 !important;transition:box-shadow ", ",background-color ", ";box-shadow:0 0 0 2px transparent;:hover:not(:disabled){background-color:", ";}:focus:not(:disabled):not(:active){box-shadow:0 0 0 2px ", ";}:active:not(:disabled){background-color:", ";}svg path{stroke:", ";}&:disabled{cursor:not-allowed;opacity:0.25;}"], Cn / 1.5, Cn / 1.5, ({theme: e}) => e.borderRadius, tt.Fast, tt.Fast, ft(I.Color.CoreSlate300).fade(.5).rgb().string(), ({theme: e}) => e.colorPrimary, ft(I.Color.CoreSlate400).fade(.5).rgb().string(), I.Color.PrimaryWhite)
  , yf = e => {
    const t = n => {
        var r;
        n.stopPropagation(),
        n.preventDefault(),
        (r = e.onClose) == null || r.call(e)
    }
    ;
    return i.jsx(xa, {
        in: e.visible,
        timeout: {
            enter: 200,
            exit: 200
        },
        mountOnEnter: !0,
        unmountOnExit: !0,
        classNames: "backdrop",
        children: i.jsxs(uI, {
            children: [i.jsx(mI, {
                id: "popup_backdrop__close",
                onClick: t,
                children: i.jsx(Cp, {})
            }), e.children]
        })
    })
}
  , Mt = e => {
    const t = st(n => n.inquiry.featureFlags);
    return !!(t != null && t[e])
}
;
var Zn = (e => (e[e.Backspace = 8] = "Backspace",
e[e.Tab = 9] = "Tab",
e[e.Enter = 13] = "Enter",
e[e.Shift = 16] = "Shift",
e[e.Esc = 27] = "Esc",
e[e.Space = 32] = "Space",
e[e.Left = 37] = "Left",
e[e.Up = 38] = "Up",
e[e.Right = 39] = "Right",
e[e.Down = 40] = "Down",
e[e.Zero = 48] = "Zero",
e[e.C = 67] = "C",
e[e.S = 83] = "S",
e[e.V = 86] = "V",
e[e.Z = 90] = "Z",
e[e.EqualSign = 187] = "EqualSign",
e[e.Dash = 189] = "Dash",
e))(Zn || {});
const Ao = (e, t={}) => n => {
    const {stopPropagation: r, preventDefault: o} = t;
    return f.useEffect( () => {
        const a = s => {
            r && s.stopPropagation(),
            o && s.preventDefault(),
            s.keyCode === e && n(s)
        }
        ;
        return window.addEventListener("keyup", a),
        () => window.removeEventListener("keyup", a)
    }
    , [n])
}
  , To = (e, t={}) => n => {
    const {stopPropagation: r, preventDefault: o, withAlt: a, withCtrl: s, withShift: c} = t;
    return f.useEffect( () => {
        const l = d => {
            if (r && d.stopPropagation(),
            o && d.preventDefault(),
            !(a && !d.altKey) && !(s && !d.ctrlKey && !d.metaKey) && !(c && !d.shiftKey))
                return d.keyCode === e && n(d)
        }
        ;
        return window.addEventListener("keydown", l),
        () => window.removeEventListener("keydown", l)
    }
    , [n])
}
  , gd = Ao(Zn.Esc);
Ao(Zn.Left);
Ao(Zn.Right);
Ao(Zn.Up);
Ao(Zn.Down);
Ao(Zn.Backspace);
To(Zn.Z, {
    withCtrl: !0
});
To(Zn.Z, {
    withCtrl: !0,
    withShift: !0
});
To(Zn.S, {
    withCtrl: !0
});
To(Zn.Backspace);
To(Zn.C, {
    withCtrl: !0
});
To(Zn.V, {
    withCtrl: !0
});
const _u = 400
  , Ru = 650
  , yc = "reusable-persona-create-popup"
  , pl = 250
  , hI = g.div.withConfig({
    displayName: "ButtonCreatePersona__Backdrop",
    componentId: "sc-12sb4nb-0"
})(["position:absolute;top:0;bottom:0;left:0;right:0;z-index:", ";pointer-events:none;@media ", "{position:fixed;}"], wt.drawer, jt.isMobile)
  , pI = g.div.withConfig({
    displayName: "ButtonCreatePersona__Anim",
    componentId: "sc-12sb4nb-1"
})(["position:absolute;bottom:", ";left:", ";right:", ";transition:", "ms;.dialog-enter &{transform:translateY( calc(100% + ", ") );}.dialog-enter-active &{transform:translateY(0%);}.dialog-exit &{transform:translateY(0%);}.dialog-exit-active &{transform:translateY( calc(100% + ", ") );}z-index:", ";pointer-events:auto;"], ({styles: e}) => {
    var t, n, r;
    return k((r = (n = (t = e == null ? void 0 : e.margin) == null ? void 0 : t.base) == null ? void 0 : n.base) == null ? void 0 : r.bottom)
}
, ({styles: e}) => {
    var t, n, r;
    return k((r = (n = (t = e == null ? void 0 : e.margin) == null ? void 0 : t.base) == null ? void 0 : n.base) == null ? void 0 : r.left)
}
, ({styles: e}) => {
    var t, n, r;
    return k((r = (n = (t = e == null ? void 0 : e.margin) == null ? void 0 : t.base) == null ? void 0 : n.base) == null ? void 0 : r.right)
}
, pl, ({styles: e}) => {
    var t, n, r, o;
    return (o = k((r = (n = (t = e == null ? void 0 : e.margin) == null ? void 0 : t.base) == null ? void 0 : n.base) == null ? void 0 : r.bottom)) != null ? o : "0px"
}
, ({styles: e}) => {
    var t, n, r, o;
    return (o = k((r = (n = (t = e == null ? void 0 : e.margin) == null ? void 0 : t.base) == null ? void 0 : n.base) == null ? void 0 : r.bottom)) != null ? o : "0px"
}
, wt.drawer)
  , fI = g.div.withConfig({
    displayName: "ButtonCreatePersona__CtaCard",
    componentId: "sc-12sb4nb-2"
})(["z-index:", ";padding-top:", ";padding-bottom:", ";padding-left:", ";padding-right:", ";background-color:", ";border-color:", ";border-width:", ";border-radius:", ";box-shadow:", " ", " ", " 0 ", ";"], wt.drawer, ({styles: e}) => {
    var t, n, r;
    return k((r = (n = (t = e == null ? void 0 : e.padding) == null ? void 0 : t.base) == null ? void 0 : n.base) == null ? void 0 : r.top)
}
, ({styles: e}) => {
    var t, n, r;
    return k((r = (n = (t = e == null ? void 0 : e.padding) == null ? void 0 : t.base) == null ? void 0 : n.base) == null ? void 0 : r.bottom)
}
, ({styles: e}) => {
    var t, n, r;
    return k((r = (n = (t = e == null ? void 0 : e.padding) == null ? void 0 : t.base) == null ? void 0 : n.base) == null ? void 0 : r.left)
}
, ({styles: e}) => {
    var t, n, r;
    return k((r = (n = (t = e == null ? void 0 : e.padding) == null ? void 0 : t.base) == null ? void 0 : n.base) == null ? void 0 : r.right)
}
, ({styles: e}) => {
    var t, n;
    return A((n = (t = e == null ? void 0 : e["background-color"]) == null ? void 0 : t.base) == null ? void 0 : n.base)
}
, ({styles: e}) => {
    var t, n;
    return A((n = (t = e == null ? void 0 : e["border-color"]) == null ? void 0 : t.base) == null ? void 0 : n.base)
}
, ({styles: e}) => {
    var t, n, r;
    return k((r = (n = (t = e == null ? void 0 : e["border-width"]) == null ? void 0 : t.base) == null ? void 0 : n.base) == null ? void 0 : r.top)
}
, ({styles: e}) => {
    var t, n;
    return k((n = (t = e == null ? void 0 : e["border-radius"]) == null ? void 0 : t.base) == null ? void 0 : n.base)
}
, ({styles: e}) => {
    var t, n, r;
    return k((r = (n = (t = e == null ? void 0 : e["shadow-offset"]) == null ? void 0 : t.base) == null ? void 0 : n.base) == null ? void 0 : r.x)
}
, ({styles: e}) => {
    var t, n, r;
    return k((r = (n = (t = e == null ? void 0 : e["shadow-offset"]) == null ? void 0 : t.base) == null ? void 0 : n.base) == null ? void 0 : r.y)
}
, ({styles: e}) => {
    var t, n;
    return k((n = (t = e == null ? void 0 : e["shadow-radius"]) == null ? void 0 : t.base) == null ? void 0 : n.base)
}
, ({styles: e}) => {
    var t, n;
    return A((n = (t = e == null ? void 0 : e["shadow-color"]) == null ? void 0 : t.base) == null ? void 0 : n.base)
}
)
  , gI = g.div.withConfig({
    displayName: "ButtonCreatePersona__PopupOverlayText",
    componentId: "sc-12sb4nb-3"
})(["font-family:", ";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:", ";width:75%;text-align:center;a{color:", ";font-weight:bold;outline-color:", ";}"], ({theme: e}) => Gt(e.fontFamily), I.Color.PrimaryWhite, I.Color.PrimaryWhite, I.Color.PrimaryWhite)
  , bI = ({component: e, actionsApi: t, inquiry: n, inquiryLoading: r}) => {
    const o = st(Y => {
        var ae;
        return (ae = Y.createPersona) == null ? void 0 : ae.status
    }
    )
      , a = Pl()
      , s = e.attributes.pages["cta-card"]["ui-step"].config.components
      , c = e.attributes.pages["cta-card"]["component-name-mapping"]
      , [l,{enable: d, disable: u}] = rt(o === Bn.CtaShown);
    gd(u);
    const [m] = G()
      , h = f.useRef(null)
      , p = st(Y => Y.inquiry.popupUrl)
      , b = f.useCallback(Y => a(Wp(Y)), [a])
      , C = e.attributes["auto-complete-on-dismiss"]
      , S = f.useRef(!1)
      , v = f.useCallback( () => {
        S.current || (S.current = !0,
        C && t.onComplete())
    }
    , [t.onComplete, C])
      , x = f.useCallback( () => {
        b(null),
        v()
    }
    , [b, v])
      , {error: _, loading: R, callback: E} = vt(async () => {
        var ae;
        if (p && h.current && h.current !== "blocked" && !h.current.closed) {
            h.current.focus();
            return
        }
        if (o === Bn.PersonaCreated)
            return;
        const Y = await te.postResourceAction({
            id: n.id,
            type: n.type
        }, "generate-reusable-persona-create-popup-one-time-link-code");
        if ((ae = Y.meta) != null && ae["one-time-link-code"]) {
            const se = new URL(e.attributes.url);
            se.searchParams.append("code", Y.meta["one-time-link-code"]),
            se.searchParams.append("component", e.name),
            se.host = window.location.host,
            b(se.toString())
        }
    }
    , [p, o]);
    f.useEffect( () => {
        var Y;
        if (p) {
            const ae = window.screenX + (window.outerWidth - _u) / 2
              , se = window.screenY + (window.outerHeight - Ru) / 2.5;
            h.current = window.open(p, yc, `popup,width=${_u},height=${Ru},left=${ae},top=${se}`),
            h.current || (h.current = "blocked");
            const _e = () => {
                (h.current === "blocked" || !h.current || h.current.closed) && (h.current = null,
                x())
            }
            ;
            window.addEventListener("focus", _e);
            const Re = Pe => {
                var Ae;
                Pe.origin === new URL(p).origin && (Pe.source === h.current || h.current === "blocked" && Pe.source.name === yc) && (Pe.data === gs.CREATED ? (a(Xo(Bn.PersonaCreated)),
                u(),
                v()) : Pe.data === gs.DISMISSED && (a(Xo(Bn.CtaDismissed)),
                h.current !== "blocked" && ((Ae = h.current) == null || Ae.close()),
                u(),
                v()))
            }
            ;
            window.addEventListener("message", Re);
            const ye = () => {
                var Pe;
                h.current !== "blocked" && ((Pe = h.current) == null || Pe.close())
            }
            ;
            return window.addEventListener("close", ye),
            () => {
                window.removeEventListener("focus", _e),
                window.removeEventListener("message", Re),
                window.removeEventListener("close", ye)
            }
        } else
            h.current !== "blocked" && ((Y = h.current) == null || Y.close()),
            h.current = null
    }
    , [p]),
    f.useEffect( () => () => {
        var Y;
        b(null),
        h.current !== "blocked" && ((Y = h.current) == null || Y.close()),
        h.current = null
    }
    , []),
    _t({
        error: _,
        onError: () => t.showMessage(m("errors.network")),
        onNetworkError: () => t.showMessage(m("errors.network"))
    });
    const T = Mt("inquiry:enable-reusable-personas-embedded-web")
      , F = f.useCallback(async Y => {
        Y === c["start-button"] ? D.isNonIframeHostedIntegration ? (J.logAmplitude("reusable-persona.create.cta.started-hosted"),
        t.setComponent(e),
        t.route("/inquiry/create-persona/passkey-registration", {
            transition: wi.SlideVertical
        })) : D.isEmbeddedOrIframeIntegration && T && (J.logAmplitude("reusable-persona.create.cta.started-embedded"),
        await E()) : Y === c["dismiss-button"] && (J.logAmplitude("reusable-persona.create.cta.dismissed"),
        v(),
        a(Xo(Bn.CtaDismissed)),
        u())
    }
    , [e, c, t, u, a, E, T, v])
      , O = f.useMemo( () => ({
        ...t,
        onSubmit: F
    }), [t, F]);
    f.useEffect( () => {
        if (o === Bn.CtaNotShown) {
            const Y = setTimeout( () => {
                d()
            }
            , 1e3);
            return () => clearTimeout(Y)
        }
    }
    , [d, o]);
    const [N,{enable: U, disable: V}] = rt()
      , ne = f.useRef(void 0)
      , L = f.useCallback( () => {
        U(),
        a(Xo(Bn.CtaShown)),
        qi(ne.current),
        J.logAmplitude("reusable-persona.create.cta.shown")
    }
    , [])
      , H = f.useCallback( () => {
        setTimeout(qi, 0)
    }
    , [])
      , q = f.useMemo( () => n.attributes["reusable-persona-status"] ? !1 : D.isEmbeddedOrIframeIntegration ? T : D.isNonIframeHostedIntegration, [T, n.attributes]);
    f.useEffect( () => {
        q && J.logAmplitude("reusable-persona.create.btn-rendered")
    }
    , []);
    const ee = {
        overrides: {
            a: {
                component: g.a.withConfig({
                    displayName: "ButtonCreatePersona__component",
                    componentId: "sc-12sb4nb-4"
                })([""]),
                props: {
                    target: yc,
                    onClick: Y => {
                        (h.current !== "blocked" || !p) && (Y.preventDefault(),
                        E())
                    }
                }
            }
        }
    };
    return q ? i.jsxs(i.Fragment, {
        children: [i.jsx(yf, {
            visible: !!p && o !== Bn.PersonaCreated,
            onClose: x,
            children: i.jsx(gI, {
                id: "create_persona__popup_overlay_text",
                children: i.jsx(X, {
                    markdownOptions: ee,
                    children: e.attributes["popup-overlay-text"].replace("(#)", `(${p})`)
                })
            })
        }), i.jsx(xa, {
            in: l,
            timeout: {
                enter: o === Bn.CtaShown ? 0 : pl,
                exit: pl
            },
            mountOnEnter: !0,
            unmountOnExit: !0,
            onEntered: L,
            onExit: V,
            onExited: H,
            classNames: "dialog",
            children: i.jsx(Ah, {
                active: N,
                focusTrapOptions: {
                    escapeDeactivates: !0,
                    clickOutsideDeactivates: !0,
                    allowOutsideClick: !0,
                    initialFocus: !1,
                    setReturnFocus: !1
                },
                children: i.jsx(hI, {
                    children: i.jsx(pI, {
                        styles: e.styles,
                        children: i.jsx(fI, {
                            styles: e.styles,
                            ref: ne,
                            children: s.map(Y => i.jsx(jo, {
                                component: Y,
                                inquiry: n,
                                inquiryLoading: r || R,
                                actionsApi: O
                            }, Y.name))
                        })
                    })
                })
            })
        })]
    }) : null
}
  , CI = ({component: e, actionsApi: t, inquiryLoading: n}) => {
    var o;
    const r = a => {
        a.preventDefault(),
        t.setComponent(e),
        t.route("/inquiry/device-handoff/prompt")
    }
    ;
    return i.jsx(fe, {
        id: "device_handoff__button",
        type: "button",
        buttonType: (o = e.attributes["button-type"]) != null ? o : Q.Primary,
        disabled: n,
        onClick: r,
        styles: e == null ? void 0 : e.styles,
        children: e.attributes.text
    })
}
  , xI = ({component: e, inquiry: t}) => {
    const {"button-type": n, hidden: r, text: o, link: a} = e.attributes;
    return It(e.name, t.attributes["next-step"].name)(r) ? null : i.jsx(fe, {
        href: a,
        id: e.name,
        type: "button",
        buttonType: n != null ? n : Q.Primary,
        styles: e == null ? void 0 : e.styles,
        children: o
    })
}
  , vI = ({component: e, inquiry: t, actionsApi: n, inquiryLoading: r}) => {
    const {"button-type": o, disabled: a, hidden: s, text: c, "auto-submit-countdown-text": l, "auto-submit-interval-seconds": d} = e.attributes
      , [u] = G()
      , {loading: m, error: h, callback: p} = vt(async R => {
        R == null || R.preventDefault(),
        await n.onSubmit(e.name)
    }
    , [n.onSubmit, e.name]);
    _t({
        error: h,
        onNetworkError: () => n.showMessage(u("errors.network")),
        onError: R => {
            R instanceof ht && R.status === 422 ? n.showMessage("Invalid configuration. Please check your parameters.") : he(R)
        }
    });
    const [b,C] = f.useState(d);
    f.useEffect( () => {
        if (b != null && b > 0) {
            const R = setTimeout( () => {
                b > 1 ? C(b - 1) : (C(b - 1),
                p())
            }
            , 1e3);
            return () => clearTimeout(R)
        }
    }
    , [b, p]);
    const S = It(e.name, t.attributes["next-step"].name);
    if (S(s))
        return null;
    const x = m || r || S(a)
      , _ = b > 0 && l ? l.replace("{time}", String(b)) : c;
    return i.jsx(fe, {
        id: e.name,
        type: "submit",
        buttonType: o != null ? o : Q.Primary,
        onClick: p,
        disabled: x,
        isPending: m,
        styles: e == null ? void 0 : e.styles,
        children: _
    })
}
  , Au = 400
  , Tu = 650
  , wc = "reusable-persona-verify-popup"
  , II = g.div.withConfig({
    displayName: "ButtonVerifyWithPersona__PopupOverlayText",
    componentId: "sc-qdldel-0"
})(["font-family:", ";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:", ";width:75%;text-align:center;a{color:", ";font-weight:bold;outlinecolor:", ";}"], ({theme: e}) => Gt(e.fontFamily), I.Color.PrimaryWhite, I.Color.PrimaryWhite, I.Color.PrimaryWhite)
  , SI = ({component: e, actionsApi: t, inquiry: n, inquiryLoading: r}) => {
    var U;
    const {"button-type": o, disabled: a, hidden: s, text: c} = e.attributes
      , [l] = G()
      , d = Pl()
      , u = f.useRef(null)
      , m = f.useRef(null)
      , h = st(V => V.inquiry.popupUrl)
      , p = f.useCallback(V => d(Wp(V)), [d])
      , [b,C] = f.useState(!1)
      , {error: S, loading: v, callback: x} = vt(async () => {
        var ne;
        if (h && u.current && u.current !== "blocked" && !u.current.closed) {
            u.current.focus();
            return
        }
        const V = await te.postResourceAction({
            id: n.id,
            type: n.type
        }, "generate-reusable-persona-verify-popup-one-time-link-code");
        if ((ne = V.meta) != null && ne["one-time-link-code"]) {
            const L = new URL(e.attributes.url);
            L.searchParams.append("code", V.meta["one-time-link-code"]),
            L.searchParams.append("component", e.name),
            L.host = window.location.host,
            p(L.toString())
        }
    }
    , [h]);
    f.useEffect( () => {
        var V;
        if (h) {
            const ne = window.screenX + (window.outerWidth - Au) / 2
              , L = window.screenY + (window.outerHeight - Tu) / 2.5;
            m.current = null,
            u.current = window.open(h, wc, `popup,width=${Au},height=${Tu},left=${ne},top=${L}`),
            u.current || (u.current = "blocked");
            const H = () => {
                (u.current === "blocked" || !u.current || u.current.closed) && (u.current = null,
                p(null),
                m.current === yi.TRANSITION_STARTED && (d(_n()),
                C(!0),
                d(Gn(n, {
                    skipInquiryStateUpdateOnPoll: !0
                }))))
            }
            ;
            window.addEventListener("focus", H);
            const q = Y => {
                Y.origin === new URL(h).origin && (Y.source === u.current || u.current === "blocked" && Y.source.name === wc) && (Y.data.name === yi.TRANSITION_POLLING ? (d(_n()),
                C(!0),
                d(Gn(n, {
                    pollingMode: nn.BLOCKING,
                    skipInquiryStateUpdateOnPoll: !0
                }))) : Y.data.name === yi.TRANSITION_COMPLETED ? m.current === yi.TRANSITION_STARTED && (d(_n()),
                C(!0),
                d(Gn(n, {
                    pollingMode: nn.BLOCKING,
                    skipInquiryStateUpdateOnPoll: !0
                }))) : Y.data.name === yi.TRANSITION_ERRORED && (d(_n()),
                C(!0),
                d(Gn(n, {
                    pollingMode: nn.BLOCKING,
                    skipInquiryStateUpdateOnPoll: !0
                }))),
                m.current = Y.data.name)
            }
            ;
            window.addEventListener("message", q);
            const ee = () => {
                var Y;
                u.current !== "blocked" && ((Y = u.current) == null || Y.close())
            }
            ;
            return window.addEventListener("close", ee),
            () => {
                window.removeEventListener("focus", H),
                window.removeEventListener("message", q),
                window.removeEventListener("close", ee)
            }
        } else
            u.current !== "blocked" && ((V = u.current) == null || V.close()),
            u.current = null
    }
    , [h]),
    f.useEffect( () => () => {
        p(null)
    }
    , []),
    _t({
        error: S,
        onError: () => t.showMessage(l("errors.network")),
        onNetworkError: () => t.showMessage(l("errors.network"))
    }),
    f.useEffect( () => {
        r || C(!1)
    }
    , [r]);
    const _ = Mt("inquiry:enable-reusable-personas-embedded-web")
      , R = f.useCallback(async V => {
        D.isNonIframeHostedIntegration ? (J.logAmplitude("reusable-persona.verify.started-hosted"),
        t.setComponent(e),
        t.route("/inquiry/verify-with-persona/passkey-authentication")) : D.isEmbeddedOrIframeIntegration && _ && (J.logAmplitude("reusable-persona.verify.started-embedded"),
        await x())
    }
    , [t, e, x, _])
      , E = {
        overrides: {
            a: {
                component: g.a.withConfig({
                    displayName: "ButtonVerifyWithPersona__component",
                    componentId: "sc-qdldel-1"
                })([""]),
                props: {
                    target: wc,
                    onClick: V => {
                        (u.current !== "blocked" || !h) && (V.preventDefault(),
                        x())
                    }
                }
            }
        }
    }
      , T = It((U = e.name) != null ? U : "", n.attributes["next-step"].name)
      , F = T(s)
      , O = f.useMemo( () => F ? !1 : D.isEmbeddedOrIframeIntegration ? _ : D.isNonIframeHostedIntegration, [F, _]);
    if (f.useEffect( () => {
        O && J.logAmplitude("reusable-persona.verify.btn-rendered")
    }
    , []),
    !O)
        return null;
    const N = r || v || T(a) || !!n.attributes["reusable-persona-status"];
    return i.jsxs(i.Fragment, {
        children: [i.jsx(yf, {
            visible: !!h,
            onClose: () => p(null),
            children: i.jsx(II, {
                id: "verify_with_persona__popup_overlay_text",
                children: i.jsx(X, {
                    markdownOptions: E,
                    children: e.attributes["popup-overlay-text"].replace("(#)", `(${h})`)
                })
            })
        }), i.jsx(fe, {
            id: "verify_with_persona__button",
            buttonType: o != null ? o : Q.Primary,
            onClick: R,
            disabled: N,
            styles: e == null ? void 0 : e.styles,
            isPending: r && b || v,
            children: c
        })]
    })
}
  , wf = g.div.withConfig({
    displayName: "StackBase__StackContainer",
    componentId: "sc-19md1e0-0"
})( ({styles: e}) => {
    var r, o, a, s, c, l, d, u, m, h, p, b, C, S, v, x;
    const t = (e == null ? void 0 : e["frame-positioning"].base.base) === ol.EdgeToEdge ? `-${D.widgetPadding.left}px` : k((r = e == null ? void 0 : e.margin.base.base) == null ? void 0 : r.left)
      , n = (e == null ? void 0 : e["frame-positioning"].base.base) === ol.EdgeToEdge ? `-${D.widgetPadding.right}px` : k((o = e == null ? void 0 : e.margin.base.base) == null ? void 0 : o.right);
    return {
        display: "flex",
        flexWrap: "nowrap",
        borderStyle: "solid",
        width: (l = (c = (s = (a = e == null ? void 0 : e.width) == null ? void 0 : a.base) == null ? void 0 : s.base) == null ? void 0 : c.value) != null ? l : `calc(100% - ${t} - ${n})`,
        marginTop: k((d = e == null ? void 0 : e.margin.base.base) == null ? void 0 : d.top),
        marginBottom: k((u = e == null ? void 0 : e.margin.base.base) == null ? void 0 : u.bottom),
        marginLeft: t,
        marginRight: n,
        flexDirection: `${e.axis.base.base === Kl.Vertical ? "column" : "row"}`,
        gap: k(e == null ? void 0 : e.gap.base.base),
        justifyContent: e == null ? void 0 : e.justify.base.base,
        paddingTop: k((m = e == null ? void 0 : e.padding.base.base) == null ? void 0 : m.top),
        paddingBottom: k((h = e == null ? void 0 : e.padding.base.base) == null ? void 0 : h.bottom),
        paddingLeft: k((p = e == null ? void 0 : e.padding.base.base) == null ? void 0 : p.left),
        paddingRight: k((b = e == null ? void 0 : e.padding.base.base) == null ? void 0 : b.right),
        backgroundColor: A(e == null ? void 0 : e["background-color"].base.base),
        borderColor: A(e == null ? void 0 : e["border-color"].base.base),
        borderTopWidth: k((C = e == null ? void 0 : e["border-width"].base.base) == null ? void 0 : C.top),
        borderBottomWidth: k((S = e == null ? void 0 : e["border-width"].base.base) == null ? void 0 : S.bottom),
        borderLeftWidth: k((v = e == null ? void 0 : e["border-width"].base.base) == null ? void 0 : v.left),
        borderRightWidth: k((x = e == null ? void 0 : e["border-width"].base.base) == null ? void 0 : x.right),
        borderRadius: k(e == null ? void 0 : e["border-radius"].base.base)
    }
}
)
  , _f = g.div.withConfig({
    displayName: "StackBase__StackChild",
    componentId: "sc-19md1e0-1"
})( ({styles: e, index: t}) => {
    var a, s;
    const n = (s = (a = e == null ? void 0 : e["child-sizes"].base.base) == null ? void 0 : a[t]) != null ? s : 0
      , r = n === 0;
    return {
        display: "flex",
        flexDirection: "column",
        justifyContent: e.axis.base.base === Kl.Vertical || e == null ? void 0 : e.alignment.base.base,
        flexGrow: n,
        flexShrink: r ? 0 : 1,
        flexBasis: r ? "initial" : 0,
        ":empty": {
            flexGrow: 0,
            margin: `calc(${k(e == null ? void 0 : e.gap.base.base)} / -2)`
        },
        wordBreak: "break-word",
        '> img, [role="img"] svg': {
            maxWidth: "100% !important",
            height: "auto !important",
            objectFit: "contain",
            display: "block"
        }
    }
}
)
  , yI = g(wf).withConfig({
    displayName: "ClickableStack__Container",
    componentId: "sc-1d75rt7-0"
})(["align-items:initial;cursor:pointer;transition-property:background-color,border-color;transition-duration:", ";&:hover:enabled,&:focus:enabled{background-color:", ";border-color:", ";}&:active:enabled{background-color:", ";border-color:", ";}&:disabled{cursor:not-allowed;background-color:", ";border-color:", ";}"], tt.Fast, e => {
    var t;
    return A((t = e.styles) == null ? void 0 : t["background-color"].base.focused)
}
, e => {
    var t;
    return A((t = e.styles) == null ? void 0 : t["border-color"].base.focused)
}
, e => {
    var t;
    return A((t = e.styles) == null ? void 0 : t["background-color"].base.active)
}
, e => {
    var t;
    return A((t = e.styles) == null ? void 0 : t["border-color"].base.active)
}
, e => {
    var t, n;
    return A(e.isPending ? (t = e.styles) == null ? void 0 : t["background-color"].base.active : (n = e.styles) == null ? void 0 : n["background-color"].base.disabled)
}
, e => {
    var t, n;
    return A(e.isPending ? (t = e.styles) == null ? void 0 : t["border-color"].base.active : (n = e.styles) == null ? void 0 : n["border-color"].base.disabled)
}
)
  , wI = ({component: e, ...t}) => {
    const {disabled: n, hidden: r, "transition-behavior": o} = e.attributes
      , {actionsApi: a, inquiry: s, inquiryLoading: c} = t
      , [l] = G()
      , {loading: d, error: u, callback: m} = vt(async C => {
        C.preventDefault(),
        o === "action" ? await a.onActionButtonClick(e.name) : await a.onSubmit(e.name)
    }
    , [a.onSubmit, e.name]);
    _t({
        error: u,
        onNetworkError: () => a.showMessage(l("errors.network")),
        onError: C => {
            C instanceof ht && C.status === 422 ? a.showMessage("Invalid configuration. Please check your parameters.") : he(C)
        }
    });
    const h = It(e.name, s.attributes["next-step"].name);
    if (h(r))
        return null;
    const b = d || c || h(n);
    return i.jsxs(yI, {
        as: "button",
        id: "clickable__stack",
        styles: e.styles,
        type: o === "action" ? "button" : "submit",
        onClick: m,
        disabled: b,
        isPending: d,
        children: [!t.isPreview && e.attributes.children.map( (C, S) => i.jsx(_f, {
            styles: e.styles,
            index: S,
            children: i.jsx(jo, {
                ...t,
                component: C
            })
        }, C.name)), t.isPreview && t.childPreviews.map(C => C.component)]
    })
}
  , _I = g.div.withConfig({
    displayName: "Footer__Container",
    componentId: "sc-atrlkw-0"
})(["position:absolute;z-index:", ";left:0;right:0;bottom:0;border-style:solid;display:flex;flex-direction:", ";align-items:", ";justify-content:space-between;@media ", "{position:fixed;}", ""], wt.footer, ({direction: e}) => {
    switch (e) {
    case "end_to_start":
        return "row-reverse";
    case "top_to_bottom":
        return "column";
    case "start_to_end":
    default:
        return "row"
    }
}
, ({styles: e}) => {
    var t, n, r;
    return (r = (n = (t = e == null ? void 0 : e.justify) == null ? void 0 : t.base) == null ? void 0 : n.base) != null ? r : "center"
}
, jt.isMobile, ({styles: e}) => {
    var t, n, r, o, a, s, c, l, d, u;
    return $(["background-color:", ";padding-top:", ";padding-bottom:", ";border-top-width:", ";border-bottom-width:", ";border-left-width:", ";border-right-width:", ";border-top-left-radius:", ";border-top-right-radius:", ";border-color:", ";padding-left:", ";padding-right:", ";padding-left:calc( ", " + env(safe-area-inset-left))};padding-right:calc( ", " + env(safe-area-inset-right))};"], A(e == null ? void 0 : e["background-color"].base.base), k((t = e == null ? void 0 : e.padding.base.base) == null ? void 0 : t.top), k((n = e == null ? void 0 : e.padding.base.base) == null ? void 0 : n.bottom), k((r = e == null ? void 0 : e["border-width"].base.base) == null ? void 0 : r.top), k((o = e == null ? void 0 : e["border-width"].base.base) == null ? void 0 : o.bottom), k((a = e == null ? void 0 : e["border-width"].base.base) == null ? void 0 : a.left), k((s = e == null ? void 0 : e["border-width"].base.base) == null ? void 0 : s.right), k(e == null ? void 0 : e["border-radius"].base.base), k(e == null ? void 0 : e["border-radius"].base.base), A(e == null ? void 0 : e["border-color"].base.base), k((c = e == null ? void 0 : e.padding.base.base) == null ? void 0 : c.left), k((l = e == null ? void 0 : e.padding.base.base) == null ? void 0 : l.right), k((d = e == null ? void 0 : e.padding.base.base) == null ? void 0 : d.left), k((u = e == null ? void 0 : e.padding.base.base) == null ? void 0 : u.right))
}
)
  , RI = ({component: e, ...t}) => {
    const [n,r] = f.useState(M.base * 7)
      , o = f.useRef()
      , a = () => {
        var c;
        const s = ((c = o.current) == null ? void 0 : c.getBoundingClientRect().height) - parseInt(M.widgetPadding);
        s >= 0 && r(Math.floor(s))
    }
    ;
    return f.useLayoutEffect( () => {
        a()
    }
    ),
    f.useEffect( () => {
        const s = setTimeout(a, 0);
        return () => clearTimeout(s)
    }
    , []),
    i.jsxs(i.Fragment, {
        children: [i.jsx("div", {
            "aria-hidden": !0,
            style: {
                height: n
            }
        }), i.jsx(_I, {
            "data-test": "footer",
            ref: o,
            direction: e.attributes.direction,
            styles: e.styles,
            children: i.jsxs(i.Fragment, {
                children: [!t.isPreview && e.attributes.children.map(s => f.createElement(jo, {
                    ...t,
                    key: s.name,
                    component: s
                })), t.isPreview && t.childPreviews.map(s => i.jsx(f.Fragment, {
                    children: s.component
                }, s.name))]
            })
        })]
    })
}
  , AI = ({component: e, inquiry: t}) => {
    var c, l, d;
    const {hidden: n, "launch-button-text": r} = e.attributes;
    if (It(e.name, t.attributes["next-step"].name)(n))
        return null;
    const s = !D.isDashboardFLE;
    return i.jsx(i.Fragment, {
        children: i.jsx(fe, {
            id: "government_id_nfc_scan__button_submit",
            type: "submit",
            buttonType: Q.Primary,
            disabled: s,
            styles: (d = (l = (c = e == null ? void 0 : e.styles) == null ? void 0 : c["button-primary-style"]) == null ? void 0 : l.base) == null ? void 0 : d.base,
            children: r || "Start scan"
        })
    })
}
  , TI = ({component: e, ...t}) => {
    const {hidden: n} = e.attributes
      , {inquiry: r} = t;
    return It(e.name, r.attributes["next-step"].name)(n) ? null : i.jsxs(wf, {
        styles: e.styles,
        children: [!t.isPreview && e.attributes.children.map( (s, c) => i.jsx(_f, {
            styles: e.styles,
            index: c,
            children: i.jsx(jo, {
                ...t,
                component: s
            })
        }, s.name)), t.isPreview && t.childPreviews.map(s => s.component)]
    })
}
  , EI = g.div.attrs( () => ({
    role: "img",
    "aria-label": "Pictograph of documents to upload"
})).withConfig({
    displayName: "VerificationHero__Container",
    componentId: "sc-1xtav50-0"
})(["display:flex;align-items:center;justify-content:center;border-radius:8px;background-color:", ";height:160px;width:100%;svg{margin:", ";}"], ({$backgroundColor: e, theme: t}) => e != null ? e : t.iconColorHighlight, I.Spacing[2])
  , hn = ({children: e, backgroundColor: t, className: n}) => i.jsx(EI, {
    className: n,
    $backgroundColor: t,
    "data-test": "verification-hero-banner",
    children: e
})
  , Eu = e => {
    if (typeof e == "string" && e.match(/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i)) {
        const t = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);
        if (!t)
            throw new Error("Color can be only hex or rgb array (ex. [10,20,30])");
        return [Math.round(parseInt(t[1], 16) / 255 * 1e3) / 1e3, Math.round(parseInt(t[2], 16) / 255 * 1e3) / 1e3, Math.round(parseInt(t[3], 16) / 255 * 1e3) / 1e3]
    } else {
        if (typeof e == "object" && e.length === 3 && e.every(t => t >= 0 && t <= 255))
            return [Math.round(e[0] / 255 * 1e3) / 1e3, Math.round(e[1] / 255 * 1e3) / 1e3, Math.round(e[2] / 255 * 1e3) / 1e3];
        if (e)
            throw new Error("Color can be only hex or rgb array (ex. [10,20,30])");
        return
    }
}
  , _c = e => Math.round(e * 1e3) / 1e3
  , kI = (e, t, n, r=!0) => {
    const o = Eu(e)
      , a = Eu(t);
    if (!o || !a)
        throw new Error("Proper colors must be used for both source and target");
    function s(c, l, d) {
        if (d && d.s && Array.isArray(d.s) && d.s.length === 4)
            c[0] === d.s[0] && c[1] === d.s[1] && c[2] === d.s[2] && (d.s = [...l, 1]);
        else if (d && d.c && d.c.k)
            Array.isArray(d.c.k) && typeof d.c.k[0] != "number" ? s(c, l, d.c.k) : c[0] === _c(d.c.k[0]) && c[1] === _c(d.c.k[1]) && c[2] === _c(d.c.k[2]) && (d.c.k = l);
        else
            for (const u in d)
                typeof d[u] == "object" && s(c, l, d[u]);
        return d
    }
    return s(o, a, r ? us(n) : n)
}
  , Ho = (e, t) => e.reduce( (n, [r,o]) => kI(r, o, n), t)
  , NI = g("div").withConfig({
    displayName: "AnimatedCheck__AnimationContainer",
    componentId: "sc-1ixhrx1-0"
})(["height:250px;width:250px;margin:-32px;.lines,.green-c-1,.green-c-2,.white-c-1,.white-c-2,.check-c{transform-origin:50% 50%;}.white-c-1{transform:scale(0);animation:reset 0.6s 0.2s forwards;fill:", ";}.green-c-1{transform:scale(0);opacity:0.4;animation:reset 0.8s forwards;fill:", ";}@keyframes reset{to{transform:initial;}}.lines{transform:scale(0);animation:lines 0.8s 0.4s forwards;}.lines path{fill:", ";}@keyframes lines{to{transform:scale(1.5);}}.white-c-2{transform:scale(0);animation:reset 0.6s 1s forwards;fill:", ";}.green-c-2{transform:scale(0);opacity:0.4;animation:reset 0.8s 0.8s forwards;fill:", ";}.check-c{transform:scale(0);animation:check-c 0.3s 0.7s forwards ease-in-out;fill:", ";}@keyframes check-c{0%{transform:scale(0);opacity:0;}70%{transform:scale(1.3);}100%{transform:scale(1);}}.check{stroke-dasharray:250;stroke-dashoffset:250;animation:check 0.2s 1s forwards ease-in-out;}@keyframes check{to{stroke-dashoffset:0;}}"], e => {
    var t;
    return (t = e.$backgroundColor) != null ? t : e.theme.colorModalBackground
}
, e => {
    var t;
    return (t = e.$primaryColor) != null ? t : e.theme.colorSuccess
}
, e => {
    var t;
    return (t = e.$primaryColor) != null ? t : e.theme.colorSuccess
}
, e => {
    var t;
    return (t = e.$backgroundColor) != null ? t : e.theme.colorModalBackground
}
, e => {
    var t;
    return (t = e.$primaryColor) != null ? t : e.theme.colorSuccess
}
, e => {
    var t;
    return (t = e.$primaryColor) != null ? t : e.theme.colorSuccess
}
);
function Rf({$primaryColor: e, $backgroundColor: t}) {
    return i.jsx(NI, {
        $primaryColor: e,
        $backgroundColor: t,
        children: i.jsxs("svg", {
            role: "img",
            version: "1.1",
            xmlns: "http://www.w3.org/2000/svg",
            viewBox: "0 0 1000 1000",
            children: [i.jsx("circle", {
                className: "green-c-1",
                fill: "#6ABF39",
                cx: "500",
                cy: "500",
                r: "496.3"
            }), i.jsx("circle", {
                className: "white-c-1",
                fill: "#FFFFFF",
                cx: "500",
                cy: "500",
                r: "500.0"
            }), i.jsx("circle", {
                className: "green-c-2",
                fill: "#6ABF39",
                cx: "500",
                cy: "500",
                r: "496.3"
            }), i.jsx("circle", {
                className: "white-c-2",
                fill: "#FFFFFF",
                cx: "500",
                cy: "500",
                r: "500.0"
            }), i.jsx("circle", {
                className: "check-c",
                fill: "#6ABF39",
                cx: "500",
                cy: "500",
                r: "272.4"
            }), i.jsx("clipPath", {
                id: "lines_mask",
                children: i.jsx("circle", {
                    className: "lines-mask",
                    fill: "#FFFFFF",
                    cx: "500",
                    cy: "500",
                    r: "496.3"
                })
            }), i.jsx("g", {
                clipPath: "url(#lines_mask)",
                children: i.jsxs("g", {
                    className: "lines",
                    children: [i.jsx("path", {
                        fill: "#6ABF39",
                        d: "M268.6,261.2l-100.8-104l-10.6,10.6l104,100.8C263.7,266.1,266.1,263.7,268.6,261.2z"
                    }), i.jsx("path", {
                        fill: "#6ABF39",
                        d: "M167.5,500c0-1.7,0-3.5,0.1-5.2l-144.8-2.3v14.9l144.8-2.3C167.5,503.5,167.5,501.7,167.5,500z"
                    }), i.jsx("path", {
                        fill: "#6ABF39",
                        d: "M261.2,731.4l-104,100.8l10.6,10.6l100.8-104C266.1,736.3,263.7,733.9,261.2,731.4z"
                    }), i.jsx("path", {
                        fill: "#6ABF39",
                        d: "M500,832.5c-1.7,0-3.5,0-5.2-0.1l-2.3,144.8h14.9l-2.3-144.8C503.5,832.5,501.7,832.5,500,832.5z"
                    }), i.jsx("path", {
                        fill: "#6ABF39",
                        d: "M738.8,731.4c-2.4,2.5-4.9,4.9-7.4,7.4l100.8,104l10.6-10.6L738.8,731.4z"
                    }), i.jsx("path", {
                        fill: "#6ABF39",
                        d: "M832.4,494.8c0,1.7,0.1,3.5,0.1,5.2s0,3.5-0.1,5.2l144.8,2.3v-14.9L832.4,494.8z"
                    }), i.jsx("path", {
                        fill: "#6ABF39",
                        d: "M738.8,268.6l104-100.8l-10.6-10.6l-100.8,104C733.9,263.7,736.3,266.1,738.8,268.6z"
                    }), i.jsx("path", {
                        fill: "#6ABF39",
                        d: "M500,167.5c1.7,0,3.5,0,5.2,0.1l2.3-144.8h-14.9l2.3,144.8C496.5,167.5,498.3,167.5,500,167.5z"
                    })]
                })
            }), i.jsx("polyline", {
                className: "check",
                fill: "none",
                stroke: "#FFFFFF",
                strokeWidth: "30",
                strokeLinecap: "round",
                strokeLinejoin: "round",
                strokeMiterlimit: "10",
                points: "416.5,520 470.1,573.7 583.9,459.9 "
            })]
        })
    })
}
const jI = g.div.withConfig({
    displayName: "CenteredPictograph__Container",
    componentId: "sc-ti65m9-0"
})(["display:flex;justify-content:", ";position:relative;", " :empty{margin-bottom:0;}svg{", " ", "}"], ({justify: e}) => e, ({marginTop: e, marginBottom: t, marginLeft: n, marginRight: r}) => $(["margin-top:", ";margin-bottom:", ";margin-left:", ";margin-right:", ";"], e, t != null ? t : I.Spacing[5], n, r), ({height: e}) => e != null && `height: ${e}px;`, ({width: e}) => e != null && `width: ${e}px;`)
  , Qe = ({height: e=100, width: t=100, justify: n=Aa.Center, children: r, title: o, "aria-label": a, role: s="img", ...c}) => i.jsx(jI, {
    height: e,
    width: t,
    justify: n,
    title: o,
    "aria-label": a,
    role: s,
    ...c,
    children: r
})
  , pe = g("div").withConfig({
    displayName: "ThemedSvg",
    componentId: "sc-lrejct-0"
})(["circle[stroke]:not(.no-theme),rect[stroke]:not(.no-theme),path[stroke]:not(.no-theme),g[stroke]:not(.no-theme){stroke:", ";vector-effect:", ";}circle[fill]:not([fill='none']):not(.no-theme),rect[fill]:not([fill='none']):not(.no-theme),path[fill]:not([fill='none']):not(.no-theme),g[fill]:not([fill='none']):not(.no-theme){fill:", ";}circle[fill].icon-color-highlight,rect[fill].icon-color-highlight,path[fill].icon-color-highlight,g[fill].icon-color-highlight{fill:", " !important;}circle[fill].icon-color-background,rect[fill].icon-color-background,path[fill].icon-color-background,g[fill].icon-color-background{fill:", " !important;}circle[fill].icon-color-stroke,rect[fill].icon-color-stroke,path[fill].icon-color-stroke,g[fill].icon-color-stroke{fill:", " !important;}line-height:0;"], ({$strokeColor: e, theme: t}) => e != null ? e : t.iconColorStroke, ({vectorEffect: e}) => e != null ? e : "non-scaling-stroke", ({$primaryColor: e, theme: t}) => e != null ? e : t.iconColorPrimary, ({$highlightColor: e, theme: t}) => e != null ? e : t.iconColorHighlight, ({$backgroundColor: e, theme: t}) => e != null ? e : t.iconColorBackground, ({$strokeColor: e, theme: t}) => e != null ? e : t.iconColorStroke)
  , PI = g.div.withConfig({
    displayName: "ImageLocal__AnimatedCheckContainer",
    componentId: "sc-aey58n-0"
})(["display:flex;flex-direction:column;align-items:", ";margin-top:calc(", " + ", ");margin-bottom:calc(", " + ", ");"], ({justify: e}) => e != null ? e : "center", ({marginTop: e}) => e != null ? e : "0", I.Spacing[6], ({marginBottom: e}) => e != null ? e : "0", I.Spacing[6])
  , qo = g.div.withConfig({
    displayName: "ImageLocal__FailureReasonPictograph",
    componentId: "sc-aey58n-1"
})(["display:flex;flex-direction:column;align-items:", ";"], ({justify: e}) => e != null ? e : "center");
le.OptionFlagIcon,
le.OptionGlobeIcon,
le.OptionHomeIcon,
le.OptionIdIcon,
le.OptionIdDocumentIcon,
le.OptionUserIcon,
le.OptionPhoneIcon;
const Af = {
    [le.AnimatedCheck]: {
        width: {
            value: 250,
            unit: "px"
        },
        height: {
            value: 250,
            unit: "px"
        }
    },
    [le.DocumentStartHero]: {
        width: {
            value: 100,
            unit: "%"
        },
        height: {
            value: 184,
            unit: "px"
        }
    },
    [le.FailedIcon]: {
        width: {
            value: 140,
            unit: "px"
        },
        height: {
            value: 120,
            unit: "px"
        }
    },
    [le.StartHero]: {
        width: {
            value: 240,
            unit: "px"
        },
        height: {
            value: 177,
            unit: "px"
        }
    },
    [le.FailureDefaultIcon]: {
        width: {
            value: 100,
            unit: "px"
        },
        height: {
            value: 100,
            unit: "px"
        }
    },
    [le.FailureDocumentIcon]: {
        width: {
            value: 149,
            unit: "px"
        },
        height: {
            value: 120,
            unit: "px"
        }
    },
    [le.FailureSelfieIcon]: {
        width: {
            value: 103,
            unit: "px"
        },
        height: {
            value: 111,
            unit: "px"
        }
    },
    [le.IdBackIcon]: {
        width: {
            value: 149,
            unit: "px"
        },
        height: {
            value: 100,
            unit: "px"
        }
    },
    [le.IdFrontIcon]: {
        width: {
            value: 149,
            unit: "px"
        },
        height: {
            value: 100,
            unit: "px"
        }
    },
    [le.OptionFlagIcon]: {
        width: {
            value: 32,
            unit: "px"
        },
        height: {
            value: 32,
            unit: "px"
        }
    },
    [le.OptionGlobeIcon]: {
        width: {
            value: 32,
            unit: "px"
        },
        height: {
            value: 32,
            unit: "px"
        }
    },
    [le.OptionHomeIcon]: {
        width: {
            value: 32,
            unit: "px"
        },
        height: {
            value: 32,
            unit: "px"
        }
    },
    [le.OptionIdIcon]: {
        width: {
            value: 32,
            unit: "px"
        },
        height: {
            value: 32,
            unit: "px"
        }
    },
    [le.OptionIdDocumentIcon]: {
        width: {
            value: 32,
            unit: "px"
        },
        height: {
            value: 32,
            unit: "px"
        }
    },
    [le.OptionUserIcon]: {
        width: {
            value: 32,
            unit: "px"
        },
        height: {
            value: 32,
            unit: "px"
        }
    },
    [le.OptionPhoneIcon]: {
        width: {
            value: 32,
            unit: "px"
        },
        height: {
            value: 32,
            unit: "px"
        }
    },
    [le.OptionCheckIcon]: {
        width: {
            value: 32,
            unit: "px"
        },
        height: {
            value: 32,
            unit: "px"
        }
    },
    [le.OptionChevronIcon]: {
        width: {
            value: 8,
            unit: "px"
        },
        height: {
            value: 14,
            unit: "px"
        }
    },
    [le.CreatePersonaPasskeyRegistrationHero]: {
        width: {
            value: 181,
            unit: "px"
        },
        height: {
            value: 181,
            unit: "px"
        }
    },
    [le.CreatePersonaCtaCardIcon]: {
        width: {
            value: 41,
            unit: "px"
        },
        height: {
            value: 44,
            unit: "px"
        }
    },
    [le.CreatePersonaPasskeyRegistrationSpeedIcon]: {
        width: {
            value: 48,
            unit: "px"
        },
        height: {
            value: 48,
            unit: "px"
        }
    },
    [le.CreatePersonaPasskeyRegistrationShieldIcon]: {
        width: {
            value: 48,
            unit: "px"
        },
        height: {
            value: 48,
            unit: "px"
        }
    },
    [le.CreatePersonaPasskeyRegistrationFingerprintIcon]: {
        width: {
            value: 48,
            unit: "px"
        },
        height: {
            value: 48,
            unit: "px"
        }
    },
    [le.CreatePersonaSuccessHero]: {
        width: {
            value: 354,
            unit: "px"
        },
        height: {
            value: 208,
            unit: "px"
        }
    },
    [le.VerifyWithPersonaPasskeyAuthenticationPersonaLogo]: {
        width: {
            value: 128,
            unit: "px"
        },
        height: {
            value: 128,
            unit: "px"
        }
    },
    [le.VerifyWithPersonaPasskeyAuthenticationHero]: {
        width: {
            value: 181,
            unit: "px"
        },
        height: {
            value: 181,
            unit: "px"
        }
    },
    [le.VerifyWithPersonaPasskeyAuthenticationAddressIcon]: {
        width: {
            value: 48,
            unit: "px"
        },
        height: {
            value: 48,
            unit: "px"
        }
    },
    [le.VerifyWithPersonaPasskeyAuthenticationIdIcon]: {
        width: {
            value: 48,
            unit: "px"
        },
        height: {
            value: 48,
            unit: "px"
        }
    },
    [le.VerifyWithPersonaPasskeyAuthenticationNameIcon]: {
        width: {
            value: 48,
            unit: "px"
        },
        height: {
            value: 48,
            unit: "px"
        }
    },
    [le.VerifyWithPersonaPasskeyAuthenticationSelfieIcon]: {
        width: {
            value: 48,
            unit: "px"
        },
        height: {
            value: 48,
            unit: "px"
        }
    },
    [le.GovernmentIdNfcScanBackClosed]: {
        width: {
            value: 250,
            unit: "px"
        },
        height: {
            value: 250,
            unit: "px"
        }
    },
    [le.GovernmentIdNfcScanFrontClosed]: {
        width: {
            value: 250,
            unit: "px"
        },
        height: {
            value: 250,
            unit: "px"
        }
    },
    [le.GovernmentIdNfcScanPhotoPage]: {
        width: {
            value: 250,
            unit: "px"
        },
        height: {
            value: 250,
            unit: "px"
        }
    },
    [le.GovernmentIdNfcScanIdCard]: {
        width: {
            value: 250,
            unit: "px"
        },
        height: {
            value: 250,
            unit: "px"
        }
    },
    [le.GovernmentIdNfcScanBackThenFront]: {
        width: {
            value: 250,
            unit: "px"
        },
        height: {
            value: 250,
            unit: "px"
        }
    },
    [le.StepperIncompleteIcon]: {
        width: {
            value: 20,
            unit: "px"
        },
        height: {
            value: 20,
            unit: "px"
        }
    },
    [le.StepperCurrentIcon]: {
        width: {
            value: 20,
            unit: "px"
        },
        height: {
            value: 20,
            unit: "px"
        }
    },
    [le.StepperErroredIcon]: {
        width: {
            value: 20,
            unit: "px"
        },
        height: {
            value: 20,
            unit: "px"
        }
    },
    [le.StepperCompletedIcon]: {
        width: {
            value: 20,
            unit: "px"
        },
        height: {
            value: 20,
            unit: "px"
        }
    },
    [le.StepperConnectorIcon]: {
        width: {
            value: 10,
            unit: "px"
        },
        height: {
            value: 32,
            unit: "px"
        }
    }
}
  , DI = ({component: e, inquiry: t}) => {
    var E, T, F, O, N, U, V, ne, L, H, q, ee, Y, ae, se, _e, Re, ye, Pe, Ae, Te, be, re, z, Z, xe, we;
    const {attributes: {"image-key": n, hidden: r}} = e;
    if (It(e.name, t == null ? void 0 : t.attributes["next-step"].name)(r))
        return null;
    const s = k((T = (E = e.styles) == null ? void 0 : E.height) == null ? void 0 : T.base.base)
      , c = k((O = (F = e.styles) == null ? void 0 : F.width) == null ? void 0 : O.base.base)
      , l = k((V = (U = (N = e.styles) == null ? void 0 : N.margin) == null ? void 0 : U.base.base) == null ? void 0 : V.top)
      , d = k((H = (L = (ne = e.styles) == null ? void 0 : ne.margin) == null ? void 0 : L.base.base) == null ? void 0 : H.bottom)
      , u = k((Y = (ee = (q = e.styles) == null ? void 0 : q.margin) == null ? void 0 : ee.base.base) == null ? void 0 : Y.left)
      , m = k((_e = (se = (ae = e.styles) == null ? void 0 : ae.margin) == null ? void 0 : se.base.base) == null ? void 0 : _e.right)
      , h = (Re = e.styles) == null ? void 0 : Re.justify.base.base
      , p = A((Ae = (Pe = (ye = e.styles) == null ? void 0 : ye["fill-color"]) == null ? void 0 : Pe.base) == null ? void 0 : Ae.base)
      , b = A((be = (Te = e.styles) == null ? void 0 : Te["fill-color"]) == null ? void 0 : be.background.base)
      , C = A((z = (re = e.styles) == null ? void 0 : re["fill-color"]) == null ? void 0 : z.highlight.base)
      , S = A((we = (xe = (Z = e.styles) == null ? void 0 : Z["stroke-color"]) == null ? void 0 : xe.base) == null ? void 0 : we.base)
      , v = {
        $primaryColor: p,
        $backgroundColor: b,
        $highlightColor: C,
        $strokeColor: S
    }
      , x = Af[n]
      , _ = {
        marginTop: l,
        marginBottom: d,
        marginLeft: u,
        marginRight: m
    }
      , R = [["#290087", S], ["#322B7E", S], ["#CBB2FF", p], ["#F1E9FF", C], ["#FFFFFF", b]].filter(Ye => Ye[1] != null && Ye[0] !== Ye[1].toUpperCase());
    switch (n) {
    case le.AnimatedCheck:
        return i.jsx(PI, {
            role: "img",
            "aria-label": "Checkmark icon",
            "data-test": "image-local__animated-check",
            marginTop: l,
            marginBottom: d,
            justify: h,
            style: {
                marginLeft: u,
                marginRight: m
            },
            children: i.jsx(Rf, {
                $primaryColor: p,
                $backgroundColor: b
            })
        });
    case le.FailedIcon:
        return i.jsx(Qe, {
            role: "img",
            "aria-label": "Failed icon",
            justify: h,
            ..._,
            children: i.jsx(pe, {
                ...v,
                children: i.jsx(Vl, {
                    style: {
                        width: c != null ? c : k(x.width),
                        height: s != null ? s : k(x.height)
                    }
                })
            })
        });
    case le.StartHero:
        return i.jsx(Qe, {
            role: "img",
            "aria-label": "Start hero image",
            justify: h,
            ..._,
            children: i.jsx(pe, {
                vectorEffect: "initial",
                ...v,
                children: i.jsx(w1, {
                    style: {
                        width: c != null ? c : k(x.width),
                        height: s != null ? s : k(x.height)
                    }
                })
            })
        });
    case le.FailureDefaultIcon:
        return i.jsx(qo, {
            role: "img",
            "aria-label": "Failed icon",
            justify: h,
            children: i.jsx(pe, {
                ...v,
                children: i.jsx(y1, {
                    style: {
                        width: c != null ? c : k(x.width),
                        height: s != null ? s : k(x.height),
                        marginTop: l,
                        marginBottom: d,
                        marginLeft: u,
                        marginRight: m
                    }
                })
            })
        });
    case le.FailureDocumentIcon:
        return i.jsx(qo, {
            role: "img",
            "aria-label": "Document icon",
            justify: h,
            children: i.jsx(pe, {
                ...v,
                children: i.jsx(qh, {
                    style: {
                        width: c != null ? c : k(x.width),
                        height: s != null ? s : k(x.height),
                        marginTop: l,
                        marginBottom: d,
                        marginLeft: u,
                        marginRight: m
                    }
                })
            })
        });
    case le.FailureSelfieIcon:
        return i.jsx(qo, {
            role: "img",
            "aria-label": "Selfie icon",
            justify: h,
            children: i.jsx(pe, {
                ...v,
                children: i.jsx(S1, {
                    style: {
                        width: c != null ? c : k(x.width),
                        height: s != null ? s : k(x.height),
                        marginTop: l,
                        marginBottom: d,
                        marginLeft: u,
                        marginRight: m
                    }
                })
            })
        });
    case le.IdBackIcon:
        return i.jsx(qo, {
            role: "img",
            "aria-label": "ID back icon",
            justify: h,
            children: i.jsx(pe, {
                ...v,
                children: i.jsx(I1, {
                    style: {
                        width: c != null ? c : k(x.width),
                        height: s != null ? s : k(x.height),
                        marginTop: l,
                        marginBottom: d,
                        marginLeft: u,
                        marginRight: m
                    }
                })
            })
        });
    case le.IdFrontIcon:
        return i.jsx(qo, {
            role: "img",
            "aria-label": "ID front icon",
            justify: h,
            children: i.jsx(pe, {
                ...v,
                children: i.jsx(Hh, {
                    style: {
                        width: c != null ? c : k(x.width),
                        height: s != null ? s : k(x.height),
                        marginTop: l,
                        marginBottom: d,
                        marginLeft: u,
                        marginRight: m
                    }
                })
            })
        });
    case le.DocumentStartHero:
        return i.jsx(Qe, {
            height: null,
            width: null,
            role: null,
            "aria-label": null,
            justify: h,
            ..._,
            children: i.jsx(pe, {
                vectorEffect: "initial",
                ...v,
                style: {
                    width: "100%"
                },
                children: i.jsx(hn, {
                    backgroundColor: C,
                    children: i.jsx(Bl, {
                        height: 80,
                        width: "100%"
                    })
                })
            })
        });
    case le.OptionFlagIcon:
        return i.jsx(Qe, {
            role: "img",
            "aria-label": "Flag option icon",
            justify: h,
            ..._,
            children: i.jsx(pe, {
                vectorEffect: "initial",
                ...v,
                children: i.jsx(Uh, {
                    style: {
                        width: c != null ? c : k(x.width),
                        height: s != null ? s : k(x.height)
                    }
                })
            })
        });
    case le.OptionGlobeIcon:
        return i.jsx(Qe, {
            role: "img",
            "aria-label": "Globe option icon",
            justify: h,
            ..._,
            children: i.jsx(pe, {
                vectorEffect: "initial",
                ...v,
                children: i.jsx(Ml, {
                    style: {
                        width: c != null ? c : k(x.width),
                        height: s != null ? s : k(x.height)
                    }
                })
            })
        });
    case le.OptionHomeIcon:
        return i.jsx(Qe, {
            role: "img",
            "aria-label": "Home option icon",
            justify: h,
            ..._,
            children: i.jsx(pe, {
                vectorEffect: "initial",
                ...v,
                children: i.jsx(Fl, {
                    style: {
                        width: c != null ? c : k(x.width),
                        height: s != null ? s : k(x.height)
                    }
                })
            })
        });
    case le.OptionIdIcon:
        return i.jsx(Qe, {
            role: "img",
            "aria-label": "ID option icon",
            justify: h,
            ..._,
            children: i.jsx(pe, {
                vectorEffect: "initial",
                ...v,
                children: i.jsx(Ll, {
                    style: {
                        width: c != null ? c : k(x.width),
                        height: s != null ? s : k(x.height)
                    }
                })
            })
        });
    case le.OptionPhoneIcon:
        return i.jsx(Qe, {
            role: "img",
            "aria-label": "Phone option icon",
            justify: h,
            ..._,
            children: i.jsx(pe, {
                vectorEffect: "initial",
                ...v,
                children: i.jsx(v1, {
                    style: {
                        width: c != null ? c : k(x.width),
                        height: s != null ? s : k(x.height)
                    }
                })
            })
        });
    case le.OptionIdDocumentIcon:
        return i.jsx(Qe, {
            role: "img",
            "aria-label": "Document ID option icon",
            justify: h,
            ..._,
            children: i.jsx(pe, {
                vectorEffect: "initial",
                ...v,
                children: i.jsx(x1, {
                    style: {
                        width: c != null ? c : k(x.width),
                        height: s != null ? s : k(x.height)
                    }
                })
            })
        });
    case le.OptionUserIcon:
        return i.jsx(Qe, {
            role: "img",
            "aria-label": "User option icon",
            justify: h,
            ..._,
            children: i.jsx(pe, {
                vectorEffect: "initial",
                ...v,
                children: i.jsx(C1, {
                    style: {
                        width: c != null ? c : k(x.width),
                        height: s != null ? s : k(x.height)
                    }
                })
            })
        });
    case le.OptionCheckIcon:
        return i.jsx(Qe, {
            role: "img",
            "aria-label": "Check option icon",
            justify: h,
            ..._,
            children: i.jsx(pe, {
                vectorEffect: "initial",
                ...v,
                children: i.jsx(b1, {
                    style: {
                        width: c != null ? c : k(x.width),
                        height: s != null ? s : k(x.height)
                    }
                })
            })
        });
    case le.OptionChevronIcon:
        return i.jsx(Qe, {
            role: "img",
            "aria-label": "Chevron icon",
            justify: h,
            ..._,
            children: i.jsx(pe, {
                vectorEffect: "initial",
                ...v,
                children: i.jsx($l, {
                    style: {
                        width: c != null ? c : k(x.width),
                        height: s != null ? s : k(x.height)
                    }
                })
            })
        });
    case le.CreatePersonaCtaCardIcon:
        return i.jsx(pe, {
            role: "img",
            "aria-label": "Create Persona card icon",
            vectorEffect: "initial",
            ...v,
            children: i.jsx(g1, {
                style: {
                    width: c != null ? c : k(x.width),
                    height: s != null ? s : k(x.height)
                }
            })
        });
    case le.CreatePersonaPasskeyRegistrationHero:
        return i.jsx(Vn, {
            role: "img",
            animationData: f1,
            "aria-label": "Create Persona passkey registration hero image",
            loop: !0,
            style: {
                width: c != null ? c : k(x.width),
                height: s != null ? s : k(x.height)
            }
        });
    case le.CreatePersonaPasskeyRegistrationSpeedIcon:
        return i.jsx(pe, {
            role: "img",
            "aria-label": "Create Persona passkey registration icon",
            vectorEffect: "initial",
            ...v,
            children: i.jsx(p1, {
                style: {
                    width: c != null ? c : k(x.width),
                    height: s != null ? s : k(x.height)
                }
            })
        });
    case le.CreatePersonaPasskeyRegistrationShieldIcon:
        return i.jsx(pe, {
            role: "img",
            "aria-label": "Create Persona passkey registration icon",
            vectorEffect: "initial",
            ...v,
            children: i.jsx(h1, {
                style: {
                    width: c != null ? c : k(x.width),
                    height: s != null ? s : k(x.height)
                }
            })
        });
    case le.CreatePersonaPasskeyRegistrationFingerprintIcon:
        return i.jsx(pe, {
            role: "img",
            "aria-label": "Create Persona passkey registration icon",
            vectorEffect: "initial",
            ...v,
            children: i.jsx(m1, {
                style: {
                    width: c != null ? c : k(x.width),
                    height: s != null ? s : k(x.height)
                }
            })
        });
    case le.CreatePersonaSuccessHero:
        return i.jsx(Vn, {
            role: "img",
            "aria-label": "Create Persona success hero image",
            animationData: u1,
            loop: !0,
            style: {
                width: c != null ? c : k(x.width),
                height: s != null ? s : k(x.height)
            }
        });
    case le.VerifyWithPersonaPasskeyAuthenticationHero:
        return i.jsx(Vn, {
            role: "img",
            animationData: d1,
            "aria-label": "Verify with Persona passkey authentication hero image",
            loop: !0,
            style: {
                width: c != null ? c : k(x.width),
                height: s != null ? s : k(x.height)
            }
        });
    case le.VerifyWithPersonaPasskeyAuthenticationPersonaLogo:
        return i.jsx(pe, {
            role: "img",
            "aria-label": "Verify with Persona passkey authentication logo",
            vectorEffect: "initial",
            ...v,
            children: i.jsx(l1, {
                style: {
                    width: c != null ? c : k(x.width),
                    height: s != null ? s : k(x.height)
                }
            })
        });
    case le.VerifyWithPersonaPasskeyAuthenticationAddressIcon:
        return i.jsx(pe, {
            role: "img",
            "aria-label": "Verify with Persona passkey authentication address icon",
            vectorEffect: "initial",
            ...v,
            children: i.jsx(c1, {
                style: {
                    width: c != null ? c : k(x.width),
                    height: s != null ? s : k(x.height)
                }
            })
        });
    case le.VerifyWithPersonaPasskeyAuthenticationIdIcon:
        return i.jsx(pe, {
            role: "img",
            "aria-label": "Verify with Persona passkey authentication ID icon",
            vectorEffect: "initial",
            ...v,
            children: i.jsx(s1, {
                style: {
                    width: c != null ? c : k(x.width),
                    height: s != null ? s : k(x.height)
                }
            })
        });
    case le.VerifyWithPersonaPasskeyAuthenticationNameIcon:
        return i.jsx(pe, {
            role: "img",
            "aria-label": "Verify with Persona passkey authentication name icon",
            vectorEffect: "initial",
            ...v,
            children: i.jsx(a1, {
                style: {
                    width: c != null ? c : k(x.width),
                    height: s != null ? s : k(x.height)
                }
            })
        });
    case le.VerifyWithPersonaPasskeyAuthenticationSelfieIcon:
        return i.jsx(pe, {
            role: "img",
            "aria-label": "Verify with Persona passkey authentication selfie icon",
            vectorEffect: "initial",
            ...v,
            children: i.jsx(o1, {
                style: {
                    width: c != null ? c : k(x.width),
                    height: s != null ? s : k(x.height)
                }
            })
        });
    case le.GovernmentIdNfcScanBackClosed:
        return i.jsx(Vn, {
            role: "img",
            "aria-label": "Government Id Nfc scan back of closed id image",
            animationData: Ho(R, E1),
            loop: !0,
            style: {
                width: c != null ? c : k(x.width),
                height: s != null ? s : k(x.height)
            }
        });
    case le.GovernmentIdNfcScanFrontClosed:
        return i.jsx(Vn, {
            role: "img",
            "aria-label": "Government Id Nfc scan front of closed id image",
            animationData: Ho(R, T1),
            loop: !0,
            style: {
                width: c != null ? c : k(x.width),
                height: s != null ? s : k(x.height)
            }
        });
    case le.GovernmentIdNfcScanPhotoPage:
        return i.jsx(Vn, {
            role: "img",
            "aria-label": "Government Id Nfc scan photo page image",
            animationData: Ho(R, A1),
            loop: !0,
            style: {
                width: c != null ? c : k(x.width),
                height: s != null ? s : k(x.height)
            }
        });
    case le.GovernmentIdNfcScanIdCard:
        return i.jsx(Vn, {
            role: "img",
            "aria-label": "Government Id Nfc scan id card image",
            animationData: Ho(R, R1),
            loop: !0,
            style: {
                width: c != null ? c : k(x.width),
                height: s != null ? s : k(x.height)
            }
        });
    case le.GovernmentIdNfcScanBackThenFront:
        return i.jsx(Vn, {
            role: "img",
            "aria-label": "Government Id Nfc scan back then front of id image",
            animationData: Ho(R, _1),
            loop: !0,
            style: {
                width: c != null ? c : k(x.width),
                height: s != null ? s : k(x.height)
            }
        });
    case le.StepperIncompleteIcon:
        return i.jsx(r1, {
            role: "img",
            style: {
                width: c != null ? c : k(x.width),
                height: s != null ? s : k(x.height)
            }
        });
    case le.StepperCurrentIcon:
        return i.jsx(i1, {
            role: "img",
            style: {
                width: c != null ? c : k(x.width),
                height: s != null ? s : k(x.height)
            }
        });
    case le.StepperCompletedIcon:
        return i.jsx(n1, {
            role: "img",
            style: {
                width: c != null ? c : k(x.width),
                height: s != null ? s : k(x.height)
            }
        });
    case le.StepperErroredIcon:
        return i.jsx(t1, {
            role: "img",
            style: {
                width: c != null ? c : k(x.width),
                height: s != null ? s : k(x.height)
            }
        });
    case le.StepperConnectorIcon:
        return i.jsx(e1, {
            role: "img",
            style: {
                width: c != null ? c : k(x.width),
                height: s != null ? s : k(x.height)
            }
        });
    default:
        return null
    }
}
  , qa = {};
function OI({contentType: e, normalizedPathname: t, src: n}) {
    return e === "image/png" || e === "image/gif" || e === "image/jpeg" || e === "image/webp" || t != null && t.endsWith(".png") || t != null && t.endsWith(".gif") || t != null && t.endsWith(".jpg") || t != null && t.endsWith(".jpeg") || t != null && t.endsWith(".webp") || n != null && n.startsWith("data:image/png;") || n != null && n.startsWith("data:image/gif;") || n != null && n.startsWith("data:image/jpeg;") || n != null && n.startsWith("data:image/webp;") ? "image" : e === "image/svg+xml" || t != null && t.endsWith(".svg") || n != null && n.startsWith("data:image/svg+xml") ? "svg" : e === "application/json" ? "json" : null
}
const Tf = f.memo(function({contentType: t, src: n, styles: r, "data-test": o="image", environment: a="production", alt: s, "aria-label": c, ...l}) {
    var _, R, E, T, F, O, N, U;
    const [d,{disable: u}] = rt(!0)
      , [m,{enable: h}] = rt(!1);
    let p;
    try {
        p = new URL(n).pathname
    } catch {
        p = n
    }
    const [b,C] = f.useState(qa[p])
      , S = OI({
        contentType: t,
        normalizedPathname: p == null ? void 0 : p.toLowerCase(),
        src: n
    })
      , v = n == null ? void 0 : n.toLowerCase().startsWith("data:");
    if (f.useEffect( () => {
        var ne;
        if (a === "production" && !(n != null && n.startsWith("https://files.withpersona.com/") || n != null && n.startsWith("https://files.withpersona-staging.com/"))) {
            u();
            return
        }
        switch (S) {
        case "image":
            if (v || n == null)
                return;
            oi.get(n, {
                responseType: "blob",
                "axios-retry": {
                    retryDelay: () => 0,
                    retryCondition: L => Ti.isNetworkOrIdempotentRequestError(L) || L.code === "ECONNABORTED"
                }
            }).then( ({data: L}) => {
                var q;
                const H = URL.createObjectURL(L);
                qa[p] = H,
                C(H),
                u(),
                (q = l.onLoad) == null || q.call(l)
            }
            ).catch(L => {
                var H;
                h(),
                u(),
                (H = l.onError) == null || H.call(l),
                nr({
                    error: L,
                    method: "GET",
                    uri: n
                })
            }
            ).catch(L => {
                if (!(L instanceof xt))
                    throw L
            }
            );
            break;
        case "svg":
            oi.get(n).then( ({data: L}) => {
                var ee;
                const H = FI(L, LI(r))
                  , q = `data:image/svg+xml;base64,${btoa(H)}`;
                qa[p] = q,
                C(q),
                u(),
                (ee = l.onLoad) == null || ee.call(l)
            }
            ).catch(L => {
                var H;
                u(),
                (H = l.onError) == null || H.call(l),
                nr({
                    error: L,
                    method: "GET",
                    uri: n
                })
            }
            ).catch(L => {
                if (!(L instanceof xt))
                    throw L
            }
            );
            break;
        case "json":
            oi.get(n).then( ({data: L}) => {
                var H;
                (b == null || (L == null ? void 0 : L.nm) !== (b == null ? void 0 : b.nm)) && (qa[p] = L,
                C(L)),
                u(),
                (H = l.onLoad) == null || H.call(l)
            }
            ).catch(L => {
                var H;
                u(),
                (H = l.onError) == null || H.call(l),
                nr({
                    error: L,
                    method: "GET",
                    uri: n
                })
            }
            ).catch(L => {
                if (!(L instanceof xt))
                    throw L
            }
            );
            break;
        default:
            u(),
            (ne = l.onError) == null || ne.call(l);
            break
        }
    }
    , [n, S]),
    !n)
        return null;
    const x = i.jsx("div", {
        "aria-label": d ? "loading image" : "no image",
        "data-test": `${o}__${d ? "loading" : "empty"}`,
        className: l.className
    });
    switch (S) {
    case "image":
        return v || m ? i.jsx("img", {
            ...l,
            src: n,
            "data-test": o,
            alt: s,
            "aria-label": c
        }) : b != null ? i.jsx("img", {
            ...l,
            src: b,
            "data-test": o,
            alt: s,
            "aria-label": c
        }) : x;
    case "svg":
        return b != null ? i.jsx("img", {
            ...l,
            src: b,
            "data-test": o,
            alt: s,
            "aria-label": c
        }) : x;
    case "json":
        return b != null ? i.jsx(Vn, {
            role: "img",
            alt: s,
            "aria-label": c,
            animationData: b,
            style: {
                height: (T = (E = k((R = (_ = r == null ? void 0 : r.height) == null ? void 0 : _.base) == null ? void 0 : R.base)) != null ? E : l.height) != null ? T : "auto",
                width: (U = (N = k((O = (F = r == null ? void 0 : r.width) == null ? void 0 : F.base) == null ? void 0 : O.base)) != null ? N : l.width) != null ? U : "auto"
            },
            className: l.className
        }) : x;
    default:
        return x
    }
})
  , Ji = {
    fillColor: "{{ fill_color }}",
    backgroundColorColor: "{{ background_color }}",
    highlightColor: "{{ highlight_color }}",
    strokeColor: "{{ stroke_color }}"
};
function LI(e) {
    var t, n, r, o, a, s, c, l, d, u, m, h, p, b, C, S;
    return {
        fillColor: A((n = (t = e == null ? void 0 : e["fill-color"]) == null ? void 0 : t.fill) == null ? void 0 : n.base),
        backgroundColor: A((o = (r = e == null ? void 0 : e["fill-color"]) == null ? void 0 : r.background) == null ? void 0 : o.base),
        highlightColor: A((s = (a = e == null ? void 0 : e["fill-color"]) == null ? void 0 : a.highlight) == null ? void 0 : s.base),
        strokeColor: A((l = (c = e == null ? void 0 : e["stroke-color"]) == null ? void 0 : c.stroke) == null ? void 0 : l.base),
        originalFillColor: A((u = (d = e == null ? void 0 : e["fill-color"]) == null ? void 0 : d["original-fill"]) == null ? void 0 : u.base),
        originalBackgroundColor: A((h = (m = e == null ? void 0 : e["fill-color"]) == null ? void 0 : m["original-background"]) == null ? void 0 : h.base),
        originalHighlightColor: A((b = (p = e == null ? void 0 : e["fill-color"]) == null ? void 0 : p["original-highlight"]) == null ? void 0 : b.base),
        originalStrokeColor: A((S = (C = e == null ? void 0 : e["stroke-color"]) == null ? void 0 : C["original-stroke"]) == null ? void 0 : S.base)
    }
}
function FI(e, t) {
    var c, l, d, u;
    if (Object.values(t).every(m => m == null))
        return e;
    const n = uu( (m, h) => h == null, {
        [(c = t.originalFillColor) == null ? void 0 : c.toUpperCase()]: Ji.fillColor,
        [(l = t.originalBackgroundColor) == null ? void 0 : l.toUpperCase()]: Ji.backgroundColorColor,
        [(d = t.originalHighlightColor) == null ? void 0 : d.toUpperCase()]: Ji.highlightColor,
        [(u = t.originalStrokeColor) == null ? void 0 : u.toUpperCase()]: Ji.strokeColor
    });
    let r = e;
    if (Object.keys(n).some(m => m != null)) {
        const m = new RegExp(Object.keys(n).join("|"),"gi");
        r = e.replace(m, h => n[h.toUpperCase()])
    }
    const o = uu( (m, h) => m == null, {
        [Ji.fillColor]: t.fillColor,
        [Ji.backgroundColorColor]: t.backgroundColor,
        [Ji.highlightColor]: t.highlightColor,
        [Ji.strokeColor]: t.strokeColor
    })
      , a = new RegExp(Object.keys(o).join("|"),"g");
    return r.replace(a, m => o[m])
}
const ku = {
    width: {
        unit: "%",
        value: 100
    },
    height: {
        unit: "%",
        value: 100
    }
}
  , MI = g(Tf).withConfig({
    displayName: "ImageRemote__StyledCachedImage",
    componentId: "sc-yyqavh-0"
})( ({styles: e, height: t, width: n}) => {
    var r, o, a, s, c, l;
    return {
        display: "block",
        objectFit: "contain",
        height: (r = k(e == null ? void 0 : e.height.base.base)) != null ? r : t,
        width: (o = k(e == null ? void 0 : e.width.base.base)) != null ? o : n,
        maxWidth: "100%",
        alignSelf: e == null ? void 0 : e.justify.base.base,
        marginTop: k((a = e == null ? void 0 : e.margin.base.base) == null ? void 0 : a.top),
        marginBottom: k((s = e == null ? void 0 : e.margin.base.base) == null ? void 0 : s.bottom),
        marginLeft: k((c = e == null ? void 0 : e.margin.base.base) == null ? void 0 : c.left),
        marginRight: k((l = e == null ? void 0 : e.margin.base.base) == null ? void 0 : l.right)
    }
}
)
  , Ef = ({component: e, inquiry: t, onLoad: n, onError: r, environment: o}) => {
    const {attributes: {url: a, height: s, width: c, "content-type": l, hidden: d, alt: u}} = e;
    return It(e.name, t == null ? void 0 : t.attributes["next-step"].name)(d) ? null : i.jsx(MI, {
        onLoad: n,
        onError: r,
        src: a,
        contentType: l,
        "data-test": e.type,
        height: s != null ? s : k(ku.height),
        width: c != null ? c : k(ku.width),
        styles: e.styles,
        environment: o,
        alt: u || "",
        "aria-label": u || void 0,
        role: u ? void 0 : "presentation"
    })
}
  , BI = e => ({
    mainText: e.main_text,
    secondaryText: e.secondary_text
})
  , vi = (...e) => (...t) => {
    e.forEach(n => n && n(...t))
}
  , zd = class zd extends f.Component {
    constructor(t) {
        super(t),
        this.init = () => {
            if (!window.google)
                throw new Error("[react-places-autocomplete]: Google Maps JavaScript API library must be loaded. See: https://github.com/kenny-hibino/react-places-autocomplete#load-google-library");
            if (!window.google.maps.places)
                throw new Error("[react-places-autocomplete]: Google Maps Places library must be loaded. Please add `libraries=places` to the src URL. See: https://github.com/kenny-hibino/react-places-autocomplete#load-google-library");
            this.autocompleteService = new window.google.maps.places.AutocompleteService,
            this.autocompleteOK = window.google.maps.places.PlacesServiceStatus.OK,
            this.setState(n => n.ready ? null : {
                ready: !0
            })
        }
        ,
        this.autocompleteCallback = (n, r) => {
            var a, s, c;
            if (this.setState({
                loading: !1
            }),
            r !== this.autocompleteOK) {
                (s = (a = this.props).onError) == null || s.call(a, r, this.clearSuggestions);
                return
            }
            const {highlightFirstSuggestion: o} = this.props;
            this.setState({
                suggestions: (c = n == null ? void 0 : n.map( (l, d) => ({
                    description: l.description,
                    placeId: l.place_id,
                    active: !!(o && d === 0),
                    index: d,
                    formattedSuggestion: BI(l.structured_formatting),
                    matchedSubstrings: l.matched_substrings,
                    terms: l.terms,
                    types: l.types
                }))) != null ? c : [],
                hideSuggestions: !1
            })
        }
        ,
        this.fetchPredictions = () => {
            var r;
            const {value: n} = this.props;
            n != null && n.length && (this.setState({
                loading: !0
            }),
            (r = this.autocompleteService) == null || r.getPlacePredictions({
                ...this.props.searchOptions,
                input: n
            }, this.autocompleteCallback))
        }
        ,
        this.clearSuggestions = () => {
            this.setState({
                suggestions: []
            })
        }
        ,
        this.clearActive = () => {
            this.setState({
                suggestions: this.state.suggestions.map(n => ({
                    ...n,
                    active: !1
                }))
            })
        }
        ,
        this.hideSuggestions = () => {
            this.setState({
                ...this.state,
                hideSuggestions: !0
            })
        }
        ,
        this.handleSelect = (n, r, o) => {
            var a, s;
            this.hideSuggestions(),
            this.props.onSelect ? this.props.onSelect(n, r, o) : (s = (a = this.props).onChange) == null || s.call(a, n)
        }
        ,
        this.getActiveSuggestion = () => this.state.suggestions.find(n => n.active),
        this.selectActiveAtIndex = n => {
            var o, a, s;
            const r = (o = this.state.suggestions.find(c => c.index === n)) == null ? void 0 : o.description;
            this.setActiveAtIndex(n),
            (s = (a = this.props).onChange) == null || s.call(a, r)
        }
        ,
        this.selectUserInputValue = () => {
            var n, r;
            this.clearActive(),
            (r = (n = this.props).onChange) == null || r.call(n, this.state.userInputValue)
        }
        ,
        this.handleEnterKey = () => {
            const n = this.getActiveSuggestion();
            n == null ? this.handleSelect(this.props.value, null, null) : this.handleSelect(n.description, n.placeId, n)
        }
        ,
        this.handleDownKey = () => {
            if (this.state.suggestions.length === 0)
                return;
            const n = this.getActiveSuggestion();
            n == null ? this.selectActiveAtIndex(0) : n.index === this.state.suggestions.length - 1 ? this.selectUserInputValue() : this.selectActiveAtIndex(n.index + 1)
        }
        ,
        this.handleUpKey = () => {
            if (this.state.suggestions.length === 0)
                return;
            const n = this.getActiveSuggestion();
            n == null ? this.selectActiveAtIndex(this.state.suggestions.length - 1) : n.index === 0 ? this.selectUserInputValue() : this.selectActiveAtIndex(n.index - 1)
        }
        ,
        this.handleInputKeyDown = n => {
            switch (n.key) {
            case "Enter":
                n.preventDefault(),
                this.handleEnterKey();
                break;
            case "ArrowDown":
                n.preventDefault(),
                this.handleDownKey();
                break;
            case "ArrowUp":
                n.preventDefault(),
                this.handleUpKey();
                break;
            case "Escape":
                this.hideSuggestions();
                break
            }
        }
        ,
        this.setActiveAtIndex = n => {
            this.setState({
                suggestions: this.state.suggestions.map( (r, o) => o === n ? {
                    ...r,
                    active: !0
                } : {
                    ...r,
                    active: !1
                })
            })
        }
        ,
        this.handleInputChange = n => {
            var o, a;
            const {value: r} = n.target;
            if ((a = (o = this.props).onChange) == null || a.call(o, r),
            this.setState({
                userInputValue: r
            }),
            !r) {
                this.clearSuggestions();
                return
            }
            this.props.shouldFetchSuggestions && this.debouncedFetchPredictions()
        }
        ,
        this.handleInputOnBlur = () => {
            this.mousedownOnSuggestion || this.hideSuggestions()
        }
        ,
        this.handleInputOnFocus = () => {
            this.setState({
                ...this.state,
                hideSuggestions: !1
            })
        }
        ,
        this.getActiveSuggestionId = () => {
            const n = this.getActiveSuggestion();
            return n ? `PlacesAutocomplete__suggestion-${n.placeId}` : void 0
        }
        ,
        this.getIsExpanded = () => this.state.suggestions.length > 0,
        this.getInputProps = n => ({
            ...{
                type: "text",
                autoComplete: "off",
                role: "combobox",
                "aria-autocomplete": "list",
                "aria-expanded": this.getIsExpanded(),
                "aria-activedescendant": this.getActiveSuggestionId(),
                disabled: !this.state.ready
            },
            ...n,
            onKeyDown: vi(this.handleInputKeyDown, n == null ? void 0 : n.onKeyDown),
            onBlur: vi(this.handleInputOnBlur, n == null ? void 0 : n.onBlur),
            onFocus: vi(this.handleInputOnFocus, n == null ? void 0 : n.onFocus),
            value: this.props.value,
            onChange: o => {
                this.handleInputChange(o)
            }
        }),
        this.getSuggestionItemProps = (n, r={}) => {
            const o = this.handleSuggestionMouseEnter.bind(this, n.index)
              , a = this.handleSuggestionClick.bind(this, n);
            return {
                ...r,
                key: n.placeId,
                id: this.getActiveSuggestionId(),
                role: "option",
                onMouseEnter: vi(o, r.onMouseEnter),
                onMouseLeave: vi(this.handleSuggestionMouseLeave, r.onMouseLeave),
                onMouseDown: vi(this.handleSuggestionMouseDown, r.onMouseDown),
                onMouseUp: vi(this.handleSuggestionMouseUp, r.onMouseUp),
                onTouchStart: vi(this.handleSuggestionTouchStart, r.onTouchStart),
                onTouchEnd: vi(this.handleSuggestionMouseUp, r.onTouchEnd),
                onClick: vi(a, r.onClick)
            }
        }
        ,
        this.handleSuggestionMouseEnter = n => {
            this.setActiveAtIndex(n)
        }
        ,
        this.handleSuggestionMouseLeave = () => {
            this.mousedownOnSuggestion = !1,
            this.clearActive()
        }
        ,
        this.handleSuggestionMouseDown = n => {
            n.preventDefault(),
            this.mousedownOnSuggestion = !0
        }
        ,
        this.handleSuggestionTouchStart = () => {
            this.mousedownOnSuggestion = !0
        }
        ,
        this.handleSuggestionMouseUp = () => {
            this.mousedownOnSuggestion = !1
        }
        ,
        this.handleSuggestionClick = (n, r) => {
            r && r.preventDefault && r.preventDefault();
            const {description: o, placeId: a} = n;
            this.handleSelect(o, a, n),
            setTimeout( () => {
                this.mousedownOnSuggestion = !1
            }
            )
        }
        ,
        this.state = {
            loading: !1,
            suggestions: [],
            userInputValue: t.value,
            ready: !t.googleCallbackName,
            hideSuggestions: !0
        },
        this.debouncedFetchPredictions = uC(this.fetchPredictions, t.debounce)
    }
    componentDidMount() {
        const {googleCallbackName: t} = this.props;
        t ? window.google && window.google.maps && window.google.maps.places ? this.init() : window[t] = this.init : this.init()
    }
    componentWillUnmount() {
        const {googleCallbackName: t} = this.props;
        t && window[t] && delete window[t]
    }
    shouldComponentUpdate(t, n) {
        let r = !1;
        return Object.keys(this.props).forEach(s => {
            this.props[s] !== t[s] && (r = !0)
        }
        ),
        Object.keys(this.state).forEach(s => {
            this.state[s] !== n[s] && s !== "userInputValue" && (r = !0)
        }
        ),
        r
    }
    render() {
        return this.props.children({
            getInputProps: this.getInputProps,
            getSuggestionItemProps: this.getSuggestionItemProps,
            loading: this.state.loading,
            suggestions: this.state.hideSuggestions ? [] : this.state.suggestions
        })
    }
}
;
zd.defaultProps = {
    onError: (t, n) => console.error(`[react-places-autocomplete]: error happened when fetching data from Google Maps API.
Please check the docs here (https://developers.google.com/maps/documentation/javascript/places#place_details_responses)
Status: `, t),
    searchOptions: {},
    debounce: 200,
    highlightFirstSuggestion: !1,
    shouldFetchSuggestions: !0
};
let Is = zd;
const kf = e => {
    const t = new window.google.maps.Geocoder
      , n = window.google.maps.GeocoderStatus.OK;
    return new Promise( (r, o) => {
        t.geocode({
            placeId: e
        }, (a, s) => {
            s !== n || a == null ? o(s) : r(a)
        }
        )
    }
    )
}
  , fl = ft(I.Color.CoreSlate700).fade(.9).rgb().string();
function Eo(e, t) {
    var s, c, l;
    const n = t.colorPrimary
      , r = t.borderRadius ? t.borderRadius : ln.base
      , o = /(\d+)px/.exec(r);
    let a = r;
    return o && parseInt(o[1], 10) > 4 && (a = ln.rounded),
    $(["font-family:", ";border-radius:", ";border-style:solid;border-width:1px;box-sizing:border-box;display:block;min-width:0;padding:", ";width:100%;height:", ";font-size:", ";font-weight:", ";line-height:", ";outline:0 !important;box-shadow:0 0 0 0 ", ";transition:", ";", ";&::placeholder{font-weight:", ";}&:focus-within{background-color:", ";border-color:", ";color:", ";box-shadow:0 0 0 1px ", ";&::placeholder{color:", ";opacity:0.6;}}&:disabled{background-color:", ";border-color:", ";color:", ";-webkit-text-fill-color:", ";&::placeholder{color:", ";-webkit-text-fill-color:", ";opacity:1;}}"], Gt(t.fontFamily), a, M.inputPadding, Yi.input, qt.input, on.regular, Hn.input, I.Color.CorePurple900, wa.fast, e.hasError ? $(["border-color:", ";background-color:", ";color:", ";&::placeholder{color:", ";opacity:0.7;}"], t.colorError, ft(t.colorError).fade(.97).rgb().string(), t.colorError, t.colorError) : e.hasWarning ? $(["border-color:", ";background-color:", ";color:", ";&::placeholder{color:", ";opacity:0.7;}"], t.colorWarning, ft(t.colorWarning).fade(.97).rgb().string(), t.colorWarning, t.colorWarning) : $(["border-color:", ";background-color:", ";color:", ";&::placeholder{color:", ";opacity:0.6;}"], t.colorInputBorder, t.colorInputBackground, (s = t.colorFont) != null ? s : I.Color.CoreSlate1000, (c = t.colorFont) != null ? c : I.Color.CoreSlate1000), on.regular, t.colorInputBackground, n, t.colorFont ? t.colorFont : I.Color.CoreSlate1000, n, (l = t.colorFont) != null ? l : I.Color.CoreSlate1000, fl, I.Color.CoreSlate200, I.Color.CoreSlate900, I.Color.CoreSlate900, I.Color.CoreSlate800, I.Color.CoreSlate800)
}
const Fi = $(["margin-bottom:", ";", ""], I.Spacing[4], D.isDashboardFLE && $(["pointer-events:visible;"]))
  , ur = e => {
    var t, n;
    return $(["", " margin:", ";"], Fi, Bp((n = (t = e == null ? void 0 : e.margin) == null ? void 0 : t.base) == null ? void 0 : n.base))
}
;
$(["margin-bottom:", ";padding-top:", ";"], I.Spacing[2], I.Spacing[2]);
const ko = $(["margin-bottom:", ";position:relative;padding-top:", ";"], I.Spacing[2], I.Spacing[4])
  , No = $(["color:", ";font-size:", ";margin-top:", ";"], ({theme: e}) => e.colorError, ({theme: e}) => e.fontSizeSmall, I.Spacing[2])
  , VI = e => {
    var t, n, r, o, a, s, c, l;
    return $(["", " color:", ";font-family:", ";font-size:", ";font-weight:", ";"], No, A((n = (t = e == null ? void 0 : e["text-color"]) == null ? void 0 : t.error) == null ? void 0 : n.base), Gt((o = (r = e == null ? void 0 : e["font-family"]) == null ? void 0 : r.error) == null ? void 0 : o.base), k((s = (a = e == null ? void 0 : e["font-size"]) == null ? void 0 : a.error) == null ? void 0 : s.base), Qn((l = (c = e == null ? void 0 : e["font-weight"]) == null ? void 0 : c.error) == null ? void 0 : l.base))
}
  , Ks = $(["label,legend{", ";font-weight:500;font-family:inherit;margin-bottom:", ";transition-duration:", ";}&:focus-within label{color:", ";}"], Ni.sm, I.Spacing[2], tt.Fast, ({theme: e}) => e.colorPrimary)
  , Dn = e => {
    var t, n, r, o, a, s, c, l, d, u;
    return $(["", " label,legend{color:", ";font-family:", ";font-size:", ";font-weight:", ";}&:focus-within label{color:", ";}"], Ks, A((n = (t = e == null ? void 0 : e["text-color"]) == null ? void 0 : t.label) == null ? void 0 : n.base), Gt((o = (r = e == null ? void 0 : e["font-family"]) == null ? void 0 : r.label) == null ? void 0 : o.base), k((s = (a = e == null ? void 0 : e["font-size"]) == null ? void 0 : a.label) == null ? void 0 : s.base), Qn((l = (c = e == null ? void 0 : e["font-weight"]) == null ? void 0 : c.label) == null ? void 0 : l.base), A((u = (d = e == null ? void 0 : e["text-color"]) == null ? void 0 : d.label) == null ? void 0 : u.focused))
}
  , $a = e => {
    var t, n, r, o, a, s, c, l, d, u, m, h, p, b, C, S, v, x, _, R;
    return {
        BASE: $(["&::placeholder{color:", ";font-family:", ";font-size:", ";font-weight:", ";line-height:", ";letter-spacing:", ";opacity:1;}"], A((n = (t = e == null ? void 0 : e["text-color"]) == null ? void 0 : t.placeholder) == null ? void 0 : n.base), Gt((o = (r = e == null ? void 0 : e["font-family"]) == null ? void 0 : r.placeholder) == null ? void 0 : o.base), k((s = (a = e == null ? void 0 : e["font-size"]) == null ? void 0 : a.placeholder) == null ? void 0 : s.base), Qn((l = (c = e == null ? void 0 : e["font-weight"]) == null ? void 0 : c.placeholder) == null ? void 0 : l.base), k((u = (d = e == null ? void 0 : e["line-height"]) == null ? void 0 : d.placeholder) == null ? void 0 : u.base), k((h = (m = e == null ? void 0 : e["letter-spacing"]) == null ? void 0 : m.placeholder) == null ? void 0 : h.base)),
        ERRORED: $(["&::placeholder{color:", ";opacity:1;}"], A((b = (p = e == null ? void 0 : e["text-color"]) == null ? void 0 : p.placeholder) == null ? void 0 : b.errored)),
        FOCUSED: $(["&::placeholder{color:", ";opacity:1;}"], A((S = (C = e == null ? void 0 : e["text-color"]) == null ? void 0 : C.placeholder) == null ? void 0 : S.focused)),
        DISABLED: $(["&::placeholder{color:", ";-webkit-text-fill-color:", ";opacity:1;}"], A((x = (v = e == null ? void 0 : e["text-color"]) == null ? void 0 : v.placeholder) == null ? void 0 : x.disabled), A((R = (_ = e == null ? void 0 : e["text-color"]) == null ? void 0 : _.placeholder) == null ? void 0 : R.disabled))
    }
}
  , UI = ({styles: e, error: t=!1, themeErrorColor: n}) => {
    var r, o, a, s, c, l, d, u, m, h, p, b, C, S, v, x, _, R, E, T, F, O, N, U, V, ne, L, H, q, ee, Y, ae, se, _e, Re, ye, Pe, Ae, Te, be, re, z, Z, xe, we, Ye, qe, Ce, W, oe;
    return $(["outline:0 !important;transition:", ";box-shadow:0 0 0 0;font-family:", ";font-size:", ";font-weight:", ";line-height:", ";letter-spacing:", ";border-radius:", ";border-width:", ";color:", ";background-color:", ";border-color:", ";box-shadow:", " ", " 0 ", ";", ";", " &:focus-within{color:", ";background-color:", ";border-color:", ";", " ", ";}&:disabled{color:", ";-webkit-text-fill-color:", ";background-color:", ";border-color:", ";", ";}"], tt.Fast, Gt((o = (r = e == null ? void 0 : e["font-family"]) == null ? void 0 : r.base) == null ? void 0 : o.base), k((s = (a = e == null ? void 0 : e["font-size"]) == null ? void 0 : a.value) == null ? void 0 : s.base), Qn((l = (c = e == null ? void 0 : e["font-weight"]) == null ? void 0 : c.value) == null ? void 0 : l.base), k((u = (d = e == null ? void 0 : e["line-height"]) == null ? void 0 : d.value) == null ? void 0 : u.base), k((h = (m = e == null ? void 0 : e["letter-spacing"]) == null ? void 0 : m.base) == null ? void 0 : h.base), k((b = (p = e == null ? void 0 : e["border-radius"]) == null ? void 0 : p.base) == null ? void 0 : b.base), Bp((S = (C = e == null ? void 0 : e["border-width"]) == null ? void 0 : C.base) == null ? void 0 : S.base), A((x = (v = e == null ? void 0 : e["text-color"]) == null ? void 0 : v.value) == null ? void 0 : x.base), A((R = (_ = e == null ? void 0 : e["background-color"]) == null ? void 0 : _.base) == null ? void 0 : R.base), A((T = (E = e == null ? void 0 : e["border-color"]) == null ? void 0 : E.base) == null ? void 0 : T.base), Qx((O = (F = e == null ? void 0 : e["shadow-offset"]) == null ? void 0 : F.base) == null ? void 0 : O.base), k((U = (N = e == null ? void 0 : e["shadow-radius"]) == null ? void 0 : N.base) == null ? void 0 : U.base), A((ne = (V = e == null ? void 0 : e["shadow-color"]) == null ? void 0 : V.base) == null ? void 0 : ne.base), $a(e).BASE, t && $(["color:", ";background-color:", ";border-color:", ";", ";"], A((H = (L = e == null ? void 0 : e["text-color"]) == null ? void 0 : L.value) == null ? void 0 : H.errored), (ee = A((q = e == null ? void 0 : e["background-color"]) == null ? void 0 : q.base.errored)) != null ? ee : ft(n).fade(.97).rgb().string(), A((ae = (Y = e == null ? void 0 : e["border-color"]) == null ? void 0 : Y.base) == null ? void 0 : ae.errored), $a(e).ERRORED), A((_e = (se = e == null ? void 0 : e["text-color"]) == null ? void 0 : se.value) == null ? void 0 : _e.focused), A((ye = (Re = e == null ? void 0 : e["background-color"]) == null ? void 0 : Re.base) == null ? void 0 : ye.focused), A((Ae = (Pe = e == null ? void 0 : e["border-color"]) == null ? void 0 : Pe.base) == null ? void 0 : Ae.focused), A((be = (Te = e == null ? void 0 : e["border-color"]) == null ? void 0 : Te.base) == null ? void 0 : be.focused) && $(["box-shadow:0 0 0 1px ", ";"], A((z = (re = e == null ? void 0 : e["border-color"]) == null ? void 0 : re.base) == null ? void 0 : z.focused)), $a(e).FOCUSED, A((xe = (Z = e == null ? void 0 : e["text-color"]) == null ? void 0 : Z.value) == null ? void 0 : xe.disabled), A((Ye = (we = e == null ? void 0 : e["text-color"]) == null ? void 0 : we.value) == null ? void 0 : Ye.disabled), A((Ce = (qe = e == null ? void 0 : e["background-color"]) == null ? void 0 : qe.base) == null ? void 0 : Ce.disabled), A((oe = (W = e == null ? void 0 : e["border-color"]) == null ? void 0 : W.base) == null ? void 0 : oe.disabled), $a(e).DISABLED)
}
  , _r = (e, t, n) => $(["", " ", ""], Eo(e, t), n != null && UI({
    styles: n,
    error: e.hasError,
    themeErrorColor: t.colorError
}))
  , bd = $(["font-family:", ";font-size:", ";font-weight:", ";line-height:", ";letter-spacing:", ";position:absolute;pointer-events:none;left:", ";top:", ";transition:", " ease all;", " &&& label{margin-bottom:0;font-size:inherit;font-weight:inherit;line-height:inherit;color:inherit;}"], ({styles: e, theme: t}) => {
    var n, r, o;
    return (o = Gt((r = (n = e == null ? void 0 : e["font-family"]) == null ? void 0 : n.placeholder) == null ? void 0 : r.base)) != null ? o : t.fontFamily
}
, ({styles: e}) => {
    var t, n, r;
    return (r = k((n = (t = e == null ? void 0 : e["font-size"]) == null ? void 0 : t.placeholder) == null ? void 0 : n.base)) != null ? r : qt.input
}
, ({styles: e}) => {
    var t, n, r;
    return (r = Qn((n = (t = e == null ? void 0 : e["font-weight"]) == null ? void 0 : t.placeholder) == null ? void 0 : n.base)) != null ? r : on.regular
}
, ({styles: e}) => {
    var t, n, r;
    return (r = k((n = (t = e == null ? void 0 : e["line-height"]) == null ? void 0 : t.placeholder) == null ? void 0 : n.base)) != null ? r : Hn.input
}
, ({styles: e}) => {
    var t, n;
    return k((n = (t = e == null ? void 0 : e["letter-spacing"]) == null ? void 0 : t.placeholder) == null ? void 0 : n.base)
}
, I.Spacing[1], I.Spacing[2], tt.Fast, ({styles: e, theme: t, hasError: n, hasWarning: r, focused: o}) => {
    var s, c, l, d, u, m, h, p, b;
    let a;
    return n ? a = (l = A((c = (s = e == null ? void 0 : e["text-color"]) == null ? void 0 : s.error) == null ? void 0 : c.base)) != null ? l : t.colorError : r ? a = t.colorWarning : a = (m = A((u = (d = e == null ? void 0 : e["text-color"]) == null ? void 0 : d.label) == null ? void 0 : u.focused)) != null ? m : t.colorPrimary,
    o ? $(["color:", ";"], a) : $(["color:", ";*:focus ~ &{color:", ";}"], (b = A((p = (h = e == null ? void 0 : e["border-color"]) == null ? void 0 : h.base) == null ? void 0 : p.base)) != null ? b : t.colorInputBorder, a)
}
)
  , Cd = $(["font-family:", ";font-size:", ";font-weight:", ";line-height:", ";padding:", " ", " ", " ", ";width:100%;display:block;border:none;border-bottom:1px solid;border-radius:0;background-color:", ";color:", ";transition:", " ease border-color;", ""], ({styles: e, theme: t}) => {
    var n, r, o;
    return Gt((o = (r = (n = e == null ? void 0 : e["font-family"]) == null ? void 0 : n.base) == null ? void 0 : r.base) != null ? o : t.fontFamily)
}
, ({styles: e}) => {
    var t, n, r;
    return (r = k((n = (t = e == null ? void 0 : e["font-size"]) == null ? void 0 : t.value) == null ? void 0 : n.base)) != null ? r : qt.input
}
, ({styles: e}) => {
    var t, n, r;
    return (r = (n = (t = e == null ? void 0 : e["font-weight"]) == null ? void 0 : t.value) == null ? void 0 : n.base) != null ? r : on.regular
}
, ({styles: e}) => {
    var t, n, r;
    return (r = k((n = (t = e == null ? void 0 : e["line-height"]) == null ? void 0 : t.value) == null ? void 0 : n.base)) != null ? r : Hn.input
}
, I.Spacing[2], I.Spacing[2], I.Spacing[2], I.Spacing[1], ({styles: e, theme: t}) => {
    var n, r, o;
    return (o = A((r = (n = e == null ? void 0 : e["background-color"]) == null ? void 0 : n.base) == null ? void 0 : r.base)) != null ? o : t.colorInputBackground
}
, ({styles: e, theme: t}) => {
    var n, r, o;
    return (o = A((r = (n = e == null ? void 0 : e["text-color"]) == null ? void 0 : n.value) == null ? void 0 : r.base)) != null ? o : t.colorFont
}
, tt.Fast, ({styles: e, theme: t, hasError: n, hasWarning: r, focused: o}) => {
    var s, c, l, d, u, m, h, p, b;
    let a;
    return n ? a = (l = A((c = (s = e == null ? void 0 : e["border-color"]) == null ? void 0 : s.base) == null ? void 0 : c.errored)) != null ? l : t.colorError : r ? a = t.colorWarning : a = (m = A((u = (d = e == null ? void 0 : e["border-color"]) == null ? void 0 : d.base) == null ? void 0 : u.focused)) != null ? m : t.colorPrimary,
    o ? $(["border-color:", ";"], a) : $(["border-color:", ";*:focus{outline:none;border-color:", ";}"], (b = A((p = (h = e == null ? void 0 : e["border-color"]) == null ? void 0 : h.base) == null ? void 0 : p.base)) != null ? b : t.colorInputBorder, a)
}
)
  , xd = parseInt(qt.input) * Hn.input + Cn * 2
  , HI = g("input").withConfig({
    displayName: "MaterialInput__Input",
    componentId: "sc-25ma2t-0"
})(["", ""], Cd)
  , qI = g(X).withConfig({
    displayName: "MaterialInput__StyledMarkdown",
    componentId: "sc-25ma2t-1"
})(["", " ", ";"], bd, ({hasError: e, hasValue: t}) => (e || t) && $(["top:-14px;font-size:", ";"], qt.small))
  , $I = g("div").withConfig({
    displayName: "MaterialInput__Container",
    componentId: "sc-25ma2t-2"
})(["position:relative;"]);
function or({className: e, focused: t, hasError: n, hasWarning: r, labelText: o, styles: a, ...s}) {
    return i.jsxs($I, {
        className: e,
        children: [i.jsx(HI, {
            focused: t,
            hasError: n,
            hasWarning: r,
            spellCheck: !1,
            styles: a,
            ...s
        }), i.jsx(qI, {
            wrapper: "label",
            wrapperProps: {
                htmlFor: s.id
            },
            focused: t,
            hasError: n,
            hasValue: !!s.value,
            hasWarning: r,
            styles: a,
            children: o
        })]
    })
}
const GI = g.div.withConfig({
    displayName: "FormError__FormErrorContainer",
    componentId: "sc-1p5wybl-0"
})(["", " display:", ";"], ({styles: e}) => VI(e), ({hasError: e}) => e ? null : "none")
  , an = e => {
    const {errorMessage: t, hasError: n, styles: r, ...o} = e;
    return i.jsx(GI, {
        "aria-live": "polite",
        role: "alert",
        hasError: n,
        styles: r,
        ...o,
        children: t
    })
}
;
var Rt = (e => (e.Outlined = "outlined",
e.Material = "material",
e))(Rt || {});
const WI = g("div").withConfig({
    displayName: "ThemedFormInput__OutlinedContainer",
    componentId: "sc-zw49yf-0"
})(["", " ", ""], ({styles: e}) => ur(e), ({styles: e}) => Dn(e))
  , YI = g("div").withConfig({
    displayName: "ThemedFormInput__MaterialContainer",
    componentId: "sc-zw49yf-1"
})(["", ""], ko)
  , Vi = e => {
    const {className: t, input: n, meta: {error: r, submitFailed: o}, autoFocus: a, label: s, placeholder: c, id: l, styles: d, "data-test": u="form", serverError: m, ...h} = e
      , {inputStyle: p} = f.useContext(Je)
      , b = o && r || m
      , C = !!b;
    switch (p) {
    case Rt.Material:
        return i.jsxs(YI, {
            className: t,
            children: [i.jsx(or, {
                labelText: s || c,
                ...n,
                ...h,
                autoFocus: a,
                hasError: C,
                "aria-invalid": C,
                "aria-errormessage": `${l}--error`,
                "aria-describedby": `${l}--error`,
                id: l,
                "data-test": u,
                styles: d
            }), i.jsx(an, {
                id: `${l}--error`,
                "data-test": `${u}-error`,
                hasError: C,
                errorMessage: b,
                styles: d
            })]
        });
    case Rt.Outlined:
    default:
        return i.jsxs(WI, {
            className: t,
            styles: d,
            children: [s && i.jsx(X, {
                wrapper: "label",
                wrapperProps: {
                    htmlFor: l
                },
                children: s
            }), i.jsx(Ss, {
                ...n,
                ...h,
                autoFocus: a,
                hasError: C,
                "aria-invalid": C,
                "aria-errormessage": `${l}--error`,
                "aria-describedby": `${l}--error`,
                id: l,
                placeholder: c,
                "data-test": u,
                styles: d
            }), i.jsx(an, {
                id: `${l}--error`,
                "data-test": `${u}-error`,
                hasError: C,
                errorMessage: b,
                styles: d
            })]
        })
    }
}
  , zI = g("input").attrs({
    spellCheck: !1
}).withConfig({
    displayName: "ThemedFormInputBase__ThemedFormInputBaseInner",
    componentId: "sc-1apa5v6-0"
})(["", ";"], e => _r(e, e.theme, e.styles));
function Ss(e) {
    return i.jsx(zI, {
        ...e
    })
}
const Nf = si(e => {
    var t;
    return (t = e.locale) == null ? void 0 : t.localeInfo
}
, e => e != null && e.latitude && (e != null && e.longitude) ? {
    lat: e.latitude,
    lng: e.longitude
} : void 0)
  , KI = g("div").withConfig({
    displayName: "LocationSearchInput__DropdownWrapper",
    componentId: "sc-1ddacib-0"
})(["position:relative;margin-bottom:", ";& > div{margin-bottom:0;}"], ({styles: e}) => {
    var t;
    return k((t = e == null ? void 0 : e.margin.base.base) == null ? void 0 : t.bottom)
}
)
  , QI = g("div").withConfig({
    displayName: "LocationSearchInput__MaterialDropdownWrapper",
    componentId: "sc-1ddacib-1"
})(["position:relative;margin-bottom:", ";& > div{margin-bottom:0;}"], ({styles: e}) => {
    var t;
    return k((t = e == null ? void 0 : e.margin.base.base) == null ? void 0 : t.bottom)
}
)
  , ZI = g("div").withConfig({
    displayName: "LocationSearchInput__DropdownContainer",
    componentId: "sc-1ddacib-2"
})(["background-color:", ";border:1px solid ", ";position:absolute;z-index:", ";width:100%;", ""], ({theme: e}) => e.colorDropdownBackground, I.Color.CoreSlate400, wt.dropdown, ({openUpwards: e}) => e && `bottom: ${Yi.input}`)
  , JI = new Set(["AT", "CH", "CZ", "DE", "HU", "SK"])
  , jf = g("div").withConfig({
    displayName: "LocationSearchInput__DropdownItem",
    componentId: "sc-1ddacib-3"
})(["cursor:pointer;padding:", ";&:hover,&:focused{background-color:", ";}", ";"], I.Spacing[2], ({theme: e}) => e.colorDropdownOption, e => e.active && $(["background-color:", ";"], ({theme: t}) => t.colorDropdownOption))
  , Ga = ({selectedCountryCode: e, onChange: t, input: n, setField: r, fieldKeyAddressStreet1: o, fieldKeyAddressStreet2: a, fieldKeyAddressCity: s, fieldKeyAddressSubdivision: c, fieldKeyAddressPostalCode: l, fieldKeyAddressBusinessName: d, showBusinessNameField: u, placeType: m, ...h}) => {
    const [p,{enable: b, disable: C}] = rt()
      , S = st(Nf)
      , {inputStyle: v} = f.useContext(Je)
      , x = {
        componentRestrictions: {
            country: e
        },
        types: m != null ? [m] : void 0,
        ...S && window.google ? {
            location: new window.google.maps.LatLng(S),
            radius: 4e3
        } : {}
    }
      , _ = ({getInputProps: N, suggestions: U, getSuggestionItemProps: V, loading: ne}) => {
        const H = (p ? U : []).map(ee => f.createElement(jf, {
            ...V(ee, {
                key: ee.description,
                active: ee.active
            }),
            key: ee.placeId
        }, ee.description))
          , q = i.jsxs(i.Fragment, {
            children: [i.jsx(Vi, {
                input: n,
                id: n.name,
                ...N({
                    name: n.name,
                    onBlur: F,
                    onFocus: O
                }),
                ...h
            }), i.jsx(XI, {
                loading: ne,
                children: H
            })]
        });
        switch (v) {
        case Rt.Material:
            return i.jsx(QI, {
                styles: h.styles,
                children: q
            });
        case Rt.Outlined:
        default:
            return i.jsx(KI, {
                styles: h.styles,
                children: q
            })
        }
    }
      , R = N => {
        [google.maps.places.PlacesServiceStatus.ZERO_RESULTS, google.maps.places.PlacesServiceStatus.UNKNOWN_ERROR, google.maps.places.PlacesServiceStatus.REQUEST_DENIED, google.maps.places.PlacesServiceStatus.OVER_QUERY_LIMIT].includes(N) || Be("Google Maps API returned error with status: " + N)
    }
      , E = N => {
        n.onChange(N)
    }
      , T = async (N, U) => {
        if (!U)
            return;
        let V;
        try {
            V = await kf(U)
        } catch (ae) {
            R(ae)
        }
        const ne = V[0].address_components
          , L = (ae, se=!1) => {
            const _e = ne.filter(Re => Re.types.indexOf(ae) !== -1);
            return _e.length > 0 ? se ? _e[0].short_name : _e[0].long_name : ""
        }
        ;
        if (u) {
            const ae = N == null ? void 0 : N.split(",")[0];
            r(d, ae)
        }
        const H = L("street_number")
          , q = L("route")
          , ee = L("premise")
          , Y = L("subpremise");
        if (H) {
            const ae = JI.has(e == null ? void 0 : e.toUpperCase()) ? [q, H] : [H, q];
            r(o, ae.filter(se => se).join(" ")),
            r(a, Y)
        } else
            ee && !q ? (r(o, ee),
            r(a, Y)) : r(o, [Y, q].filter(ae => ae).join(" "));
        r(s, L("locality") || L("sublocality_level_1") || L("administrative_area_level_2") || L("neighborhood")),
        r(c, L("administrative_area_level_1")),
        r(l, L("postal_code"))
    }
      , F = N => {
        var U;
        C(),
        (U = n.onBlur) == null || U.call(n, N)
    }
      , O = N => {
        var U;
        b(),
        (U = n.onFocus) == null || U.call(n, N)
    }
    ;
    return i.jsx(Is, {
        onChange: E,
        onError: R,
        value: n.value,
        onSelect: T,
        searchOptions: x,
        googleCallbackName: "onGoogleMapsLoaded",
        children: _
    })
}
  , XI = ({loading: e, children: t}) => {
    const [n,r] = f.useState(!1)
      , o = f.useRef()
      , a = f.Children.count(t);
    return f.useLayoutEffect( () => {
        if (o.current == null || o.current.offsetParent == null)
            return;
        const c = o.current.offsetParent.getBoundingClientRect().bottom + o.current.getBoundingClientRect().height;
        r(document.documentElement.clientHeight < c)
    }
    , [a]),
    a === 0 ? null : i.jsxs(ZI, {
        ref: o,
        openUpwards: n,
        children: [e && i.jsx(jf, {
            active: !1,
            children: "Loading..."
        }), t]
    })
}
  , Zt = e => e === "" ? null : e
  , Pf = e => t => Ft(t) || t.length === e
  , eS = e => t => Ft(t) || t.length <= e
  , bn = e => !Ft(e)
  , tS = e => {
    if (!e)
        return !1;
    const t = Date.parse(e);
    if (isNaN(t))
        return !1;
    const r = new Date(t).toISOString().split("T")[0];
    return !Ft(e) && r === e.split("T")[0]
}
  , nS = e => {
    if (!e)
        return !0;
    const t = e;
    return Ft(t.month) && Ft(t.day) && Ft(t.year) || !Ft(t.month) && !Ft(t.day) && !Ft(t.year) && $n.local(t.year, t.month, t.day).isValid
}
  , iS = e => e ? typeof e == "string" ? $n.local().diff($n.fromISO(e), "years").years < 100 : $n.local().diff($n.fromObject(e), "years").years < 100 : !1
  , rS = e => e ? typeof e == "string" ? $n.local().diff($n.fromISO(e), "years").years > 1 : $n.local().diff($n.fromObject(e), "years").years > 1 : !1
  , Df = e => e == null || e === "" ? !0 : h0(e)
  , ar = e => t => Ft(t) || e.test(t)
  , dt = (e, t) => (n, r) => t(n, r) ? null : e
  , Of = (e, t) => (n, r) => {
    const o = n == null ? void 0 : n.replace(e, "");
    return t(o, r)
}
  , Qs = $(["content:'';position:absolute;right:", ";top:50%;border-left:5px solid transparent;border-right:5px solid transparent;border-top:6px solid ", ";transform:translateY(-50%);"], I.Spacing[4], I.Color.CoreSlate800)
  , Lf = g("select").withConfig({
    displayName: "MaterialSelect__Select",
    componentId: "sc-i6stps-0"
})(["appearance:none;&::-ms-expand{display:none;}background-color:", ";font-family:", ";font-size:", ";font-weight:", ";line-height:", ";color:", ";padding:", "px 0px ", "px ", "px;border-bottom:", ";border-radius:0;", ";&:focus{outline:none;border-color:", ";}position:relative;width:100%;background-color:", ";"], Fe.white, ({theme: {fontFamily: e}}) => Gt(e), qt.input, on.regular, Hn.input, ({theme: e}) => e.colorFont, M.base, M.base, M.base / 2, ({theme: e}) => `1px solid ${e.colorInputBorder}`, ({theme: e, hasError: t}) => t && `border-color: ${e.colorError}`, ({theme: e, hasError: t, hasWarning: n}) => t ? e.colorError : n ? e.colorWarning : e.colorPrimary, ({theme: e}) => e.colorInputBackground)
  , oS = g("div").withConfig({
    displayName: "MaterialSelect__Wrapper",
    componentId: "sc-i6stps-1"
})(["position:relative;width:100%;&::after{", ";right:", "px;}"], Qs, M.base)
  , aS = g(X).withConfig({
    displayName: "MaterialSelect__StyledMarkdown",
    componentId: "sc-i6stps-2"
})(["font-weight:", ";line-height:", ";color:", ";position:absolute;pointer-events:none;left:", "px;transition:", " ease all;top:-14px;font-size:", ";label{margin-bottom:0;font-size:inherit;font-weight:inherit;line-height:inherit;color:inherit;}", ";", "", " ~ &{color:", ";}"], on.regular, Hn.input, ({theme: e}) => e.colorInputBorder, M.base / 2, wa.fast, qt.small, ({theme: e, hasError: t}) => t && `color: ${e.colorError};`, Lf, Hi, ({theme: e, hasError: t, hasWarning: n}) => t ? e.colorError : n ? e.colorWarning : e.colorPrimary)
  , Ff = ({labelText: e, hasError: t, hasWarning: n, className: r, ...o}) => i.jsxs(oS, {
    className: r,
    children: [i.jsx(Lf, {
        hasError: t,
        hasWarning: n,
        ...o
    }), i.jsx(aS, {
        wrapper: "label",
        wrapperProps: {
            htmlFor: o.id
        },
        hasError: t,
        hasWarning: n,
        children: e
    })]
})
  , sS = g("select").withConfig({
    displayName: "Select__InnerSelect",
    componentId: "sc-bkgd00-0"
})(["", ";appearance:none;&::-ms-expand{display:none;}color:", ";height:", ";padding-top:", "px;padding-bottom:", "px;padding-left:", "px;padding-right:", "px;", " ", ""], e => Eo(e, e.theme), ({theme: e}) => {
    var t;
    return (t = e.colorFont) != null ? t : Fe.gray20
}
, Yi.input, M.base, M.base, M.base * 2, M.base * 4, ({isSelectingPlaceholder: e, theme: t}) => {
    var n;
    return e && $(["font-weight:", ";color:", ";"], on.regular, ft((n = t.colorFont) != null ? n : Fe.gray100).fade(.5).rgb().string())
}
, ({hasError: e, theme: t, value: n}) => {
    var o;
    const r = ft((o = t.colorError) != null ? o : I.Color.CoreRed900).rgb();
    return e && (n == null || n === "") && $(["color:", ";-webkit-text-fill-color:", ";"], `rgba(${r.red()}, ${r.green()}, ${r.blue()}, 0.7)`, `rgba(${r.red()}, ${r.green()}, ${r.blue()}, 0.7)`)
}
)
  , cS = g("div").withConfig({
    displayName: "Select__Wrapper",
    componentId: "sc-bkgd00-1"
})(["position:relative;"])
  , lS = g(Gl).withConfig({
    displayName: "Select__StyledIconCaretDown",
    componentId: "sc-bkgd00-2"
})(["position:absolute;right:", "px;top:50%;transform:translateY(-50%);display:inline-block;pointer-events:none;rect[fill],path[fill]{fill:", ";}"], M.base * 2, ({theme: e}) => {
    var t;
    return (t = e.colorFont) != null ? t : Fe.gray50
}
)
  , Zs = ({value: e, ...t}) => i.jsxs(cS, {
    children: [i.jsx(sS, {
        ...t,
        value: e,
        isSelectingPlaceholder: e === ""
    }), i.jsx(lS, {})]
})
  , Nu = g("div").withConfig({
    displayName: "ThemedFormSelect__Container",
    componentId: "sc-8hgqfp-0"
})(["margin-bottom:", "px;", ";text-transform:capitalize;"], M.base * 2, ({inputStyle: e}) => e === Rt.Material ? `padding-top: ${M.base * 2}px;` : "")
  , dS = g("div").withConfig({
    displayName: "ThemedFormSelect__OutlinedLabelContainer",
    componentId: "sc-8hgqfp-1"
})(["", ""], Ks)
  , ju = g("div").withConfig({
    displayName: "ThemedFormSelect__FormError",
    componentId: "sc-8hgqfp-2"
})(["", ";padding-left:", "px;"], No, M.base);
function Mf(e) {
    const {id: t, input: n, label: r, serverError: o, meta: {error: a, submitFailed: s}, ...c} = e
      , {inputStyle: l} = f.useContext(Je)
      , d = s && a || o
      , u = !!d;
    switch (l) {
    case Rt.Material:
        return i.jsxs(Nu, {
            inputStyle: l,
            children: [i.jsx(Ff, {
                ...n,
                ...c,
                hasError: u,
                labelText: r
            }), u && i.jsx(ju, {
                role: "alert",
                children: d
            })]
        });
    default:
    case Rt.Outlined:
        return i.jsxs(dS, {
            children: [r && i.jsx(X, {
                wrapper: "label",
                wrapperProps: {
                    htmlFor: t
                },
                children: r
            }), i.jsxs(Nu, {
                inputStyle: l,
                children: [i.jsx(Zs, {
                    ...n,
                    ...c,
                    id: t,
                    hasError: u
                }), u && i.jsx(ju, {
                    role: "alert",
                    children: d
                })]
            })]
        })
    }
}
const uS = g("div").withConfig({
    displayName: "ThemedFormAddressInput__Container",
    componentId: "sc-tr0su4-0"
})(["", " ", ""], ({styles: e}) => ur(e), ({styles: e}) => Dn(e))
  , mS = g("div").withConfig({
    displayName: "ThemedFormAddressInput__ExpandedContainer",
    componentId: "sc-tr0su4-1"
})(["", " ", " margin-bottom:0;"], ({styles: e}) => ur(e), ({styles: e}) => Dn(e))
  , hS = ({fieldKeyAddressStreet1: e, fieldKeyAddressStreet2: t, fieldKeyAddressCity: n, fieldKeyAddressSubdivision: r, fieldKeyAddressPostalCode: o, fieldKeyAddressBusinessName: a, editAddressManuallyPrompt: s, label: c, placeholderAddressStreet1: l, placeholderAddressStreet2: d, placeholderAddressCity: u, placeholderAddressSubdivision: m, placeholderAddressSubdivisionUs: h, placeholderAddressPostalCode: p, placeholderAddressPostalCodeUs: b, placeholderAddressBusinessName: C, placeholderAutocomplete: S, placeholderAutocompletePostalCode: v, validateAddressStreet1: x, validateAddressStreet2: _, validateAddressCity: R, validateAddressSubdivision: E, validateAddressPostalCode: T, validateAddressBusinessName: F, serverErrorAddressStreet1: O, serverErrorAddressStreet2: N, serverErrorAddressCity: U, serverErrorAddressSubdivision: V, serverErrorAddressPostalCode: ne, serverErrorAddressBusinessName: L, setField: H, selectedCountryCode: q, forceOpen: ee, addressAutocompleteMethod: Y, placeType: ae, disabled: se, optional: _e, showBusinessNameField: Re, styles: ye}) => {
    const [Pe,Ae] = f.useState(!1)
      , Te = f.useContext(Je)
      , be = f.useMemo( () => ({
        autocompleteClosed: _e ? [] : [dt("Fill out the details of your current address", () => !1)],
        addressStreet1: x,
        addressStreet2: _,
        addressCity: R,
        addressSubdivision: E,
        addressPostalCode: T,
        addressBusinessName: F
    }), [x, _, R, E, T, F, _e])
      , re = Ms.includes(q)
      , z = re ? o : e
      , Z = re ? v : S
      , xe = q === "US" ? b : p
      , we = () => {
        if (Pe || ee || Y === rs.None)
            return W();
        {
            const Ve = Te.inputStyle === Rt.Outlined ? Z : c;
            return i.jsxs(uS, {
                styles: ye,
                children: [i.jsx(Se.Field, {
                    "data-test": "address-street-1",
                    selectedCountryCode: q,
                    fieldKeyAddressStreet1: e,
                    fieldKeyAddressStreet2: t,
                    fieldKeyAddressCity: n,
                    fieldKeyAddressSubdivision: r,
                    fieldKeyAddressPostalCode: o,
                    fieldKeyAddressBusinessName: a,
                    showBusinessNameField: Re,
                    name: z,
                    id: z,
                    setField: qe,
                    component: Ga,
                    disabled: se,
                    type: "text",
                    parse: Zt,
                    validate: be.autocompleteClosed,
                    placeholder: Ve,
                    placeType: ae,
                    styles: ye
                }), !se && s && i.jsx("a", {
                    id: "address_input_section__manual_edit",
                    "data-test": "address_input_section__manual_edit",
                    onClick: oe,
                    tabIndex: 0,
                    children: s
                })]
            })
        }
    }
      , Ye = (Ve, ve, Le, me, Ne, bt, St) => {
        switch (Ve) {
        case "AR":
        case "GL":
        case "IS":
            return [[St], [ve], [Le], [bt, me]];
        case "AT":
        case "BE":
        case "DK":
            return [[St], [ve, Le], [bt, me]];
        case "BR":
        case "CR":
            return [[St], [ve, Le], [me, Ne], [bt]];
        case "CA":
            return [[St], [Le, ve], [me, Ne, bt]];
        case "CN":
            return [[St], [Le], [ve, me], [Ne, bt]];
        case "IT":
            return [[St], [ve, Le], [bt, me, Ne]];
        case "AU":
        case "GB":
        case "PH":
        case "US":
            return [[St], [ve, Le], [me, Ne, bt]];
        case "FI":
        case "FR":
        case "DE":
        case "IL":
            return [[St], [ve, Le], [bt, me]];
        case "JP":
        case "KR":
            return [[St], [ve, Le], [me, bt]];
        case "IN":
            return [[St], [Le], [ve], [me, bt]];
        case "FJ":
            return [[St], [ve, Le], [me]];
        case "HK":
            return [[St], [Le], [ve], [me]];
        case "EE":
        case "CZ":
        case "TW":
        case "ID":
        default:
            return [[St], [ve, Le], [me, bt]]
        }
    }
      , qe = (Ve, ve) => {
        H(Ve, Zt(ve)),
        Ae(!0)
    }
      , Ce = () => z === o ? i.jsx(Se.Field, {
        "data-test": "address-postal-code",
        autoComplete: "postal-code",
        selectedCountryCode: q,
        fieldKeyAddressStreet1: e,
        fieldKeyAddressStreet2: t,
        fieldKeyAddressCity: n,
        fieldKeyAddressSubdivision: r,
        fieldKeyAddressPostalCode: o,
        fieldKeyAddressBusinessName: a,
        showBusinessNameField: Re,
        name: o,
        id: o,
        disabled: se,
        placeholder: xe,
        type: "text",
        parse: Zt,
        validate: be.addressPostalCode,
        setField: H,
        component: Ga,
        placeType: ae,
        serverError: ne,
        styles: ye
    }) : i.jsx(Se.Field, {
        "data-test": "address-postal-code",
        autoComplete: "postal-code",
        name: o,
        id: o,
        disabled: se,
        placeholder: xe,
        type: "text",
        parse: Zt,
        validate: be.addressPostalCode,
        setField: H,
        component: Vi,
        serverError: ne,
        styles: ye
    })
      , W = () => {
        const Ve = i.jsx(Se.Field, {
            "data-test": "address-street-2",
            autoComplete: "address-line2",
            name: t,
            id: t,
            component: Vi,
            disabled: se,
            type: "text",
            placeholder: d,
            parse: Zt,
            validate: be.addressStreet2,
            serverError: N,
            styles: ye
        })
          , ve = i.jsx(Se.Field, {
            "data-test": "address-city",
            autoComplete: "address-level2",
            name: n,
            id: n,
            component: Vi,
            disabled: se,
            type: "text",
            placeholder: u,
            parse: Zt,
            validate: be.addressCity,
            serverError: U,
            styles: ye
        })
          , Le = i.jsx(pS, {
            selectedCountryCode: q,
            disabled: se,
            placeholderAddressSubdivisionUs: h,
            placeholderAddressSubdivision: m,
            theme: Te,
            fieldKeyAddressSubdivision: r,
            validate: be.addressSubdivision,
            serverError: V,
            styles: ye
        });
        return Ye(q, de(), Ve, ve, Le, Ce(), De()).map( (Ne, bt) => i.jsx("div", {
            className: "row",
            children: Ne.filter(Boolean).map( (St, On) => i.jsx("div", {
                className: "col-sm-12",
                children: St
            }, On))
        }, bt))
    }
      , oe = () => {
        Ae(!0)
    }
      , de = () => z === e && Y === rs.GoogleMaps ? i.jsx(Se.Field, {
        "data-test": "address-street-1",
        autoComplete: "address-line1",
        selectedCountryCode: q,
        fieldKeyAddressStreet1: e,
        fieldKeyAddressStreet2: t,
        fieldKeyAddressCity: n,
        fieldKeyAddressSubdivision: r,
        fieldKeyAddressPostalCode: o,
        fieldKeyAddressBusinessName: a,
        showBusinessNameField: Re,
        name: e,
        id: e,
        disabled: se,
        placeholder: l,
        type: "text",
        parse: Zt,
        validate: be.addressStreet1,
        setField: H,
        component: Ga,
        placeType: ae,
        serverError: O,
        styles: ye
    }) : i.jsx(Se.Field, {
        "data-test": "address-street-1",
        autoComplete: "address-line1",
        name: e,
        id: e,
        disabled: se,
        placeholder: l,
        type: "text",
        parse: Zt,
        validate: be.addressStreet1,
        component: Vi,
        serverError: O,
        styles: ye
    })
      , De = () => Re ? Y === rs.GoogleMaps ? i.jsx(Se.Field, {
        "data-test": "address-business-name",
        autoComplete: "address-line1",
        selectedCountryCode: q,
        fieldKeyAddressStreet1: e,
        fieldKeyAddressStreet2: t,
        fieldKeyAddressCity: n,
        fieldKeyAddressSubdivision: r,
        fieldKeyAddressPostalCode: o,
        fieldKeyAddressBusinessName: a,
        showBusinessNameField: Re,
        name: a,
        id: a,
        disabled: se,
        placeholder: C,
        type: "text",
        setField: H,
        component: Ga,
        placeType: ae,
        parse: Zt,
        validate: be.addressBusinessName,
        serverError: L,
        styles: ye
    }) : i.jsx(Se.Field, {
        "data-test": "address-business-name",
        name: a,
        id: a,
        component: Vi,
        disabled: se,
        type: "text",
        placeholder: C,
        parse: Zt,
        validate: be.addressBusinessName,
        serverError: L,
        styles: ye
    }) : null;
    return i.jsxs(mS, {
        styles: ye,
        children: [Te.inputStyle === Rt.Outlined && c && i.jsx(X, {
            wrapper: "label",
            wrapperProps: {
                htmlFor: e
            },
            children: c
        }), we()]
    })
}
;
function pS({selectedCountryCode: e, disabled: t, theme: n, placeholderAddressSubdivisionUs: r, placeholderAddressSubdivision: o, fieldKeyAddressSubdivision: a, validate: s, serverError: c, styles: l}) {
    return e === "US" && n.usStateInputMethod === Ws.Select ? i.jsxs(Se.Field, {
        "data-test": "address-subdivision",
        autoComplete: "address-level1",
        name: a,
        id: a,
        component: Mf,
        disabled: t,
        type: "text",
        placeholder: r,
        parse: Zt,
        validate: s,
        serverError: c,
        children: [i.jsx("option", {
            value: "",
            selected: !0,
            disabled: !0,
            children: r
        }), Object.keys(bs).map(d => i.jsx("option", {
            value: bs[d],
            children: d
        }, d))]
    }) : i.jsx(Se.Field, {
        "data-test": "address-subdivision",
        autoComplete: "address-level1",
        name: a,
        id: a,
        component: Vi,
        disabled: t,
        type: "text",
        placeholder: e === "US" ? r : o,
        parse: Zt,
        validate: s,
        serverError: c,
        styles: l
    })
}
const ni = (e, t, n, r) => {
    const o = e.attributes["next-step"].name
      , a = st(d => Se.isPristine(o)(d, n))
      , s = st(d => Se.formValueSelector(o)(d, n))
      , [c,l] = f.useState(!0);
    return f.useEffect( () => {
        (r || "") !== (s || "") && !a && l(!1)
    }
    , [a, r, s]),
    f.useEffect( () => {
        l(!0)
    }
    , [e]),
    f.useEffect( () => {
        t && l(!1)
    }
    , [t]),
    c
}
  , Gr = {
    STREET_1: "street_1",
    STREET_2: "street_2",
    CITY: "city",
    SUBDIVISION: "subdivision",
    POSTAL_CODE: "postal_code",
    BUSINESS_NAME: "business_name"
}
  , fS = ({component: e, inquiry: t, inquiryLoading: n, actionsApi: r}) => {
    const o = `${e.name}.${Gr.STREET_1}`
      , a = `${e.name}.${Gr.STREET_2}`
      , s = `${e.name}.${Gr.CITY}`
      , c = `${e.name}.${Gr.SUBDIVISION}`
      , l = `${e.name}.${Gr.POSTAL_CODE}`
      , d = `${e.name}.${Gr.BUSINESS_NAME}`
      , {"prefill-address-street-1": u, "prefill-address-street-2": m, "prefill-address-city": h, "prefill-address-subdivision": p, "prefill-address-postal-code": b, "prefill-address-business-name": C, "selected-country-code": S, "validations-address-street-1": v, "validations-address-street-2": x, "validations-address-city": _, "validations-address-subdivision": R, "validations-address-postal-code": E, "validations-address-business-name": T, "edit-address-manually-prompt": F, label: O, "placeholder-autocomplete": N, "placeholder-autocomplete-postal-code": U, "placeholder-address-street-1": V, "placeholder-address-street-2": ne, "placeholder-address-city": L, "placeholder-address-subdivision": H, "placeholder-address-subdivision-us": q, "placeholder-address-postal-code": ee, "placeholder-address-postal-code-us": Y, "placeholder-address-business-name": ae, "error-address-street-1": se, "error-address-street-2": _e, "error-address-city": Re, "error-address-subdivision": ye, "error-address-postal-code": Pe, "error-address-business-name": Ae, "address-autocomplete-method": Te, "place-type": be, disabled: re, hidden: z, optional: Z} = e.attributes
      , xe = t.attributes["next-step"].name
      , we = st(Se.hasSubmitFailed(xe))
      , Ye = st(Jn => [a, s, c, Ms.includes(S) ? o : l].some(yn => Se.formValueSelector(xe)(Jn, yn)))
      , qe = ni(t, n, o, u)
      , Ce = ni(t, n, a, m)
      , W = ni(t, n, s, h)
      , oe = ni(t, n, c, p)
      , de = ni(t, n, l, b)
      , De = ni(t, n, d, C)
      , Ve = qe && Ce && W && oe && de && De
      , ve = !!(se || _e || Re || ye || Pe || Ae)
      , Le = It("", t.attributes["next-step"].name)
      , me = Le(z)
      , Ne = Wr(e.name, v)
      , bt = Wr(e.name, x)
      , St = Wr(e.name, _)
      , On = Wr(e.name, R)
      , Ci = Wr(e.name, E)
      , Ln = Wr(e.name, T);
    return f.useEffect( () => {
        me ? (r.setField(o, ""),
        r.setField(a, ""),
        r.setField(s, ""),
        r.setField(c, ""),
        r.setField(l, ""),
        r.setField(d, "")) : me || [[o, u], [a, m], [s, h], [c, p], [l, b], [d, C]].forEach( ([Jn,yn]) => {
            Ft(yn) || r.setField(Jn, yn)
        }
        )
    }
    , [me]),
    me ? null : i.jsx(i.Fragment, {
        children: i.jsx(hS, {
            disabled: Le(re),
            optional: Le(Z == null ? void 0 : Z.logic),
            selectedCountryCode: S,
            fieldKeyAddressStreet1: o,
            fieldKeyAddressStreet2: a,
            fieldKeyAddressCity: s,
            fieldKeyAddressSubdivision: c,
            fieldKeyAddressPostalCode: l,
            fieldKeyAddressBusinessName: d,
            editAddressManuallyPrompt: F,
            label: O,
            placeholderAutocomplete: N,
            placeholderAutocompletePostalCode: U,
            placeholderAddressStreet1: V,
            placeholderAddressStreet2: ne,
            placeholderAddressCity: L,
            placeholderAddressSubdivision: H,
            placeholderAddressSubdivisionUs: q,
            placeholderAddressPostalCode: ee,
            placeholderAddressPostalCodeUs: Y,
            placeholderAddressBusinessName: ae,
            validateAddressStreet1: Ne,
            validateAddressStreet2: bt,
            validateAddressCity: St,
            validateAddressSubdivision: On,
            validateAddressPostalCode: Ci,
            validateAddressBusinessName: Ln,
            serverErrorAddressStreet1: Ve ? se : null,
            serverErrorAddressStreet2: Ve ? _e : null,
            serverErrorAddressCity: Ve ? Re : null,
            serverErrorAddressSubdivision: Ve ? ye : null,
            serverErrorAddressPostalCode: Ve ? Pe : null,
            serverErrorAddressBusinessName: Ve ? Ae : null,
            addressAutocompleteMethod: Te,
            placeType: be,
            setField: r.setField,
            forceOpen: we || Ye || ve,
            showBusinessNameField: e.attributes["field-key-address-business-name"] != null,
            styles: e.styles
        })
    })
}
;
function Wr(e, t) {
    return f.useMemo( () => (t != null ? t : []).map( ({logic: r, message: o}) => (a, s) => !br(r, {
        form: s,
        value: s[e]
    }, !0) && o), [e, t])
}
const Bf = g("div").withConfig({
    displayName: "Stack",
    componentId: "sc-dqoy2x-0"
})(["display:flex;flex-direction:", ";gap:", ";", " ", " ", " ", ""], ({direction: e}) => e === "horizontal" ? "row" : "column", ({spacing: e}) => e || I.Spacing[2], ({align: e}) => e && $(["align-items:", ";"], e), ({justify: e}) => e && $(["justify-content:", ";"], e), ({wrap: e}) => e && $(["flex-wrap:", ";"], e), ({equal: e}) => e && $(["> *{flex-grow:1;flex-basis:0;}"]))
  , Bt = {
    black: I.Color.PrimaryBlack,
    white: I.Color.PrimaryWhite,
    brand: I.Color.PrimaryPurple,
    brand800: I.Color.CorePurple800,
    brand700: I.Color.CorePurple700,
    brand600: I.Color.CorePurple600,
    brand500: I.Color.CorePurple500,
    brand400: I.Color.CorePurple400,
    brand300: I.Color.CorePurple300,
    brand200: I.Color.CorePurple200,
    brand100: I.Color.CorePurple100
}
  , Fn = {
    primary: I.Color.TextPrimary,
    secondary: I.Color.TextSecondary,
    tertiary: I.Color.CoreSlate800,
    brand: Bt.brand,
    inverse: I.Color.TextInverse,
    disabled: I.Color.TextDisabled
}
  , ei = {
    primary: I.Color.TextInverse,
    secondary: I.Color.CoreSlate500,
    tertiary: I.Color.CoreSlate800,
    brand: Bt.brand,
    inverse: I.Color.TextPrimary,
    disabled: I.Color.TextDisabled
}
  , gS = {
    primary: Bt,
    text: Fn,
    background: {
        primary: I.Color.BackgroundPrimary,
        secondary: I.Color.BackgroundSecondary,
        active: Bt.brand,
        highlight: Bt.brand100,
        disabled: I.Color.BackgroundInputDisabled
    },
    variants: {
        basic: {
            active: I.Color.BackgroundButtonDefaultActive,
            default: I.Color.BackgroundButtonDefault,
            highlight: I.Color.CoreSlate400,
            highlightLight: I.Color.CoreSlate400,
            highlightDark: I.Color.CoreSlate700,
            disabled: I.Color.CoreSlate100,
            text: Fn.primary,
            textDisabled: Fn.disabled
        },
        primary: {
            active: I.Color.BackgroundButtonPrimaryActive,
            default: I.Color.BackgroundButtonPrimary,
            highlight: Bt.brand200,
            highlightLight: Bt.brand100,
            highlightDark: Bt.brand200,
            disabled: I.Color.BackgroundButtonPrimaryDisabled,
            text: Fn.inverse,
            textDisabled: Fn.inverse
        },
        inverse: {
            active: Bt.brand100,
            default: Bt.white,
            highlight: Bt.brand200,
            highlightLight: Bt.brand100,
            highlightDark: Bt.brand700,
            disabled: Bt.white,
            text: Fn.primary,
            textDisabled: Fn.disabled
        },
        danger: {
            active: I.Color.BackgroundButtonDangerActive,
            default: I.Color.BackgroundButtonDanger,
            highlight: I.Color.CoreRed200,
            highlightLight: I.Color.CoreRed100,
            highlightDark: I.Color.CoreRed200,
            disabled: I.Color.BackgroundButtonDangerDisabled,
            text: Fn.inverse,
            textDisabled: Fn.inverse
        },
        caution: {
            active: I.Color.CoreYellow900,
            default: I.Color.CoreYellow800,
            highlight: I.Color.CoreYellow200,
            highlightLight: I.Color.CoreYellow100,
            highlightDark: I.Color.CoreYellow200,
            disabled: I.Color.CoreYellow100,
            text: Fn.inverse,
            textDisabled: Fn.inverse
        },
        success: {
            active: I.Color.CoreGreen900,
            default: I.Color.CoreGreen800,
            highlight: I.Color.CoreGreen200,
            highlightLight: I.Color.CoreGreen100,
            highlightDark: I.Color.CoreGreen200,
            disabled: I.Color.CoreGreen100,
            text: Fn.inverse,
            textDisabled: Fn.inverse
        }
    },
    border: {
        primary: I.Color.BorderHairline,
        secondary: I.Color.BorderDivider,
        active: I.Color.BorderInputActive,
        input: I.Color.BorderInputDefault,
        disabled: I.Color.BorderInputDisabled
    }
};
I.Color.CoreSlate1000,
I.Color.CoreSlate50,
Bt.brand,
I.Color.PrimaryWhite,
I.Color.CoreSlate300,
I.Color.BackgroundButtonDefaultActive,
I.Color.BackgroundButtonDefault,
I.Color.CoreSlate400,
I.Color.CoreSlate400,
I.Color.CoreSlate900,
I.Color.CoreSlate100,
ei.primary,
ei.disabled,
I.Color.CoreSlate900,
I.Color.CoreSlate1000,
Bt.brand200,
Bt.brand100,
Bt.brand200,
I.Color.BackgroundButtonPrimaryDisabled,
Bt.white,
ei.inverse,
Bt.brand100,
Bt.white,
Bt.brand200,
Bt.brand100,
Bt.brand700,
Bt.white,
ei.inverse,
ei.disabled,
I.Color.BackgroundButtonDangerActive,
I.Color.BackgroundButtonDanger,
I.Color.CoreRed300,
I.Color.CoreRed100,
I.Color.CoreRed300,
I.Color.BackgroundButtonDangerDisabled,
ei.inverse,
ei.inverse,
I.Color.CoreYellow900,
I.Color.CoreYellow800,
I.Color.CoreYellow200,
I.Color.CoreYellow100,
I.Color.CoreYellow200,
I.Color.CoreYellow100,
ei.inverse,
ei.inverse,
I.Color.CoreGreen900,
I.Color.CoreGreen800,
I.Color.CoreGreen200,
I.Color.CoreGreen100,
I.Color.CoreGreen200,
I.Color.CoreGreen100,
ei.inverse,
ei.inverse,
I.Color.CoreSlate900,
I.Color.BorderDivider,
I.Color.BorderInputActive,
I.Color.BorderInputDefault,
I.Color.BorderInputDisabled;
const Vf = {
    fontFamily: {
        base: "'Rubik', sans-serif",
        mono: "'DM Mono', 'Lucida Console', Monaco, Consolas, 'Andale Mono', 'Ubunto Mono', monospace"
    },
    display: {
        lg: I.Typography.DisplayLarge,
        md: I.Typography.DisplayMedium,
        sm: I.Typography.DisplaySmall
    },
    heading: {
        lg: I.Typography.HeadingLarge,
        md: I.Typography.HeadingMedium,
        sm: I.Typography.HeadingSmall
    },
    paragraph: {
        lg: I.Typography.TextLarge,
        lgBold: I.Typography.TextLargeBold,
        lgLight: I.Typography.TextLargeLight,
        md: I.Typography.TextMedium,
        mdBold: I.Typography.TextMediumBold,
        mdLight: I.Typography.TextMediumLight,
        mdLink: I.Typography.TextMediumLink,
        sm: I.Typography.TextSmall,
        smLink: I.Typography.TextSmallLink,
        xs: I.Typography.TextExtraSmall
    }
};
({
    ...Vf
});
const bS = {
    borderRadius: "4px",
    height: {
        xl: "128px",
        lg: "56px",
        md: "48px",
        sm: "40px",
        xs: "32px"
    },
    width: {
        md: "228px"
    }
}
  , CS = {
    borderRadius: "4px",
    height: {
        md: "32px",
        sm: "24px"
    }
}
  , xS = {
    borderRadius: "8px"
}
  , vS = {
    borderRadius: {
        xl: "8px",
        lg: "4px",
        md: "4px"
    },
    width: {
        xl: "1020px",
        lg: "720px",
        md: "520px"
    }
}
  , Fr = {
    color: gS,
    text: Vf,
    element: bS,
    button: CS,
    card: xS,
    modal: vS
}
  , IS = g.div.withConfig({
    displayName: "CheckboxBase__CheckboxContainer",
    componentId: "sc-1njarhg-0"
})( ({styles: e, "aria-readonly": t}) => ({
    cursor: t ? "initial" : "pointer",
    overflowWrap: "break-word",
    display: "flex",
    flexWrap: "nowrap",
    alignItems: e == null ? void 0 : e.alignment.base.base
}))
  , SS = g(X).withConfig({
    displayName: "CheckboxBase__CheckboxLabel",
    componentId: "sc-1njarhg-1"
})(["padding:0 ", ";p + p{margin:0 !important;}", ""], I.Spacing[2], ({styles: e, disabled: t}) => ({
    fontFamily: Gt(e == null ? void 0 : e["font-family"].base.base),
    fontSize: k(e == null ? void 0 : e["font-size"].base.base),
    fontWeight: Qn(e == null ? void 0 : e["font-weight"].base.base),
    letterSpacing: k(e == null ? void 0 : e["letter-spacing"].base.base),
    lineHeight: k(e == null ? void 0 : e["line-height"].base.base),
    color: t ? Fr.color.text.disabled : A(e == null ? void 0 : e["text-color"].base.base),
    a: {
        color: A(e == null ? void 0 : e["text-color-highlight"].base.base),
        outlineColor: A(e == null ? void 0 : e["text-color-highlight"].base.base)
    }
}))
  , yS = g(X).withConfig({
    displayName: "CheckboxBase__CheckboxDescription",
    componentId: "sc-1njarhg-2"
})(["padding:0 ", ";p + p{margin:0 !important;}", ""], I.Spacing[2], ({styles: e, disabled: t}) => ({
    fontFamily: Gt(e == null ? void 0 : e["font-family"].description.base),
    fontSize: k(e == null ? void 0 : e["font-size"].description.base),
    fontWeight: Qn(e == null ? void 0 : e["font-weight"].description.base),
    letterSpacing: k(e == null ? void 0 : e["letter-spacing"].description.base),
    lineHeight: k(e == null ? void 0 : e["line-height"].description.base),
    color: t ? Fr.color.text.disabled : A(e == null ? void 0 : e["text-color"].description.base),
    a: {
        color: A(e == null ? void 0 : e["text-color-highlight"].base.base),
        outlineColor: A(e == null ? void 0 : e["text-color-highlight"].base.base)
    }
}))
  , wS = g.input.withConfig({
    displayName: "CheckboxBase__HiddenInput",
    componentId: "sc-1njarhg-3"
})(["height:1px;width:1px;margin:-1px;border:0;overflow:hidden;clip:rect(0,0,0,0);position:absolute;"])
  , _S = g.div.withConfig({
    displayName: "CheckboxBase__IconContainer",
    componentId: "sc-1njarhg-4"
})(["display:flex;flex:none;align-items:center;transition:box-shadow ", ";", ""], tt.Fast, ({styles: e}) => $(["svg{.checkbox__border--empty{fill:", ";stroke:", ";}.checkbox__border{fill:", ";stroke:", ";}.checkbox__check{stroke:", ";}}&:hover", "{box-shadow:0 0 0 3px transparent,", ";}&", "", "{svg{.checkbox__border--empty{fill:", ";stroke:", ";}.checkbox__border{fill:", ";stroke:", ";}}}&:active", "{svg{.checkbox__border--empty{fill:", ";stroke:", ";}.checkbox__border{fill:", ";stroke:", ";}}}&", "{cursor:not-allowed;svg{.checkbox__border--empty{fill:", ";stroke:", ";}.checkbox__border{fill:", ";stroke:", ";}}}"], A(e == null ? void 0 : e["fill-color"]["checkbox-unchecked"].base), A(e == null ? void 0 : e["stroke-color"]["checkbox-unchecked"].base), A(e == null ? void 0 : e["fill-color"]["checkbox-checked"].base), A(e == null ? void 0 : e["stroke-color"]["checkbox-checked"].base), A(e == null ? void 0 : e["stroke-color"].checkmark.base), Rn, Di.Mid, Hi, Rn, A(e == null ? void 0 : e["fill-color"]["checkbox-unchecked"].focused), A(e == null ? void 0 : e["stroke-color"]["checkbox-unchecked"].focused), A(e == null ? void 0 : e["fill-color"]["checkbox-checked"].focused), A(e == null ? void 0 : e["stroke-color"]["checkbox-checked"].focused), Rn, A(e == null ? void 0 : e["fill-color"]["checkbox-unchecked"].active), A(e == null ? void 0 : e["stroke-color"]["checkbox-unchecked"].active), A(e == null ? void 0 : e["fill-color"]["checkbox-checked"].active), A(e == null ? void 0 : e["stroke-color"]["checkbox-checked"].active), zl, A(e == null ? void 0 : e["fill-color"]["checkbox-unchecked"].disabled), A(e == null ? void 0 : e["stroke-color"]["checkbox-unchecked"].disabled), A(e == null ? void 0 : e["fill-color"]["checkbox-checked"].disabled), A(e == null ? void 0 : e["stroke-color"]["checkbox-checked"].disabled)))
  , Uf = ({className: e, disabled: t, indeterminate: n, hasError: r, onChange: o, onFocus: a, onBlur: s, value: c, id: l, autoFocus: d, styles: u, labelText: m, descriptionText: h, "data-test": p}) => {
    const [b,{enable: C, disable: S}] = rt()
      , v = f.useCallback( () => {
        var R;
        o(!c),
        (R = x.current) == null || R.focus()
    }
    , [o, c])
      , x = f.useRef();
    f.useEffect( () => {
        x.current && (x.current.indeterminate = n)
    }
    , [n]);
    let _;
    return r ? _ = `${l}--error` : h && (_ = `${l}-description`),
    i.jsxs(IS, {
        id: l,
        className: e,
        onClick: t ? void 0 : v,
        "data-test": p,
        "aria-checked": !!c,
        "aria-readonly": t,
        styles: u,
        children: [i.jsx(wS, {
            "aria-label": m,
            "aria-describedby": _,
            "aria-invalid": r,
            "aria-errormessage": `${l}--error`,
            ref: x,
            "data-test-toggle-status": c ? "on" : "off",
            disabled: t,
            type: "checkbox",
            checked: !!c,
            readOnly: !0,
            onChange: () => null,
            autoFocus: d,
            onFocus: R => {
                C(),
                a == null || a(R)
            }
            ,
            onBlur: R => {
                S(),
                s == null || s(R)
            }
        }), i.jsx(_S, {
            focused: b,
            disabled: t,
            styles: u,
            children: n ? i.jsx(xp, {}) : c ? i.jsx(vp, {}) : i.jsx(Ip, {})
        }), i.jsxs(Bf, {
            spacing: I.Spacing[0],
            children: [i.jsx(SS, {
                wrapper: "label",
                wrapperProps: {
                    htmlFor: l
                },
                styles: u,
                disabled: t,
                children: m
            }), h && i.jsx(yS, {
                id: `${l}-description`,
                styles: u,
                disabled: t,
                children: h
            })]
        })]
    })
}
  , RS = g("div").withConfig({
    displayName: "ThemedFormCheckbox__Container",
    componentId: "sc-2drq49-0"
})(["", ""], Fi)
  , AS = e => {
    const {className: t, input: n, meta: {error: r, submitFailed: o}, autoFocus: a, label: s, descriptionText: c, id: l, styles: d, disabled: u, ...m} = e
      , h = !!(r && o);
    return i.jsxs(RS, {
        className: t,
        children: [i.jsx(Uf, {
            ...n,
            ...m,
            autoFocus: a,
            disabled: u,
            id: l,
            value: n.value,
            styles: d,
            labelText: s,
            descriptionText: c,
            hasError: h,
            "aria-errormessage": `${l}--error`,
            "aria-describedby": `${l}--error`
        }), i.jsx(an, {
            id: `${l}--error`,
            hasError: h,
            errorMessage: r,
            styles: d
        })]
    })
}
  , TS = ({component: e, inquiry: t, actionsApi: n}) => {
    const {disabled: r, hidden: o, label: a, "description-text": s, optional: c, prefill: l, validations: d} = e.attributes
      , u = e.name
      , m = It(u, t.attributes["next-step"].name)
      , h = dn({
        hidden: o,
        optional: c,
        validations: d
    })
      , p = m(o);
    return f.useEffect( () => {
        p ? n.setField(u, "") : !p && !Ft(l) && n.setField(u, l)
    }
    , [p]),
    p ? null : i.jsx(i.Fragment, {
        children: i.jsx(Se.Field, {
            id: u,
            name: u,
            label: a,
            descriptionText: s,
            component: AS,
            disabled: m(r),
            validate: h,
            type: "checkbox",
            styles: e.styles
        })
    })
}
  , ES = g("div").withConfig({
    displayName: "ThemedFormCheckboxGroup__Container",
    componentId: "sc-1jm42aq-0"
})(["", ""], Fi)
  , kS = g("fieldset").withConfig({
    displayName: "ThemedFormCheckboxGroup__ItemContainer",
    componentId: "sc-1jm42aq-1"
})(["display:flex;flex-direction:column;"])
  , NS = g(X).attrs( () => ({
    wrapper: "legend"
})).withConfig({
    displayName: "ThemedFormCheckboxGroup__Legend",
    componentId: "sc-1jm42aq-2"
})(["", ""], ({styles: e}) => Dn(e))
  , jS = g("label").withConfig({
    displayName: "ThemedFormCheckboxGroup__LineItem",
    componentId: "sc-1jm42aq-3"
})(["position:relative;display:flex;align-items:baseline;margin:0 ", ";& + &{margin-top:", ";}"], I.Spacing[2], I.Spacing[2])
  , PS = e => {
    const {className: t, input: {name: n, value: r, onChange: o, ...a}, meta: {error: s, submitFailed: c}, label: l, id: d, styles: u, options: m, disabled: h, ...p} = e
      , b = f.useMemo( () => m.reduce( (v, x, _) => (v[x.value] = _,
    v), {}), [m])
      , C = f.useCallback( (v, x) => {
        const _ = r || []
          , E = (v ? _.concat(x) : _.filter(T => T !== x)).map(T => b[T]).sort( (T, F) => T - F).map(T => m[T].value);
        o(E)
    }
    , [r, o, m, b])
      , S = !!(s && c);
    return i.jsxs(ES, {
        className: t,
        children: [i.jsxs(kS, {
            id: d,
            "aria-invalid": S,
            "aria-errormessage": `${d}--error`,
            "aria-describedby": `${d}--error`,
            children: [l && i.jsx(NS, {
                styles: u,
                children: l
            }), m.map( (v, x) => {
                var E, T;
                const _ = `${n}_${x}`
                  , R = (E = r == null ? void 0 : r.includes(v.value)) != null ? E : !1;
                return i.jsx(jS, {
                    isSelected: R,
                    htmlFor: _,
                    children: i.jsx(Uf, {
                        ...a,
                        ...p,
                        id: _,
                        disabled: (T = v.disabled) != null ? T : h,
                        labelText: v.text,
                        descriptionText: v["description-text"],
                        hasError: S,
                        value: R,
                        onChange: F => C(F, v.value),
                        styles: u,
                        onFocus: () => null,
                        onBlur: () => null
                    })
                }, v.value)
            }
            )]
        }), i.jsx(an, {
            id: `${d}--error`,
            hasError: S,
            errorMessage: s,
            styles: u
        })]
    })
}
  , DS = ({component: e, inquiry: t, actionsApi: n}) => {
    const {disabled: r, hidden: o, label: a, optional: s, options: c, prefill: l, validations: d} = e.attributes
      , u = e.name
      , m = It(u, t.attributes["next-step"].name)
      , h = dn({
        hidden: o,
        optional: s,
        validations: d
    })
      , p = m(o);
    return f.useEffect( () => {
        p ? n.setField(u, "") : !p && !Ft(l) && n.setField(u, l)
    }
    , [p]),
    p ? null : i.jsx(Se.Field, {
        id: u,
        name: u,
        component: PS,
        options: c,
        disabled: m(r),
        validate: h,
        label: a,
        styles: e.styles
    })
}
  , Gi = g("input").attrs( () => ({
    spellCheck: !1
})).withConfig({
    displayName: "Input",
    componentId: "sc-12x9mcm-0"
})(["", ";"], e => Eo(e, e.theme));
var Jt = (e => (e.Email = "email",
e.Sms = "sms",
e.Qr = "qr",
e))(Jt || {});
const vd = 4;
new Set(Object.values(zp));
new Set(Object.values(Kp));
new Set(Object.keys(Hv));
new Set(Object.values(Jt));
new Set(Object.values(nd));
new Set(Object.values(Qp));
new Set(Object.values(rn));
new Set(Object.values(mn));
new Set(Object.values(la));
const OS = g("div").withConfig({
    displayName: "PinInput__Container",
    componentId: "sc-1wwo943-0"
})(["display:flex;justify-content:space-between;position:relative;margin-left:-", "px;margin-right:-", "px;direction:ltr;"], M.base, M.base)
  , LS = g(Gi).withConfig({
    displayName: "PinInput__HiddenInput",
    componentId: "sc-1wwo943-1"
})(["background:transparent !important;border-color:transparent !important;box-shadow:none !important;caret-color:transparent;color:transparent !important;position:absolute;left:0;right:0;top:0;bottom:0;&::selection{color:transparent;}"])
  , FS = Pn(["49%{color:", ";}50%{color:transparent;}99%{color:transparent;}100%{color:", ";}"], Fe.gray100, Fe.gray100)
  , MS = g(Gi).withConfig({
    displayName: "PinInput__CodeInput",
    componentId: "sc-1wwo943-2"
})(["text-align:center;margin-left:", "px;margin-right:", "px;", ";", ";"], M.base, M.base, e => e.isFocused && $(["border-color:", ";color:", ";box-shadow:0 0 0 1px ", ";"], e.theme.colorPrimary, Fe.gray100, e.theme.colorPrimary), e => e.isCursor && $(["animation-name:", ";animation-duration:1s;animation-iteration-count:infinite;"], FS))
  , BS = ({id: e, "data-test": t, allowsLetters: n=!1, autoFocus: r=!1, codeLength: o=vd, disabled: a=!1, name: s, value: c="", handleSubmitCode: l= () => {}
, onChange: d, refHiddenInput: u, hasError: m}) => {
    const [h,p] = f.useState(r)
      , b = Rc(c, {
        allowsLetters: n,
        codeLength: o
    });
    u != null || (u = f.createRef());
    const C = () => {
        u.current.selectionStart = u.current.selectionEnd = b.length
    }
      , S = () => {
        p(!0)
    }
      , v = () => {
        p(!1)
    }
      , x = R => {
        d(Rc(R.target.value, {
            allowsLetters: n,
            codeLength: o
        }))
    }
      , _ = R => {
        const E = R.clipboardData || window.clipboardData;
        if (!E)
            return;
        const T = Rc(E.getData("text"), {
            allowsLetters: n,
            codeLength: o
        });
        new RegExp(`\\d{${o}}`).test(T) && (d(T),
        l({
            "confirmation-code": T
        }))
    }
    ;
    return i.jsxs(OS, {
        "data-test": t,
        children: [i.jsx(ti, {
            children: i.jsx("label", {
                htmlFor: e,
                children: `${o} digit code`
            })
        }), i.jsx(LS, {
            id: e,
            autoComplete: "no-autocomplete",
            autoFocus: r,
            name: s,
            ref: u,
            value: b,
            onBlur: v,
            onChange: x,
            onFocus: S,
            onKeyDown: C,
            onPaste: _,
            "aria-invalid": m,
            "aria-errormessage": `${e}--error`,
            "aria-describedby": `${e}--error`
        }), gp(o).map(R => {
            const E = h && Math.min(b.length, o - 1) === R
              , T = b.charAt(R)
              , F = T !== "" ? T : E ? "|" : "";
            return i.jsx(MS, {
                disabled: a,
                isCursor: T === "",
                isFocused: E,
                maxLength: 1,
                onChange: () => {}
                ,
                tabIndex: -1,
                type: "tel",
                value: F
            }, R)
        }
        )]
    })
}
;
function Rc(e, {allowsLetters: t, codeLength: n}) {
    return e.trim().toUpperCase().replace(t ? /[^0-9-A-Z]/g : /[^0-9-]/g, "").replace(/[-]/g, r => (r.charCodeAt(0) - 65296).toString()).substring(0, n)
}
const VS = g("div").withConfig({
    displayName: "PinInputField__Container",
    componentId: "sc-1oeykwt-0"
})(["", ""], Fi);
function US(e) {
    const {input: t, className: n, disabled: r, meta: {error: o, submitFailed: a, submitting: s}, autoFocus: c, handleSubmitCode: l, styles: d, ...u} = e
      , m = !!(o && a)
      , h = f.createRef()
      , [p,b] = f.useState(void 0);
    f.useEffect( () => {
        var S;
        m && ((S = t.value) == null ? void 0 : S.length) === 4 && (b(o),
        t.onChange(""),
        h.current.focus())
    }
    , [m]);
    const C = S => {
        b(void 0),
        t == null || t.onChange(S)
    }
    ;
    return i.jsxs(VS, {
        className: n,
        children: [i.jsx(BS, {
            ...u,
            ...t,
            onChange: C,
            autoFocus: c,
            handleSubmitCode: l,
            disabled: r || s,
            refHiddenInput: h,
            hasError: m || !!p
        }), i.jsx(an, {
            id: `${u.id}--error`,
            hasError: m || !!p,
            errorMessage: p || o,
            styles: d
        })]
    })
}
const HS = ({actionsApi: e, component: t, inquiry: n}) => {
    const {disabled: r, hidden: o, optional: a, validations: s} = t.attributes
      , c = t.name
      , l = It(c, n.attributes["next-step"].name)
      , d = dn({
        hidden: o,
        optional: a,
        validations: s
    })
      , u = l(o);
    f.useEffect( () => {
        u && e.setField(c, "")
    }
    , [u]);
    const m = f.useMemo( () => {
        const h = p => u || !p || (p == null ? void 0 : p.length) >= 4 ? null : a == null ? void 0 : a.message;
        return [...d, h]
    }
    , [d, a == null ? void 0 : a.message, u]);
    return u ? null : i.jsx(Se.Field, {
        component: US,
        disabled: r,
        id: c,
        name: c,
        parse: Zt,
        validate: m,
        styles: t.styles
    })
}
  , qS = ["ar", "bn"]
  , $S = e => {
    var n, r, o, a, s;
    if (!e)
        return {};
    const t = Intl.NumberFormat(e.locale, {
        style: "currency",
        currency: e.currency
    }).formatToParts(.1111111111111);
    return {
        decimalLength: (o = (r = (n = t.find(c => c.type === "fraction")) == null ? void 0 : n.value) == null ? void 0 : r.length) != null ? o : 0,
        decimalSymbol: (a = t.find(c => c.type === "decimal")) == null ? void 0 : a.value,
        currencySymbol: (s = t.find(c => c.type === "currency")) == null ? void 0 : s.value
    }
}
  , GS = ({id: e, hasError: t, hasWarning: n, enableAutofocus: r, onBlur: o, onChange: a, value: s, intlConfig: c, decimalScale: l, maxLength: d, prefix: u, suffix: m, disableGroupSeparators: h, decimalSeparator: p, ...b}) => {
    var F, O, N;
    const [C,S] = f.useState(void 0)
      , {decimalLength: v, decimalSymbol: x, currencySymbol: _} = f.useMemo( () => $S(c), [c])
      , R = f.useMemo( () => {
        if (l)
            return l;
        if (v && v > 0 && x) {
            if (typeof C == "string")
                return C.includes(x) ? v : void 0;
            if (typeof C == "number")
                return C % 1 > 0 ? v : void 0
        }
    }
    , [v, x, l, C])
      , E = f.useCallback( (U, V, ne) => {
        U !== C && ((ne == null ? void 0 : ne.float) != null ? Math.abs(ne.float) <= 1e16 - 2 && (S(U),
        a(ne.float)) : (S(U),
        a("")))
    }
    , [a, C]);
    f.useEffect( () => {
        Number(s != null ? s : "") !== Number(C != null ? C : "") && S((s != null ? s : "").toString())
    }
    , [s]);
    const T = !!c && qS.includes((N = (O = (F = c == null ? void 0 : c.locale) == null ? void 0 : F.split) == null ? void 0 : O.call(F, "-")) == null ? void 0 : N[0]);
    return i.jsx(p0, {
        autoFocus: r,
        value: C,
        onValueChange: E,
        decimalScale: R,
        maxLength: Math.min(d != null ? d : 17, 17),
        ...b,
        onBlur: () => o == null ? void 0 : o(void 0),
        "aria-invalid": t,
        "aria-errormessage": `${e}--error`,
        "aria-describedby": `${e}--error`,
        id: e,
        intlConfig: T ? void 0 : c,
        prefix: u != null ? u : T ? "" : void 0,
        suffix: m != null ? m : T ? _ : void 0,
        decimalSeparator: p != null ? p : T ? x : void 0,
        disableGroupSeparators: h != null ? h : T,
        disableAbbreviations: !0
    })
}
  , WS = g(GS).withConfig({
    displayName: "CurrencyInput",
    componentId: "sc-11h3wuq-0"
})(["", ";"], e => Eo(e, e.theme))
  , YS = g("div").withConfig({
    displayName: "CurrencyInputField__Container",
    componentId: "sc-3pqjn7-0"
})(["", " ", ""], Fi, ({styles: e}) => Dn(e))
  , zS = e => {
    const {id: t, className: n, input: r, meta: {error: o, submitFailed: a, warning: s}, autoFocus: c, label: l, placeholder: d, "data-test": u="form", serverError: m, styles: h, ...p} = e
      , b = a && (o || s) || m
      , C = !!b;
    return i.jsxs(YS, {
        className: n,
        styles: h,
        children: [l && i.jsx(X, {
            wrapper: "label",
            wrapperProps: {
                htmlFor: t
            },
            children: l
        }), i.jsx(WS, {
            ...r,
            ...p,
            autoFocus: c,
            hasError: C,
            id: t,
            placeholder: d,
            "data-test": u,
            "aria-errormessage": `${t}--error`,
            "aria-describedby": `${t}--error`
        }), i.jsx(an, {
            id: `${t}--error`,
            "data-test": `${u}-error`,
            hasError: C,
            errorMessage: b,
            styles: h
        })]
    })
}
  , KS = ({component: e, inquiry: t, actionsApi: n}) => {
    const {disabled: r, hidden: o, label: a, optional: s, placeholder: c, prefill: l, validations: d=[], "currency-code": u} = e.attributes
      , m = e.name
      , h = It(m, t.attributes["next-step"].name)
      , p = dn({
        hidden: o,
        optional: s,
        validations: d
    })
      , b = h(o);
    f.useEffect( () => {
        b ? n.setField(m, "") : !b && !Ft(l) && n.setField(m, l)
    }
    , [b]);
    const {i18n: C} = G()
      , S = navigator.language.split("-")[0] === C.language.split("-")[0] ? navigator.language : C.language;
    return b ? null : i.jsx(Se.Field, {
        name: m,
        id: m,
        component: zS,
        disabled: h(r),
        validate: p,
        label: a,
        placeholder: c,
        type: "text",
        inputmode: "decimal",
        styles: e.styles,
        intlConfig: {
            locale: S,
            currency: u
        }
    })
}
  , QS = g("select").withConfig({
    displayName: "MaterialSelect__Select",
    componentId: "sc-yvsb2h-0"
})(["appearance:none;&::-ms-expand{display:none;}", " padding:", "px 0px ", "px ", "px;position:relative;color:", ";"], Cd, M.base, M.base, M.base / 2, ({hasValue: e, styles: t, theme: n}) => {
    var r, o, a;
    if (!e)
        return (a = A((o = (r = t == null ? void 0 : t["border-color"]) == null ? void 0 : r.base) == null ? void 0 : o.base)) != null ? a : n.colorInputBorder
}
)
  , ZS = g("div").withConfig({
    displayName: "MaterialSelect__Wrapper",
    componentId: "sc-yvsb2h-1"
})(["position:relative;width:100%;&::after{", ";right:", "px;}"], Qs, M.base)
  , JS = g(X).withConfig({
    displayName: "MaterialSelect__StyledMarkdown",
    componentId: "sc-yvsb2h-2"
})(["", " top:-14px;font-size:", ";"], bd, qt.small)
  , Hf = ({className: e, focused: t, hasError: n, hasWarning: r, labelText: o, styles: a, ...s}) => {
    const c = !!s.value;
    return i.jsxs(ZS, {
        className: e,
        children: [i.jsx(QS, {
            ...s,
            focused: t,
            hasError: n,
            hasValue: c,
            hasWarning: r,
            styles: a
        }), i.jsx(JS, {
            wrapper: "label",
            wrapperProps: {
                htmlFor: s.id
            },
            focused: t,
            hasError: n,
            hasValue: c,
            hasWarning: r,
            styles: a,
            children: o
        })]
    })
}
  , XS = g("select").withConfig({
    displayName: "Select__InnerSelect",
    componentId: "sc-plsfst-0"
})(["", ";appearance:none;&::-ms-expand{display:none;}height:", ";opacity:unset;padding-top:", "px;padding-bottom:", "px;padding-left:", "px;padding-right:", "px;", ""], e => _r(e, e.theme, e.styles), Yi.input, M.base, M.base, M.base * 2, M.base * 4, ({hasValue: e, hasError: t, styles: n, theme: r}) => {
    var s;
    if (e)
        return;
    if (((s = n == null ? void 0 : n["text-color"]) == null ? void 0 : s.placeholder) != null)
        return $(["font-weight:", ";color:", ";-webkit-text-fill-color:", ";&:disabled{color:", ";-webkit-text-fill-color:", ";}", ""], on.regular, A(n == null ? void 0 : n["text-color"].placeholder.base), A(n == null ? void 0 : n["text-color"].placeholder.base), A(n == null ? void 0 : n["text-color"].placeholder.disabled), A(n == null ? void 0 : n["text-color"].placeholder.disabled), t && `
          &:not(:focus) {
            color: ${A(n == null ? void 0 : n["text-color"].placeholder.errored)};
            -webkit-text-fill-color: ${A(n == null ? void 0 : n["text-color"].placeholder.errored)};
          }
        `);
    const o = ft(r.colorFont).rgb()
      , a = ft(r.colorError).rgb();
    return $(["font-weight:", ";color:", ";-webkit-text-fill-color:", ";&:disabled{color:", ";-webkit-text-fill-color:", ";}", ""], on.regular, `rgba(${o.red()}, ${o.green()}, ${o.blue()}, 0.6)`, `rgba(${o.red()}, ${o.green()}, ${o.blue()}, 0.6)`, I.Color.CoreSlate800, I.Color.CoreSlate800, t && `
        &:not(:focus) {
          color: ${`rgba(${a.red()}, ${a.green()}, ${a.blue()}, 0.7)`};
          -webkit-text-fill-color: ${`rgba(${a.red()}, ${a.green()}, ${a.blue()}, 0.7)`};
        }
      `)
}
)
  , ey = g("div").withConfig({
    displayName: "Select__Wrapper",
    componentId: "sc-plsfst-1"
})(["position:relative;"])
  , ty = g(Gl).withConfig({
    displayName: "Select__StyledIconCaretDown",
    componentId: "sc-plsfst-2"
})(["position:absolute;right:", "px;top:50%;transform:translateY(-50%);display:inline-block;pointer-events:none;rect[fill],path[fill]{fill:", ";}"], M.base * 2, ({styles: e, theme: t}) => {
    var n, r, o;
    return (o = A((r = (n = e == null ? void 0 : e["text-color"]) == null ? void 0 : n.value) == null ? void 0 : r.base)) != null ? o : t.colorFont
}
)
  , Id = ({value: e, hasError: t, styles: n, ...r}) => i.jsxs(ey, {
    children: [i.jsx(XS, {
        ...r,
        value: e,
        hasValue: !!e,
        hasError: t,
        styles: n
    }), !r.disabled && i.jsx(ty, {
        styles: n
    })]
})
  , Ac = g("span").withConfig({
    displayName: "ThemedFormDateInput__VisuallyHiddenSpan",
    componentId: "sc-174kr1d-0"
})(["border:0;clip:rect(0 0 0 0);clip-path:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;"])
  , ny = g("div").withConfig({
    displayName: "ThemedFormDateInput__OutlinedContainer",
    componentId: "sc-174kr1d-1"
})(["", " display:flex;flex-wrap:wrap;margin-left:-", ";margin-right:-", ";"], ({styles: e}) => ur(e), I.Spacing[2], I.Spacing[2])
  , iy = g("div").withConfig({
    displayName: "ThemedFormDateInput__MaterialContainer",
    componentId: "sc-174kr1d-2"
})(["", " display:flex;flex-wrap:wrap;margin-left:-", ";margin-right:-", ";"], ko, I.Spacing[2], I.Spacing[2])
  , ry = g("div").withConfig({
    displayName: "ThemedFormDateInput__OutlinedLabelContainer",
    componentId: "sc-174kr1d-3"
})(["", ""], ({styles: e}) => Dn(e))
  , Pu = g("div").withConfig({
    displayName: "ThemedFormDateInput__ErrorContainer",
    componentId: "sc-174kr1d-4"
})(["padding-left:", ";"], I.Spacing[2])
  , Du = g("div").withConfig({
    displayName: "ThemedFormDateInput__Month",
    componentId: "sc-174kr1d-5"
})(["flex:0 0 40%;max-width:40%;padding-left:", ";padding-right:", ";text-transform:capitalize;"], I.Spacing[2], I.Spacing[2])
  , Wa = g("div").withConfig({
    displayName: "ThemedFormDateInput__DayOrYear",
    componentId: "sc-174kr1d-6"
})(["flex:0 0 30%;max-width:30%;padding-left:", ";padding-right:", ";"], I.Spacing[2], I.Spacing[2])
  , oy = ({disabled: e, input: t, label: n, meta: {error: r, submitFailed: o}, textMonths: a, placeholderDay: s, placeholderMonth: c, placeholderYear: l, labelMonth: d, labelDay: u, labelYear: m, styles: h}) => {
    const [p,b] = f.useState("")
      , [C,S] = f.useState("")
      , [v,x] = f.useState("")
      , _ = f.useContext(Je)
      , R = f.useMemo( () => {
        if (/\d{4}-\d{2}-\d{2}/.test(t.value)) {
            const V = new Date(t.value);
            return {
                year: String(V.getUTCFullYear()),
                month: String(V.getUTCMonth()),
                day: String(V.getUTCDate())
            }
        } else
            return {
                year: v,
                month: C,
                day: p
            }
    }
    , [t.value, v, C, p])
      , E = V => {
        O({
            year: R.year,
            month: R.month,
            day: V.target.value
        })
    }
      , T = V => {
        O({
            year: R.year,
            month: V.target.value,
            day: R.day
        })
    }
      , F = V => {
        O({
            year: V.target.value,
            month: R.month,
            day: R.day
        })
    }
      , O = V => {
        b(V.day),
        S(V.month),
        x(V.year);
        const ne = parseInt(V.year, 10)
          , L = parseInt(V.month, 10)
          , H = parseInt(V.day, 10)
          , q = new Date(Date.UTC(ne, L, H));
        if (!isNaN(q.getTime()) && q.getUTCFullYear() === ne && q.getUTCMonth() === L && q.getUTCDate() === H) {
            const ee = q.toISOString().split("T")[0];
            t.onChange(ee)
        } else
            t.onChange("")
    }
      , N = () => {
        const V = !!(r && o);
        return i.jsxs(ry, {
            styles: h,
            children: [n && i.jsx(X, {
                wrapper: "label",
                wrapperProps: {
                    style: {
                        marginBottom: d || m || u ? "0" : "8px"
                    }
                },
                children: n
            }), i.jsxs(ny, {
                styles: h,
                children: [i.jsxs(Du, {
                    children: [d && i.jsxs("label", {
                        htmlFor: t.name + "-month",
                        children: [i.jsx(Ac, {
                            children: n && i.jsx(X, {
                                children: `${n}, `
                            })
                        }), i.jsx(X, {
                            wrapperProps: {
                                role: "presentation",
                                style: {
                                    marginBottom: I.Spacing[2]
                                }
                            },
                            children: d
                        })]
                    }), i.jsxs(Id, {
                        id: t.name + "-month",
                        name: t.name + "-month",
                        disabled: e,
                        hasError: V,
                        onChange: T,
                        "aria-invalid": V,
                        "aria-errormessage": `${t.name}--error`,
                        "aria-describedby": `${t.name}--error`,
                        value: R.month,
                        styles: h,
                        children: [i.jsx("option", {
                            value: "",
                            disabled: !0,
                            children: c
                        }), a.map( (ne, L) => i.jsx("option", {
                            value: L,
                            children: ne
                        }, L))]
                    })]
                }), i.jsxs(Wa, {
                    children: [u && i.jsxs("label", {
                        htmlFor: t.name + "-day",
                        children: [i.jsx(Ac, {
                            children: n && i.jsx(X, {
                                children: `${n}, `
                            })
                        }), i.jsx(X, {
                            wrapperProps: {
                                role: "presentation",
                                style: {
                                    marginBottom: I.Spacing[2]
                                }
                            },
                            children: u
                        })]
                    }), i.jsx(Ss, {
                        id: t.name + "-day",
                        name: t.name + "-day",
                        disabled: e,
                        hasError: V,
                        min: 1,
                        max: 31,
                        onChange: E,
                        placeholder: s,
                        "aria-invalid": V,
                        "aria-errormessage": `${t.name}--error`,
                        "aria-describedby": `${t.name}--error`,
                        type: "number",
                        value: R.day,
                        styles: h
                    })]
                }), i.jsxs(Wa, {
                    children: [m && i.jsxs("label", {
                        htmlFor: t.name + "-year",
                        children: [i.jsx(Ac, {
                            children: n && i.jsx(X, {
                                children: `${n}, `
                            })
                        }), i.jsx(X, {
                            wrapperProps: {
                                role: "presentation",
                                style: {
                                    marginBottom: I.Spacing[2]
                                }
                            },
                            children: m
                        })]
                    }), i.jsx(Ss, {
                        id: t.name + "-year",
                        name: t.name + "-year",
                        disabled: e,
                        hasError: V,
                        min: 1900,
                        max: new Date().getFullYear(),
                        onChange: F,
                        placeholder: l,
                        "aria-invalid": V,
                        "aria-errormessage": `${t.name}--error`,
                        "aria-describedby": `${t.name}--error`,
                        type: "number",
                        value: R.year,
                        styles: h
                    })]
                }), i.jsx(Pu, {
                    children: i.jsx(an, {
                        id: `${t.name}--error`,
                        hasError: V,
                        errorMessage: r,
                        styles: h
                    })
                })]
            })]
        })
    }
      , U = () => {
        const V = !!(r && o);
        return i.jsxs(iy, {
            children: [i.jsxs(Du, {
                children: [i.jsx(ti, {
                    children: i.jsx("label", {
                        htmlFor: t.name + "-month",
                        children: `${n}, ${c}`
                    })
                }), i.jsxs(Hf, {
                    id: t.name + "-month",
                    name: t.name + "-month",
                    disabled: e,
                    hasError: V,
                    onChange: T,
                    "aria-invalid": V,
                    "aria-errormessage": `${t.name}--error`,
                    "aria-describedby": `${t.name}--error`,
                    value: R.month,
                    labelText: n,
                    styles: h,
                    children: [i.jsx("option", {
                        value: "",
                        disabled: !0,
                        children: c
                    }), a.map( (ne, L) => i.jsx("option", {
                        value: L,
                        children: ne
                    }, L))]
                })]
            }), i.jsxs(Wa, {
                children: [i.jsx(ti, {
                    children: i.jsx("label", {
                        htmlFor: t.name + "-day",
                        children: `${n}, ${s}`
                    })
                }), i.jsx(or, {
                    id: t.name + "-day",
                    name: t.name + "-day",
                    disabled: e,
                    hasError: V,
                    min: 1,
                    max: 31,
                    onChange: E,
                    "aria-invalid": V,
                    "aria-errormessage": `${t.name}--error`,
                    "aria-describedby": `${t.name}--error`,
                    type: "number",
                    value: R.day,
                    labelText: s,
                    styles: h
                })]
            }), i.jsxs(Wa, {
                children: [i.jsx(ti, {
                    children: i.jsx("label", {
                        htmlFor: t.name + "-year",
                        children: `${n}, ${l}`
                    })
                }), i.jsx(or, {
                    id: t.name + "-year",
                    name: t.name + "-year",
                    disabled: e,
                    hasError: V,
                    min: 1900,
                    max: 9999,
                    onChange: F,
                    labelText: l,
                    "aria-invalid": V,
                    "aria-errormessage": `${t.name}--error`,
                    "aria-describedby": `${t.name}--error`,
                    type: "number",
                    value: R.year,
                    styles: h
                })]
            }), i.jsx(Pu, {
                children: i.jsx(an, {
                    id: `${t.name}--error`,
                    hasError: V,
                    errorMessage: r,
                    styles: h
                })
            })]
        })
    }
    ;
    switch (_.inputStyle) {
    case Rt.Material:
        return U();
    case Rt.Outlined:
    default:
        return N()
    }
}
  , ay = Dl(oy)
  , sy = ({component: e, inquiry: t, actionsApi: n}) => {
    const {"placeholder-day": r, "placeholder-month": o, "placeholder-year": a, "label-day": s, "label-month": c, "label-year": l, "text-months": d, disabled: u, hidden: m, label: h, optional: p, prefill: b, validations: C} = e.attributes
      , S = e.name
      , v = It(S, t.attributes["next-step"].name)
      , x = dn({
        hidden: m,
        optional: p,
        validations: C
    })
      , _ = v(m);
    return f.useEffect( () => {
        _ ? n.setField(S, "") : !_ && !Ft(b) && n.setField(S, b)
    }
    , [_]),
    _ ? null : i.jsx(Se.Field, {
        name: S,
        id: S,
        component: ay,
        disabled: v(u),
        parse: Zt,
        validate: x,
        label: h,
        type: "text",
        placeholderMonth: o,
        placeholderDay: r,
        placeholderYear: a,
        labelDay: s,
        labelMonth: c,
        labelYear: l,
        textMonths: d,
        styles: e.styles
    })
}
  , Xe = g.div.attrs( () => ({
    "aria-hidden": !0
})).withConfig({
    displayName: "Spacer",
    componentId: "sc-1733kfs-0"
})(["height:", "px;width:", "px;flex:none;"], ({height: e=5}) => e * Cn, ({width: e=0}) => e * Cn)
  , ma = 250
  , cy = g.div.withConfig({
    displayName: "Dialog__Backdrop",
    componentId: "sc-1ep06vy-0"
})(["position:absolute;top:0;bottom:0;left:0;right:0;z-index:", ";@media ", "{position:fixed;}&.dialog-enter{background-color:rgba(0,0,0,0);pointer-events:none;}&.dialog-enter-active,&.dialog-enter-done{background-color:rgba(0,0,0,0.7);transition:background-color ", "ms;pointer-events:unset;}&.dialog-exit{background-color:rgba(0,0,0,0.7);pointer-events:unset;}&.dialog-exit-active{background-color:rgba(0,0,0,0);transition:background-color ", "ms;pointer-events:none;}"], wt.drawer, jt.isMobile, ma, ma)
  , ly = g.div.withConfig({
    displayName: "Dialog__Anim",
    componentId: "sc-1ep06vy-1"
})(["position:absolute;bottom:0;width:100%;transition:", "ms;.dialog-enter &{transform:translateY(100%);}.dialog-enter-active &{transform:translateY(0%);}.dialog-exit &{transform:translateY(0%);}.dialog-exit-active &{transform:translateY(100%);}"], ma)
  , dy = g.div.withConfig({
    displayName: "Dialog__DialogContainer",
    componentId: "sc-1ep06vy-2"
})(["box-shadow:0 0 6px 0 ", ";background-color:", ";color:", ";margin:4px;pointer-events:all;user-select:none;position:relative;", " ", " @media ", "{max-height:", "px;}@media ", "{max-height:calc(100vh - 40px);}display:flex;flex-direction:column;"], _p.base, ({styles: e, theme: t}) => {
    var n;
    return (n = A(e == null ? void 0 : e.backgroundColor)) != null ? n : t.colorModalBackground
}
, ({theme: e}) => e.colorFont, ({swipeable: e}) => e && `
    cursor: grab;

    &:active {
      cursor: grabbing;
    }
  `, ({styles: e}) => {
    var t, n, r, o, a, s, c, l, d, u;
    return `
    border-radius: ${(n = k((t = e == null ? void 0 : e.border) == null ? void 0 : t.radius)) != null ? n : ln.rounded};
    padding-top: calc(${(o = k((r = e == null ? void 0 : e.padding) == null ? void 0 : r.top)) != null ? o : "16px"} - ${ea}px);
    padding-bottom: calc(${(s = k((a = e == null ? void 0 : e.padding) == null ? void 0 : a.bottom)) != null ? s : "16px"} - ${ea}px);
    padding-left: calc(${(l = k((c = e == null ? void 0 : e.padding) == null ? void 0 : c.left)) != null ? l : "24px"} - ${ea}px);
    padding-right: calc(${(u = k((d = e == null ? void 0 : e.padding) == null ? void 0 : d.right)) != null ? u : "24px"} - ${ea}px);
  `
}
, jt.isNotMobile, Ra - 40, jt.isMobile)
  , uy = g.div.withConfig({
    displayName: "Dialog__SwipeHandle",
    componentId: "sc-1ep06vy-3"
})(["position:absolute;top:8px;left:0;right:0;"])
  , my = g.div.withConfig({
    displayName: "Dialog__SwipeHandleInner",
    componentId: "sc-1ep06vy-4"
})(["width:60px;margin:auto;height:4px;border-radius:", ";background-color:", ";"], ln.rounded, ({theme: e}) => e.colorDivider);
function bi({children: e, isOpen: t, onClose: n, styles: r, "aria-labelledby": o, "aria-describedby": a, "data-test": s="dialog"}) {
    const [c,{enable: l, disable: d}] = rt();
    gd(n != null ? n : mC);
    const u = f0({
        onSwipedDown: () => n == null ? void 0 : n(),
        preventDefaultTouchmoveEvent: !0,
        trackTouch: !0,
        trackMouse: !0
    })
      , m = n != null
      , h = f.useRef(void 0)
      , p = f.useCallback( () => {
        l(),
        qi(h.current)
    }
    , [])
      , b = f.useCallback( () => {
        setTimeout(qi, 0)
    }
    , []);
    return i.jsx(xa, {
        in: t,
        timeout: {
            enter: ma,
            exit: ma
        },
        mountOnEnter: !0,
        unmountOnExit: !0,
        onEntered: p,
        onExit: d,
        onExited: b,
        classNames: "dialog",
        children: i.jsx(kp, {
            active: c,
            focusTrapOptions: {
                escapeDeactivates: !1,
                clickOutsideDeactivates: !1,
                allowOutsideClick: !1,
                initialFocus: !1,
                fallbackFocus: document.body,
                setReturnFocus: !1
            },
            children: i.jsx(cy, {
                "data-test": "dialog__backdrop",
                id: "dialog__backdrop",
                onClick: n,
                children: i.jsx(ly, {
                    id: "dialog__animation",
                    onClick: C => C.stopPropagation(),
                    children: i.jsxs(hy, {
                        styles: r,
                        dialogContainerRef: h,
                        "data-test": s,
                        "aria-labelledby": o,
                        "aria-describedby": a,
                        swipeable: m,
                        ...u,
                        children: [m && i.jsx(uy, {
                            role: "presentation",
                            children: i.jsx(my, {})
                        }), i.jsx(py, {
                            children: e
                        })]
                    })
                })
            })
        })
    })
}
const hy = ({dialogContainerRef: e, ...t}) => (f.useEffect( () => {
    var n, r;
    e.current != null && !fy(e.current) && ((r = (n = document.body).scrollTo) == null || r.call(n, {
        top: window.innerHeight - Ox,
        behavior: "smooth"
    }))
}
, []),
i.jsx(dy, {
    role: "dialog",
    ref: e,
    ...t
}))
  , ea = 4
  , py = g.div.withConfig({
    displayName: "Dialog__DialogScrollContainer",
    componentId: "sc-1ep06vy-5"
})(["overflow-y:auto;padding:", "px;"], ea);
function fy(e) {
    const {top: t, height: n} = e.getBoundingClientRect();
    return t - n / 2 < window.innerHeight
}
const Js = (e, t) => e && (e == null ? void 0 : e.replace(/\s/g, ""))in yr ? `https://fonts.googleapis.com/css2?family=${e.replace(/\s/g, "+")}:wght@300;400;500;700;900&display=swap` : `https://fonts.googleapis.com/css2?family=${yr.Rubik}:wght@300;400;500;700;900&display=swap`;
g.div.withConfig({
    displayName: "ThemedFonts__Container",
    componentId: "sc-16j6dhq-0"
})(["font-family:", ";color:", ";font-size:", ";line-height:", ";"], ({theme: {fontFamily: e}}) => Gt(e), ({theme: e}) => e.colorFont, ({theme: e}) => e.fontSizeBody, ({theme: e}) => e.lineHeightBody);
const Xs = g.span.withConfig({
    displayName: "TextBase",
    componentId: "sc-dokknq-0"
})( ({styles: e}) => {
    var t, n, r, o, a, s, c, l;
    return {
        marginTop: (n = k((t = e == null ? void 0 : e.margin.base.base) == null ? void 0 : t.top)) != null ? n : 0,
        marginBottom: (o = k((r = e == null ? void 0 : e.margin.base.base) == null ? void 0 : r.bottom)) != null ? o : 0,
        marginLeft: (s = k((a = e == null ? void 0 : e.margin.base.base) == null ? void 0 : a.left)) != null ? s : 0,
        marginRight: (l = k((c = e == null ? void 0 : e.margin.base.base) == null ? void 0 : c.right)) != null ? l : 0,
        textAlign: e == null ? void 0 : e.justify.base.base,
        fontFamily: Gt(e == null ? void 0 : e["font-family"].base.base),
        fontSize: k(e == null ? void 0 : e["font-size"].base.base),
        fontWeight: Qn(e == null ? void 0 : e["font-weight"].base.base),
        letterSpacing: k(e == null ? void 0 : e["letter-spacing"].base.base),
        lineHeight: k(e == null ? void 0 : e["line-height"].base.base),
        color: A(e == null ? void 0 : e["text-color"].base.base),
        a: {
            color: A(e == null ? void 0 : e["text-color-highlight"].base.base),
            outlineColor: A(e == null ? void 0 : e["text-color-highlight"].base.base)
        }
    }
}
)
  , gy = g("p").withConfig({
    displayName: "ThemedParagraph__Paragraph",
    componentId: "sc-1xt23cs-0"
})(["font-family:", ";color:", ";font-size:", ";line-height:", ";text-align:", ";"], ({theme: {fontFamily: e}}) => Gt(e), ({theme: e}) => e.colorFont, ({theme: e}) => e.fontSizeBody, ({theme: e}) => e.lineHeightBody, ({theme: e}) => e.textAlign)
  , ot = ({styles: e, ...t}) => (co(Js(e == null ? void 0 : e["font-family"].base.base)),
i.jsx(i.Fragment, {
    children: e != null ? i.jsx(Xs, {
        ...t,
        styles: e
    }) : i.jsx(gy, {
        ...t
    })
}))
  , Sd = g("h1").attrs( () => ({
    tabIndex: -1
})).withConfig({
    displayName: "TitleTextBase",
    componentId: "sc-1oqm48g-0"
})(["", ""], ({styles: e}) => {
    var t, n, r, o, a, s, c, l;
    return {
        marginTop: (n = k((t = e == null ? void 0 : e.margin.base.base) == null ? void 0 : t.top)) != null ? n : 0,
        marginBottom: (o = k((r = e == null ? void 0 : e.margin.base.base) == null ? void 0 : r.bottom)) != null ? o : 0,
        marginLeft: (s = k((a = e == null ? void 0 : e.margin.base.base) == null ? void 0 : a.left)) != null ? s : 0,
        marginRight: (l = k((c = e == null ? void 0 : e.margin.base.base) == null ? void 0 : c.right)) != null ? l : 0,
        textAlign: e == null ? void 0 : e.justify.base.base,
        fontFamily: Gt(e == null ? void 0 : e["font-family"].base.base),
        fontSize: k(e == null ? void 0 : e["font-size"].base.base),
        fontWeight: Qn(e == null ? void 0 : e["font-weight"].base.base),
        letterSpacing: k(e == null ? void 0 : e["letter-spacing"].base.base),
        lineHeight: k(e == null ? void 0 : e["line-height"].base.base),
        color: A(e == null ? void 0 : e["text-color"].base.base),
        a: {
            color: A(e == null ? void 0 : e["text-color-highlight"].base.base),
            outlineColor: A(e == null ? void 0 : e["text-color-highlight"].base.base)
        }
    }
}
)
  , by = g("h1").withConfig({
    displayName: "ThemedTitle__Title",
    componentId: "sc-xrn9gt-0"
})(["font-family:", ";color:", ";font-size:", ";font-weight:", ";line-height:", ";margin-bottom:", ";text-align:", ";"], ({theme: {fontFamilyTitle: e}}) => Gt(e), ({theme: e}) => e.colorFontTitle, ({theme: e}) => e.fontSizeHeader, ({theme: e}) => e.headerFontWeight, ({theme: e}) => e.lineHeightHeader, ({theme: e}) => e.headerMarginBottom, ({theme: e}) => e.textAlign)
  , ct = ({styles: e, ...t}) => (co(Js(e == null ? void 0 : e["font-family"].base.base)),
i.jsx(i.Fragment, {
    children: e != null ? i.jsx(Sd, {
        ...t,
        styles: e
    }) : i.jsx(by, {
        ...t,
        tabIndex: -1
    })
}))
  , Cy = g("div").withConfig({
    displayName: "ThemedFormESignature__Container",
    componentId: "sc-dy8tgn-0"
})(["", " ", ""], Fi, Ks)
  , xy = g.div.withConfig({
    displayName: "ThemedFormESignature__SignaturePadWrapper",
    componentId: "sc-dy8tgn-1"
})( ({styles: e}) => {
    var t, n, r, o;
    return {
        position: "relative",
        height: "120px",
        borderStyle: "solid",
        borderColor: A(e == null ? void 0 : e["border-color"].base.base),
        borderRadius: k(e == null ? void 0 : e["border-radius"].base.base),
        borderTopWidth: k((t = e == null ? void 0 : e["border-width"].base.base) == null ? void 0 : t.top),
        borderBottomWidth: k((n = e == null ? void 0 : e["border-width"].base.base) == null ? void 0 : n.bottom),
        borderLeftWidth: k((r = e == null ? void 0 : e["border-width"].base.base) == null ? void 0 : r.left),
        borderRightWidth: k((o = e == null ? void 0 : e["border-width"].base.base) == null ? void 0 : o.right),
        "&:hover": {
            cursor: "pointer"
        }
    }
}
)
  , vy = g.hr.withConfig({
    displayName: "ThemedFormESignature__SignaturePadOverlay",
    componentId: "sc-dy8tgn-2"
})( ({styles: e}) => {
    var t;
    return {
        position: "absolute",
        left: "10%",
        right: "10%",
        bottom: I.Spacing[5],
        margin: "auto",
        borderStyle: "solid",
        borderColor: A(e == null ? void 0 : e["border-color"].base.base),
        borderBottomWidth: k((t = e == null ? void 0 : e["border-width"].base.base) == null ? void 0 : t.bottom)
    }
}
)
  , Iy = g.div.withConfig({
    displayName: "ThemedFormESignature__ButtonWrapper",
    componentId: "sc-dy8tgn-3"
})(["display:flex;justify-content:space-between;gap:", ";"], I.Spacing[3])
  , Sy = g.button.withConfig({
    displayName: "ThemedFormESignature__AddSignatureButton",
    componentId: "sc-dy8tgn-4"
})(["", ";height:160px;width:100%;background-color:", ";border:2px solid ", ";border-radius:", ";&:hover{cursor:pointer;}"], I.Typography.TextMedium, ({styles: e}) => A(e == null ? void 0 : e["background-color"]["signature-preview"].base), ({styles: e}) => A(e == null ? void 0 : e["border-color"].base.base), ({styles: e}) => k(e == null ? void 0 : e["border-radius"].base.base))
  , yy = g.button.withConfig({
    displayName: "ThemedFormESignature__AddSignaturePreview",
    componentId: "sc-dy8tgn-5"
})(["position:relative;height:160px;width:100%;background-color:", ";border:2px solid ", ";border-radius:", ";&:hover{cursor:pointer;}"], ({styles: e}) => A(e == null ? void 0 : e["background-color"]["signature-preview"].base), ({styles: e}) => A(e == null ? void 0 : e["border-color"].base.base), ({styles: e}) => k(e == null ? void 0 : e["border-radius"].base.base))
  , wy = g.img.withConfig({
    displayName: "ThemedFormESignature__PreviewImage",
    componentId: "sc-dy8tgn-6"
})(["height:100%;width:100%;max-height:128px;object-fit:contain;"])
  , _y = g(g0).withConfig({
    displayName: "ThemedFormESignature__EditSignatureIcon",
    componentId: "sc-dy8tgn-7"
})(["position:absolute;top:", ";right:", ";"], I.Spacing[4], I.Spacing[4])
  , Ry = g.div.withConfig({
    displayName: "ThemedFormESignature__DialogHeaderWrapper",
    componentId: "sc-dy8tgn-8"
})(["display:flex;justify-content:space-between;"])
  , Ay = g.button.withConfig({
    displayName: "ThemedFormESignature__DialogCloseButton",
    componentId: "sc-dy8tgn-9"
})(["width:24px;background-color:transparent;color:", ";&:hover{cursor:pointer;}"], ({styles: e}) => A(e == null ? void 0 : e["text-color"].label.base))
  , Ty = e => {
    var U, V, ne, L;
    const {input: {onChange: t, value: n}, meta: {error: r, submitFailed: o}, id: a, label: s, placeholder: c, dialogTitle: l, dialogText: d, clearButtonText: u, saveButtonText: m, styles: h, disabled: p} = e
      , b = !!(r && o)
      , [C,{enable: S, disable: v}] = rt(!1)
      , x = f.useRef(null)
      , _ = f.useCallback( () => {
        var H, q;
        (q = (H = x.current) == null ? void 0 : H.instance) == null || q.clear()
    }
    , [])
      , R = f.useCallback( () => {
        var H, q;
        if ((q = (H = x.current) == null ? void 0 : H.instance) != null && q.isEmpty())
            t(null);
        else {
            const ee = x.current.toDataURL();
            t(ee != null ? ee.split(",")[1] : null)
        }
        v()
    }
    , [t, v])
      , E = (U = h == null ? void 0 : h["button-primary-style"]) == null ? void 0 : U["save-signature-button"].base
      , T = (V = h == null ? void 0 : h["button-secondary-style"]) == null ? void 0 : V["clear-signature-button"].base
      , F = (ne = h == null ? void 0 : h["title-style"]) == null ? void 0 : ne["dialog-title"].base
      , O = (L = h == null ? void 0 : h["text-style"]) == null ? void 0 : L["dialog-text"].base
      , N = {
        margin: {
            base: {
                base: null
            }
        },
        justify: {
            base: {
                base: Aa.Start
            }
        },
        "font-family": {
            base: {
                base: h == null ? void 0 : h["font-family"].placeholder.base
            }
        },
        "font-size": {
            base: {
                base: h == null ? void 0 : h["font-size"].placeholder.base
            }
        },
        "font-weight": {
            base: {
                base: h == null ? void 0 : h["font-weight"].placeholder.base
            }
        },
        "letter-spacing": {
            base: {
                base: h == null ? void 0 : h["letter-spacing"].placeholder.base
            }
        },
        "line-height": {
            base: {
                base: h == null ? void 0 : h["line-height"].placeholder.base
            }
        },
        "text-color": {
            base: {
                base: h == null ? void 0 : h["text-color"].placeholder.base
            }
        },
        "text-color-highlight": {
            base: {
                base: h == null ? void 0 : h["text-color"].placeholder.base
            }
        }
    };
    return i.jsxs(i.Fragment, {
        children: [i.jsxs(Cy, {
            children: [s && i.jsx(X, {
                wrapper: "label",
                wrapperProps: {
                    htmlFor: `${a}-open-dialog__btn`
                },
                children: s
            }), n ? i.jsxs(yy, {
                type: "button",
                id: a,
                onClick: S,
                styles: h,
                "aria-errormessage": `${a}--error`,
                "aria-describedby": `${a}--error`,
                children: [i.jsx(_y, {
                    size: 16,
                    color: I.Color.CoreSlate800
                }), i.jsx(wy, {
                    src: Ey(n),
                    alt: "Current signature preview"
                })]
            }) : i.jsx(Sy, {
                type: "button",
                id: a,
                onClick: S,
                styles: h,
                "aria-errormessage": `${a}--error`,
                "aria-describedby": `${a}--error`,
                children: i.jsx(ot, {
                    styles: N,
                    children: c
                })
            }), i.jsx(an, {
                id: `${a}--error`,
                hasError: b,
                errorMessage: r
            })]
        }), i.jsxs(bi, {
            isOpen: C,
            onClose: v,
            "data-test": `${a}-dialog`,
            "aria-labelledby": `${a}-dialog__title`,
            "aria-describedby": `${a}-dialog__description`,
            children: [i.jsxs(Ry, {
                role: "presentation",
                children: [i.jsx(ct, {
                    id: `${a}-dialog__title`,
                    styles: F,
                    children: l
                }), i.jsx(Ay, {
                    type: "button",
                    id: `${a}-dialog-close__btn`,
                    onClick: v,
                    styles: h,
                    children: i.jsx(Eh, {
                        size: 24,
                        "aria-hidden": !0
                    })
                })]
            }), i.jsx(ot, {
                id: `${a}-dialog__description`,
                styles: O,
                children: d
            }), i.jsx(Xe, {
                height: 4
            }), i.jsxs(xy, {
                role: "presentation",
                styles: h,
                children: [i.jsx(b0, {
                    ref: x,
                    height: 120
                }), i.jsx(vy, {
                    role: "presentation",
                    styles: h
                })]
            }), i.jsx(Xe, {
                height: 4
            }), i.jsxs(Iy, {
                role: "presentation",
                children: [i.jsx(ua, {
                    type: "button",
                    id: `${a}-dialog-save__btn`,
                    styles: T,
                    onClick: _,
                    children: u
                }), i.jsx(ua, {
                    type: "button",
                    id: `${a}-dialog-clear__btn`,
                    styles: E,
                    onClick: R,
                    children: m
                })]
            })]
        })]
    })
}
  , Ey = e => `data:image/png;base64,${e}`
  , ky = ({component: e, inquiry: t, actionsApi: n}) => {
    const {disabled: r, hidden: o, label: a, optional: s, placeholder: c, prefill: l, validations: d, "dialog-title": u, "dialog-text": m, "clear-button-text": h, "save-button-text": p} = e.attributes
      , b = e.name
      , C = It(b, t.attributes["next-step"].name)
      , S = dn({
        hidden: o,
        optional: s,
        validations: d
    })
      , v = C(o);
    return f.useEffect( () => {
        v ? n.setField(b, "") : !v && !Ft(l) && n.setField(b, l)
    }
    , [v]),
    v ? null : i.jsx(Se.Field, {
        id: b,
        name: b,
        component: Ty,
        disabled: C(r),
        parse: Zt,
        validate: S,
        label: a,
        placeholder: c,
        dialogTitle: u,
        dialogText: m,
        clearButtonText: h,
        saveButtonText: p,
        styles: e.styles
    })
}
  , Ny = g("div").withConfig({
    displayName: "ThemedFormFileUpload__FileUploadContainer",
    componentId: "sc-1etar0k-0"
})(["", " ", ""], Fi, ({styles: e}) => Dn(e))
  , jy = g("input").withConfig({
    displayName: "ThemedFormFileUpload__UploadInput",
    componentId: "sc-1etar0k-1"
})(["display:block;"])
  , Py = e => {
    const {input: {onChange: t}, meta: {error: n, submitFailed: r}, id: o, label: a, fileUploadLimit: s, allowedFileTypes: c, disabled: l, styles: d} = e
      , u = !!(n && r);
    f.useEffect( () => {
        t([])
    }
    , []);
    const m = f.useCallback(h => {
        var p;
        t(Array.from((p = h.target.files) != null ? p : []))
    }
    , [t]);
    return i.jsxs(Ny, {
        styles: d,
        children: [a && i.jsx(X, {
            wrapper: "label",
            wrapperProps: {
                htmlFor: o
            },
            children: a
        }), i.jsx(jy, {
            id: o,
            name: o,
            accept: c.join(","),
            "data-test": `${o}__upload-input`,
            disabled: l,
            multiple: s > 1,
            onChange: m,
            type: "file",
            "aria-errormessage": `${o}--error`,
            "aria-describedby": `${o}--error`
        }), i.jsx(an, {
            id: `${o}--error`,
            hasError: u,
            errorMessage: n,
            styles: d
        })]
    })
}
  , Dy = ({component: e, inquiry: t, actionsApi: n}) => {
    const {disabled: r, hidden: o, label: a, optional: s, validations: c, "file-upload-limit": l, "allowed-file-types": d} = e.attributes
      , u = e.name
      , m = It(u, t.attributes["next-step"].name)
      , h = dn({
        hidden: o,
        optional: s,
        validations: c
    })
      , p = m(o);
    return f.useEffect( () => {
        p && n.setField(u, "")
    }
    , [p]),
    p ? null : i.jsx(Se.Field, {
        id: u,
        name: u,
        component: Py,
        disabled: m(r),
        validate: h,
        label: a,
        fileUploadLimit: l,
        allowedFileTypes: d,
        styles: e.styles
    })
}
  , Oy = g("div").withConfig({
    displayName: "ThemedFormSelect__OutlinedContainer",
    componentId: "sc-14x9c3j-0"
})(["", " ", ""], ({styles: e}) => ur(e), ({styles: e}) => Dn(e))
  , Ly = g("div").withConfig({
    displayName: "ThemedFormSelect__MaterialContainer",
    componentId: "sc-14x9c3j-1"
})(["", ""], ko);
function gl(e) {
    const {id: t, input: n, label: r, styles: o, meta: {error: a, submitFailed: s}, ...c} = e
      , {inputStyle: l} = f.useContext(Je)
      , d = !!(a && s);
    switch (l) {
    case Rt.Material:
        return i.jsxs(Ly, {
            children: [i.jsx(Hf, {
                ...n,
                ...c,
                id: t,
                hasError: d,
                "aria-invalid": d,
                "aria-errormessage": `${t}--error`,
                "aria-describedby": `${t}--error`,
                labelText: r,
                styles: o
            }), i.jsx(an, {
                id: `${t}--error`,
                hasError: d,
                errorMessage: a,
                styles: o
            })]
        });
    default:
    case Rt.Outlined:
        return i.jsxs(Oy, {
            styles: o,
            children: [r && i.jsx(X, {
                wrapper: "label",
                wrapperProps: {
                    htmlFor: t
                },
                children: r
            }), i.jsx(Id, {
                ...n,
                ...c,
                id: t,
                hasError: d,
                "aria-invalid": d,
                "aria-errormessage": `${t}--error`,
                "aria-describedby": `${t}--error`,
                styles: o
            }), i.jsx(an, {
                id: `${t}--error`,
                hasError: d,
                errorMessage: a,
                styles: o
            })]
        })
    }
}
const uo = g("button").withConfig({
    displayName: "IconButton",
    componentId: "sc-1qrgawo-0"
})(["cursor:pointer;pointer-events:auto;height:", ";width:", ";background:none;display:flex;align-items:center;justify-content:center;flex:none;border-radius:", ";outline:0 !important;transition:box-shadow ", ",background-color ", ";box-shadow:0 0 0 2px transparent;:hover:not(:disabled){background-color:", ";}:focus-visible:not(:disabled){box-shadow:0 0 0 2px ", ";}:active:not(:disabled){background-color:", ";}svg{color:", ";}&:disabled{cursor:not-allowed;opacity:0.25;}"], I.Spacing[6], I.Spacing[6], ({theme: e}) => e.borderRadius, tt.Fast, tt.Fast, ft(I.Color.CoreSlate200).fade(.5).rgb().string(), ({theme: e}) => e.colorPrimary, ft(I.Color.CoreSlate300).fade(.5).rgb().string(), ({theme: e}) => e.colorFont)
  , Ou = g("div").withConfig({
    displayName: "ThemedMaskedInput__Container",
    componentId: "sc-1fzoepq-0"
})(["position:relative;"])
  , Fy = g(ks).withConfig({
    displayName: "ThemedMaskedInput__StyledThemedMaskedInput",
    componentId: "sc-1fzoepq-1"
})(["", ";", " left:0;position:absolute;background:transparent !important;border-color:transparent;caret-color:#000000;color:transparent !important;-webkit-text-fill-color:transparent !important;"], e => _r(e, e.theme, e.styles), e => {
    if (e.$secured)
        return `font-family: ${e.theme.text.fontFamily.mono};
        &::placeholder {
          font-family: ${e.$fontFamily || e.theme.text.fontFamily.base};
        }
      `
}
)
  , My = g(Ss).withConfig({
    displayName: "ThemedMaskedInput__DisplayInput",
    componentId: "sc-1fzoepq-2"
})(["", ";", ""], e => _r(e, e.theme, e.styles), e => {
    if (e.$secured)
        return `font-family: ${e.theme.text.fontFamily.mono};
        &::placeholder {
          font-family: ${e.$fontFamily || e.theme.text.fontFamily.base};
        }
      `
}
)
  , By = g(ks).withConfig({
    displayName: "ThemedMaskedInput__StyledMaterialThemedMaskedInput",
    componentId: "sc-1fzoepq-3"
})(["", " font-size:", ";font-weight:", ";line-height:", ";padding:", " ", " ", " ", ";width:100%;left:0;position:absolute;background-color:", ";border-color:transparent;caret-color:#000000;color:transparent !important;"], ({$styles: e, $secured: t, theme: n}) => {
    var o, a;
    const r = t ? n.text.fontFamily.mono : (a = (o = e == null ? void 0 : e["font-family"]) == null ? void 0 : o.base) == null ? void 0 : a.base;
    return `font-family: ${r != null ? r : n.text.fontFamily.base};`
}
, ({$styles: e}) => {
    var t, n, r;
    return (r = k((n = (t = e == null ? void 0 : e["font-size"]) == null ? void 0 : t.value) == null ? void 0 : n.base)) != null ? r : qt.input
}
, ({$styles: e}) => {
    var t, n, r;
    return (r = (n = (t = e == null ? void 0 : e["font-weight"]) == null ? void 0 : t.value) == null ? void 0 : n.base) != null ? r : on.regular
}
, ({$styles: e}) => {
    var t, n, r;
    return (r = k((n = (t = e == null ? void 0 : e["line-height"]) == null ? void 0 : t.value) == null ? void 0 : n.base)) != null ? r : Hn.input
}
, I.Spacing[2], I.Spacing[2], I.Spacing[2], I.Spacing[1], ({$styles: e, theme: t}) => {
    var n, r, o;
    return (o = A((r = (n = e == null ? void 0 : e["background-color"]) == null ? void 0 : n.base) == null ? void 0 : r.base)) != null ? o : t.colorInputBackground
}
)
  , Vy = g(or).withConfig({
    displayName: "ThemedMaskedInput__DisplayMaterialInput",
    componentId: "sc-1fzoepq-4"
})(["background-color:transparent !important;pointer-events:none;> input{", " background-color:transparent !important;}"], ({styles: e, $secured: t, theme: n}) => {
    var o, a;
    const r = t ? n.text.fontFamily.mono : (a = (o = e == null ? void 0 : e["font-family"]) == null ? void 0 : o.base) == null ? void 0 : a.base;
    return `font-family: ${r != null ? r : n.text.fontFamily.base};`
}
)
  , Uy = g("div").withConfig({
    displayName: "ThemedMaskedInput__OutlinedContainer",
    componentId: "sc-1fzoepq-5"
})(["", " ", ""], ({styles: e}) => ur(e), ({styles: e}) => Dn(e))
  , Hy = g("div").withConfig({
    displayName: "ThemedMaskedInput__MaterialContainer",
    componentId: "sc-1fzoepq-6"
})(["", ""], ko)
  , qf = g.div.withConfig({
    displayName: "ThemedMaskedInput__ButtonContainer",
    componentId: "sc-1fzoepq-7"
})(["position:absolute;right:0;z-index:", ";height:100%;display:flex;align-items:center;padding-right:", ";[dir='rtl'] &{right:unset;left:0;padding-right:unset;padding-left:", ";}"], wt.inputButtons, I.Spacing[2], I.Spacing[2])
  , qy = g(qf).withConfig({
    displayName: "ThemedMaskedInput__MaterialButtonContainer",
    componentId: "sc-1fzoepq-8"
})(["height:", "px;"], xd)
  , $f = ({meta: {error: e, submitFailed: t}, input: n, mask: r, label: o, secure: a=!0, serverError: s, styles: c, ...l}) => {
    var E, T, F, O;
    const {inputStyle: d} = f.useContext(Je)
      , [u,{toggle: m, set: h}] = rt(a);
    f.useEffect( () => {
        h(a)
    }
    , [a, h]);
    const p = u ? $y((E = n.value) != null ? E : "", r) : (T = n.value) != null ? T : ""
      , b = t && e || s
      , C = !!b
      , S = (O = (F = c == null ? void 0 : c["font-family"]) == null ? void 0 : F.base) == null ? void 0 : O.base
      , [v,{enable: x, disable: _}] = rt(!1)
      , R = {
        "data-1p-ignore": !0
    };
    switch (d) {
    case Rt.Material:
        return i.jsx(Hy, {
            children: i.jsxs(Ou, {
                children: [a && i.jsx(qy, {
                    children: i.jsx(uo, {
                        "data-test": "themed-masked-input__secure-button",
                        type: "button",
                        onClick: m,
                        tabIndex: -1,
                        "aria-label": u ? "show value" : "hide value",
                        children: u ? i.jsx(ss, {
                            "aria-hidden": !0,
                            height: 16,
                            width: 16
                        }) : i.jsx(cs, {
                            "aria-hidden": !0,
                            height: 16,
                            width: 16
                        })
                    })
                }), i.jsx(By, {
                    ...l,
                    ...n,
                    mask: r,
                    autoComplete: "no-autocomplete",
                    guide: !1,
                    placeholder: void 0,
                    onFocus: x,
                    onBlur: _,
                    "aria-invalid": C,
                    "aria-errormessage": `${l.id}--error`,
                    "aria-describedby": `${l.id}--error`,
                    $styles: c,
                    $secured: !!u,
                    ...R
                }), i.jsx(Vy, {
                    value: p,
                    readOnly: !0,
                    disabled: l.disabled,
                    hasError: C,
                    labelText: o != null ? o : "",
                    tabIndex: -1,
                    type: "text",
                    "data-test": "themed-masked-input__display-input",
                    styles: c,
                    $secured: !!u,
                    focused: v
                }), i.jsx(an, {
                    id: `${l.id}--error`,
                    hasError: C,
                    errorMessage: b,
                    styles: c
                })]
            })
        });
    default:
        return i.jsxs(Uy, {
            styles: c,
            children: [o && i.jsx(X, {
                wrapper: "label",
                wrapperProps: {
                    htmlFor: n.name
                },
                children: o
            }), i.jsxs(Ou, {
                children: [a && i.jsx(qf, {
                    children: i.jsx(uo, {
                        "data-test": "themed-masked-input__secure-button",
                        type: "button",
                        onClick: m,
                        tabIndex: -1,
                        "aria-label": u ? "show value" : "hide value",
                        children: u ? i.jsx(ss, {
                            "aria-hidden": !0,
                            height: 16,
                            width: 16
                        }) : i.jsx(cs, {
                            "aria-hidden": !0,
                            height: 16,
                            width: 16
                        })
                    })
                }), i.jsx(Fy, {
                    ...l,
                    ...n,
                    mask: r,
                    autoComplete: "no-autocomplete",
                    guide: !1,
                    placeholder: void 0,
                    "aria-invalid": C,
                    "aria-errormessage": `${l.id}--error`,
                    "aria-describedby": `${l.id}--error`,
                    styles: c,
                    $fontFamily: S,
                    $secured: !!u,
                    ...R
                }), i.jsx(My, {
                    value: p,
                    readOnly: !0,
                    disabled: l.disabled,
                    hasError: C,
                    placeholder: l.placeholder,
                    tabIndex: -1,
                    type: "text",
                    "data-test": "themed-masked-input__display-input",
                    styles: c,
                    $fontFamily: S,
                    $secured: !!u
                })]
            }), i.jsx(an, {
                id: `${l.id}--error`,
                hasError: C,
                errorMessage: b,
                styles: c
            })]
        })
    }
}
  , Lu = "";
function $y(e, t) {
    return Array.isArray(t) ? e.split("").map( (n, r) => t[r]instanceof RegExp ? Lu : n).join("") : Lu.repeat(e.length)
}
const Gy = g("div").withConfig({
    displayName: "ThemedFormInternationalDb__OutlinedLabelContainer",
    componentId: "sc-qpdgwp-0"
})(["", ""], ({styles: e}) => Dn(e))
  , Wy = ({allowedIdTypes: e, countryOptions: t, idTypeOptions: n, hideCountryIfPrefilled: r, hideTypeIfPrefilled: o, hideCountryIfSingleChoice: a, hideTypeIfSingleChoice: s, fieldKeyIdbCountry: c, fieldKeyIdbType: l, fieldKeyIdbValue: d, label: u, labelIdbCountry: m, labelIdbType: h, labelIdbValue: p, placeholderIdbCountry: b, placeholderIdbType: C, placeholderIdbValue: S, validateIdbCountry: v, validateIdbType: x, validateIdbValue: _, serverErrorIdbCountry: R, serverErrorIdbType: E, serverErrorIdbValue: T, disabled: F, styles: O, setField: N, selectedCountry: U, selectedType: V, countryPrefilled: ne, typePrefilled: L}) => {
    var se, _e, Re, ye, Pe, Ae, Te, be, re, z;
    const H = f.useMemo( () => {
        const Z = e.find(Ce => Ce["country-code"] === U && Ce["id-type"] === V)
          , xe = Z == null ? void 0 : Z.placeholder
          , we = !!(Z != null && Z.secure)
          , Ye = Z == null ? void 0 : Z.description
          , qe = (Z == null ? void 0 : Z.mask) != null && Z.mask !== "" ? Z.mask.split("").map(Ce => {
            switch (Ce) {
            case "#":
                return /\d/;
            case "@":
                return /[a-z]/i;
            case "*":
                return /\w/;
            default:
                return Ce
            }
        }
        ) : !1;
        return {
            description: Ye,
            mask: qe,
            placeholder: xe,
            secure: we
        }
    }
    , [e, U, V])
      , q = f.useMemo( () => ne && r || t.length === 1 && a, [t, ne, r, a])
      , ee = f.useMemo( () => L && o || n.length === 1 && s, [n, L, o, s])
      , Y = f.useCallback( () => {
        N(d, ""),
        N(l, "")
    }
    , [l, d, N])
      , ae = f.useCallback( () => {
        N(d, "")
    }
    , [d, N]);
    return i.jsxs(i.Fragment, {
        children: [u && i.jsx(Gy, {
            styles: (_e = (se = O == null ? void 0 : O["input-select-style"]) == null ? void 0 : se.base) == null ? void 0 : _e.base,
            children: i.jsx(X, {
                wrapper: "label",
                wrapperProps: {
                    style: {
                        marginBottom: 0
                    }
                },
                children: u
            })
        }), !q && i.jsxs(Se.Field, {
            "data-test": "idb-country",
            id: c,
            name: c,
            component: gl,
            disabled: F,
            validate: v,
            label: m,
            styles: (ye = (Re = O == null ? void 0 : O["input-select-style"]) == null ? void 0 : Re.base) == null ? void 0 : ye.base,
            serverError: R,
            onChange: Y,
            children: [i.jsx("option", {
                value: "",
                disabled: !0,
                children: b != null ? b : ""
            }), t.map(Z => i.jsx("option", {
                value: Z.code,
                children: Z.name
            }, Z.code))]
        }), !ee && i.jsxs(Se.Field, {
            "data-test": "idb-type",
            id: l,
            name: l,
            component: gl,
            disabled: F || !U,
            validate: x,
            label: h,
            styles: (Ae = (Pe = O == null ? void 0 : O["input-select-style"]) == null ? void 0 : Pe.base) == null ? void 0 : Ae.base,
            serverError: E,
            onChange: ae,
            children: [i.jsx("option", {
                value: "",
                disabled: !0,
                children: C != null ? C : ""
            }), n.map(Z => i.jsx("option", {
                value: Z.idbType,
                children: Z.idbName
            }, Z.idbType))]
        }), i.jsx(Se.Field, {
            "data-test": "idb-value",
            name: d,
            id: d,
            component: $f,
            disabled: F || !U || !V,
            parse: Zt,
            validate: _,
            label: p,
            mask: H == null ? void 0 : H.mask,
            placeholder: (H == null ? void 0 : H.placeholder) || S,
            secure: H == null ? void 0 : H.secure,
            styles: (be = (Te = O == null ? void 0 : O["input-text-style"]) == null ? void 0 : Te.base) == null ? void 0 : be.base,
            serverError: T
        }), !!(H != null && H.description) && i.jsx(ot, {
            styles: (z = (re = O == null ? void 0 : O["text-style"]) == null ? void 0 : re.base) == null ? void 0 : z.base,
            children: H == null ? void 0 : H.description
        })]
    })
}
  , Yy = ({component: e, inquiry: t, actionsApi: n, inquiryLoading: r}) => {
    const o = `${e.name}.idb_country`
      , a = `${e.name}.idb_type`
      , s = `${e.name}.idb_value`
      , {"allowed-id-types": c, "hide-country-if-prefilled": l, "hide-type-if-prefilled": d, "hide-country-if-single-choice": u, "hide-type-if-single-choice": m, "prefill-idb-country": h, "prefill-idb-type": p, "prefill-idb-value": b, "validations-idb-country": C, "validations-idb-type": S, "validations-idb-value": v, label: x, "label-idb-country": _, "label-idb-type": R, "label-idb-value": E, "placeholder-idb-country": T, "placeholder-idb-type": F, "placeholder-idb-value": O, "error-idb-country": N, "error-idb-type": U, "error-idb-value": V, disabled: ne, hidden: L, optional: H} = e.attributes
      , q = ni(t, r, o, h)
      , ee = ni(t, r, a, p)
      , Y = ni(t, r, s, b)
      , ae = q && ee && Y
      , se = It("", t.attributes["next-step"].name)
      , _e = se(L)
      , Re = dn({
        optional: H,
        validations: C
    })
      , ye = dn({
        optional: H,
        validations: S
    })
      , Pe = dn({
        optional: H,
        validations: v
    })
      , Ae = t.attributes["next-step"].name
      , Te = st(Ce => Se.formValueSelector(Ae)(Ce, o))
      , be = st(Ce => Se.formValueSelector(Ae)(Ce, a))
      , re = f.useMemo( () => bp("country-code", c), [c])
      , z = f.useMemo( () => Object.keys(re).map(Ce => ({
        name: re[Ce][0]["country-name"],
        code: Ce
    })), [re])
      , Z = f.useMemo( () => {
        var W;
        if (!Te)
            return [];
        const Ce = (W = re[Te]) == null ? void 0 : W.map(oe => ({
            idbType: oe["id-type"],
            idbName: oe.name
        }));
        return Ce == null ? [] : Ce
    }
    , [re, Te])
      , xe = f.useMemo( () => new Set(z.map( ({code: Ce}) => Ce)), [z])
      , we = f.useMemo( () => {
        var Ce;
        return h ? new Set((Ce = re[h]) == null ? void 0 : Ce.map( ({"id-type": W}) => W)) : new Set
    }
    , [h, re])
      , Ye = !!h && xe.has(h)
      , qe = !!p && we.has(p);
    return f.useEffect( () => {
        _e ? (n.setField(o, ""),
        n.setField(a, ""),
        n.setField(s, "")) : Ye ? (n.setField(o, h),
        qe && (n.setField(a, p),
        b && n.setField(s, b))) : z.length === 1 && n.setField(o, z[0].code)
    }
    , [_e]),
    f.useEffect( () => {
        _e || Z.length === 1 && n.setField(a, Z[0].idbType)
    }
    , [_e, a, Z]),
    _e ? null : i.jsx(i.Fragment, {
        children: i.jsx(Wy, {
            allowedIdTypes: c,
            countryOptions: z,
            idTypeOptions: Z,
            hideCountryIfPrefilled: l,
            hideTypeIfPrefilled: d,
            hideCountryIfSingleChoice: u,
            hideTypeIfSingleChoice: m,
            disabled: se(ne),
            fieldKeyIdbCountry: o,
            fieldKeyIdbType: a,
            fieldKeyIdbValue: s,
            label: x,
            labelIdbCountry: _,
            labelIdbType: R,
            labelIdbValue: E,
            placeholderIdbCountry: T,
            placeholderIdbType: F,
            placeholderIdbValue: O,
            validateIdbCountry: Re,
            validateIdbType: ye,
            validateIdbValue: Pe,
            serverErrorIdbCountry: ae ? N : null,
            serverErrorIdbType: ae ? U : null,
            serverErrorIdbValue: ae ? V : null,
            styles: e.styles,
            setField: n.setField,
            selectedCountry: Te,
            selectedType: be,
            countryPrefilled: Ye,
            typePrefilled: qe
        })
    })
}
  , zy = ({component: e, inquiry: t, inquiryLoading: n, actionsApi: r}) => {
    const {disabled: o, error: a, hidden: s, label: c, mask: l, optional: d, placeholder: u, prefill: m, secure: h, validations: p} = e.attributes
      , b = e.name
      , C = ni(t, n, b, m)
      , S = f.useMemo( () => l != null ? l.split("").map(R => {
        switch (R) {
        case "#":
            return /\d/;
        case "@":
            return /[a-z]/i;
        case "*":
            return /\w/;
        default:
            return R
        }
    }
    ) : !1, [l])
      , v = It(b, t.attributes["next-step"].name)
      , x = dn({
        hidden: s,
        optional: d,
        validations: p
    })
      , _ = v(s);
    return f.useEffect( () => {
        _ ? r.setField(b, "") : !_ && !Ft(m) && r.setField(b, m)
    }
    , [_]),
    _ ? null : i.jsx(Se.Field, {
        name: b,
        id: b,
        component: $f,
        disabled: v(o),
        parse: Zt,
        validate: x,
        label: c,
        secure: h,
        mask: S,
        placeholder: u,
        serverError: C ? a : null,
        styles: e.styles
    })
}
  , Ky = g.div.withConfig({
    displayName: "ThemedFormMultiSelect__Container",
    componentId: "sc-1rmccfo-0"
})(["", " ", ""], Fi, Ks)
  , Qy = g(Gl).withConfig({
    displayName: "ThemedFormMultiSelect__StyledIconCaretDown",
    componentId: "sc-1rmccfo-1"
})(["margin-right:", ";display:inline-block;pointer-events:none;rect[fill],path[fill]{fill:", ";}"], I.Spacing[4], e => {
    var t;
    return (t = e.theme.colorFont) != null ? t : Fe.gray50
}
)
  , Zy = (e, t, n) => ({
    ...e,
    container: (r, o) => ({
        ...r,
        width: "100%",
        ...e.container != null && e.container({}, o)
    }),
    control: (r, o) => {
        var a;
        return {
            ...r,
            backgroundColor: n.colorInputBackground,
            borderRadius: Math.min(parseInt((a = n.borderRadius) != null ? a : ln.base, 10), parseInt(ln.rounded)),
            borderColor: o.menuIsOpen || o.isFocused ? n.colorPrimary : n.colorInputBorder,
            width: "100%",
            minHeight: Yi.input,
            boxShadow: o.isFocused ? `0 0 0 1px ${n.colorPrimary}` : `0 0 0 0 ${n.colorPrimary}`,
            "&:hover": {},
            transition: tt.Fast,
            ...t ? {
                borderColor: Fe.red100,
                color: Fe.red100,
                boxShadow: o.isFocused ? `0 0 0 1px ${Fe.red100}` : `0 0 0 0 ${Fe.red100}`
            } : void 0,
            ...e.control != null && e.control({}, o)
        }
    }
    ,
    clearIndicator: (r, o) => ({
        ...r,
        paddingRight: 11,
        ...e.clearIndicator != null && e.clearIndicator({}, o)
    }),
    indicatorSeparator: (r, o) => ({
        ...r,
        display: "none",
        ...e.indicatorSeparator != null && e.indicatorSeparator({}, o)
    }),
    menu: (r, o) => ({
        ...r,
        backgroundColor: n.colorDropdownBackground,
        boxShadow: Di.High,
        zIndex: wt.dropdown,
        ...e.menu != null && e.menu({}, o)
    }),
    menuList: (r, o) => ({
        ...r,
        padding: Cn,
        ...e.menuList != null && e.menuList({}, o)
    }),
    multiValue: (r, o) => {
        var a;
        return {
            ...r,
            backgroundColor: (a = n.colorButtonPrimary) != null ? a : n.colorPrimary,
            color: n.colorFontButtonPrimary,
            fontFamily: n.fontFamily,
            paddingLeft: Cn / 2,
            paddingRight: o.isDisabled ? Cn * 1.5 : 0,
            ...e.multiValue != null && e.multiValue({}, o)
        }
    }
    ,
    multiValueLabel: (r, o) => {
        var a;
        return {
            ...r,
            color: n.colorFontButtonPrimary,
            fontWeight: parseInt((a = n.buttonFontWeight) != null ? a : on.medium),
            ...e.multiValueLabel != null && e.multiValueLabel({}, o)
        }
    }
    ,
    multiValueRemove: (r, o) => {
        var a, s;
        return {
            ...r,
            color: n.colorFontButtonPrimary,
            transitionDuration: tt.Fast,
            ":hover": {
                backgroundColor: ft((a = n.colorButtonPrimary) != null ? a : n.colorPrimary).mix(ft("white"), .2).hex()
            },
            ":active": {
                backgroundColor: ft((s = n.colorButtonPrimary) != null ? s : n.colorPrimary).mix(ft("white"), .4).hex()
            },
            ...e.multiValueRemove != null && e.multiValueRemove({}, o)
        }
    }
    ,
    option: (r, o) => {
        var l;
        const a = {
            ...r,
            backgroundColor: "transparent",
            borderRadius: ln.rounded,
            color: (l = n.colorFont) != null ? l : Fe.gray20,
            display: "flex",
            fontFamily: n.fontFamily,
            alignItems: "center",
            padding: `${I.Spacing[3]} ${I.Spacing[2]}`,
            transitionDuration: tt.Fast,
            ":active": {
                backgroundColor: n.colorDropdownOption
            }
        }
          , s = o.isFocused ? {
            backgroundColor: n.colorDropdownOption,
            ":active": {
                backgroundColor: n.colorDropdownOption
            }
        } : {}
          , c = o.isDisabled ? {
            backgroundColor: "transparent",
            color: Fe.gray50,
            ":active": {
                backgroundColor: "transparent"
            },
            overflow: "auto"
        } : {};
        return {
            ...a,
            ...s,
            ...c,
            ...e.option != null && e.option({}, o)
        }
    }
    ,
    placeholder: (r, o) => {
        var a;
        return {
            ...r,
            color: (a = n.colorFont) != null ? a : Fe.gray20,
            marginLeft: 0,
            marginRight: 0,
            opacity: .6,
            ...t ? {
                color: Fe.red100
            } : void 0,
            ...e.placeholder != null && e.placeholder({}, o)
        }
    }
    ,
    valueContainer: (r, o) => ({
        ...r,
        fontSize: parseInt(n.text.paragraph.md.fontSize, 10),
        fontFamily: n.fontFamily,
        textDecoration: "none",
        outline: "0 !important",
        padding: `2px ${I.Spacing[4]}`,
        ...e.valueContainer != null && e.valueContainer({}, o)
    })
})
  , Jy = e => f.useMemo( () => ({
    DropdownIndicator: t => {
        const {value: n, isDisabled: r} = t.selectProps
          , o = f.useContext(Je);
        return Array.isArray(n) && n.length > 0 ? null : i.jsx(Qy, {
            theme: o,
            disabled: r
        })
    }
    ,
    MultiValueRemove: t => {
        const {isDisabled: n} = t.selectProps;
        return n ? null : i.jsx(v0.MultiValueRemove, {
            ...t
        })
    }
    ,
    ...e
}), [])
  , Fu = 1e3
  , Xy = ({className: e, components: t, id: n, input: {value: r, onBlur: o, onChange: a, ...s}, isOptionDisabled: c=v => !!v.disabled, label: l, meta: {error: d, submitFailed: u}, onFocusOption: m, options: h, placeholder: p, styles: b={}, componentStyles: C, ...S}) => {
    const v = f.useContext(Je)
      , x = Jy(t)
      , _ = f.useMemo( () => h.reduce( (L, H, q) => (L[H.value] = q,
    L), {}), [h])
      , R = f.useMemo( () => r == null || r === "" ? [] : r.map(L => _[L]).map(L => h[L]), [r, _])
      , E = f.useMemo( () => {
        const L = {
            minMatchCharLength: 1,
            threshold: .4,
            keys: [{
                name: "label",
                weight: .9
            }, {
                name: "value",
                weight: .1
            }]
        };
        return new C0(h,L)
    }
    , [h])
      , T = h.length > Fu
      , F = f.useCallback(L => new Promise(H => {
        setTimeout( () => H(E.search(L).map( ({item: q}) => q)), T ? 250 : 0)
    }
    ), [E])
      , O = f.useMemo( () => T ? h.slice(0, Fu) : h, [h])
      , N = f.useCallback( () => o(void 0), [o, r])
      , U = f.useCallback(L => {
        const H = (L != null ? L : []).map(q => _[q.value]).sort( (q, ee) => q - ee).map(q => h[q].value);
        a(H)
    }
    , [a, _, h])
      , V = !!(d && u)
      , ne = Zy(b, V, v);
    return i.jsxs(Ky, {
        children: [l && i.jsx(X, {
            wrapper: "label",
            wrapperProps: {
                htmlFor: n
            },
            children: l
        }), i.jsx(x0, {
            ...s,
            id: n,
            isMulti: !0,
            isSearchable: !0,
            menuPlacement: "auto",
            loadOptions: F,
            defaultOptions: O,
            ...S,
            isDisabled: S.disabled || S.isDisabled,
            isOptionDisabled: c,
            onBlur: N,
            onChange: U,
            value: R,
            options: h,
            placeholder: p,
            className: e,
            styles: ne,
            components: x,
            onFocusOption: m,
            "aria-invalid": V,
            "aria-errormessage": `${n}--error`,
            "aria-describedby": `${n}--error`
        }), i.jsx(an, {
            id: `${n}--error`,
            hasError: V,
            errorMessage: d,
            styles: C
        })]
    })
}
  , ew = ({component: e, inquiry: t, actionsApi: n}) => {
    const {disabled: r, hidden: o, label: a, optional: s, options: c, placeholder: l, prefill: d, validations: u} = e.attributes
      , m = e.name
      , h = It(m, t.attributes["next-step"].name)
      , p = dn({
        hidden: o,
        optional: s,
        validations: u
    })
      , b = h(o);
    return f.useEffect( () => {
        b ? n.setField(m, "") : !b && !Ft(d) && n.setField(m, d)
    }
    , [b]),
    b ? null : i.jsx(Se.Field, {
        id: m,
        name: m,
        component: Xy,
        disabled: h(r),
        validate: p,
        label: a,
        placeholder: l,
        options: c.map(C => ({
            label: C.text,
            value: C.value
        })),
        componentStyles: e.styles
    })
}
  , tw = /^-?\d*\.?\d*$/
  , nw = /\d+/g;
function iw(e) {
    return tw.test(e)
}
const rw = ({component: e, inquiry: t, actionsApi: n}) => {
    const {disabled: r, hidden: o, label: a, optional: s, placeholder: c, prefill: l, validations: d=[], precision: u} = e.attributes
      , m = e.name
      , h = It(m, t.attributes["next-step"].name)
      , p = dn({
        hidden: o,
        optional: s,
        validations: d
    })
      , b = h(o)
      , [C,S] = f.useState(null);
    f.useEffect( () => {
        b ? n.setField(m, "") : !b && !Ft(l) && n.setField(m, l)
    }
    , [b]);
    const v = f.useCallback( (_, R) => {
        var N;
        if (_ == null || !_.trim())
            return S(null),
            null;
        if (!iw(_))
            return R;
        const [E,T] = (N = _.match(nw)) != null ? N : [];
        if ((T == null ? void 0 : T.length) > u || [E, T].join("").length > 16)
            return R;
        if (_.endsWith(".") || _.endsWith("0"))
            S(_);
        else {
            if (_ === "-")
                return S(_),
                R;
            S(null)
        }
        const O = parseFloat(C === "-" ? -_ : _);
        return 0 < O && O < 1e-6 ? 1e-6 : O
    }
    , [])
      , x = f.useCallback(_ => C != null ? C : _ == null ? "" : _, [C]);
    return b ? null : i.jsx(Se.Field, {
        normalize: v,
        format: x,
        name: m,
        id: m,
        component: Vi,
        disabled: h(r),
        parse: Zt,
        validate: p,
        label: a,
        placeholder: c,
        type: "text",
        inputmode: "decimal",
        styles: e.styles
    })
}
  , ow = e => e.includes("Android")
  , aw = ({id: e, hasError: t, hasWarning: n, enableAutofocus: r, onBlur: o, onChange: a, styles: s, ...c}) => {
    const l = f.useCallback(u => u == null ? a("") : a(u), [a])
      , d = f.useMemo( () => !ow(navigator.userAgent), [navigator.userAgent]);
    return i.jsx("div", {
        dir: "ltr",
        children: i.jsx(I0, {
            autoFocus: r,
            smartCaret: d,
            onChange: l,
            ...c,
            onBlur: () => o == null ? void 0 : o(void 0),
            "aria-invalid": t,
            "aria-errormessage": `${e}--error`,
            "aria-describedby": `${e}--error`,
            id: e,
            autoComplete: "tel-national"
        })
    })
}
  , Gf = g(aw).withConfig({
    displayName: "PhoneInput",
    componentId: "sc-1ug4ee2-0"
})(["", ";display:flex;padding:0;", " & .PhoneInputCountry{padding-left:", "px;margin-right:0;", "}}& .PhoneInputInput{", ";height:", "px;padding:", " ", " ", " ", "px;&,&:not(:disabled){background-color:transparent;border:none;box-shadow:none;}&:disabled{background-color:", ";}", "}& .PhoneInputCountrySelectArrow{border-color:", ";border-style:solid;border-width:0 0 2px 2px;color:transparent;content:'';display:block;height:8px;margin:-4px 0 0 8px;opacity:1;transform:rotate(-45deg);transition:transform 0.1s,border-color 0.2s ease;width:8px;}&:focus-within .PhoneInputCountrySelectArrow{border-color:", ";}"], e => _r(e, e.theme, e.styles), ({disabled: e, styles: t}) => {
    var n, r;
    return e && $(["border-color:", ";"], t != null ? A((r = (n = t == null ? void 0 : t["border-color"]) == null ? void 0 : n.base) == null ? void 0 : r.disabled) : I.Color.CoreSlate200)
}
, M.base * 2, ({disabled: e, styles: t}) => {
    var n, r, o, a, s;
    return e && $(["&,select{background-color:", ";border-color:", ";"], (o = A((r = (n = t == null ? void 0 : t["background-color"]) == null ? void 0 : n.base) == null ? void 0 : r.disabled)) != null ? o : fl, t != null ? A((s = (a = t == null ? void 0 : t["border-color"]) == null ? void 0 : a.base) == null ? void 0 : s.disabled) : I.Color.CoreSlate200)
}
, e => _r(e, e.theme, e.styles), parseFloat(Yi.input) - 2, M.inputPadding, M.inputPadding, M.inputPadding, M.base, ({styles: e}) => {
    var t, n, r;
    return (r = A((n = (t = e == null ? void 0 : e["background-color"]) == null ? void 0 : t.base) == null ? void 0 : n.disabled)) != null ? r : fl
}
, ({styles: e, hasError: t}) => t && $(["&:not(:focus-within){color:", ";&::placeholder{color:", ";}}"], ({theme: n}) => {
    var r, o, a;
    return (a = A((o = (r = e == null ? void 0 : e["text-color"]) == null ? void 0 : r.error) == null ? void 0 : o.base)) != null ? a : n.colorError
}
, ({theme: n}) => {
    var r, o, a;
    return (a = A((o = (r = e == null ? void 0 : e["text-color"]) == null ? void 0 : r.error) == null ? void 0 : o.base)) != null ? a : n.colorError
}
), Fe.gray20, e => e.theme.colorPrimary)
  , sw = g("div").withConfig({
    displayName: "PhoneInputField__Container",
    componentId: "sc-188oy23-0"
})(["", " ", ""], ({styles: e}) => ur(e), ({styles: e}) => Dn(e))
  , cw = e => {
    const {id: t, className: n, input: r, meta: {error: o, submitFailed: a, warning: s}, autoFocus: c, label: l, placeholder: d, "data-test": u="form", defaultCountry: m, serverError: h, styles: p, ...b} = e
      , C = a && (o || s) || h
      , S = !!C;
    return i.jsxs(sw, {
        className: n,
        styles: p,
        children: [l && i.jsx(X, {
            wrapper: "label",
            wrapperProps: {
                htmlFor: t
            },
            children: l
        }), i.jsx(Gf, {
            ...r,
            ...b,
            autoFocus: c,
            hasError: S,
            "aria-invalid": S,
            "aria-errormessage": `${t}--error`,
            "aria-describedby": `${t}--error`,
            id: t,
            placeholder: d,
            defaultCountry: m,
            "data-test": u,
            styles: p
        }), i.jsx(an, {
            id: `${t}--error`,
            "data-test": `${u}-error`,
            hasError: S,
            errorMessage: C,
            styles: p
        })]
    })
}
  , lw = ({component: e, inquiry: t, inquiryLoading: n, actionsApi: r}) => {
    const {disabled: o, error: a, hidden: s, label: c, optional: l, placeholder: d, prefill: u, validations: m, "country-code": h, "disable-country-code-selection": p, "phone-number-format": b} = e.attributes
      , C = e.name
      , S = ni(t, n, C, u)
      , v = It(C, t.attributes["next-step"].name)
      , x = dn({
        hidden: s,
        optional: l,
        validations: m
    })
      , _ = v(s);
    if (f.useEffect( () => {
        _ ? r.setField(C, "") : !_ && !Ft(u) && r.setField(C, u)
    }
    , [_]),
    _)
        return null;
    let R;
    return b === al.International ? R = !0 : b === al.National ? R = !1 : R = void 0,
    i.jsx(Se.Field, {
        id: C,
        name: C,
        component: cw,
        disabled: v(o),
        parse: Zt,
        validate: x,
        label: c,
        placeholder: d,
        defaultCountry: h,
        initialValueFormat: R ? null : "national",
        countrySelectProps: p ? dw : void 0,
        countries: p ? [h] : void 0,
        addInternationalOption: !p,
        international: R,
        serverError: S ? a : null,
        styles: e.styles
    })
}
  , dw = {
    disabled: !0,
    arrowComponent: () => null
}
  , uw = g("div").withConfig({
    displayName: "ThemedFormRadioGroup__Container",
    componentId: "sc-df00c1-0"
})(["", ""], Fi)
  , mw = g("div").withConfig({
    displayName: "ThemedFormRadioGroup__MaterialContainer",
    componentId: "sc-df00c1-1"
})(["", " padding-top:", ";"], ko, I.Spacing[2])
  , hw = g("fieldset").withConfig({
    displayName: "ThemedFormRadioGroup__ItemContainer",
    componentId: "sc-df00c1-2"
})(["display:flex;flex-direction:column;"])
  , pw = g(X).attrs( () => ({
    wrapper: "legend"
})).withConfig({
    displayName: "ThemedFormRadioGroup__Legend",
    componentId: "sc-df00c1-3"
})(["", ""], ({styles: e}) => Dn(e))
  , fw = g("label").withConfig({
    displayName: "ThemedFormRadioGroup__LineItem",
    componentId: "sc-df00c1-4"
})(["position:relative;display:flex;align-items:baseline;margin:0 ", ";& + &{margin-top:", ";}"], I.Spacing[2], I.Spacing[2])
  , gw = g("input").withConfig({
    displayName: "ThemedFormRadioGroup__RadioStyled",
    componentId: "sc-df00c1-5"
})(["margin-top:-1px;margin-right:0.5em;"])
  , bw = g(X).attrs( () => ({
    wrapper: "p"
})).withConfig({
    displayName: "ThemedFormRadioGroup__InputRadioGroupOptionLabel",
    componentId: "sc-df00c1-6"
})(["p + p{margin:0 !important;}", ""], ({styles: e, disabled: t}) => ({
    display: "inline-block",
    marginBottom: 0,
    fontFamily: Gt(e == null ? void 0 : e["font-family"].base.base),
    fontSize: k(e == null ? void 0 : e["font-size"].base.base),
    fontWeight: Qn(e == null ? void 0 : e["font-weight"].base.base),
    letterSpacing: k(e == null ? void 0 : e["letter-spacing"].base.base),
    lineHeight: k(e == null ? void 0 : e["line-height"].base.base),
    color: t ? Fr.color.text.disabled : A(e == null ? void 0 : e["text-color"].base.base),
    a: {
        color: A(e == null ? void 0 : e["text-color-highlight"].base.base),
        outlineColor: A(e == null ? void 0 : e["text-color-highlight"].base.base)
    }
}))
  , Cw = g(X).attrs( () => ({
    wrapper: "p"
})).withConfig({
    displayName: "ThemedFormRadioGroup__InputRadioGroupOptionDescription",
    componentId: "sc-df00c1-7"
})(["p + p{margin:0 !important;}", ""], ({styles: e, disabled: t}) => ({
    display: "inline-block",
    marginBottom: 0,
    fontFamily: Gt(e == null ? void 0 : e["font-family"].description.base),
    fontSize: k(e == null ? void 0 : e["font-size"].description.base),
    fontWeight: Qn(e == null ? void 0 : e["font-weight"].description.base),
    letterSpacing: k(e == null ? void 0 : e["letter-spacing"].description.base),
    lineHeight: k(e == null ? void 0 : e["line-height"].description.base),
    color: t ? Fr.color.text.disabled : A(e == null ? void 0 : e["text-color"].description.base),
    a: {
        color: A(e == null ? void 0 : e["text-color-highlight"].base.base),
        outlineColor: A(e == null ? void 0 : e["text-color-highlight"].base.base)
    }
}))
  , xw = e => {
    const {id: t, disabled: n, options: r, input: o, meta: {error: a, submitFailed: s}, label: c, styles: l, ...d} = e
      , {inputStyle: u} = f.useContext(Je)
      , m = !!(a && s)
      , h = f.useCallback(b => {
        o.onChange(b.currentTarget.value)
    }
    , [o.onChange])
      , p = () => i.jsxs(i.Fragment, {
        children: [i.jsxs(hw, {
            id: t,
            "aria-invalid": m,
            "aria-errormessage": `${t}--error`,
            "aria-describedby": `${t}--error`,
            children: [c && i.jsx(pw, {
                styles: l,
                children: c
            }), r.map( ({text: b, value: C, "description-text": S}, v) => {
                const x = `${o.name}_${v}`
                  , _ = o.value === C.toString();
                return i.jsxs(fw, {
                    isSelected: _,
                    htmlFor: x,
                    children: [i.jsx(gw, {
                        ...o,
                        ...d,
                        id: x,
                        "aria-label": b,
                        "aria-describedby": S ? `${x}-description` : void 0,
                        disabled: n,
                        onChange: h,
                        type: "radio",
                        value: C,
                        checked: C === o.value,
                        "aria-invalid": m
                    }), i.jsxs(Bf, {
                        spacing: I.Spacing[0],
                        children: [i.jsx(bw, {
                            styles: l,
                            disabled: n,
                            children: b
                        }), S && i.jsx(Cw, {
                            id: `${x}-description`,
                            styles: l,
                            disabled: n,
                            children: S
                        })]
                    })]
                }, C)
            }
            )]
        }), i.jsx(an, {
            id: `${t}--error`,
            hasError: m,
            errorMessage: a,
            styles: l
        })]
    });
    switch (u) {
    case Rt.Material:
        return i.jsx(mw, {
            children: p()
        });
    case Rt.Outlined:
    default:
        return i.jsx(uw, {
            children: p()
        })
    }
}
  , vw = ({component: e, inquiry: t, actionsApi: n}) => {
    const {disabled: r, hidden: o, label: a, optional: s, options: c, prefill: l, validations: d} = e.attributes
      , u = e.name
      , m = It(u, t.attributes["next-step"].name)
      , h = dn({
        hidden: o,
        optional: s,
        validations: d
    })
      , p = m(o);
    return f.useEffect( () => {
        p ? n.setField(u, "") : !p && !Ft(l) && n.setField(u, l)
    }
    , [p]),
    p ? null : i.jsx(Se.Field, {
        id: u,
        name: u,
        component: xw,
        options: c,
        disabled: m(r),
        validate: h,
        label: a,
        styles: e.styles
    })
}
  , Iw = ({component: e, inquiry: t, actionsApi: n}) => {
    const {disabled: r, hidden: o, label: a, optional: s, options: c, placeholder: l, prefill: d, validations: u} = e.attributes
      , m = e.name
      , h = It(m, t.attributes["next-step"].name)
      , p = dn({
        hidden: o,
        optional: s,
        validations: u
    })
      , b = h(o);
    return f.useEffect( () => {
        b ? n.setField(m, "") : !b && !Ft(d) && n.setField(m, d)
    }
    , [b]),
    b ? null : i.jsxs(Se.Field, {
        id: m,
        name: m,
        component: gl,
        disabled: h(r),
        validate: p,
        label: a,
        styles: e.styles,
        children: [i.jsx("option", {
            value: "",
            disabled: !0,
            children: l != null ? l : ""
        }), c.map(C => i.jsx("option", {
            value: C.value,
            children: C.text
        }, C.value))]
    })
}
  , Sw = {
    [ra.Text]: "text",
    [ra.Email]: "email",
    [ra.NumberPad]: "number"
}
  , yw = ({component: e, inquiry: t, actionsApi: n, inquiryLoading: r}) => {
    const {"input-type": o=ra.Text, disabled: a, hidden: s, label: c, optional: l, placeholder: d, prefill: u, validations: m, error: h} = e.attributes
      , p = e.name
      , b = ni(t, r, e.name, u)
      , C = It(p, t.attributes["next-step"].name)
      , S = dn({
        hidden: s,
        optional: l,
        validations: m
    })
      , v = C(s);
    return f.useEffect( () => {
        v ? n.setField(p, "") : !v && !Ft(u) && n.setField(p, u)
    }
    , [v]),
    v ? null : i.jsx(Se.Field, {
        name: p,
        id: p,
        component: Vi,
        disabled: C(a),
        parse: Zt,
        validate: S,
        label: c,
        placeholder: d,
        type: Sw[o],
        serverError: b ? h : null,
        styles: e.styles
    })
}
  , ww = g("textarea").withConfig({
    displayName: "MaterialTextArea__TextArea",
    componentId: "sc-e9r5pm-0"
})(["", " height:", ";resize:", ";"], Cd, e => e.rows ? "unset" : Yi.textArea, e => e.resize || "none")
  , _w = g(X).withConfig({
    displayName: "MaterialTextArea__StyledMarkdown",
    componentId: "sc-e9r5pm-1"
})(["", " ", ";"], bd, ({hasError: e, hasValue: t}) => (e || t) && $(["top:-14px;font-size:", ";"], qt.small))
  , Rw = g("div").withConfig({
    displayName: "MaterialTextArea__Container",
    componentId: "sc-e9r5pm-2"
})(["position:relative;background-color:", ";"], ({theme: e}) => e.colorModalBackground);
function Aw({className: e, focused: t, hasError: n, hasWarning: r, labelText: o, styles: a, ...s}) {
    return i.jsxs(Rw, {
        className: e,
        children: [i.jsx(ww, {
            focused: t,
            hasError: n,
            hasWarning: r,
            spellCheck: !1,
            styles: a,
            ...s
        }), i.jsx(_w, {
            wrapper: "label",
            wrapperProps: {
                htmlFor: s.id
            },
            focused: t,
            hasError: n,
            hasValue: !!s.value,
            hasWarning: r,
            styles: a,
            children: o
        })]
    })
}
const Wf = g("textarea").attrs( () => ({
    spellCheck: !1
})).withConfig({
    displayName: "TextArea",
    componentId: "sc-1yx2okk-0"
})(["", ";height:", ";resize:", ";"], e => _r(e, e.theme, e.styles), e => e.rows ? "unset" : Yi.textArea, e => e.resize || "none")
  , Tw = g("div").withConfig({
    displayName: "ThemedFormTextArea__OutlinedContainer",
    componentId: "sc-kz4u3a-0"
})(["", " ", ""], ({styles: e}) => ur(e), ({styles: e}) => Dn(e))
  , Ew = g("div").withConfig({
    displayName: "ThemedFormTextArea__MaterialContainer",
    componentId: "sc-kz4u3a-1"
})(["", ""], ko)
  , kw = e => {
    const {id: t, className: n, input: r, meta: {error: o, submitFailed: a}, autoFocus: s, label: c, placeholder: l, styles: d, "data-test": u="form", ...m} = e
      , {inputStyle: h} = f.useContext(Je)
      , p = !!(o && a);
    switch (h) {
    case Rt.Material:
        return i.jsxs(Ew, {
            className: n,
            children: [i.jsx(Aw, {
                labelText: c || l,
                ...r,
                ...m,
                autoFocus: s,
                hasError: p,
                "aria-invalid": p,
                "aria-errormessage": `${t}--error`,
                "aria-describedby": `${t}--error`,
                id: t,
                "data-test": u,
                styles: d
            }), i.jsx(an, {
                id: `${t}--error`,
                "data-test": `${u}-error`,
                hasError: p,
                errorMessage: o,
                styles: d
            })]
        });
    case Rt.Outlined:
    default:
        return i.jsxs(Tw, {
            className: n,
            styles: d,
            children: [c && i.jsx(X, {
                wrapper: "label",
                wrapperProps: {
                    htmlFor: t
                },
                children: c
            }), i.jsx(Wf, {
                ...r,
                ...m,
                autoFocus: s,
                hasError: p,
                "aria-invalid": p,
                "aria-errormessage": `${t}--error`,
                "aria-describedby": `${t}--error`,
                id: t,
                placeholder: l,
                "data-test": u,
                styles: d
            }), i.jsx(an, {
                id: `${t}--error`,
                "data-test": `${u}-error`,
                hasError: p,
                errorMessage: o,
                styles: d
            })]
        })
    }
}
  , Nw = ({component: e, inquiry: t, actionsApi: n}) => {
    const {disabled: r, hidden: o, label: a, optional: s, placeholder: c, prefill: l, validations: d, "allow-resize": u, rows: m} = e.attributes
      , h = e.name
      , p = It(h, t.attributes["next-step"].name)
      , b = dn({
        hidden: o,
        optional: s,
        validations: d
    })
      , C = p(o);
    return f.useEffect( () => {
        C ? n.setField(h, "") : !C && !Ft(l) && n.setField(h, l)
    }
    , [C]),
    C ? null : i.jsx(Se.Field, {
        name: h,
        id: h,
        component: kw,
        disabled: p(r),
        parse: Zt,
        validate: b,
        label: a,
        rows: m,
        resize: u ? "vertical" : "none",
        placeholder: c,
        styles: e.styles
    })
}
  , jw = g.div.withConfig({
    displayName: "LanguageSelector__LanguageWrapper",
    componentId: "sc-nq5bg2-0"
})(["position:relative;display:flex;align-items:center;select{appearance:none;background-color:transparent;color:#696a7b;font-size:", ";margin:-", ";padding:", ";padding-right:", ";&:focus-visible{outline:", " auto 1px;}}&::after{", ";height:0;width:0;pointer-events:none;right:-", ";}"], qt.h4, I.Spacing[2], I.Spacing[2], I.Spacing[4], ({theme: e}) => e.colorPrimary, Qs, I.Spacing[2])
  , Pw = g.div.withConfig({
    displayName: "LanguageSelector__GlobeSpacer",
    componentId: "sc-nq5bg2-1"
})(["padding-right:4px;svg{display:block;}"])
  , Dw = e => {
    const {component: t, inquiry: n} = e
      , [r,o] = G()
      , a = t.attributes["enabled-locales"];
    return a.length === 1 ? i.jsx("div", {
        "data-test": "ui-component__language-selector",
        "aria-disabled": !0
    }) : i.jsxs(jw, {
        children: [i.jsx(Pw, {
            children: i.jsx(Sp, {
                "aria-hidden": !0
            })
        }), i.jsx("select", {
            "aria-label": r("intro.language-select-label"),
            "data-test": "ui-component__language-selector",
            dir: "ltr",
            onChange: s => e.actionsApi.handleLanguageChange(n, o, s.target.value),
            defaultValue: o.language,
            children: Object.keys(Sr).filter(s => a.includes(s)).map(s => i.jsx("option", {
                value: s,
                lang: s,
                children: Sr[s]
            }, s))
        })]
    })
}
  , Ow = ({actionsApi: e, component: t, inquiryLoading: n}) => {
    const [r] = G()
      , {loading: o, error: a, callback: s} = vt(async () => {
        try {
            const c = await jh((await te.postResourceSingletonActionNew(y.Persona, "authentication-initiate")).meta);
            await e.onSubmit(t.name, {
                [t.name]: {
                    "client-key": c.response.userHandle,
                    "public-key": c,
                    "expected-origin": window.location.origin
                }
            })
        } catch (c) {
            c.name !== "NotAllowedError" && he(c, "info")
        }
    }
    , [e.onSubmit, t.name]);
    return _t({
        error: a,
        onNetworkError: () => e.showMessage(r("errors.network")),
        onError: c => {
            c.name !== "NotAllowedError" && he(c, "info")
        }
    }),
    i.jsx(fe, {
        onClick: s,
        disabled: o || n,
        isPending: o,
        styles: {
            height: {
                base: {
                    base: {
                        unit: "px",
                        value: 48
                    }
                }
            },
            width: {
                base: {
                    base: {
                        unit: "%",
                        value: 100
                    }
                }
            },
            justify: {
                base: {
                    base: Aa.Start
                }
            },
            margin: {
                base: {
                    base: null
                }
            },
            padding: {
                base: {
                    base: null
                }
            },
            translate: {
                base: {
                    base: null,
                    focused: {
                        x: {
                            unit: "px",
                            value: 0
                        },
                        y: {
                            unit: "px",
                            value: -2
                        }
                    },
                    active: null,
                    disabled: null
                }
            },
            "font-family": {
                base: {
                    base: null
                }
            },
            "font-size": {
                base: {
                    base: {
                        unit: "px",
                        value: 16
                    }
                }
            },
            "font-weight": {
                base: {
                    base: Ql.Medium
                }
            },
            "letter-spacing": {
                base: {
                    base: {
                        unit: "px",
                        value: 0
                    }
                }
            },
            "line-height": {
                base: {
                    base: {
                        unit: "px",
                        value: 24
                    }
                }
            },
            "text-color": {
                base: {
                    base: {
                        unit: "hex",
                        value: I.Color.PrimaryWhite
                    },
                    focused: {
                        unit: "hex",
                        value: I.Color.PrimaryWhite
                    },
                    active: {
                        unit: "hex",
                        value: I.Color.PrimaryWhite
                    },
                    disabled: {
                        unit: "hex",
                        value: "#9194a6"
                    }
                }
            },
            "background-color": {
                base: {
                    base: {
                        unit: "hex",
                        value: "#3f48fd"
                    },
                    focused: null,
                    active: null,
                    disabled: null
                }
            },
            "border-color": {
                base: {
                    base: {
                        unit: "hex",
                        value: "#3f48fd"
                    },
                    focused: null,
                    active: null,
                    disabled: null
                }
            },
            "border-radius": {
                base: {
                    base: {
                        unit: "px",
                        value: 25
                    }
                }
            },
            "border-width": {
                base: {
                    base: {
                        top: {
                            unit: "px",
                            value: 2
                        },
                        bottom: {
                            unit: "px",
                            value: 2
                        },
                        left: {
                            unit: "px",
                            value: 2
                        },
                        right: {
                            unit: "px",
                            value: 2
                        }
                    }
                }
            },
            "shadow-color": {
                base: {
                    base: null,
                    focused: null,
                    active: null,
                    disabled: null
                }
            },
            "shadow-offset": {
                base: {
                    base: null,
                    focused: null,
                    active: null,
                    disabled: null
                }
            },
            "shadow-radius": {
                base: {
                    base: null,
                    focused: null,
                    active: null,
                    disabled: null
                }
            }
        },
        children: t.attributes.label
    })
}
  , Lw = ({actionsApi: e, component: t, inquiryLoading: n}) => {
    const [r] = G()
      , {loading: o, error: a, callback: s} = vt(async () => {
        const c = (await te.postResourceSingletonActionNew(y.Persona, "registration-initiate")).meta
          , l = await Ph(c);
        await e.onSubmit(t.name, {
            [t.name]: {
                "client-key": c.user.id,
                "public-key": l,
                "expected-origin": window.location.origin
            }
        })
    }
    , [e.onSubmit, t.name]);
    return _t({
        error: a,
        onNetworkError: () => e.showMessage(r("errors.network")),
        onError: c => {
            c.name !== "NotAllowedError" && he(c, "info")
        }
    }),
    i.jsx(fe, {
        onClick: s,
        disabled: o || n,
        isPending: o,
        styles: {
            height: {
                base: {
                    base: {
                        unit: "px",
                        value: 48
                    }
                }
            },
            width: {
                base: {
                    base: {
                        unit: "%",
                        value: 100
                    }
                }
            },
            justify: {
                base: {
                    base: Aa.Start
                }
            },
            margin: {
                base: {
                    base: null
                }
            },
            padding: {
                base: {
                    base: null
                }
            },
            translate: {
                base: {
                    base: null,
                    focused: {
                        x: {
                            unit: "px",
                            value: 0
                        },
                        y: {
                            unit: "px",
                            value: -2
                        }
                    },
                    active: null,
                    disabled: null
                }
            },
            "font-family": {
                base: {
                    base: null
                }
            },
            "font-size": {
                base: {
                    base: {
                        unit: "px",
                        value: 16
                    }
                }
            },
            "font-weight": {
                base: {
                    base: Ql.Medium
                }
            },
            "letter-spacing": {
                base: {
                    base: {
                        unit: "px",
                        value: 0
                    }
                }
            },
            "line-height": {
                base: {
                    base: {
                        unit: "px",
                        value: 24
                    }
                }
            },
            "text-color": {
                base: {
                    base: {
                        unit: "hex",
                        value: I.Color.PrimaryWhite
                    },
                    focused: {
                        unit: "hex",
                        value: I.Color.PrimaryWhite
                    },
                    active: {
                        unit: "hex",
                        value: I.Color.PrimaryWhite
                    },
                    disabled: {
                        unit: "hex",
                        value: "#9194a6"
                    }
                }
            },
            "background-color": {
                base: {
                    base: {
                        unit: "hex",
                        value: "#3f48fd"
                    },
                    focused: null,
                    active: null,
                    disabled: null
                }
            },
            "border-color": {
                base: {
                    base: {
                        unit: "hex",
                        value: "#3f48fd"
                    },
                    focused: null,
                    active: null,
                    disabled: null
                }
            },
            "border-radius": {
                base: {
                    base: {
                        unit: "px",
                        value: 25
                    }
                }
            },
            "border-width": {
                base: {
                    base: {
                        top: {
                            unit: "px",
                            value: 2
                        },
                        bottom: {
                            unit: "px",
                            value: 2
                        },
                        left: {
                            unit: "px",
                            value: 2
                        },
                        right: {
                            unit: "px",
                            value: 2
                        }
                    }
                }
            },
            "shadow-color": {
                base: {
                    base: null,
                    focused: null,
                    active: null,
                    disabled: null
                }
            },
            "shadow-offset": {
                base: {
                    base: null,
                    focused: null,
                    active: null,
                    disabled: null
                }
            },
            "shadow-radius": {
                base: {
                    base: null,
                    focused: null,
                    active: null,
                    disabled: null
                }
            }
        },
        children: t.attributes.label
    })
}
  , Fw = g.div.withConfig({
    displayName: "PersonaBranding__Wordmark",
    componentId: "sc-mgcrqn-0"
})(["padding-top:", ";margin-bottom:-3px;float:right;"], I.Spacing[2])
  , Mu = "persona-branding-title"
  , Mw = e => {
    const {t} = G();
    return i.jsx(Fw, {
        children: i.jsxs("svg", {
            role: "img",
            width: "82",
            height: "29",
            viewBox: "0 0 82 29",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg",
            "aria-labelledby": Mu,
            children: [i.jsx("title", {
                id: Mu,
                children: t("intro.persona-logo-label")
            }), i.jsxs("g", {
                clipPath: "url(#clip0)",
                children: [i.jsx("path", {
                    d: "M0 18.3669C0 15.3419 2.214 13.0828 5.3464 13.0828C8.4542 13.0828 10.7338 15.3419 10.7338 18.4087C10.7338 21.4132 8.53702 23.651 5.2398 23.651H2.6937V27.6296C2.6937 27.7748 2.6732 27.7936 2.5297 27.7936H0.164C0.01886 27.7936 0 27.7731 0 27.6296V18.3669ZM8.0401 18.3874C8.0401 16.79 7.04544 15.5699 5.3464 15.5699C3.6244 15.5699 2.6937 16.7925 2.6937 18.3669V21.1647H5.24226C7.04544 21.1647 8.0401 19.9831 8.0401 18.3874Z",
                    fill: "#696A7B"
                }), i.jsx("path", {
                    d: "M18.5738 13.0828C15.4029 13.0828 13.1446 15.4034 13.1446 18.5325C13.1446 21.496 15.1749 23.8584 18.7395 23.8584C20.1072 23.8584 21.4127 23.5058 22.3475 22.7596C22.3649 22.7447 22.3765 22.7241 22.3803 22.7015C22.384 22.6788 22.3797 22.6556 22.368 22.6358L21.1043 21.0196C21.0823 20.9921 21.0503 20.9744 21.0153 20.9705C20.9803 20.9665 20.9451 20.9765 20.9174 20.9983C20.2777 21.3775 19.5479 21.5781 18.8042 21.5788C16.9387 21.5788 16.1105 20.7703 15.8203 19.6313H23.3421C23.3682 19.6336 23.3945 19.6304 23.4193 19.6222C23.4441 19.6138 23.467 19.6004 23.4864 19.5829C23.506 19.5654 23.5215 19.544 23.5324 19.5202C23.5433 19.4964 23.5491 19.4706 23.5496 19.4444C23.5701 19.2992 23.5906 18.7605 23.5906 18.4292C23.5881 15.2378 21.6406 13.0828 18.5738 13.0828ZM15.7555 17.683C15.9834 16.1914 16.8953 15.2796 18.4697 15.2796C20.0859 15.2796 20.9977 16.2324 21.1847 17.683H15.7555Z",
                    fill: "#696A7B"
                }), i.jsx("path", {
                    d: "M30.7615 13.0828C31.7561 13.0828 32.4835 13.3288 32.7295 13.6011C32.7713 13.6429 32.7713 13.6831 32.7295 13.7651L31.88 15.6511C31.839 15.7331 31.798 15.7544 31.7348 15.7544C31.6315 15.7544 31.383 15.6724 30.9894 15.6724C29.5799 15.6724 28.8755 16.7089 28.8755 18.1586V23.4886C28.8755 23.6338 28.855 23.6526 28.7115 23.6526H26.3474C26.2023 23.6526 26.1834 23.6321 26.1834 23.4886V17.7486C26.1818 14.927 28.0678 13.0828 30.7615 13.0828Z",
                    fill: "#696A7B"
                }), i.jsx("path", {
                    d: "M43.3181 20.6047C43.3181 22.366 41.9299 23.9413 39.0492 23.9413C36.7081 23.9413 35.2772 22.9048 34.677 22.1594C34.6578 22.1364 34.6472 22.1074 34.6472 22.0774C34.6472 22.0474 34.6578 22.0184 34.677 21.9954L35.7135 20.3792C35.734 20.3382 35.8168 20.3382 35.8586 20.3792C36.5835 21.0631 37.5576 21.8503 39.0492 21.8503C40.0234 21.8503 40.4998 21.5223 40.4998 20.9597C40.4998 20.4833 40.1267 20.1512 37.5781 19.4673C35.178 18.8228 34.6155 17.4551 34.6155 16.3366C34.6155 14.5752 36.0037 13 38.8836 13C41.2255 13 42.6556 14.0365 43.2558 14.7819C43.2753 14.8047 43.2861 14.8338 43.2861 14.8639C43.2861 14.8939 43.2753 14.923 43.2558 14.9459L42.2202 16.5645C42.1988 16.6055 42.116 16.6055 42.075 16.5645C41.3493 15.8807 40.376 15.0885 38.8836 15.0885C37.9094 15.0885 37.433 15.4206 37.433 15.9799C37.433 16.4563 37.8061 16.7884 40.3547 17.4723C42.7589 18.1184 43.3181 19.4862 43.3181 20.6047Z",
                    fill: "#696A7B"
                }), i.jsx("path", {
                    d: "M45.7011 18.471C45.7011 15.4452 47.9593 13.0828 51.109 13.0828C54.2176 13.0828 56.4759 15.4452 56.4759 18.471C56.4759 21.5165 54.2176 23.8584 51.109 23.8584C47.9593 23.8584 45.7011 21.5165 45.7011 18.471ZM51.086 21.3714C52.808 21.3714 53.7797 20.0873 53.7797 18.4915C53.7797 16.8958 52.808 15.5699 51.086 15.5699C49.364 15.5699 48.3923 16.8958 48.3923 18.4915C48.3923 20.0873 49.3689 21.3714 51.086 21.3714Z",
                    fill: "#696A7B"
                }), i.jsx("path", {
                    d: "M59.0662 23.4853V18.1594C59.0662 15.1968 60.6201 13.0828 63.9567 13.0828C67.0022 13.0828 68.8054 14.8442 68.8054 18.1594V23.4894C68.8054 23.6346 68.7841 23.6534 68.6414 23.6534H66.2773C66.1322 23.6534 66.1133 23.6329 66.1133 23.4894V18.5744C66.1133 16.9163 65.5951 15.6732 63.937 15.6732C62.279 15.6732 61.7616 16.9163 61.7616 18.5744V23.4853C61.7616 23.6305 61.7411 23.6493 61.5976 23.6493H59.2319C59.0867 23.651 59.0662 23.6305 59.0662 23.4853Z",
                    fill: "#696A7B"
                }), i.jsx("path", {
                    d: "M81.836 23.651H76.8422C73.6926 23.651 71.4302 21.4132 71.4302 18.3874C71.4302 15.3419 73.7098 13.0828 76.7602 13.0828C79.786 13.0828 82 15.3419 82 18.3669V23.4853C82 23.6305 81.9795 23.651 81.836 23.651ZM76.8422 21.1647H79.3079V18.3669C79.3079 16.7925 78.3756 15.5699 76.7594 15.5699C75.1194 15.5699 74.1272 16.7925 74.1272 18.3874C74.1272 19.9823 75.0997 21.1647 76.8406 21.1647H76.8422Z",
                    fill: "#696A7B"
                })]
            }), i.jsx("path", {
                d: "M3.389 7.09C2.855 7.09 2.396 7.01 2.012 6.847C1.628 6.685 1.337 6.472 1.139 6.208C0.947826 5.96259 0.837738 5.66378 0.824 5.353C0.823165 5.32796 0.827482 5.303 0.836684 5.2797C0.845887 5.25639 0.859778 5.23522 0.877498 5.2175C0.895217 5.19978 0.916388 5.18589 0.939696 5.17668C0.963005 5.16748 0.987955 5.16316 1.013 5.164H1.814C1.886 5.164 1.94 5.179 1.976 5.209C2.02507 5.24039 2.06533 5.28375 2.093 5.335C2.153 5.539 2.291 5.71 2.507 5.848C2.723 5.986 3.017 6.055 3.389 6.055C3.815 6.055 4.136 5.986 4.352 5.848C4.45329 5.78603 4.53653 5.69855 4.59339 5.59431C4.65025 5.49006 4.67874 5.37271 4.676 5.254C4.67845 5.17682 4.66448 5.09999 4.635 5.02862C4.60552 4.95725 4.56121 4.89295 4.505 4.84C4.397 4.732 4.232 4.64 4.01 4.561C3.794 4.483 3.47 4.387 3.038 4.273C2.33 4.105 1.811 3.883 1.481 3.607C1.157 3.325 0.995 2.927 0.995 2.41C0.995 2.062 1.088 1.753 1.274 1.483C1.48347 1.19915 1.76673 0.978148 2.093 0.844001C2.453 0.688001 2.87 0.610001 3.344 0.610001C3.836 0.610001 4.262 0.697001 4.622 0.871001C4.982 1.045 5.255 1.264 5.441 1.528C5.633 1.786 5.735 2.044 5.747 2.302C5.74798 2.32713 5.74376 2.35219 5.73462 2.37561C5.72548 2.39904 5.71161 2.42033 5.69388 2.43816C5.67615 2.45599 5.65493 2.46997 5.63155 2.47924C5.60817 2.4885 5.58313 2.49284 5.558 2.492H4.721C4.66473 2.49551 4.60884 2.48063 4.56177 2.4496C4.51469 2.41858 4.47897 2.37309 4.46 2.32C4.424 2.128 4.304 1.97 4.1 1.843C3.896 1.711 3.644 1.645 3.344 1.645C3.008 1.645 2.744 1.708 2.552 1.835C2.4599 1.8928 2.38474 1.97394 2.33416 2.07019C2.28358 2.16644 2.25937 2.27437 2.264 2.383C2.25807 2.53422 2.30951 2.6821 2.408 2.797C2.504 2.905 2.654 3.001 2.858 3.085C3.068 3.169 3.368 3.262 3.758 3.365C4.286 3.485 4.706 3.619 5.018 3.769C5.336 3.919 5.57 4.109 5.72 4.336C5.87 4.564 5.945 4.856 5.945 5.209C5.945 5.593 5.837 5.929 5.621 6.217C5.411 6.499 5.111 6.715 4.721 6.865C4.337 7.015 3.893 7.09 3.389 7.09V7.09ZM8.542 7C8.51354 7.00053 8.48528 6.99521 8.45897 6.98437C8.43265 6.97353 8.40884 6.95741 8.389 6.937C8.36859 6.91716 8.35247 6.89335 8.34163 6.86703C8.3308 6.84072 8.32548 6.81246 8.326 6.784V0.925001C8.32353 0.866207 8.34275 0.808554 8.38 0.763001C8.40131 0.742047 8.42666 0.725655 8.45451 0.714823C8.48237 0.703992 8.51213 0.698948 8.542 0.700001H12.502C12.5319 0.698948 12.5616 0.703992 12.5895 0.714823C12.6173 0.725655 12.6427 0.742047 12.664 0.763001C12.685 0.784309 12.7013 0.809662 12.7122 0.837515C12.723 0.865367 12.7281 0.895135 12.727 0.925001V1.519C12.7281 1.54887 12.723 1.57863 12.7122 1.60649C12.7013 1.63434 12.685 1.65969 12.664 1.681C12.6184 1.71825 12.5608 1.73747 12.502 1.735H9.542V3.328H12.304C12.3339 3.32695 12.3636 3.33199 12.3915 3.34282C12.4193 3.35365 12.4447 3.37005 12.466 3.391C12.4874 3.4101 12.5041 3.43379 12.515 3.46028C12.5259 3.48678 12.5307 3.5154 12.529 3.544V4.102C12.5301 4.13187 12.525 4.16163 12.5142 4.18949C12.5033 4.21734 12.487 4.24269 12.466 4.264C12.4204 4.30125 12.3628 4.32047 12.304 4.318H9.541V5.965H12.574C12.6039 5.96395 12.6336 5.96899 12.6615 5.97982C12.6893 5.99065 12.7147 6.00705 12.736 6.028C12.757 6.04931 12.7733 6.07466 12.7842 6.10251C12.795 6.13037 12.8001 6.16013 12.799 6.19V6.784C12.8001 6.81387 12.795 6.84363 12.7842 6.87149C12.7733 6.89934 12.757 6.92469 12.736 6.946C12.6904 6.98325 12.6328 7.00247 12.574 7H8.542V7ZM17.652 7.09C16.824 7.09 16.182 6.877 15.726 6.451C15.276 6.025 15.036 5.425 15.006 4.651C14.9987 4.38707 14.9957 4.12303 14.997 3.859C14.997 3.487 15 3.217 15.007 3.049C15.037 2.281 15.279 1.684 15.735 1.259C16.197 0.826001 16.836 0.610001 17.652 0.610001C18.186 0.610001 18.652 0.703001 19.047 0.890001C19.443 1.07 19.749 1.318 19.965 1.636C20.181 1.948 20.295 2.302 20.307 2.698V2.716C20.307 2.764 20.287 2.806 20.244 2.842C20.2088 2.87178 20.1641 2.88777 20.118 2.887H19.263C19.191 2.887 19.137 2.872 19.101 2.842C19.065 2.812 19.035 2.755 19.011 2.672C18.915 2.293 18.756 2.029 18.534 1.879C18.312 1.723 18.015 1.645 17.644 1.645C16.779 1.645 16.329 2.128 16.294 3.095C16.2865 3.34359 16.2832 3.5923 16.284 3.841C16.284 4.177 16.287 4.432 16.294 4.606C16.329 5.572 16.779 6.056 17.644 6.056C18.015 6.056 18.312 5.977 18.534 5.821C18.762 5.665 18.921 5.401 19.011 5.029C19.029 4.945 19.056 4.889 19.092 4.859C19.1428 4.82615 19.2026 4.81006 19.263 4.813H20.118C20.172 4.813 20.218 4.831 20.253 4.867C20.295 4.903 20.313 4.948 20.307 5.002C20.2993 5.38461 20.1805 5.75672 19.965 6.073C19.749 6.385 19.443 6.634 19.047 6.82C18.651 7 18.187 7.09 17.652 7.09ZM25.236 7.09C24.426 7.09 23.796 6.883 23.346 6.47C22.896 6.055 22.671 5.428 22.671 4.588V0.925001C22.6685 0.866207 22.6877 0.808554 22.725 0.763001C22.7463 0.742047 22.7717 0.725655 22.7995 0.714823C22.8274 0.703992 22.8571 0.698948 22.887 0.700001H23.706C23.7346 0.698285 23.7632 0.703061 23.7897 0.713971C23.8162 0.724881 23.8399 0.741642 23.859 0.763001C23.88 0.784309 23.8963 0.809662 23.9072 0.837515C23.918 0.865367 23.9231 0.895135 23.922 0.925001V4.588C23.922 5.068 24.036 5.431 24.264 5.678C24.492 5.918 24.816 6.038 25.236 6.038C25.656 6.038 25.976 5.918 26.199 5.678C26.427 5.431 26.541 5.068 26.541 4.588V0.925001C26.5399 0.895135 26.545 0.865367 26.5558 0.837515C26.5667 0.809662 26.583 0.784309 26.604 0.763001C26.6253 0.742047 26.6507 0.725655 26.6785 0.714823C26.7064 0.703992 26.7361 0.698948 26.766 0.700001H27.576C27.6046 0.698285 27.6332 0.703061 27.6597 0.713971C27.6862 0.724881 27.7099 0.741642 27.729 0.763001C27.75 0.784309 27.7663 0.809662 27.7772 0.837515C27.788 0.865367 27.7931 0.895135 27.792 0.925001V4.588C27.792 5.428 27.567 6.055 27.117 6.469C26.673 6.883 26.046 7.09 25.236 7.09V7.09ZM30.707 7C30.6785 7.00053 30.6503 6.99521 30.624 6.98437C30.5976 6.97353 30.5738 6.95741 30.554 6.937C30.5336 6.91716 30.5175 6.89335 30.5066 6.86703C30.4958 6.84072 30.4905 6.81246 30.491 6.784V0.925001C30.4885 0.866207 30.5077 0.808554 30.545 0.763001C30.5663 0.742047 30.5917 0.725655 30.6195 0.714823C30.6474 0.703992 30.6771 0.698948 30.707 0.700001H33.037C33.77 0.700001 34.343 0.871001 34.757 1.213C35.177 1.555 35.387 2.041 35.387 2.671C35.387 3.109 35.279 3.478 35.063 3.778C34.853 4.072 34.559 4.285 34.181 4.418L35.495 6.712C35.5117 6.74277 35.5209 6.77702 35.522 6.812C35.5223 6.83764 35.5168 6.86301 35.5059 6.88622C35.4949 6.90943 35.4789 6.92986 35.459 6.946C35.4428 6.96311 35.4232 6.97673 35.4016 6.98601C35.3799 6.9953 35.3566 7.00006 35.333 7H34.513C34.4334 7.00453 34.3546 6.98236 34.289 6.937C34.2337 6.88544 34.188 6.8245 34.154 6.757L32.993 4.624H31.742V6.784C31.742 6.844 31.721 6.895 31.679 6.937C31.6599 6.95836 31.6362 6.97512 31.6097 6.98603C31.5832 6.99694 31.5546 7.00172 31.526 7H30.706H30.707ZM33.011 3.607C33.371 3.607 33.641 3.527 33.821 3.364C34.007 3.202 34.1 2.968 34.1 2.662C34.1 2.356 34.007 2.119 33.82 1.952C33.64 1.783 33.37 1.699 33.01 1.699H31.742V3.607H33.011ZM38.112 7C38.0835 7.00053 38.0553 6.99521 38.029 6.98437C38.0026 6.97353 37.9788 6.95741 37.959 6.937C37.9386 6.91716 37.9225 6.89335 37.9116 6.86703C37.9008 6.84072 37.8955 6.81246 37.896 6.784V0.925001C37.8935 0.866207 37.9127 0.808554 37.95 0.763001C37.9713 0.742047 37.9967 0.725655 38.0245 0.714823C38.0524 0.703992 38.0821 0.698948 38.112 0.700001H42.072C42.1019 0.698948 42.1316 0.703992 42.1595 0.714823C42.1873 0.725655 42.2127 0.742047 42.234 0.763001C42.255 0.784309 42.2713 0.809662 42.2822 0.837515C42.293 0.865367 42.2981 0.895135 42.297 0.925001V1.519C42.2981 1.54887 42.293 1.57863 42.2822 1.60649C42.2713 1.63434 42.255 1.65969 42.234 1.681C42.1884 1.71825 42.1308 1.73747 42.072 1.735H39.112V3.328H41.874C41.9039 3.32695 41.9336 3.33199 41.9615 3.34282C41.9893 3.35365 42.0147 3.37005 42.036 3.391C42.0574 3.4101 42.0741 3.43379 42.085 3.46028C42.0959 3.48678 42.1007 3.5154 42.099 3.544V4.102C42.1001 4.13187 42.095 4.16163 42.0842 4.18949C42.0733 4.21734 42.057 4.24269 42.036 4.264C41.9904 4.30125 41.9328 4.32047 41.874 4.318H39.111V5.965H42.144C42.1739 5.96395 42.2036 5.96899 42.2315 5.97982C42.2593 5.99065 42.2847 6.00705 42.306 6.028C42.327 6.04931 42.3433 6.07466 42.3542 6.10251C42.365 6.13037 42.3701 6.16013 42.369 6.19V6.784C42.3701 6.81387 42.365 6.84363 42.3542 6.87149C42.3433 6.89934 42.327 6.92469 42.306 6.946C42.2604 6.98325 42.2028 7.00247 42.144 7H38.112V7ZM45.06 7C45.0317 7.00039 45.0036 6.995 44.9775 6.98417C44.9514 6.97334 44.9277 6.95729 44.908 6.937C44.8876 6.91716 44.8715 6.89335 44.8606 6.86703C44.8498 6.84072 44.8445 6.81246 44.845 6.784V0.925001C44.8425 0.866207 44.8617 0.808554 44.899 0.763001C44.9202 0.742171 44.9454 0.72585 44.9731 0.715023C45.0007 0.704195 45.0303 0.699085 45.06 0.700001H47.256C49.02 0.700001 49.92 1.516 49.956 3.148C49.968 3.496 49.974 3.73 49.974 3.85C49.974 3.964 49.968 4.195 49.956 4.543C49.932 5.383 49.706 6.004 49.281 6.406C48.855 6.802 48.195 7 47.301 7H45.06V7ZM47.257 5.965C47.761 5.965 48.124 5.855 48.346 5.632C48.568 5.404 48.685 5.032 48.696 4.516C48.709 4.156 48.715 3.931 48.715 3.841C48.715 3.745 48.709 3.523 48.697 3.175C48.685 2.683 48.559 2.32 48.319 2.086C48.085 1.852 47.716 1.736 47.212 1.736H46.096V5.966H47.256L47.257 5.965ZM56.86 7C56.7812 7.00422 56.7037 6.97851 56.643 6.928C56.5871 6.87621 56.5519 6.80583 56.544 6.73L55.474 0.961001L55.464 0.889001C55.464 0.835001 55.482 0.790001 55.518 0.754001C55.5548 0.720031 55.6029 0.700809 55.653 0.700001H56.445C56.595 0.700001 56.679 0.760001 56.697 0.880001L57.444 4.957L58.254 2.32C58.314 2.17 58.414 2.095 58.551 2.095H59.037C59.187 2.095 59.283 2.17 59.325 2.32L60.145 4.948L60.89 0.880001C60.902 0.814001 60.926 0.770001 60.962 0.745001C61.0159 0.711795 61.0788 0.696077 61.142 0.700001H61.934C61.982 0.700001 62.024 0.718001 62.06 0.754001C62.0777 0.771619 62.0917 0.792688 62.101 0.815907C62.1103 0.839126 62.1147 0.864003 62.114 0.889001C62.114 0.919001 62.111 0.943001 62.105 0.961001L61.035 6.731C61.005 6.911 60.899 7.001 60.719 7.001H60.116C60.0417 7.00381 59.9687 6.98124 59.909 6.937C59.856 6.89651 59.818 6.83951 59.801 6.775L58.794 3.77L57.786 6.776C57.726 6.926 57.618 7.001 57.462 7.001H56.859L56.86 7ZM64.738 7C64.7095 7.00053 64.6813 6.99521 64.655 6.98437C64.6287 6.97353 64.6048 6.95741 64.585 6.937C64.5646 6.91716 64.5485 6.89335 64.5376 6.86703C64.5268 6.84072 64.5215 6.81246 64.522 6.784V0.916001C64.5203 0.887398 64.5251 0.858778 64.536 0.832282C64.5469 0.805787 64.5636 0.782102 64.585 0.763001C64.6048 0.742591 64.6287 0.726469 64.655 0.715632C64.6813 0.704796 64.7095 0.699475 64.738 0.700001H65.584C65.6126 0.698285 65.6412 0.703061 65.6677 0.713971C65.6942 0.724881 65.7179 0.741642 65.737 0.763001C65.7584 0.782102 65.7751 0.805787 65.786 0.832282C65.7969 0.858778 65.8017 0.887398 65.8 0.916001V6.784C65.8 6.844 65.779 6.895 65.737 6.937C65.7179 6.95836 65.6942 6.97512 65.6677 6.98603C65.6412 6.99694 65.6126 7.00172 65.584 7H64.738ZM70.163 7C70.1345 7.00053 70.1063 6.99521 70.08 6.98437C70.0536 6.97353 70.0298 6.95741 70.01 6.937C69.9896 6.91716 69.9735 6.89335 69.9626 6.86703C69.9518 6.84072 69.9465 6.81246 69.947 6.784V1.807H68.282C68.2535 1.80753 68.2253 1.80221 68.199 1.79137C68.1726 1.78053 68.1488 1.76441 68.129 1.744C68.1086 1.72416 68.0925 1.70035 68.0816 1.67403C68.0708 1.64772 68.0655 1.61946 68.066 1.591V0.925001C68.0635 0.866207 68.0828 0.808554 68.12 0.763001C68.1413 0.742047 68.1667 0.725655 68.1945 0.714823C68.2224 0.703992 68.2521 0.698948 68.282 0.700001H72.872C72.9019 0.698948 72.9316 0.703992 72.9595 0.714823C72.9873 0.725655 73.0127 0.742047 73.034 0.763001C73.055 0.784309 73.0713 0.809662 73.0822 0.837515C73.093 0.865367 73.0981 0.895135 73.097 0.925001V1.591C73.097 1.651 73.077 1.702 73.034 1.744C73.0127 1.76495 72.9873 1.78135 72.9595 1.79218C72.9316 1.80301 72.9019 1.80805 72.872 1.807H71.216V6.784C71.216 6.844 71.196 6.895 71.153 6.937C71.1317 6.95795 71.1063 6.97435 71.0785 6.98518C71.0506 6.99601 71.0209 7.00105 70.991 7H70.163V7ZM75.577 7C75.5485 7.00053 75.5203 6.99521 75.494 6.98437C75.4676 6.97353 75.4438 6.95741 75.424 6.937C75.4036 6.91716 75.3875 6.89335 75.3766 6.86703C75.3658 6.84072 75.3605 6.81246 75.361 6.784V0.925001C75.3585 0.866207 75.3777 0.808554 75.415 0.763001C75.4363 0.742047 75.4617 0.725655 75.4895 0.714823C75.5174 0.703992 75.5471 0.698948 75.577 0.700001H76.396C76.4246 0.698285 76.4532 0.703061 76.4797 0.713971C76.5062 0.724881 76.5299 0.741642 76.549 0.763001C76.57 0.784309 76.5863 0.809662 76.5972 0.837515C76.608 0.865367 76.6131 0.895135 76.612 0.925001V3.247H79.267V0.925001C79.2645 0.866207 79.2837 0.808554 79.321 0.763001C79.3423 0.742047 79.3677 0.725655 79.3955 0.714823C79.4234 0.703992 79.4531 0.698948 79.483 0.700001H80.293C80.3229 0.698948 80.3526 0.703992 80.3805 0.714823C80.4083 0.725655 80.4337 0.742047 80.455 0.763001C80.476 0.784309 80.4923 0.809662 80.5032 0.837515C80.514 0.865367 80.5191 0.895135 80.518 0.925001V6.785C80.5189 6.8147 80.5138 6.84428 80.503 6.87195C80.4921 6.89962 80.4758 6.92481 80.455 6.946C80.4094 6.98325 80.3518 7.00247 80.293 7H79.483C79.4545 7.00053 79.4263 6.99521 79.4 6.98437C79.3736 6.97353 79.3498 6.95741 79.33 6.937C79.3096 6.91716 79.2935 6.89335 79.2826 6.86703C79.2718 6.84072 79.2665 6.81246 79.267 6.784V4.372H76.612V6.784C76.612 6.844 76.591 6.895 76.549 6.937C76.5299 6.95836 76.5062 6.97512 76.4797 6.98603C76.4532 6.99694 76.4246 7.00172 76.396 7H75.576H75.577Z",
                fill: "#696A7B"
            }), i.jsx("defs", {
                children: i.jsx("clipPath", {
                    id: "clip0",
                    children: i.jsx("rect", {
                        width: "82",
                        height: "16.4",
                        fill: "white",
                        transform: "translate(0 11)"
                    })
                })
            })]
        })
    })
}
  , Yf = ({component: e, inquiry: t}) => {
    var s;
    const {text: n, hidden: r} = e.attributes;
    return co(Js((s = e.styles) == null ? void 0 : s["font-family"].base.base)),
    It(e.name, t.attributes["next-step"].name)(r) ? null : i.jsx(Xs, {
        "data-test": e.type,
        styles: e.styles,
        children: i.jsx(X, {
            children: n
        })
    })
}
  , Bw = ({component: e, inquiry: t}) => i.jsx(Yf, {
    component: {
        ...e,
        type: Me.Text
    },
    inquiry: t
})
  , Vw = g(Dh).withConfig({
    displayName: "QrCode__StyledQrCode",
    componentId: "sc-vi0n8g-0"
})( ({styles: e}) => {
    var t, n, r, o, a, s, c, l;
    return {
        marginTop: (n = k((t = e == null ? void 0 : e.margin.base.base) == null ? void 0 : t.top)) != null ? n : 0,
        marginBottom: (o = k((r = e == null ? void 0 : e.margin.base.base) == null ? void 0 : r.bottom)) != null ? o : 0,
        marginLeft: (s = k((a = e == null ? void 0 : e.margin.base.base) == null ? void 0 : a.left)) != null ? s : 0,
        marginRight: (l = k((c = e == null ? void 0 : e.margin.base.base) == null ? void 0 : c.right)) != null ? l : 0,
        alignSelf: e == null ? void 0 : e.justify.base.base
    }
}
)
  , Uw = ({component: e, inquiry: t}) => {
    var s, c, l;
    const {value: n, hidden: r} = e.attributes;
    return It(e.name, t.attributes["next-step"].name)(r) || !n ? null : i.jsx(Vw, {
        "data-test": e.type,
        value: n,
        height: null,
        width: k((s = e.styles) == null ? void 0 : s.width.base.base),
        bgColor: A((c = e.styles) == null ? void 0 : c["fill-color"].base.base),
        fgColor: A((l = e.styles) == null ? void 0 : l["stroke-color"].base.base),
        styles: e.styles,
        includeMargin: !0
    })
}
  , Hw = g.div.attrs( () => ({
    "aria-hidden": !0
})).withConfig({
    displayName: "Spacer__SpacerDiv",
    componentId: "sc-vj0pq0-0"
})( ({styles: e, height: t}) => {
    var n;
    return {
        height: (n = k(e == null ? void 0 : e.height.base.base)) != null ? n : t,
        width: k(e == null ? void 0 : e.width.base.base),
        flex: "none"
    }
}
)
  , qw = ({component: e, inquiry: t}) => {
    const {hidden: n} = e.attributes;
    return It(e.name, t.attributes["next-step"].name)(n) ? null : i.jsx(Hw, {
        "data-test": e.type,
        height: e.attributes.height,
        styles: e.styles
    })
}
  , $w = g.span.withConfig({
    displayName: "TableStatic__TableStaticContainer",
    componentId: "sc-fy6bs8-0"
})(["font-family:", ";color:", ";font-size:", ";line-height:", ";"], ({theme: {fontFamilyTitle: e}}) => Gt(e), ({theme: e}) => e.colorFont, ({theme: e}) => e.fontSizeBody, ({theme: e}) => e.lineHeightBody)
  , Gw = g.table.withConfig({
    displayName: "TableStatic__Table",
    componentId: "sc-fy6bs8-1"
})(["th,td{padding:", ";}"], I.Spacing[2])
  , Bu = ({tag: e="td", children: t}) => e === "td" ? i.jsx("td", {
    children: i.jsx(X, {
        children: t
    })
}) : i.jsx("th", {
    children: i.jsx(X, {
        children: t
    })
})
  , Ww = ({component: {attributes: {header: e, rows: t}}}) => i.jsx($w, {
    children: i.jsxs(Gw, {
        children: [e && e.length > 0 && i.jsx("thead", {
            children: i.jsx("tr", {
                children: e.map(n => i.jsx(Bu, {
                    tag: "th",
                    children: n
                }, n))
            })
        }), i.jsx("tbody", {
            children: t.map(n => i.jsx("tr", {
                children: n.map(r => i.jsx(Bu, {
                    children: r
                }, r))
            }, n.join()))
        })]
    })
})
  , Yw = ({component: e, inquiry: t}) => {
    var s;
    const {text: n, hidden: r} = e.attributes;
    return co(Js((s = e.styles) == null ? void 0 : s["font-family"].base.base)),
    It(e.name, t.attributes["next-step"].name)(r) ? null : i.jsx(Sd, {
        "data-test": e.type,
        styles: e.styles,
        children: i.jsx(X, {
            children: n
        })
    })
}
;
function jo(e) {
    const {component: t, inquiry: n, actionsApi: r, inquiryLoading: o} = e;
    switch (t.type) {
    case Me.ButtonAction:
        return i.jsx(aI, {
            inquiry: n,
            component: t,
            actionsApi: r,
            inquiryLoading: o
        });
    case Me.ButtonCancel:
        return i.jsx(sI, {
            component: t,
            inquiry: n,
            actionsApi: r,
            inquiryLoading: o
        });
    case Me.ButtonComplete:
        return i.jsx(cI, {
            component: t,
            inquiry: n,
            actionsApi: r,
            inquiryLoading: o
        });
    case Me.ButtonCreatePersona:
        return i.jsx(bI, {
            component: t,
            inquiry: n,
            actionsApi: r,
            inquiryLoading: o
        });
    case Me.ButtonDeviceHandoff:
        return i.jsx(CI, {
            component: t,
            actionsApi: r,
            inquiryLoading: o
        });
    case Me.ButtonLink:
        return i.jsx(xI, {
            inquiry: n,
            component: t
        });
    case Me.ButtonSubmit:
        return i.jsx(vI, {
            inquiry: n,
            component: t,
            actionsApi: r,
            inquiryLoading: o
        });
    case Me.ButtonVerifyWithPersona:
        return i.jsx(SI, {
            inquiry: n,
            component: t,
            actionsApi: r,
            inquiryLoading: o
        });
    case Me.Footer:
        return i.jsx(RI, {
            ...e,
            component: t
        });
    case Me.QrCode:
        return i.jsx(Uw, {
            component: t,
            inquiry: n
        });
    case Me.Spacer:
        return i.jsx(qw, {
            component: t,
            inquiry: n
        });
    case Me.HorizontalStack:
        return i.jsx(TI, {
            ...e,
            component: t
        });
    case Me.ClickableStack:
        return i.jsx(wI, {
            ...e,
            inquiry: n,
            component: t,
            actionsApi: r,
            inquiryLoading: o
        });
    case Me.ImageLocal:
        return i.jsx(DI, {
            component: t,
            inquiry: n
        });
    case Me.ImageRemote:
        return i.jsx(Ef, {
            component: t,
            inquiry: n
        });
    case Me.LanguageSelector:
        return i.jsx(Dw, {
            component: t,
            inquiry: n,
            actionsApi: r
        });
    case Me.PersonaBranding:
        return i.jsx(Mw, {
            component: t
        });
    case Me.PrivacyPolicy:
        return i.jsx(Bw, {
            component: t,
            inquiry: n
        });
    case Me.TableStatic:
        return i.jsx(Ww, {
            component: t
        });
    case Me.Text:
        return i.jsx(Yf, {
            component: t,
            inquiry: n
        });
    case Me.Title:
        return i.jsx(Yw, {
            component: t,
            inquiry: n
        });
    case Me.InputAddress:
        return i.jsx(fS, {
            component: t,
            inquiry: n,
            inquiryLoading: o,
            actionsApi: r
        });
    case Me.InputCheckbox:
        return i.jsx(TS, {
            component: t,
            inquiry: n,
            actionsApi: r
        });
    case Me.InputCheckboxGroup:
        return i.jsx(DS, {
            component: t,
            inquiry: n,
            actionsApi: r
        });
    case Me.InputConfirmationCode:
        return i.jsx(HS, {
            component: t,
            inquiry: n,
            actionsApi: r
        });
    case Me.InputCurrency:
        return i.jsx(KS, {
            component: t,
            inquiry: n,
            actionsApi: r
        });
    case Me.InputDate:
        return i.jsx(sy, {
            component: t,
            inquiry: n,
            actionsApi: r
        });
    case Me.InputMaskedText:
        return i.jsx(zy, {
            component: t,
            inquiry: n,
            inquiryLoading: o,
            actionsApi: r
        });
    case Me.InputMultiSelect:
        return i.jsx(ew, {
            component: t,
            inquiry: n,
            actionsApi: r
        });
    case Me.InputNumber:
        return i.jsx(rw, {
            component: t,
            inquiry: n,
            actionsApi: r
        });
    case Me.InputPhoneNumber:
        return i.jsx(lw, {
            component: t,
            inquiry: n,
            inquiryLoading: o,
            actionsApi: r
        });
    case Me.InputRadioGroup:
        return i.jsx(vw, {
            component: t,
            inquiry: n,
            actionsApi: r
        });
    case Me.InputSelect:
        return i.jsx(Iw, {
            component: t,
            inquiry: n,
            actionsApi: r
        });
    case Me.InputText:
        return i.jsx(yw, {
            component: t,
            inquiry: n,
            actionsApi: r,
            inquiryLoading: o
        });
    case Me.InputTextArea:
        return i.jsx(Nw, {
            component: t,
            inquiry: n,
            actionsApi: r
        });
    case Me.PasskeyAuthentication:
        return i.jsx(Ow, {
            component: t,
            inquiry: n,
            actionsApi: r,
            inquiryLoading: o
        });
    case Me.PasskeyRegistration:
        return i.jsx(Lw, {
            component: t,
            inquiry: n,
            actionsApi: r,
            inquiryLoading: o
        });
    case Me.InputESignature:
        return i.jsx(ky, {
            component: t,
            inquiry: n,
            actionsApi: r
        });
    case Me.InputFileUpload:
        return i.jsx(Dy, {
            component: t,
            inquiry: n,
            actionsApi: r
        });
    case Me.InputInternationalDb:
        return i.jsx(Yy, {
            component: t,
            inquiry: n,
            actionsApi: r,
            inquiryLoading: o
        });
    case Me.GovernmentIdNfcScan:
        return i.jsx(AI, {
            component: t,
            inquiry: n,
            actionsApi: r,
            inquiryLoading: o
        });
    case Me.CombinedStepButton:
    case Me.CombinedStepImagePreview:
        return null;
    case Me.Stepper:
        return null;
    case Me.GovernmentIdTypeSelect:
        return null;
    default:
        Be("Unknown UI component", "warning", {
            component: t.type,
            inquiry: n.id
        }),
        lt(t)
    }
}
const zw = g("div").withConfig({
    displayName: "InquiryCompleteView__Header",
    componentId: "sc-yruq5d-0"
})(["margin-bottom:", "px;"], Cn * 8)
  , Kw = ({onComplete: e, hasCompleteAction: t, isChildFlow: n, config: r}) => {
    var s, c, l, d, u, m;
    const [o] = G()
      , a = t && !n;
    return f.useEffect( () => {
        a && e()
    }
    , []),
    a ? null : n ? i.jsxs("div", {
        "data-test": "inquiry-complete-view",
        children: [i.jsxs(zw, {
            children: [i.jsx(ct, {
                children: (l = (c = (s = r.localizations) == null ? void 0 : s["child-flow-page"]) == null ? void 0 : c.title) != null ? l : o("success.title-exchange-flow")
            }), i.jsx(ot, {
                children: i.jsx(X, {
                    children: (m = (u = (d = r.localizations) == null ? void 0 : d["child-flow-page"]) == null ? void 0 : u.prompt) != null ? m : o("success.prompt-exchange-flow")
                })
            })]
        }), i.jsx(Qe, {
            "aria-label": "return to original device pictograph",
            children: i.jsx(pe, {
                vectorEffect: "initial",
                children: i.jsx($h, {})
            })
        })]
    }) : i.jsx("div", {
        "data-test": "inquiry-complete-view",
        children: i.jsx(jo, {
            component: {
                name: "success_animated_checkmark",
                type: Me.ImageLocal,
                attributes: {
                    "image-key": le.AnimatedCheck
                }
            },
            inquiry: null,
            inquiryLoading: !1,
            actionsApi: null
        })
    })
}
  , Qw = g.form.withConfig({
    displayName: "InquiryUiView__Form",
    componentId: "sc-e8wtsw-0"
})(["display:flex;flex-direction:column;"])
  , Mr = f.memo( ({inquiry: e, nextStep: t=e.attributes["next-step"], currentSession: n, handleLanguageChange: r, showMessage: o, onTransitionSubmit: a, onTransitionAction: s, onComplete: c, onCancel: l, route: d, setComponent: u}) => {
    switch (t.type) {
    case Ge.Ui:
        return i.jsx(Xw, {
            inquiry: e,
            nextStep: t,
            form: t.name,
            onTransitionSubmit: a,
            onTransitionAction: s,
            onComplete: c,
            onCancel: l,
            handleLanguageChange: r,
            showMessage: o,
            route: d,
            setComponent: u
        });
    case Ge.Document:
        return i.jsx(er, {
            to: "/inquiry/documents/prompt"
        });
    case Ge.Integration:
        return i.jsx(er, {
            to: "/inquiry/integration"
        });
    case Ge.GovernmentId:
        return i.jsx(er, {
            to: "/inquiry/government-id/select"
        });
    case Ge.Selfie:
        return i.jsx(er, {
            to: "/inquiry/selfie/center/prompt"
        });
    case Ge.VerifyWithPersona:
        return i.jsx(er, {
            to: "/inquiry/verify-with-persona/passkey-authentication"
        });
    case Ge.Complete:
        return i.jsx(Kw, {
            config: t.config,
            onComplete: c,
            hasCompleteAction: vo(e),
            isChildFlow: (n == null ? void 0 : n.relationships["parent-session"].data) != null
        });
    default:
        return Be("Unsupported step type for InquiryUiView", "warning", {
            type: t.type
        }),
        D.onError({
            status: 400,
            code: "invalid_config"
        }),
        i.jsx(er, {
            to: "/verify/invalid/config"
        })
    }
}
, Zw);
Mr.displayName = "InquiryUiView";
function Zw(e, t) {
    var s, c;
    if (((s = e.inquiry.attributes["wait-for-transition"]) == null ? void 0 : s["polling-mode"]) !== nn.NONE && ((c = t.inquiry.attributes["wait-for-transition"]) == null ? void 0 : c["polling-mode"]) === nn.NONE && e.inquiry.attributes["next-step"].name === t.inquiry.attributes["next-step"].name)
        return !1;
    const r = [tn.Transitioning, tn.Blocked].includes(e.uiStatus);
    return t.uiStatus === tn.Ready && r
}
const Jw = ({inquiry: e, nextStep: t, handleLanguageChange: n, showMessage: r, onTransitionSubmit: o, onTransitionAction: a, onComplete: s, onCancel: c, handleSubmit: l, change: d, route: u, setComponent: m}) => {
    const {components: h} = t.config
      , p = st(v => {
        var x, _;
        return (_ = (x = v.ui) == null ? void 0 : x.status) != null ? _ : tn.Ready
    }
    )
      , b = p === tn.Transitioning || p === tn.Blocked
      , C = f.useCallback( (v, x={}) => l(async _ => {
        for (const R in x)
            d(R, x[R]);
        await o({
            ..._,
            ...x
        }, v)
    }
    )(), [l, o, d])
      , S = f.useMemo( () => ({
        handleLanguageChange: n,
        showMessage: r,
        setField: d,
        onSubmit: C,
        onActionButtonClick: a,
        onComplete: s,
        onCancel: c,
        route: u,
        setComponent: m
    }), [n, r, d, C, a, s, c, u, m]);
    return i.jsx(Qw, {
        "data-test": "inquiry-ui-view__form",
        children: h.map(v => i.jsx(jo, {
            component: v,
            inquiry: e,
            inquiryLoading: b,
            actionsApi: S
        }, v.name))
    })
}
  , Xw = Se.reduxForm({})(Jw);
function zf(e) {
    var c, l, d, u, m, h, p, b, C, S, v, x, _, R, E, T, F, O, N, U, V, ne, L, H, q, ee, Y, ae, se, _e, Re, ye, Pe, Ae, Te, be, re, z, Z, xe, we, Ye, qe, Ce, W, oe, de, De, Ve, ve, Le, me, Ne, bt, St, On, Ci, Ln, Jn, yn;
    const t = (c = e == null ? void 0 : e.attributes) != null ? c : {}
      , n = (l = t["color-primary"]) != null ? l : I.Color.CorePurple700
      , r = (d = t["icon-color-primary"]) != null ? d : ft(n).mix(ft("white"), .4).hex()
      , o = t["font-size-body"] ? `calc(${t["font-size-body"]} * 1.5);` : ""
      , a = t["font-size-header"] ? `calc(${t["font-size-header"]} * 1.25);` : ""
      , s = t["font-size-small"] ? `calc(${t["font-size-small"]} * 1.5);` : "";
    return {
        ...Fr,
        borderRadius: (u = t["border-radius"]) != null ? u : ln.rounded,
        borderRadiusModal: (m = t["border-radius-modal"]) != null ? m : "1px",
        borderWidth: (h = t["border-width"]) != null ? h : "2px",
        buttonBackgroundImage: t["button-background-image"],
        buttonFontWeight: (p = t["button-font-weight"]) != null ? p : ml.Medium,
        buttonPosition: (b = t["button-position"]) != null ? b : vs.Inline,
        buttonShadowStrength: t["button-shadow-strength"],
        buttonTextTransform: t["button-text-transform"],
        colorButtonPrimary: (C = t["color-button-primary"]) != null ? C : n,
        colorButtonSecondary: (S = t["color-button-secondary"]) != null ? S : n,
        colorButtonSecondaryFill: t["color-button-secondary-fill"],
        colorButtonPrimaryFillDisabled: (v = t["color-button-primary-fill-disabled"]) != null ? v : I.Color.CoreSlate300,
        colorButtonSecondaryFillDisabled: (x = t["color-button-secondary-fill-disabled"]) != null ? x : I.Color.CoreSlate300,
        colorError: (_ = t["color-error"]) != null ? _ : I.Color.CoreRed900,
        colorFont: (R = t["color-font"]) != null ? R : I.Color.CoreSlate1000,
        colorFontButtonPrimary: (E = t["color-font-button-primary"]) != null ? E : I.Color.CoreSlate50,
        colorFontButtonSecondary: t["color-font-button-secondary"],
        colorFontSmall: (T = t["color-font-small"]) != null ? T : I.Color.CoreSlate1000,
        colorFontTitle: (F = t["color-font-title"]) != null ? F : I.Color.CoreSlate1000,
        colorIconHeader: (O = t["color-icon-header"]) != null ? O : I.Color.CoreSlate700,
        colorInputBackground: (U = (N = t["color-input-background"]) != null ? N : t["color-modal-background"]) != null ? U : I.Color.PrimaryWhite,
        colorInputBorder: (V = t["color-input-border"]) != null ? V : I.Color.CoreSlate500,
        colorFooterBackground: (ne = t["color-modal-background"]) != null ? ne : I.Color.CoreSlate50,
        colorLink: (L = t["color-link"]) != null ? L : n,
        colorDropdownBackground: (H = t["color-dropdown-background"]) != null ? H : I.Color.PrimaryWhite,
        colorDropdownOption: (q = t["color-dropdown-option"]) != null ? q : I.Color.CoreSlate50,
        colorModalBackground: (ee = t["color-modal-background"]) != null ? ee : I.Color.PrimaryWhite,
        colorPrimary: n,
        colorProgressBar: (Y = t["color-progress-bar"]) != null ? Y : n,
        colorSuccess: (ae = t["color-success"]) != null ? ae : I.Color.CoreGreen400,
        colorWarning: (se = t["color-warning"]) != null ? se : I.Color.CoreYellow900,
        colorDivider: (_e = t["color-divider"]) != null ? _e : I.Color.CoreSlate100,
        fontFamily: (Re = t["font-family"]) != null ? Re : yr.Rubik,
        fontFamilyTitle: (ye = t["font-family-title"]) != null ? ye : yr.Rubik,
        fontUrl: t["font-url"],
        fontSizeBody: (Pe = t["font-size-body"]) != null ? Pe : qt.p,
        fontSizeHeader: (Ae = t["font-size-header"]) != null ? Ae : qt.h2,
        fontSizeSmall: (Te = t["font-size-small"]) != null ? Te : "10px",
        headerFontWeight: (be = t["header-font-weight"]) != null ? be : ml.Medium,
        headerMarginBottom: (re = t["header-margin-bottom"]) != null ? re : I.Spacing[4],
        iconColorPrimary: r,
        iconColorHighlight: (z = t["icon-color-highlight"]) != null ? z : ft(r).mix(ft("white"), .85).hex(),
        iconColorStroke: (Z = t["icon-color-stroke"]) != null ? Z : ft(n).mix(ft("black"), .71).saturate(.3).hex(),
        iconColorBackground: (xe = t["icon-color-background"]) != null ? xe : I.Color.PrimaryWhite,
        iconColorGovernmentIdType: (we = t["icon-color-government-id-type"]) != null ? we : n,
        inputStyle: (Ye = t["input-style"]) != null ? Ye : Rt.Outlined,
        lineHeightBody: (qe = t["line-height-body"]) != null ? qe : o,
        lineHeightHeader: (Ce = t["line-height-header"]) != null ? Ce : a,
        lineHeightSmall: (W = t["line-height-small"]) != null ? W : s,
        logoData: t["logo-data"],
        logoFilename: t["logo-filename"],
        logoHeight: t["logo-height"],
        logoUrl: t["logo-url"],
        logoWidth: t["logo-width"],
        pageTransition: (oe = t["page-transition"]) != null ? oe : wi.Slide,
        textAlign: (de = t["text-align"]) != null ? de : Ys.Default,
        textDecorationLineLink: (De = t["text-decoration-line-link"]) != null ? De : hf.Underline,
        usStateInputMethod: (Ve = t["us-state-input-method"]) != null ? Ve : Ws.Input,
        navbarLogoDisplay: (ve = t["navbar-logo-display"]) != null ? ve : Ai.None,
        navbarLogoHeight: t["navbar-logo-height"],
        iconStyle: (Le = t["icon-style"]) != null ? Le : Lr.Default,
        processingDisplayStyle: (me = t["processing-display-style"]) != null ? me : Ea.Default,
        verticalOptionsStyle: (Ne = t["vertical-options-style"]) != null ? Ne : $i.Default,
        governmentIdPictographPosition: (bt = t["government-id-pictograph-position"]) != null ? bt : $t.Center,
        idBackPictographHeight: t["id-back-pictograph-height"],
        idBackPictographUrl: t["id-back-pictograph-url"],
        idFrontPictographHeight: t["id-front-pictograph-height"],
        idFrontPictographUrl: t["id-front-pictograph-url"],
        passportFrontPictographHeight: t["passport-front-pictograph-height"],
        passportFrontPictographUrl: t["passport-front-pictograph-url"],
        passportSignaturePictographHeight: t["passport-signature-pictograph-height"],
        passportSignaturePictographUrl: t["passport-signature-pictograph-url"],
        governmentIdSelectPictographHeight: (St = t["government-id-select-pictograph-height"]) != null ? St : "none",
        governmentIdSelectPictographUrl: t["government-id-select-pictograph-url"],
        deviceHandoffTermsTextPosition: (On = t["device-handoff-terms-text-position"]) != null ? On : gn.BelowButton,
        selfiePictographUrl: t["selfie-pictograph-url"],
        selfiePictographHeight: t["selfie-pictograph-height"],
        selfieCenterPictographUrl: t["selfie-center-pictograph-url"],
        selfieCenterPictographHeight: t["selfie-center-pictograph-height"],
        selfieLeftPictographUrl: t["selfie-left-pictograph-url"],
        selfieLeftPictographHeight: t["selfie-left-pictograph-height"],
        selfieRightPictographUrl: t["selfie-right-pictograph-url"],
        selfieRightPictographHeight: t["selfie-right-pictograph-height"],
        documentPictographHeight: t["document-pictograph-height"],
        documentPictographPosition: (Ci = t["document-pictograph-position"]) != null ? Ci : $t.Center,
        documentPictographUrl: t["document-pictograph-url"],
        failedPictographHeight: t["failed-pictograph-height"],
        failedPictographPosition: (Ln = t["failed-pictograph-position"]) != null ? Ln : $t.Center,
        failedPictographUrl: t["failed-pictograph-url"],
        successPictographHeight: t["success-pictograph-height"],
        successPictographPosition: (Jn = t["success-pictograph-position"]) != null ? Jn : $t.Center,
        successPictographUrl: t["success-pictograph-url"],
        exitPictographHeight: t["exit-pictograph-height"],
        exitPictographPosition: (yn = t["exit-pictograph-position"]) != null ? yn : $t.Center,
        exitPictographUrl: t["exit-pictograph-url"],
        loadingPictographHeight: t["loading-pictograph-height"],
        loadingPictographUrl: t["loading-pictograph-url"],
        cameraSupportPictographHeight: t["camera-support-pictograph-height"],
        cameraSupportPictographUrl: t["camera-support-pictograph-url"]
    }
}
const Kf = zf()
  , e_ = e => {
    var v, x, _;
    const {inquiry: t, component: n, currentSession: r, uiStatus: o, collectedData: a, featureFlags: s, setCreatePersonaStatus: c} = e
      , l = Vt()
      , [d] = G()
      , u = n.type === Me.ButtonCreatePersona ? (x = (v = n == null ? void 0 : n.attributes) == null ? void 0 : v.pages) == null ? void 0 : x["passkey-registration"] : null
      , m = n.type === Me.ButtonCreatePersona ? (_ = n == null ? void 0 : n.attributes) == null ? void 0 : _["auto-complete-on-dismiss"] : !1
      , h = u == null ? void 0 : u["ui-step"]
      , p = u == null ? void 0 : u["component-name-mapping"];
    f.useEffect( () => {
        J.logAmplitude("reusable-persona.create.passkey-registration-page.entered")
    }
    , []);
    const b = f.useCallback( () => {
        Ro(t, a)
    }
    , [t, a])
      , {error: C, callback: S} = vt(async (R, E) => {
        var T;
        if (E === (p == null ? void 0 : p["confirm-button"])) {
            J.logAmplitude("reusable-persona.create.passkey-registration-page.confirm-btn-clicked");
            const F = (await te.postResourceSingletonActionNew(y.Persona, "registration-initiate")).meta
              , O = await Ph(F);
            J.logAmplitude("reusable-persona.create.passkey-registration-page.submitted"),
            await te.postResourceSingletonActionNew(y.Persona, "registration-submit", void 0, {
                meta: {
                    "registration-params": {
                        "client-key": F.user.id,
                        "public-key": O,
                        "expected-origin": window.location.origin
                    }
                }
            }),
            c(Bn.PersonaCreated),
            D.isReusablePersonaPopup && window.opener && window.opener.postMessage(gs.CREATED),
            l.push("/inquiry/create-persona/success")
        } else
            E === (p == null ? void 0 : p["cancel-button"]) && (J.logAmplitude("reusable-persona.create.passkey-registration-page.not-now-btn-clicked"),
            c(Bn.CtaDismissed),
            D.isReusablePersonaPopup ? window.opener ? (window.opener.postMessage(gs.DISMISSED),
            setTimeout( () => window.close(), 100)) : ((T = window.opener) == null || T.focus(),
            window.close()) : m ? b() : l.goBack())
    }
    , [h, p, m, b]);
    return _t({
        error: C,
        onError: () => {
            e.showMessage(d("error.message"))
        }
        ,
        onNetworkError: () => e.showMessage(d("errors.network"))
    }),
    h == null || t == null ? null : i.jsx(Nl, {
        theme: Kf,
        children: i.jsx(Mr, {
            inquiry: t,
            nextStep: h,
            currentSession: r,
            uiStatus: o,
            onTransitionSubmit: S,
            onTransitionAction: async () => {}
            ,
            onComplete: b,
            onCancel: e.openConfirmCancelDialog,
            handleLanguageChange: e.handleLanguageChange,
            route: l.push,
            showMessage: e.showMessage,
            setComponent: e.setComponent
        })
    })
}
;
function t_(e) {
    return {
        inquiry: e.inquiry.inquiry,
        component: e.inquiry.component,
        currentSession: e.inquiry.currentSession,
        uiStatus: e.ui.status,
        featureFlags: e.inquiry.featureFlags,
        collectedData: e.inquiry.collectedData
    }
}
const n_ = {
    handleLanguageChange: wo,
    openConfirmCancelDialog: jr,
    setComponent: cr,
    showMessage: ce,
    setCreatePersonaStatus: Xo
}
  , i_ = ke(t_, n_)
  , r_ = i_(e_);
function Qf(e, t, n={}) {
    const r = n.maxWait
      , o = f.useRef(null)
      , a = f.useRef([])
      , s = n.leading
      , c = n.trailing == null ? !0 : n.trailing
      , l = f.useRef(!1)
      , d = f.useRef(null)
      , u = f.useRef(!1)
      , m = f.useRef(e);
    m.current = e;
    const h = f.useCallback( () => {
        clearTimeout(d.current),
        clearTimeout(o.current),
        o.current = null,
        a.current = [],
        d.current = null,
        l.current = !1
    }
    , []);
    f.useEffect( () => () => {
        u.current = !0
    }
    , []);
    const p = f.useCallback( (...C) => {
        a.current = C,
        clearTimeout(d.current),
        l.current && (l.current = !1),
        d.current == null && s && !l.current && (m.current(...C),
        l.current = !0),
        d.current = window.setTimeout( () => {
            let S = !0;
            s && l.current && (S = !1),
            h(),
            !u.current && c && S && m.current(...C)
        }
        , t),
        r != null && !o.current && c && (o.current = window.setTimeout( () => {
            const S = a.current;
            h(),
            u.current || m.current(...S)
        }
        , r))
    }
    , [r, t, h, s, c])
      , b = f.useCallback( () => {
        d.current != null && (m.current.apply(null, a.current),
        h())
    }
    , [h]);
    return [p, h, b]
}
const Br = ({loader: e, deps: t, onError: n, onNetworkError: r, skip: o, abortController: a, options: s={}}) => {
    const {error: c, loading: l, callback: d} = vt(e, t, {
        defaultLoading: !o,
        ...s
    });
    _t({
        error: c,
        onError: n,
        onNetworkError: r
    });
    const [u] = Qf(d, 500, {
        leading: !0,
        trailing: !0
    });
    return f.useEffect( () => {
        if (!o && u(),
        a)
            return () => a.abort()
    }
    , t),
    {
        error: c,
        loading: l,
        callback: d
    }
}
  , o_ = ({assetUrl: e, height: t, fallback: n, "aria-label": r}) => {
    const [o,a] = f.useState()
      , [s,c] = f.useState(0);
    switch (Br({
        loader: async () => {
            if (Ep(e) !== "json") {
                c(2);
                return
            }
            try {
                const {data: l} = await oi.get(e);
                a(l)
            } catch (l) {
                nr({
                    error: l,
                    method: "GET",
                    uri: e
                })
            }
            c(1)
        }
        ,
        deps: [e],
        onError: () => c(2),
        onNetworkError: () => c(2)
    }),
    s) {
    case 0:
        return null;
    case 2:
        return n;
    case 1:
        return i.jsx(Vn, {
            role: "img",
            "aria-label": r,
            animationData: o,
            style: {
                height: t,
                width: "auto"
            }
        })
    }
}
  , a_ = "none"
  , s_ = g.div.withConfig({
    displayName: "CustomizablePictograph__ImageContainer",
    componentId: "sc-1x7saia-0"
})(["", " > img,svg{", "}"], ({height: e}) => e != null && `height: ${e};`, ({height: e}) => e != null && `height: ${e};`)
  , Kt = ({url: e, children: t, className: n, height: r, vectorEffect: o, "aria-label": a, themed: s=!0, primaryColor: c, highlightColor: l, backgroundColor: d, strokeColor: u}) => {
    const m = f.useContext(Je)
      , h = m == null ? void 0 : m[e];
    if (h === a_)
        return null;
    if (!h) {
        if (t == null)
            return null;
        const p = f.cloneElement(t, {
            "aria-label": a
        });
        return s ? i.jsx(pe, {
            vectorEffect: o,
            className: n,
            $primaryColor: c,
            $highlightColor: l,
            $backgroundColor: d,
            $strokeColor: u,
            children: p
        }) : i.jsx("div", {
            className: n,
            children: p
        })
    }
    switch (Ep(h)) {
    case "png":
    case "svg":
    case "jpg":
    case "gif":
        return i.jsx(s_, {
            height: m[r],
            children: i.jsx("img", {
                src: h,
                "aria-label": a,
                alt: a
            })
        });
    case "json":
        return i.jsx(f.Suspense, {
            fallback: null,
            children: i.jsx(o_, {
                assetUrl: h,
                height: m[r],
                fallback: t != null && f.cloneElement(t, {
                    "aria-label": a
                }),
                "aria-label": a
            })
        });
    default:
        throw new Error(`Invalid pictograph ${m[e]}. Valid extensions are: .png, .svg, .jpg, .gif, .json.`)
    }
}
  , c_ = Pn(["from{transform:translate(-50%,-50%) rotate(0deg);}to{transform:translate(-50%,-50%) rotate(360deg);}"])
  , l_ = g(pe).withConfig({
    displayName: "LoadingSpinner__ThemedContainer",
    componentId: "sc-qbuihf-0"
})(["position:relative;"])
  , d_ = g("div").withConfig({
    displayName: "LoadingSpinner__Loop",
    componentId: "sc-qbuihf-1"
})(["img,svg{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);animation:", " 5s linear infinite;}"], c_)
  , u_ = g("div").withConfig({
    displayName: "LoadingSpinner__Scanner",
    componentId: "sc-qbuihf-2"
})(["display:inline-flex;align-items:center;position:absolute;top:-16px;left:50%;transform:translateX(-50%);"])
  , m_ = () => {
    const e = f.useContext(Je);
    return (e == null ? void 0 : e.loadingPictographUrl) ? i.jsx(Kt, {
        url: "loadingPictographUrl",
        height: "loadingPictographHeight"
    }) : i.jsxs(l_, {
        id: "loading-spinner",
        "aria-busy": !0,
        "aria-live": "polite",
        role: "alert",
        children: [i.jsx(d_, {
            children: i.jsx(k1, {})
        }), i.jsxs(u_, {
            children: [i.jsx(N1, {}), i.jsx(j1, {})]
        })]
    })
}
  , h_ = Pn(["0%{opacity:0;}49.9999%{opacity:0;}50%{opacity:1;}100%{opacity:1;}"])
  , p_ = g("div").withConfig({
    displayName: "LoadingSpinner__FullScreenSpinnerContainer",
    componentId: "sc-qbuihf-3"
})(["position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);animation:", " ", ";"], h_, wa.medium)
  , Tn = () => i.jsx(p_, {
    children: i.jsx(m_, {})
})
  , f_ = e => ({
    uiStatus: e.ui.status
})
  , g_ = {
    loadCreatePersonaPopupFromCode: Tv,
    setUiReady: ut,
    showMessage: ce
}
  , b_ = ke(f_, g_);
function C_(e) {
    const {i18n: t, t: n} = G();
    return Br({
        loader: async () => {
            const {uiStatus: r, loadCreatePersonaPopupFromCode: o, setUiReady: a} = e;
            await o(t, D.inquiryParams.code, D.inquiryParams.component),
            r === tn.Initializing && (D.onEvent(Oe.Ready),
            a())
        }
        ,
        deps: [],
        onError: () => e.showMessage(n("errors.network")),
        onNetworkError: () => e.showMessage(n("errors.network"))
    }),
    i.jsx(Tn, {})
}
const x_ = b_(C_)
  , v_ = e => {
    var C, S, v;
    const {inquiry: t, component: n, currentSession: r, uiStatus: o, collectedData: a, featureFlags: s} = e
      , c = Vt()
      , l = n.type === Me.ButtonCreatePersona ? (S = (C = n == null ? void 0 : n.attributes) == null ? void 0 : C.pages) == null ? void 0 : S.success : null
      , d = n.type === Me.ButtonCreatePersona ? (v = n == null ? void 0 : n.attributes) == null ? void 0 : v["auto-complete-on-dismiss"] : !1
      , u = l == null ? void 0 : l["ui-step"]
      , m = l == null ? void 0 : l["component-name-mapping"];
    f.useEffect( () => {
        J.logAmplitude("reusable-persona.create.success-page.entered")
    }
    , []);
    const h = f.useCallback( () => {
        Ro(t, a)
    }
    , [t, a])
      , {error: p, callback: b} = vt(async (x, _) => {
        var R;
        _ === (m == null ? void 0 : m["continue-button"]) && (J.logAmplitude("reusable-persona.create.success-page.dismissed"),
        D.isReusablePersonaPopup ? ((R = window.opener) == null || R.focus(),
        window.close()) : d ? h() : c.go(-2))
    }
    , [u, m, d, h]);
    return _t({
        error: p,
        onError: () => {
            e.showMessage("Unexpected error, please try again.")
        }
        ,
        onNetworkError: () => e.showMessage("Unexpected error, please try again.")
    }),
    u == null || t == null ? null : i.jsx(Nl, {
        theme: Kf,
        children: i.jsx(Mr, {
            inquiry: t,
            nextStep: u,
            currentSession: r,
            uiStatus: o,
            onTransitionSubmit: b,
            onTransitionAction: async () => {}
            ,
            onComplete: h,
            onCancel: e.openConfirmCancelDialog,
            handleLanguageChange: e.handleLanguageChange,
            route: c.push,
            showMessage: e.showMessage,
            setComponent: e.setComponent
        })
    })
}
;
function I_(e) {
    return {
        inquiry: e.inquiry.inquiry,
        component: e.inquiry.component,
        currentSession: e.inquiry.currentSession,
        uiStatus: e.ui.status,
        featureFlags: e.inquiry.featureFlags,
        collectedData: e.inquiry.collectedData
    }
}
const S_ = {
    handleLanguageChange: wo,
    openConfirmCancelDialog: jr,
    setComponent: cr,
    showMessage: ce,
    transitionInquiry: mf,
    pollInquiry: Gn
}
  , y_ = ke(I_, S_)
  , w_ = y_(v_)
  , Pa = f.createContext(void 0)
  , Zf = () => f.useContext(Pa)
  , Jf = f.createContext(ja())
  , Vr = () => f.useContext(Jf)
  , Po = ({children: e, value: t}) => {
    const n = f.useMemo( () => ja(t), [t]);
    return i.jsx(Jf.Provider, {
        value: n,
        children: i.jsx(Pa.Provider, {
            value: n == null ? void 0 : n.buttons,
            children: e
        })
    })
}
  , Ue = ({customImage: e, children: t=null, onLoad: n, environment: r, alt: o}) => {
    const [a,s] = f.useState(!1)
      , c = f.useMemo( () => {
        var l;
        if (e)
            return o ? {
                ...e,
                attributes: {
                    ...e.attributes,
                    alt: (l = e.attributes.alt) != null ? l : o
                }
            } : e
    }
    , [e, o]);
    return c && !a ? i.jsx(Ef, {
        component: c,
        onLoad: n,
        onError: () => s(!0),
        environment: r
    }) : (n == null || n(),
    i.jsx(i.Fragment, {
        children: t
    }))
}
  , __ = /^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/
  , yd = new RegExp(__.source,"i")
  , R_ = /^\d{5}(-\d{4})?$/
  , A_ = /^[A-Z]([A-Z]?\d[A-Z]|\d{1,2}|[A-Z]\d{1,2}) \d[A-Z][A-Z]$/i
  , Xf = Se.Field
  , ri = g("div").withConfig({
    displayName: "FormGroup",
    componentId: "sc-qe6azv-0"
})(["margin-bottom:", ";label{", ";font-weight:500;font-family:inherit;margin-bottom:", ";transition-duration:", ";}&:focus-within label{color:", ";}"], I.Spacing[4], Ni.sm, I.Spacing[2], tt.Fast, e => e.theme.colorPrimary);
function T_() {
    const [e,t] = f.useState(Vu());
    return f.useEffect( () => {
        function n() {
            t(Vu())
        }
        return window.addEventListener("resize", n),
        () => window.removeEventListener("resize", n)
    }
    , []),
    e
}
function Vu() {
    var e, t;
    return {
        height: ((e = document == null ? void 0 : document.documentElement) == null ? void 0 : e.clientHeight) || (window == null ? void 0 : window.innerHeight),
        width: ((t = document == null ? void 0 : document.documentElement) == null ? void 0 : t.clientWidth) || (window == null ? void 0 : window.innerWidth)
    }
}
const E_ = g("div").withConfig({
    displayName: "Footer__Container",
    componentId: "sc-16qv69m-0"
})(["display:flex;flex-direction:column;align-items:center;justify-content:space-between;margin:0 auto;position:absolute;z-index:", ";left:0;right:0;bottom:0;@media ", "{position:fixed;}padding-top:", "px;padding-bottom:", ";padding-left:", ";padding-right:", ";padding-left:calc(", " + env(safe-area-inset-left));padding-right:calc(", " + env(safe-area-inset-right));"], wt.footer, jt.isMobile, M.base, M.widgetPadding, M.widgetPadding, M.widgetPadding, M.widgetPadding, M.widgetPadding)
  , eg = ({children: e, className: t}) => {
    const [n,r] = f.useState(M.base * 7)
      , o = f.useRef();
    return f.useLayoutEffect( () => {
        var s;
        const a = ((s = o.current) == null ? void 0 : s.getBoundingClientRect().height) - parseInt(M.widgetPadding);
        a >= 0 && r(Math.floor(a))
    }
    ),
    i.jsxs(i.Fragment, {
        children: [i.jsx("div", {
            "aria-hidden": !0,
            style: {
                height: n
            }
        }), i.jsx(E_, {
            "data-test": "footer",
            ref: o,
            className: t,
            children: e
        })]
    })
}
  , mt = ({children: e}) => {
    const t = f.useContext(Je)
      , [n,r] = f.useState(!1)
      , {height: o} = T_();
    switch (f.useEffect( () => {
        r(window.matchMedia(jt.isSmallVertical).matches)
    }
    , [o]),
    t == null ? void 0 : t.buttonPosition) {
    case vs.Bottom:
        return n ? i.jsx(i.Fragment, {
            children: e
        }) : i.jsx(eg, {
            children: e
        });
    case vs.Inline:
    default:
        return i.jsx(i.Fragment, {
            children: e
        })
    }
}
  , k_ = g("div").withConfig({
    displayName: "ThemedFormInput__OutlinedContainer",
    componentId: "sc-19frg26-0"
})(["margin-bottom:", "px;"], M.base * 2)
  , N_ = g("div").withConfig({
    displayName: "ThemedFormInput__MaterialContainer",
    componentId: "sc-19frg26-1"
})(["margin-bottom:", "px;position:relative;padding-top:", "px;"], M.base, M.base * 2)
  , Uu = g("div").withConfig({
    displayName: "ThemedFormInput__FormError",
    componentId: "sc-19frg26-2"
})(["color:", ";font-size:", ";margin-top:", "px;"], e => {
    var t;
    return ((t = e == null ? void 0 : e.theme) == null ? void 0 : t.colorError) || Fe.red100
}
, qt.small, M.base)
  , Wn = e => {
    const {className: t, input: n, meta: {error: r, submitFailed: o}, autoFocus: a, label: s, placeholder: c, id: l, "data-test": d="form", ...u} = e
      , {inputStyle: m} = f.useContext(Je)
      , h = !!(r && o);
    switch (m) {
    case Rt.Material:
        return i.jsxs(N_, {
            className: t,
            children: [i.jsx(or, {
                labelText: s || c,
                ...n,
                ...u,
                autoFocus: a,
                hasError: h,
                "aria-invalid": h ? "true" : void 0,
                id: l,
                "data-test": d
            }), i.jsx(Uu, {
                "data-test": `${d}-error`,
                role: "alert",
                props: e,
                children: h && r
            })]
        });
    case Rt.Outlined:
    default:
        return i.jsxs(k_, {
            className: t,
            children: [s && i.jsx(X, {
                wrapper: "label",
                wrapperProps: {
                    htmlFor: l
                },
                children: s
            }), i.jsx(Gi, {
                ...n,
                ...u,
                autoFocus: a,
                hasError: h,
                "aria-invalid": h ? "true" : void 0,
                id: l,
                placeholder: c,
                "data-test": d
            }), i.jsx(Uu, {
                "data-test": `${d}-error`,
                role: "alert",
                props: e,
                children: h && r
            })]
        })
    }
}
  , j_ = g("p").withConfig({
    displayName: "ThemedParagraph__Paragraph",
    componentId: "sc-2v8g2c-0"
})(["font-family:", ";color:", ";font-size:", ";line-height:", ";text-align:", ";"], ({theme: {fontFamily: e}}) => Gt(e), ({theme: e}) => e.colorFont, ({theme: e}) => e.fontSizeBody, ({theme: e}) => e.lineHeightBody, ({theme: e}) => e.textAlign)
  , He = ({styles: e, ...t}) => i.jsx(i.Fragment, {
    children: e != null ? i.jsx(Xs, {
        ...t,
        styles: e
    }) : i.jsx(j_, {
        ...t
    })
})
  , Hu = g.div.withConfig({
    displayName: "FormEmailAddress__DisclaimerContainer",
    componentId: "sc-1ocvk5j-0"
})(["display:block;margin-top:", "px;", ""], M.base, ({position: e, theme: t}) => e === gn.AboveButton && $(["padding-bottom:", "px;border-bottom:1px solid ", ";margin-bottom:", "px;"], M.base * 2, t.colorDivider, M.base * 2))
  , P_ = g(He).withConfig({
    displayName: "FormEmailAddress__Disclaimer",
    componentId: "sc-1ocvk5j-1"
})(["color:", ";font-size:", ";line-height:", ";&,a{font-size:", ";line-height:", ";}"], ({theme: e}) => e.colorFontSmall, ({theme: e}) => e.fontSizeSmall, ({theme: e}) => e.lineHeightSmall, ({theme: e}) => e.fontSizeSmall, ({theme: e}) => e.lineHeightSmall);
function D_({handleSubmit: e, labelContinue: t, pristine: n, submitting: r, buttonStyle: o, disclaimerStyle: a, disclaimerText: s, disclaimerPosition: c=gn.BelowButton}) {
    const [l] = G()
      , d = f.useMemo( () => ({
        emailAddress: [dt(l("database.form.validate-email-valid"), ar(yd)), dt(l("database.form.validate-email-required"), bn)]
    }), [l])
      , u = i.jsx(i.Fragment, {
        children: a != null ? i.jsx(He, {
            styles: a,
            children: i.jsx(X, {
                children: s != null ? s : l("to-email.disclaimer")
            })
        }) : i.jsx(P_, {
            children: i.jsx(X, {
                children: s != null ? s : l("to-email.disclaimer")
            })
        })
    });
    return i.jsxs("form", {
        onSubmit: e,
        "data-test": "form-email-address",
        children: [i.jsxs(ri, {
            children: [i.jsx("label", {
                htmlFor: "email-address",
                children: l("email-address.form.label")
            }), i.jsx(Xf, {
                autoComplete: "email",
                id: "email-address",
                name: "email-address",
                component: Wn,
                disabled: r,
                inputMode: "email",
                placeholder: "you@example.com",
                validate: d.emailAddress
            })]
        }), c === gn.AboveButton && i.jsx(Hu, {
            position: gn.AboveButton,
            children: u
        }), i.jsxs(mt, {
            children: [i.jsx(fe, {
                type: "submit",
                buttonType: Q.Primary,
                styles: o,
                disabled: r,
                isPending: r,
                tabIndex: n || r ? -1 : 0,
                children: t
            }), c === gn.BelowButton && i.jsx(Hu, {
                position: gn.BelowButton,
                children: u
            })]
        })]
    })
}
const wd = Se.reduxForm({
    form: "email-address"
})(D_)
  , O_ = g("div").withConfig({
    displayName: "InquiryDeviceHandoffEmailPromptView__Header",
    componentId: "sc-3sr1jl-0"
})(["min-height:", ";margin-bottom:", ";"], We.header, I.Spacing[6]);
function L_({assets: e, handleEmailOneTimeLink: t, localizations: n}) {
    var c, l, d;
    const [r] = G()
      , {base: o, buttons: a} = Vr()
      , {deviceHandoffTermsTextPosition: s=gn.BelowButton} = f.useContext(Je);
    return i.jsxs(i.Fragment, {
        children: [i.jsx(Ue, {
            customImage: e["header-pictograph"],
            alt: "header pictograph"
        }), i.jsxs(O_, {
            children: [i.jsx(ct, {
                styles: o == null ? void 0 : o.titleStyle,
                children: i.jsx(X, {
                    children: (c = n == null ? void 0 : n.title) != null ? c : r("to-mobile.title")
                })
            }), i.jsx(ot, {
                styles: o == null ? void 0 : o.textStyle,
                children: i.jsx(X, {
                    children: (l = n == null ? void 0 : n.prompt) != null ? l : r("to-email.prompt")
                })
            })]
        }), i.jsx(wd, {
            onSubmit: t,
            labelContinue: (d = n == null ? void 0 : n["btn-submit"]) != null ? d : r("to-email.btn-submit"),
            buttonStyle: a == null ? void 0 : a.primary,
            disclaimerStyle: o == null ? void 0 : o.disclaimerStyle,
            disclaimerText: n == null ? void 0 : n.disclaimer,
            disclaimerPosition: s
        })]
    })
}
var bl = (e => (e.SavePhoneNumber = "one-time-link/SAVE_PHONE_NUMBER",
e.SaveEmailAddress = "one-time-link/SAVE_EMAIL_ADDRESS",
e))(bl || {});
function ec(e) {
    return {
        payload: {
            phoneNumber: e
        },
        type: "one-time-link/SAVE_PHONE_NUMBER"
    }
}
function tc(e) {
    return {
        payload: {
            emailAddress: e
        },
        type: "one-time-link/SAVE_EMAIL_ADDRESS"
    }
}
function F_(e) {
    var c;
    const [t] = G()
      , {error: n, callback: r} = vt(async l => {
        const d = l["email-address"]
          , {inquiry: u} = e
          , m = {
            attributes: {
                "email-address": d
            },
            id: u.id,
            type: u.type
        };
        e.saveEmailAddress(d),
        await te.postResourceAction(m, "email-one-time-link"),
        J.logAmplitude("one-time-link.sent", {
            method: "email"
        }),
        D.onEvent(Oe.OneTimeLinkSent, {
            method: "email"
        }),
        e.history.push("/inquiry/device-handoff/email/sent")
    }
    , [e.inquiry, e.history]);
    _t({
        error: n,
        onError: l => {
            l.status === 409 ? e.showMessage(t("errors.inquiry-conflict")) : e.showMessage(t("errors.network"))
        }
        ,
        onNetworkError: () => e.showMessage(t("errors.network"))
    });
    const o = (c = e.inquiry) == null ? void 0 : c.attributes["next-step"]
      , {assets: a, localizations: s} = f.useMemo( () => {
        var l;
        return ((l = e.component) == null ? void 0 : l.type) === Me.ButtonDeviceHandoff ? {
            assets: e.component.attributes.assets["device-handoff-email-prompt-page"],
            localizations: e.component.attributes.localizations["device-handoff-email-prompt-page"]
        } : o != null && xo(o) ? {
            assets: o.config.assets["device-handoff-email-prompt-page"],
            localizations: o.config.localizations["device-handoff-email-prompt-page"]
        } : {
            assets: {
                "header-pictograph": null
            },
            localizations: void 0
        }
    }
    , [o, e.component]);
    return e.inquiry == null ? null : i.jsx(Po, {
        value: e.styles,
        children: i.jsx(L_, {
            assets: a,
            handleEmailOneTimeLink: r,
            localizations: s
        })
    })
}
function M_(e) {
    return {
        inquiry: e.inquiry.inquiry,
        component: e.inquiry.component,
        styles: Li(e)
    }
}
const B_ = {
    saveEmailAddress: tc,
    showMessage: ce
}
  , V_ = ke(M_, B_)
  , U_ = V_(F_)
  , H_ = g("div").withConfig({
    displayName: "InquiryDeviceHandoffEmailSentView__Header",
    componentId: "sc-1o129vd-0"
})(["min-height:", ";margin-bottom:", "px;"], We.header, M.base * 4);
function q_({assets: e, localizations: t, emailAddress: n, resendOneTimeLink: r}) {
    var u, m, h, p, b;
    const [o] = G()
      , {base: a, buttons: s} = Vr()
      , [c,{enable: l}] = rt()
      , d = () => {
        c || (r(),
        l())
    }
    ;
    return i.jsxs(i.Fragment, {
        children: [i.jsx(Ue, {
            customImage: e["header-pictograph"],
            alt: "header pictograph"
        }), i.jsxs(H_, {
            children: [i.jsx(ct, {
                styles: a == null ? void 0 : a.titleStyle,
                children: i.jsx(X, {
                    children: (u = t == null ? void 0 : t.title) != null ? u : o("mobile-sent.title")
                })
            }), i.jsx(ot, {
                styles: a == null ? void 0 : a.textStyle,
                children: i.jsx(X, {
                    children: t != null && t.prompt ? Oh.compile(t.prompt, {
                        data: !1,
                        knownHelpersOnly: !0
                    })({
                        client: {
                            emailAddress: n
                        }
                    }) : o("mobile-sent.prompt-email", {
                        emailAddress: n
                    })
                })
            })]
        }), i.jsx(Qe, {
            "aria-label": "email pictograph",
            children: i.jsx(Ue, {
                customImage: e["email-pictograph"],
                alt: "email pictograph",
                children: i.jsx(pe, {
                    $primaryColor: A((m = a == null ? void 0 : a.fill) == null ? void 0 : m.color),
                    $highlightColor: A((h = a == null ? void 0 : a.fill) == null ? void 0 : h.highlightColor),
                    $backgroundColor: A((p = a == null ? void 0 : a.fill) == null ? void 0 : p.backgroundColor),
                    $strokeColor: A((b = a == null ? void 0 : a.stroke) == null ? void 0 : b.color),
                    children: i.jsx(Ns, {})
                })
            })
        }), t != null && t["btn-resend"] ? i.jsxs(i.Fragment, {
            children: [i.jsx(Xe, {
                height: 2
            }), i.jsx(fe, {
                id: "inquiry-device-handoff-email-sent__resend-btn",
                onClick: d,
                type: "button",
                buttonType: Q.Secondary,
                styles: s == null ? void 0 : s[Q.Secondary],
                children: t["btn-resend"]
            })]
        }) : i.jsx(ot, {
            styles: a == null ? void 0 : a.textStyle,
            children: i.jsxs(kn, {
                i18nKey: "mobile-sent.resend-link",
                children: ["Click here to", i.jsx("a", {
                    id: "device-handoff-email__resend-link",
                    onClick: d,
                    children: "resend the secure link"
                })]
            })
        })]
    })
}
const qu = 3e3;
let Tc;
function $_(e) {
    var d;
    const [t] = G()
      , n = (d = e.inquiry) == null ? void 0 : d.attributes["next-step"]
      , {assets: r, localizations: o} = f.useMemo( () => {
        var u;
        return ((u = e.component) == null ? void 0 : u.type) === Me.ButtonDeviceHandoff ? {
            assets: e.component.attributes.assets["device-handoff-email-sent-page"],
            localizations: e.component.attributes.localizations["device-handoff-email-sent-page"]
        } : n != null && xo(n) ? {
            assets: n.config.assets["device-handoff-email-sent-page"],
            localizations: n.config.localizations["device-handoff-email-sent-page"]
        } : {
            assets: {
                "header-pictograph": null,
                "email-pictograph": null
            },
            localizations: void 0
        }
    }
    , [n, e.component]);
    f.useEffect( () => (e.inquiry == null && D.redirectToStart(),
    l(),
    () => clearTimeout(Tc)), []);
    const {inquiry: a, emailAddress: s} = e
      , c = f.useCallback(async () => {
        e.clearMessages();
        try {
            const u = {
                attributes: {
                    "email-address": s
                },
                id: a.id,
                type: a.type
            };
            await te.postResourceAction(u, "email-one-time-link"),
            e.showMessage(t("mobile-sent.resent-link"))
        } catch {
            e.showMessage(t("mobile-sent.failed-to-resend"))
        }
    }
    , [a, e.showMessage, e.clearMessages])
      , l = f.useCallback(async () => {
        try {
            const {data: u, meta: m} = await te.getResource(Qt(e.inquiry.type), e.inquiry.id);
            if ((m == null ? void 0 : m["device-handed-off-at"]) != null) {
                e.saveInquiry(u),
                e.history.push("/inquiry/device-handoff/started");
                return
            }
            switch (u.attributes.status) {
            case ge.Created:
            case ge.Pending:
                Tc = window.setTimeout(l, qu);
                return;
            case ge.Completed:
            case ge.Approved:
            case ge.NeedsReview:
            case ge.Declined:
            case ge.Failed:
                e.saveInquiry(u),
                e.routeToNextStep(u);
                return;
            case ge.Expired:
                e.saveInquiry(void 0),
                e.showMessage(this.props.t("errors.session-expired"));
                return;
            default:
                lt(u.attributes.status)
            }
        } catch (u) {
            if (u instanceof xt)
                Tc = window.setTimeout(l, qu);
            else if (u instanceof ht && u.status !== 401)
                e.showMessage(t("errors.session-expired"));
            else
                throw u
        }
    }
    , [a]);
    return a == null ? null : i.jsx(Po, {
        value: e.styles,
        children: i.jsx(q_, {
            assets: r,
            localizations: o,
            emailAddress: s,
            resendOneTimeLink: c
        })
    })
}
function G_(e) {
    return {
        inquiry: e.inquiry.inquiry,
        component: e.inquiry.component,
        emailAddress: e.oneTimeLink.emailAddress,
        styles: Li(e)
    }
}
const W_ = {
    clearMessages: Lt,
    showMessage: ce,
    saveInquiry: Ot,
    routeToNextStep: Dt,
    saveEmailAddress: tc
}
  , Y_ = ke(G_, W_)
  , z_ = Y_($_)
  , K_ = jn()(z_)
  , Q_ = g.button.withConfig({
    displayName: "VerticalOption__OptionBlock",
    componentId: "sc-78m1oi-0"
})(["border:0;margin:0;padding:0;background:transparent;box-sizing:border-box;color:inherit;text-align:inherit;display:flex;justify-content:space-between;align-items:center;cursor:pointer;", " ", ""], () => {
    const e = D.isInline ? "0px" : `-${D.widgetPadding.left}px`
      , t = D.isInline ? "0px" : `-${D.widgetPadding.right}px`;
    return `
      width: calc(100% - ${e} - ${t});
      margin-left: ${e};
      margin-right: ${t};
    `
}
, ({styles: e, buttonType: t}) => {
    const n = r => (e == null ? void 0 : e.border) != null ? `${k(e.border.width.top)} solid ${A(e.border.color)}` : `1px solid ${r}`;
    switch (t) {
    case "outline":
        return $(["padding-top:", ";padding-bottom:", ";padding-left:", ";padding-right:", ";border-top:", ";:last-of-type{border-bottom:", ";}:hover,:focus{background-color:", ";}"], I.Spacing[4], I.Spacing[4], I.Spacing[5], I.Spacing[5], n(Fe.gray50), n(Fe.gray50), ({theme: r}) => e != null && e.backgroundColor ? A(e.backgroundColor.focused) : r.colorDropdownOption);
    case "outline_light":
        return $(["padding-top:18px;padding-bottom:18px;padding-left:0;padding-right:", ";border-top:", ";border-bottom:", ";& + &{border-top:none;}color:", ";margin-left:0;width:calc(100% + ", "px);font-weight:500;:focus-within{background-color:", ";}"], I.Spacing[5], ({theme: r}) => n(r.colorDivider), ({theme: r}) => n(r.colorDivider), ({theme: r}) => r.colorFontTitle, D.widgetPadding.left, ({theme: r}) => e != null && e.backgroundColor ? A(e.backgroundColor.focused) : r.colorDropdownOption)
    }
}
)
  , Z_ = g("span").withConfig({
    displayName: "VerticalOption__Text",
    componentId: "sc-78m1oi-1"
})(["flex-grow:1;"])
  , J_ = g($l).withConfig({
    displayName: "VerticalOption__StyledChevron",
    componentId: "sc-78m1oi-2"
})(["path{stroke:", ";}"], ({styles: e, theme: t}) => {
    var n;
    return ((n = e == null ? void 0 : e.stroke) == null ? void 0 : n.color) != null ? A(e.stroke.color) : t.colorFontTitle
}
);
function _d({id: e, "data-test": t, buttonType: n="outline", onClick: r, icon: o, children: a, styles: s}) {
    return i.jsxs(Q_, {
        id: e,
        "data-test": t,
        onClick: r,
        type: "button",
        buttonType: n,
        styles: {
            backgroundColor: s == null ? void 0 : s.backgroundColor,
            border: s == null ? void 0 : s.border
        },
        children: [o, i.jsx(Z_, {
            children: s != null ? i.jsx(Xs, {
                styles: s.textStyle,
                children: a
            }) : a
        }), i.jsx(J_, {
            styles: s == null ? void 0 : s.chevron
        })]
    })
}
const tg = ({value: e, accessibleTitle: t, "data-test": n, bgColor: r, fgColor: o}) => e == null ? null : i.jsx(Dh, {
    value: e,
    title: t,
    "data-test": n,
    includeMargin: !0,
    bgColor: r != null ? r : I.Color.PrimaryWhite,
    fgColor: o
})
  , Rd = 132
  , X_ = 256
  , e3 = g("div").withConfig({
    displayName: "InquiryDeviceHandoffPromptView__Header",
    componentId: "sc-1plfyk1-0"
})(["min-height:", ";margin-bottom:", ";"], We.header, I.Spacing[6])
  , t3 = g(fe).withConfig({
    displayName: "InquiryDeviceHandoffPromptView__OptionButton",
    componentId: "sc-1plfyk1-1"
})(["width:100%;", ""], ({styles: e}) => e == null && $(["& + &{margin-top:", ";}"], I.Spacing[4]))
  , n3 = g.div.withConfig({
    displayName: "InquiryDeviceHandoffPromptView__QrCodeContainer",
    componentId: "sc-1plfyk1-2"
})(["height:", "px;margin-bottom:", ";"], Rd, I.Spacing[6])
  , i3 = g.span.withConfig({
    displayName: "InquiryDeviceHandoffPromptView__IconContainer",
    componentId: "sc-1plfyk1-3"
})(["line-height:0;margin-right:10px;"])
  , r3 = g.div.withConfig({
    displayName: "InquiryDeviceHandoffPromptView__Container",
    componentId: "sc-1plfyk1-4"
})(["display:flex;flex-direction:column;"]);
function o3({assets: e, deviceHandoffOptions: t, deviceHandoffListStyle: n="button", handleEmailDeviceHandoff: r, handleSmsDeviceHandoff: o, link: a, localizations: s}) {
    var p, b, C, S, v;
    const [c] = G()
      , {base: l} = Vr()
      , d = n === "button" ? mt : f.Fragment
      , u = s == null ? void 0 : s["qr-code"]
      , m = u ? s3(u.length) : Rd
      , h = u || a;
    return i.jsxs(r3, {
        children: [i.jsx(Ue, {
            customImage: e["header-pictograph"],
            alt: "header pictograph"
        }), i.jsxs(e3, {
            children: [i.jsx(ct, {
                styles: l == null ? void 0 : l.titleStyle,
                children: i.jsx(X, {
                    children: (p = s == null ? void 0 : s.title) != null ? p : c("to-mobile.title")
                })
            }), i.jsx(ot, {
                styles: l == null ? void 0 : l.textStyle,
                children: i.jsx(X, {
                    children: (b = s == null ? void 0 : s.description) != null ? b : c("to-mobile.description")
                })
            })]
        }), t.includes(Jt.Qr) && i.jsx(n3, {
            style: {
                height: `${m}px`
            },
            children: !!h && i.jsx(Qe, {
                height: m,
                width: m,
                "aria-label": c("qr-code.prompt"),
                role: "img",
                children: i.jsx(tg, {
                    value: h,
                    accessibleTitle: c("qr-code.prompt"),
                    "data-test": "device-handoff-qr__qr-code",
                    bgColor: A(l == null ? void 0 : l.backgroundColor),
                    fgColor: A((v = (S = (C = l == null ? void 0 : l.textStyle) == null ? void 0 : C["text-color"]) == null ? void 0 : S.base) == null ? void 0 : v.base)
                })
            })
        }), i.jsx(d, {
            children: (t != null ? t : []).map( (x, _) => i.jsx(a3, {
                isPrimary: _ === 0,
                option: x,
                assets: e,
                deviceHandoffOptions: t,
                handleEmailDeviceHandoff: r,
                handleSmsDeviceHandoff: o,
                localizations: s,
                deviceHandoffListStyle: n
            }, x))
        })]
    })
}
function a3({assets: e, handleSmsDeviceHandoff: t, handleEmailDeviceHandoff: n, isPrimary: r, localizations: o, option: a, deviceHandoffListStyle: s}) {
    var l, d;
    const [c] = G();
    switch (a) {
    case Jt.Sms:
        return i.jsx($u, {
            id: "button__sms",
            isPrimary: r,
            "data-test": "to-mobile__via-sms",
            onClick: t,
            icon: i.jsx(Ue, {
                customImage: e["icon-sms"],
                alt: "mobile phone icon"
            }),
            deviceHandoffListStyle: s,
            children: (l = o == null ? void 0 : o["via-sms"]) != null ? l : c("to-mobile.via-sms")
        });
    case Jt.Email:
        return i.jsx($u, {
            id: "button__email",
            isPrimary: r,
            "data-test": "to-mobile__via-email",
            onClick: n,
            icon: i.jsx(Ue, {
                customImage: e["icon-email"],
                alt: "email icon"
            }),
            deviceHandoffListStyle: s,
            children: (d = o == null ? void 0 : o["via-email"]) != null ? d : c("to-mobile.via-email")
        });
    case Jt.Qr:
        return null;
    default:
        lt(a)
    }
}
const $u = ({"data-test": e, children: t, icon: n, id: r, isPrimary: o, onClick: a, deviceHandoffListStyle: s}) => {
    const {buttons: c} = Vr()
      , l = {
        id: r,
        "data-test": e,
        onClick: a
    }
      , d = o ? Q.Primary : Q.Secondary;
    return s === "button" ? i.jsx(t3, {
        ...l,
        type: "button",
        styles: c == null ? void 0 : c[d],
        buttonType: d,
        children: t
    }) : i.jsx(_d, {
        ...l,
        buttonType: s,
        icon: n != null && i.jsx(i3, {
            "data-test": "option-vertical__pictograph",
            children: n
        }),
        children: t
    })
}
;
function s3(e) {
    return hC(Rd, X_, Math.floor(Math.sqrt(e) * 16))
}
const Gu = 3e3
  , c3 = e => {
    var S;
    const t = Vt()
      , n = Mt("inquiry:hide-sms-device-handoff-option")
      , r = Mt("inquiry:hide-sms-device-handoff-option-inverse")
      , [o] = G()
      , [a,s] = f.useState(void 0)
      , [c,{disable: l}] = rt(!0);
    let d;
    Br({
        loader: async () => {
            const v = await te.postResourceAction({
                id: e.inquiry.id,
                type: e.inquiry.type
            }, "generate-one-time-link");
            s(v.meta["one-time-link-url"]),
            J.logAmplitude("one-time-link.sent", {
                method: "qr"
            }),
            D.onEvent(Oe.OneTimeLinkSent, {
                method: "qr"
            })
        }
        ,
        deps: [],
        onError: v => {
            var x;
            v.status === 403 && ((x = v.errors[0]) == null ? void 0 : x.code) === "max_session_limit_error" ? t.push("/verify/invalid/inquiry") : v.status === 409 ? e.showMessage(o("errors.inquiry-conflict")) : e.showMessage(o("errors.network"))
        }
        ,
        onNetworkError: () => e.showMessage(o("errors.network"))
    }),
    f.useEffect( () => {
        if (e.inquiry == null) {
            D.redirectToStart();
            return
        }
        return u(),
        () => {
            clearTimeout(d),
            l()
        }
    }
    , []);
    const u = f.useCallback(async () => {
        try {
            const {data: v, meta: x} = await te.getResource(Qt(e.inquiry.type), e.inquiry.id);
            if ((x == null ? void 0 : x["device-handed-off-at"]) != null) {
                e.saveInquiry(v),
                e.history.push("/inquiry/device-handoff/started");
                return
            }
            switch (v.attributes.status) {
            case ge.Created:
            case ge.Pending:
                c && (d = window.setTimeout(u, Gu));
                return;
            case ge.Completed:
            case ge.Approved:
            case ge.NeedsReview:
            case ge.Declined:
            case ge.Failed:
                e.saveInquiry(v),
                e.routeToNextStep(v);
                return;
            case ge.Expired:
                e.saveInquiry(void 0),
                e.showMessage(o("errors.session-expired"));
                return;
            default:
                lt(v.attributes.status)
            }
        } catch (v) {
            if (v instanceof xt)
                d = window.setTimeout(u, Gu);
            else if (v instanceof ht && v.status !== 401)
                e.showMessage(o("errors.session-expired"));
            else
                throw v
        }
    }
    , [e.inquiry, c])
      , m = (S = e.inquiry) == null ? void 0 : S.attributes["next-step"]
      , {assets: h, localizations: p, deviceHandoffOptions: b, deviceHandoffListStyle: C} = f.useMemo( () => {
        var v;
        if (((v = e.component) == null ? void 0 : v.type) === Me.ButtonDeviceHandoff) {
            let x = e.component.attributes["device-handoff-options"];
            return n && !r && (x = x.filter(_ => _ !== Jt.Sms)),
            {
                assets: e.component.attributes.assets["device-handoff-prompt-page"],
                localizations: e.component.attributes.localizations["device-handoff-prompt-page"],
                deviceHandoffOptions: x,
                deviceHandoffListStyle: e.component.attributes["device-handoff-list-style"]
            }
        } else if (m != null && xo(m)) {
            let x = m.config["device-handoff-options"];
            return n && !r && (x = x.filter(_ => _ !== Jt.Sms)),
            {
                assets: m.config.assets["device-handoff-prompt-page"],
                localizations: m.config.localizations["device-handoff-prompt-page"],
                deviceHandoffOptions: x,
                deviceHandoffListStyle: m.config["device-handoff-list-style"]
            }
        } else
            return {
                assets: {
                    "header-pictograph": null,
                    "icon-email": null,
                    "icon-sms": null
                },
                localizations: void 0,
                deviceHandoffOptions: [],
                deviceHandoffListStyle: void 0
            }
    }
    , [m, e.component, n, r]);
    return e.inquiry == null ? null : i.jsx(Po, {
        value: e.styles,
        children: i.jsx(o3, {
            link: a ? `${a}&device-handoff-method=${Jt.Qr}` : void 0,
            localizations: p,
            handleSmsDeviceHandoff: () => t.push("/inquiry/device-handoff/sms"),
            handleEmailDeviceHandoff: () => t.push("/inquiry/device-handoff/email"),
            deviceHandoffOptions: b,
            deviceHandoffListStyle: C,
            assets: h
        })
    })
}
;
function l3(e) {
    return {
        inquiry: e.inquiry.inquiry,
        component: e.inquiry.component,
        styles: Li(e)
    }
}
const d3 = {
    clearMessages: Lt,
    showMessage: ce,
    saveInquiry: Ot,
    routeToNextStep: Dt
}
  , u3 = ke(l3, d3)
  , m3 = u3(c3)
  , h3 = g("div").withConfig({
    displayName: "FormControl__Container",
    componentId: "sc-1gbm02v-0"
})(["margin-bottom:", "px;"], M.base * 2)
  , p3 = g("div").withConfig({
    displayName: "FormControl__FormError",
    componentId: "sc-1gbm02v-1"
})(["color:", ";font-size:", ";margin-top:", "px;white-space:pre-line;"], ({theme: e}) => e.colorError, qt.small, M.base)
  , f3 = e => typeof e == "string" ? e : e.displayName || "Component";
function Ad(e) {
    var t;
    return t = class extends f.Component {
        constructor(r) {
            super(r),
            this.refInput = f.createRef()
        }
        componentDidMount() {
            this.props.autoFocus && setTimeout( () => {
                const r = this.refInput != null && Lh.findDOMNode(this.refInput.current);
                r && r.focus()
            }
            , 400)
        }
        render() {
            const {className: r, input: o, meta: {error: a, warning: s, submitFailed: c, touched: l}, autoFocus: d, ...u} = this.props
              , m = !!((a || s) && (c || l));
            return i.jsxs(h3, {
                className: r,
                children: [i.jsx(e, {
                    ...o,
                    ...u,
                    hasError: m,
                    warning: s,
                    id: this.id
                }), m && i.jsx(p3, {
                    id: this.errorId,
                    role: "alert",
                    children: a
                })]
            })
        }
        get id() {
            const {id: r, input: {name: o}} = this.props;
            return r || o
        }
        get errorId() {
            return `${this.id}--error`
        }
    }
    ,
    t.displayName = `FormControl(${f3(e)})`,
    t
}
const Wu = Ad(Gi)
  , g3 = Ad(Wf)
  , ng = Ad(Gf)
  , Yu = g.div.withConfig({
    displayName: "FormPhoneNumber__DisclaimerContainer",
    componentId: "sc-iqabde-0"
})(["display:block;margin-top:", "px;", ""], M.base, ({position: e, theme: t}) => e === gn.AboveButton && $(["padding-bottom:", "px;border-bottom:1px solid ", ";margin-bottom:", "px;"], M.base * 2, t.colorDivider, M.base * 2))
  , b3 = g(He).withConfig({
    displayName: "FormPhoneNumber__Disclaimer",
    componentId: "sc-iqabde-1"
})(["color:", ";font-size:", ";line-height:", ";&,a{font-size:", ";line-height:", ";}"], ({theme: e}) => e.colorFontSmall, ({theme: e}) => e.fontSizeSmall, ({theme: e}) => e.lineHeightSmall, ({theme: e}) => e.fontSizeSmall, ({theme: e}) => e.lineHeightSmall)
  , C3 = g(He).withConfig({
    displayName: "FormPhoneNumber__ThemedDisclaimer",
    componentId: "sc-iqabde-2"
})(["", ""], ({styles: e}) => {
    const t = e;
    return {
        fontSize: k(t["font-size"].base.base),
        lineHeight: k(t["line-height"].base.base),
        "& , a": {
            fontSize: k(t["font-size"].base.base),
            lineHeight: k(t["line-height"].base.base)
        }
    }
}
);
function x3(e) {
    const {defaultCountry: t, handleSubmit: n, labelContinue: r, pristine: o, submitting: a, onCountryChange: s= () => null, buttonStyle: c, disclaimerStyle: l, disclaimerText: d, disclaimerPosition: u=gn.BelowButton} = e
      , [m] = G()
      , h = f.useMemo( () => ({
        phoneNumber: [dt(m("database.form.validate-phone-number-valid"), Df), dt(m("database.form.validate-phone-number-required"), bn)]
    }), [m])
      , p = i.jsx(i.Fragment, {
        children: l != null ? i.jsx(C3, {
            styles: l,
            children: i.jsx(X, {
                children: d != null ? d : m("to-mobile.disclaimer")
            })
        }) : i.jsx(b3, {
            children: i.jsx(X, {
                children: d != null ? d : m("to-mobile.disclaimer")
            })
        })
    });
    return i.jsxs("form", {
        onSubmit: n,
        children: [i.jsxs(ri, {
            children: [i.jsx("label", {
                htmlFor: "phone-number",
                children: m("phone-number.form.label")
            }), i.jsx(Se.Field, {
                autoComplete: "phone",
                component: ng,
                disabled: a,
                id: "phone-number",
                name: "phone-number",
                type: "tel",
                defaultCountry: t,
                validate: h.phoneNumber,
                onCountryChange: s
            })]
        }), u === gn.AboveButton && i.jsx(Yu, {
            position: gn.AboveButton,
            children: p
        }), i.jsxs(mt, {
            children: [i.jsx(fe, {
                type: "submit",
                buttonType: Q.Primary,
                styles: c,
                disabled: a,
                isPending: a,
                tabIndex: o || a ? -1 : 0,
                children: r
            }), u === gn.BelowButton && i.jsx(Yu, {
                position: gn.BelowButton,
                children: p
            })]
        })]
    })
}
const Td = Se.reduxForm({
    form: "phone-number"
})(x3)
  , v3 = g("div").withConfig({
    displayName: "InquiryDeviceHandoffSmsPromptView__Header",
    componentId: "sc-5qwbcz-0"
})(["min-height:", ";margin-bottom:", "px;"], We.header, M.base * 4);
function I3({assets: e, defaultCountry: t, handleSmsOneTimeLink: n, localizations: r}) {
    var l, d, u;
    const [o] = G()
      , {base: a, buttons: s} = Vr()
      , {deviceHandoffTermsTextPosition: c=gn.BelowButton} = f.useContext(Je);
    return i.jsxs(i.Fragment, {
        children: [i.jsx(Ue, {
            customImage: e["header-pictograph"],
            alt: "header pictograph"
        }), i.jsxs(v3, {
            children: [i.jsx(ct, {
                styles: a == null ? void 0 : a.titleStyle,
                children: i.jsx(X, {
                    children: (l = r == null ? void 0 : r.title) != null ? l : o("to-mobile.title")
                })
            }), i.jsx(ot, {
                styles: a == null ? void 0 : a.textStyle,
                children: i.jsx(X, {
                    children: (d = r == null ? void 0 : r.prompt) != null ? d : o("to-mobile.prompt")
                })
            })]
        }), i.jsx(Td, {
            onSubmit: n,
            labelContinue: (u = r == null ? void 0 : r["btn-submit"]) != null ? u : o("to-mobile.btn-submit"),
            defaultCountry: t,
            disclaimerStyle: a == null ? void 0 : a.disclaimerStyle,
            disclaimerText: r == null ? void 0 : r.disclaimer,
            buttonStyle: s == null ? void 0 : s.primary,
            disclaimerPosition: c
        })]
    })
}
function S3(e) {
    var c;
    const [t] = G()
      , {error: n, callback: r} = vt(async l => {
        const d = l["phone-number"]
          , {inquiry: u} = e
          , m = {
            attributes: {
                "phone-number": d
            },
            id: u.id,
            type: u.type
        };
        e.savePhoneNumber(d),
        await te.postResourceAction(m, "sms-one-time-link"),
        J.logAmplitude("one-time-link.sent", {
            method: "sms"
        }),
        D.onEvent(Oe.OneTimeLinkSent, {
            method: "sms"
        }),
        e.history.push("/inquiry/device-handoff/sms/sent")
    }
    , [e.inquiry, e.history]);
    _t({
        error: n,
        onError: l => {
            var d;
            l.status === 409 ? e.showMessage(t("errors.inquiry-conflict")) : l.status === 400 && ((d = l.errors) == null ? void 0 : d[0].title) === "Phone number unsubscribed" ? e.showMessage(t("mobile-sent.sms-unsubscribed")) : e.showMessage(t("mobile-sent.failed-to-resend"))
        }
        ,
        onNetworkError: () => e.showMessage(t("errors.network"))
    });
    const o = (c = e.inquiry) == null ? void 0 : c.attributes["next-step"]
      , {assets: a, localizations: s} = f.useMemo( () => {
        var l;
        return ((l = e.component) == null ? void 0 : l.type) === Me.ButtonDeviceHandoff ? {
            assets: e.component.attributes.assets["device-handoff-sms-prompt-page"],
            localizations: e.component.attributes.localizations["device-handoff-sms-prompt-page"]
        } : o != null && xo(o) ? {
            assets: o.config.assets["device-handoff-sms-prompt-page"],
            localizations: o.config.localizations["device-handoff-sms-prompt-page"]
        } : {
            assets: {
                "header-pictograph": null
            },
            localizations: void 0
        }
    }
    , [o, e.component]);
    return e.inquiry == null ? null : i.jsx(Po, {
        value: e.styles,
        children: i.jsx(I3, {
            assets: a,
            defaultCountry: e.defaultCountry,
            handleSmsOneTimeLink: r,
            localizations: s
        })
    })
}
function y3(e) {
    return {
        defaultCountry: e.locale.localeInfo.country_code,
        inquiry: e.inquiry.inquiry,
        component: e.inquiry.component,
        styles: Li(e)
    }
}
const w3 = {
    savePhoneNumber: ec,
    showMessage: ce
}
  , _3 = ke(y3, w3)
  , R3 = _3(S3)
  , A3 = g("div").withConfig({
    displayName: "InquiryDeviceHandoffSmsSentView__Header",
    componentId: "sc-dx6akj-0"
})(["min-height:", ";margin-bottom:", "px;"], We.header, M.base * 4);
function T3({assets: e, localizations: t, phoneNumber: n, resendOneTimeLink: r}) {
    var m, h, p, b, C;
    const o = Ol(n, "National")
      , [a] = G()
      , {base: s, buttons: c} = Vr()
      , [l,{enable: d}] = rt()
      , u = () => {
        l || (r(),
        d())
    }
    ;
    return i.jsxs(i.Fragment, {
        children: [i.jsx(Ue, {
            customImage: e["header-pictograph"],
            alt: "header pictograph"
        }), i.jsxs(A3, {
            children: [i.jsx(ct, {
                styles: s == null ? void 0 : s.titleStyle,
                children: i.jsx(X, {
                    children: (m = t == null ? void 0 : t.title) != null ? m : a("mobile-sent.title")
                })
            }), i.jsx(ot, {
                styles: s == null ? void 0 : s.textStyle,
                children: t != null && t.prompt ? i.jsx(X, {
                    children: Oh.compile(t.prompt, {
                        data: !1,
                        knownHelpersOnly: !0
                    })({
                        client: {
                            phoneNumber: o
                        }
                    })
                }) : i.jsx(kn, {
                    i18nKey: "mobile-sent.prompt",
                    components: [i.jsx("bdo", {
                        dir: "ltr"
                    }, 0)],
                    values: {
                        phoneNumber: o
                    }
                })
            })]
        }), i.jsx(Qe, {
            "aria-label": "SMS pictograph",
            children: i.jsx(Ue, {
                customImage: e["sms-pictograph"],
                alt: "SMS pictograph",
                children: i.jsx(pe, {
                    $primaryColor: A((h = s == null ? void 0 : s.fill) == null ? void 0 : h.color),
                    $highlightColor: A((p = s == null ? void 0 : s.fill) == null ? void 0 : p.highlightColor),
                    $backgroundColor: A((b = s == null ? void 0 : s.fill) == null ? void 0 : b.backgroundColor),
                    $strokeColor: A((C = s == null ? void 0 : s.stroke) == null ? void 0 : C.color),
                    children: i.jsx(Ns, {})
                })
            })
        }), t != null && t["btn-resend"] ? i.jsxs(i.Fragment, {
            children: [i.jsx(Xe, {
                height: 2
            }), i.jsx(fe, {
                id: "inquiry-device-handoff-sms-sent__resend-btn",
                onClick: u,
                type: "button",
                buttonType: Q.Secondary,
                styles: c == null ? void 0 : c[Q.Secondary],
                children: t["btn-resend"]
            })]
        }) : i.jsx(ot, {
            styles: s == null ? void 0 : s.textStyle,
            children: i.jsxs(kn, {
                i18nKey: "mobile-sent.resend-link",
                children: ["Click here to", i.jsx("a", {
                    id: "device-handoff-sms__resend-link",
                    onClick: u,
                    children: "resend the secure link"
                })]
            })
        })]
    })
}
const zu = 3e3;
let Ec;
function E3(e) {
    var d;
    const [t] = G();
    f.useEffect( () => (e.inquiry == null && D.redirectToStart(),
    a(),
    () => clearTimeout(Ec)), []);
    const {inquiry: n, phoneNumber: r} = e
      , o = f.useCallback(async () => {
        var u;
        e.clearMessages();
        try {
            const m = {
                attributes: {
                    "phone-number": r
                },
                id: n.id,
                type: n.type
            };
            await te.postResourceAction(m, "sms-one-time-link"),
            e.showMessage(t("mobile-sent.resent-link"))
        } catch (m) {
            m.status === 400 && ((u = m.errors) == null ? void 0 : u[0].title) === "Phone number unsubscribed" ? e.showMessage(t("mobile-sent.sms-unsubscribed")) : e.showMessage(t("mobile-sent.failed-to-resend"))
        }
    }
    , [n, e.showMessage, e.clearMessages])
      , a = f.useCallback(async () => {
        try {
            const {data: u, meta: m} = await te.getResource(Qt(e.inquiry.type), e.inquiry.id);
            if ((m == null ? void 0 : m["device-handed-off-at"]) != null) {
                e.saveInquiry(u),
                e.history.push("/inquiry/device-handoff/started");
                return
            }
            switch (u.attributes.status) {
            case ge.Created:
            case ge.Pending:
                Ec = window.setTimeout(a, zu);
                return;
            case ge.Completed:
            case ge.Approved:
            case ge.NeedsReview:
            case ge.Declined:
            case ge.Failed:
                e.saveInquiry(u),
                e.routeToNextStep(u);
                return;
            case ge.Expired:
                e.saveInquiry(void 0),
                e.showMessage(this.props.t("errors.session-expired"));
                return;
            default:
                lt(u.attributes.status)
            }
        } catch (u) {
            if (u instanceof xt)
                Ec = window.setTimeout(a, zu);
            else if (u instanceof ht && u.status !== 401)
                e.showMessage(t("errors.session-expired"));
            else
                throw u
        }
    }
    , [n])
      , s = (d = e.inquiry) == null ? void 0 : d.attributes["next-step"]
      , {assets: c, localizations: l} = f.useMemo( () => {
        var u;
        return ((u = e.component) == null ? void 0 : u.type) === Me.ButtonDeviceHandoff ? {
            assets: e.component.attributes.assets["device-handoff-sms-sent-page"],
            localizations: e.component.attributes.localizations["device-handoff-sms-sent-page"]
        } : s != null && xo(s) ? {
            assets: s.config.assets["device-handoff-sms-sent-page"],
            localizations: s.config.localizations["device-handoff-sms-sent-page"]
        } : {
            assets: {
                "header-pictograph": null,
                "sms-pictograph": null
            },
            localizations: void 0
        }
    }
    , [s, e.component]);
    return n == null ? null : i.jsx(Po, {
        value: e.styles,
        children: i.jsx(T3, {
            assets: c,
            localizations: l,
            phoneNumber: r,
            resendOneTimeLink: o
        })
    })
}
function k3(e) {
    return {
        inquiry: e.inquiry.inquiry,
        phoneNumber: e.oneTimeLink.phoneNumber,
        component: e.inquiry.component,
        styles: Li(e)
    }
}
const N3 = {
    clearMessages: Lt,
    showMessage: ce,
    saveInquiry: Ot,
    savePhoneNumber: ec,
    routeToNextStep: Dt
}
  , j3 = ke(k3, N3)
  , P3 = j3(E3)
  , D3 = jn()(P3)
  , O3 = g("div").withConfig({
    displayName: "InquiryDeviceHandoffStartedView__Header",
    componentId: "sc-yj3xbg-0"
})(["min-height:", ";margin-bottom:", "px;"], We.header, M.base * 4);
function L3({assets: e, localizations: t, resumeOnDevice: n}) {
    var s, c, l, d, u, m;
    const [r] = G()
      , {base: o, buttons: a} = Vr();
    return i.jsxs(i.Fragment, {
        children: [i.jsx(Ue, {
            customImage: e["header-pictograph"],
            alt: "header pictograph"
        }), i.jsxs(O3, {
            children: [i.jsx(ct, {
                styles: o == null ? void 0 : o.titleStyle,
                children: i.jsx(X, {
                    children: (s = t == null ? void 0 : t.title) != null ? s : r("handed-off.title")
                })
            }), i.jsx(ot, {
                styles: o == null ? void 0 : o.textStyle,
                children: i.jsx(X, {
                    children: (c = t == null ? void 0 : t.prompt) != null ? c : r("handed-off.prompt")
                })
            })]
        }), i.jsx(Qe, {
            "aria-label": "return to original device pictograph",
            children: i.jsx(Ue, {
                customImage: e["device-pictograph"],
                alt: "device pictograph",
                children: i.jsx(pe, {
                    $primaryColor: A((l = o == null ? void 0 : o.fill) == null ? void 0 : l.color),
                    $highlightColor: A((d = o == null ? void 0 : o.fill) == null ? void 0 : d.highlightColor),
                    $backgroundColor: A((u = o == null ? void 0 : o.fill) == null ? void 0 : u.backgroundColor),
                    $strokeColor: A((m = o == null ? void 0 : o.stroke) == null ? void 0 : m.color),
                    children: i.jsx(P1, {})
                })
            })
        }), t != null && t["btn-resume"] ? i.jsxs(i.Fragment, {
            children: [i.jsx(Xe, {
                height: 2
            }), i.jsx(fe, {
                id: "inquiry-device-handoff-started__resume-btn",
                onClick: n,
                type: "button",
                buttonType: Q.Secondary,
                styles: a == null ? void 0 : a[Q.Secondary],
                children: t["btn-resume"]
            })]
        }) : i.jsx(ot, {
            styles: o == null ? void 0 : o.textStyle,
            children: i.jsx("a", {
                id: "device-handoff-started__resume-link",
                onClick: n,
                children: i.jsx(kn, {
                    i18nKey: "handed-off.btn-resume",
                    children: "Fallback Resume Button"
                })
            })
        })]
    })
}
const Ku = 3e3;
let kc;
function F3(e) {
    var d;
    const t = Vt()
      , [n] = G()
      , r = (d = e.inquiry) == null ? void 0 : d.attributes["next-step"]
      , {assets: o, localizations: a} = f.useMemo( () => {
        var u;
        return ((u = e.component) == null ? void 0 : u.type) === Me.ButtonDeviceHandoff ? {
            assets: e.component.attributes.assets["device-handoff-started-page"],
            localizations: e.component.attributes.localizations["device-handoff-started-page"]
        } : r != null && xo(r) ? {
            assets: r.config.assets["device-handoff-started-page"],
            localizations: r.config.localizations["device-handoff-started-page"]
        } : {
            assets: {
                "header-pictograph": null,
                "device-pictograph": null
            },
            localizations: void 0
        }
    }
    , [r, e.component]);
    f.useEffect( () => (e.inquiry == null && D.redirectToStart(),
    l(),
    () => clearTimeout(kc)), []);
    const {inquiry: s} = e
      , c = f.useCallback(async () => {
        e.clearMessages(),
        await te.postResourceSingletonActionNew(y.CurrentInquirySession, "resume");
        const u = (await te.getResource(Qt(s.type), s.id)).data;
        e.saveInquiry(u),
        e.routeToNextStep(u, {
            historyToClear: t
        })
    }
    , [s, e, t])
      , l = f.useCallback(async () => {
        try {
            const u = (await te.getResource(Qt(s.type), s.id)).data;
            switch (u.attributes.status) {
            case ge.Created:
            case ge.Pending:
                kc = window.setTimeout(l, Ku);
                return;
            case ge.Completed:
            case ge.Approved:
            case ge.NeedsReview:
            case ge.Declined:
            case ge.Failed:
                e.saveInquiry(u),
                e.routeToNextStep(u, {
                    historyToClear: t
                });
                return;
            case ge.Expired:
                e.saveInquiry(void 0),
                e.showMessage(this.props.t("errors.session-expired"));
                return;
            default:
                lt(u.attributes.status)
            }
        } catch (u) {
            if (u instanceof xt)
                kc = window.setTimeout(l, Ku);
            else if (u instanceof ht && u.status !== 401)
                e.showMessage(n("errors.session-expired"));
            else
                throw u
        }
    }
    , [s]);
    return s == null ? null : i.jsx(Po, {
        value: e.styles,
        children: i.jsx(L3, {
            assets: o,
            localizations: a,
            resumeOnDevice: c
        })
    })
}
function M3(e) {
    return {
        inquiry: e.inquiry.inquiry,
        component: e.inquiry.component,
        styles: Li(e)
    }
}
const B3 = {
    clearMessages: Lt,
    showMessage: ce,
    saveInquiry: Ot,
    routeToNextStep: Dt
}
  , V3 = ke(M3, B3)
  , U3 = V3(F3)
  , H3 = jn()(U3)
  , ig = f.createContext(Cf())
  , Ur = () => f.useContext(ig)
  , nc = ({children: e, value: t}) => {
    const n = f.useMemo( () => Cf(t), [t]);
    return i.jsx(ig.Provider, {
        value: n,
        children: i.jsx(Pa.Provider, {
            value: n.buttons,
            children: e
        })
    })
}
;
var Pt = (e => (e[e.Prompt = 0] = "Prompt",
e[e.TakePhoto = 1] = "TakePhoto",
e[e.Check = 2] = "Check",
e[e.Review = 3] = "Review",
e[e.Pending = 4] = "Pending",
e[e.Failed = 5] = "Failed",
e))(Pt || {});
const ha = e => {
    switch (e) {
    case Pt.Prompt:
        return "/inquiry/documents/prompt";
    case Pt.TakePhoto:
        return "/inquiry/documents/capture";
    case Pt.Check:
        return "/inquiry/documents/check";
    case Pt.Review:
        return "/inquiry/documents/review";
    case Pt.Pending:
        return "/inquiry/documents/pending";
    case Pt.Failed:
        return "/inquiry/documents/failed";
    default:
        lt(e)
    }
}
  , q3 = [0, 1, 0, 1, -4, 1, 0, 1, 0];
function Qu(e) {
    var c;
    const t = Math.max(Math.max(e.width, e.height) / 75, 1)
      , n = (c = Ps(e)) == null ? void 0 : c.data;
    if (!n)
        return 0;
    const r = new Uint8ClampedArray(5625);
    let o = 0;
    for (let l = 0; l < n.length; l += 4 * Math.floor(t)) {
        const d = n[l]
          , u = n[l + 1]
          , m = n[l + 2]
          , h = (d + u + m) / 3;
        r[o] = h,
        o++
    }
    const a = $3(r, q3, 75, 75);
    return G3(a)
}
function $3(e, t, n, r) {
    const o = Math.round(Math.sqrt(t.length))
      , a = Math.floor(o / 2)
      , s = new Uint8ClampedArray(5625);
    for (let c = 0; c < r; c++)
        for (let l = 0; l < n; l++) {
            const d = c * n + l;
            let u = 0;
            for (let m = 0; m < o; m++)
                for (let h = 0; h < o; h++) {
                    const p = Math.min(r - 1, Math.max(0, c + m - a))
                      , b = Math.min(n - 1, Math.max(0, l + h - a))
                      , C = p * n + b
                      , S = t[m * o + h];
                    u += e[C] * S
                }
            s[d] = u
        }
    return s
}
function G3(e) {
    const t = pC(e);
    return e.reduce( (r, o) => r + (o - t) ** 2, 0) / e.length
}
function W3(e, t, n=1, r=99) {
    const o = Math.floor(n / 100 * t)
      , a = Math.floor(r / 100 * t);
    let s, c, l = 0;
    for (let u = 0, m = e.length; u < m; u++)
        if (l += e[u],
        l > o) {
            s = u;
            break
        }
    const d = t - a;
    l = 0;
    for (let u = e.length - 1; u >= 0; u--)
        if (l += e[u],
        l > d) {
            c = u;
            break
        }
    return c - s
}
function Cr(e, t={
    x: 0,
    y: 0,
    width: e.width,
    height: e.height
}) {
    var m;
    const n = e.getContext("2d", {
        willReadFrequently: !0
    });
    if (n == null)
        return null;
    let r;
    try {
        if (r = (m = n.getImageData(t.x, t.y, t.width, t.height)) == null ? void 0 : m.data,
        !r)
            return null
    } catch (h) {
        if (h instanceof RangeError || h instanceof DOMException || h instanceof Error && h.name === "NS_ERROR_OUT_OF_MEMORY")
            return null;
        throw h
    }
    const o = r.length / 4;
    let a = 0;
    const s = new Array(256).fill(0);
    for (let h = 0, p = r.length; h < p; h += 4) {
        const b = r[h]
          , C = r[h + 1]
          , S = r[h + 2]
          , v = (b + C + S) / 3
          , x = Math.floor(v);
        s[x]++,
        a += v
    }
    const c = a / o;
    let l = 0;
    for (let h = 0, p = r.length; h < p; h += 4) {
        const b = r[h]
          , C = r[h + 1]
          , S = r[h + 2]
          , x = ((b + C + S) / 3 - c) / 255;
        l += x ** 2
    }
    const d = Math.sqrt(l / o)
      , u = W3(s, o);
    return {
        luminosity: c / 255,
        rmsContrast: d / .5,
        lowHighContrast: u / 255
    }
}
const Y3 = 254;
function eo(e, t=Y3) {
    var c;
    const n = (c = Ps(e)) == null ? void 0 : c.data;
    if (n == null)
        return 0;
    let r = 0;
    const o = e.height
      , a = e.width
      , s = Math.max(Math.max(o, a) / 150, 1);
    for (let l = 0; l < o; l += s)
        for (let d = 0; d < a; d += s) {
            const u = (l * a + d) * 4
              , m = 1 - Math.abs(d - a / 2) / a * 2
              , h = 1 - Math.abs(l - o / 2) / o * 2
              , p = m * h;
            n[u] >= t && n[u + 1] >= t && n[u + 2] >= t && (r += p * p)
        }
    return r / (o / s * (a / s))
}
class Yn {
    constructor(t) {
        this.showTriggeredCount = 0,
        this.hideTriggeredCount = 0,
        this.config = t
    }
    get isShowing() {
        return this.showTriggeredCount >= this.config.showAfterFrames
    }
    runTick(t) {
        this.isShowing ? this.config.shouldShow(t) ? this.hideTriggeredCount = 0 : (this.hideTriggeredCount++,
        this.hideTriggeredCount >= this.config.hideAfterFrames && (this.showTriggeredCount = 0)) : this.config.shouldShow(t) ? (this.showTriggeredCount++,
        this.showTriggeredCount >= this.config.showAfterFrames && (this.hideTriggeredCount = 0)) : this.showTriggeredCount = 0
    }
    getType() {
        return this.config.type
    }
    getPrompt({t, localizations: n}) {
        return this.config.getPrompt({
            t,
            localizations: n
        })
    }
}
class Ed {
    constructor(t) {
        this.triggers = t
    }
    runTick(t) {
        for (const n of this.triggers)
            n.runTick(t)
    }
    getTriggered() {
        for (const t of this.triggers)
            if (t.isShowing)
                return t
    }
}
const ys = 300
  , mo = "image/jpeg"
  , ws = .95
  , Zu = 6
  , Ju = 2;
class Cl {
    constructor({canvasBuffer: t, filter: n, frameBufferSize: r, skipBlankCaptureCheck: o}) {
        if (this.blankCanvasDataUri = "",
        this.capturedFrames = [],
        this.filter = Qu,
        this.frameBufferSize = Zu,
        this.capture = () => {
            const a = this.canvasBuffer.toDataURL(mo, ws);
            a.length <= this.blankCanvasDataUri.length || this.captureFrame({
                clarityScore: this.filter(this.canvasBuffer),
                dateRecorded: new Date().getTime(),
                dataUri: a
            })
        }
        ,
        this.manualCapture = a => {
            this.captureFrame({
                clarityScore: Number.MAX_SAFE_INTEGER,
                dateRecorded: new Date().getTime(),
                dataUri: a
            })
        }
        ,
        this.canvasBuffer = t,
        this.filter = n != null ? n : Qu,
        this.frameBufferSize = r != null ? r : Zu,
        !o) {
            const [a,s] = hi();
            a.height = t.height,
            a.width = t.width,
            this.blankCanvasDataUri = a.toDataURL(mo, ws),
            s()
        }
    }
    hasCaptures() {
        return this.capturedFrames.length > 0
    }
    captureCount() {
        return this.capturedFrames.length
    }
    leastBlurryImages() {
        const t = tl(this.capturedFrames)
          , n = fC(this.capturedFrames, 1)
          , r = el(n, a => {
            var s;
            return ((s = a == null ? void 0 : a.clarityScore) != null ? s : 0) * -1
        }
        )
          , o = el(r.slice(0, Ju), [a => a.dateRecorded, a => this.capturedFrames.indexOf(a)]);
        return t != null && o.push(t),
        o.map(a => a.dataUri)
    }
    async processLastFrame(t) {
        const n = tl(this.capturedFrames);
        if (n)
            return await t(n.dataUri)
    }
    captureFrame(t) {
        this.capturedFrames.length > Ju && t.dataUri.length < Pr && t.clarityScore === 0 || (this.capturedFrames.push(t),
        this.capturedFrames.length > this.frameBufferSize && this.capturedFrames.shift())
    }
}
function rg(e) {
    e && (e.getVideoTracks && e.getAudioTracks ? (e.getVideoTracks().forEach(t => t.stop()),
    e.getAudioTracks().forEach(t => t.stop())) : e.getTracks ? e.getTracks().forEach(t => t.stop()) : e.stop && e.stop())
}
let z3 = class {
    async prepare(t, n) {
        if (this.stream != null)
            return;
        if (this.stream = await navigator.mediaDevices.getUserMedia(t),
        X1() || Hl() || D.isWebView || n != null && n["inquiry:dispose-video-client-early-all-web-clients"]) {
            this.dispose();
            return
        }
        const r = document.createElement("video");
        let o;
        r.srcObject !== void 0 ? r.srcObject = this.stream : (o = window.URL.createObjectURL(this.stream),
        r.src = o),
        new Promise(a => {
            const s = () => {
                window.URL.revokeObjectURL(o),
                r.removeEventListener("loadedmetadata", s),
                a()
            }
            ;
            r.addEventListener("loadedmetadata", s)
        }
        )
    }
    dispose() {
        rg(this.stream),
        this.stream = void 0
    }
}
;
const Nn = new z3
  , K3 = .92
  , kd = () => {
    const e = f.useRef([])
      , t = f.useRef(!0)
      , n = f.useRef({
        ...ap
    });
    return {
        logCameraInspectionSnapshot: r => {
            if (r)
                try {
                    const o = e.current;
                    if (o.length >= 5)
                        return;
                    if (t.current) {
                        const a = sp(r == null ? void 0 : r.toDataURL("image/jpeg", K3));
                        a != null && (o.push(a),
                        t.current = !1)
                    } else
                        t.current = !0
                } catch (o) {
                    he(o)
                }
        }
        ,
        logCameraInspectionFromStream: async r => {
            if (!r || n.current.kind)
                return;
            let o = {
                ...n.current,
                ...cp(r)
            };
            n.current = o,
            o = {
                ...o,
                ...await lp(r)
            },
            n.current = o
        }
        ,
        getCameraInspectionData: ({includeSmallImages: r}) => ({
            ...n.current,
            streamStability: dp({
                snapshots: e.current,
                includeSmallImages: r
            })
        })
    }
}
  , Q3 = g("div").withConfig({
    displayName: "HintPrompt__Wrapper",
    componentId: "sc-om4c1v-0"
})(["color:", ";text-align:center;display:flex;flex:auto;align-items:center;justify-content:space-around;padding-left:", ";padding-right:", ";height:", ";"], e => e.color ? e.color : e.theme.colorFont, I.Spacing[6], I.Spacing[6], I.Spacing[8]);
function Z3({activeTrigger: e, color: t, localizations: n}) {
    const [r] = G();
    return i.jsx(Q3, {
        color: t,
        children: i.jsx("p", {
            role: "alert",
            children: e.getPrompt({
                t: r,
                localizations: n
            })
        })
    })
}
const J3 = g.button.withConfig({
    displayName: "PreviewThumbnail__PreviewButton",
    componentId: "sc-19w4k11-0"
})(["position:relative;background:white;display:flex;align-items:center;justify-content:center;height:40px;width:40px;padding:2px;border-radius:", ";flex:none;min-height:0;"], ln.rounded)
  , X3 = g.div.withConfig({
    displayName: "PreviewThumbnail__FileCount",
    componentId: "sc-19w4k11-1"
})(["position:absolute;top:-8px;right:-8px;height:16px;width:16px;border-radius:", ";background-color:", ";color:", ";font-size:10px;font-weight:", ";"], ln.circle, ({theme: e, styles: t}) => {
    var n, r, o, a;
    return (a = (o = A((r = (n = t == null ? void 0 : t["background-color"]) == null ? void 0 : n.base) == null ? void 0 : r.base)) != null ? o : e.colorButtonPrimary) != null ? a : e.colorPrimary
}
, ({theme: e, styles: t}) => {
    var n, r, o;
    return (o = A((r = (n = t == null ? void 0 : t["text-color"]) == null ? void 0 : n.base) == null ? void 0 : r.base)) != null ? o : e.colorFontButtonPrimary
}
, on.medium)
  , eR = g.img.withConfig({
    displayName: "PreviewThumbnail__Thumbnail",
    componentId: "sc-19w4k11-2"
})(["height:100%;width:100%;object-fit:cover;image-orientation:from-image;border-radius:", ";"], ln.rounded)
  , tR = g(pe).withConfig({
    displayName: "PreviewThumbnail__StyledThemedSvg",
    componentId: "sc-19w4k11-3"
})(["display:flex;align-items:center;justify-content:center;"]);
function nR(e) {
    var t;
    return (t = e == null ? void 0 : e.includes("image")) != null ? t : !1
}
const iR = ({files: e=[], onClick: t}) => {
    const n = Zf();
    if (e.length === 0)
        return null;
    const r = Wt(e);
    return i.jsxs(J3, {
        onClick: t,
        id: "preview-thumbnail__button",
        "data-test": "preview-thumbnail__button",
        children: [i.jsx(X3, {
            styles: n == null ? void 0 : n.primary,
            children: e.length
        }), r != null && nR(r["file-type"]) ? i.jsx(eR, {
            src: r.url,
            "data-test": "preview-thumbnail__image"
        }) : i.jsx(tR, {
            "data-test": "preview-thumbnail__icon-file",
            children: i.jsx(Fs, {})
        })]
    })
}
  , rR = g("div").withConfig({
    displayName: "BaseScanner__VideoWrapper",
    componentId: "sc-17olqux-0"
})(["background:", ";overflow:hidden;position:relative;width:100%;&::after{content:'';display:block;padding-bottom:75%;}video{position:absolute;top:50%;transform-origin:top;transform:scaleX(", ") scaleY(", ") translateY(-50%);}"], Fe.black, e => (e.mirrored ? -1 : 1) * (e.zoomFactor || 1), e => e.zoomFactor || 1)
  , oR = g.button.withConfig({
    displayName: "BaseScanner__TorchButton",
    componentId: "sc-17olqux-1"
})(["background:none;cursor:pointer;display:flex;align-items:center;justify-content:center;height:40px;width:40px;svg{height:100%;width:100%;}", ""], ({active: e}) => e && $(["svg path{fill:white;}"]))
  , aR = g("div").withConfig({
    displayName: "BaseScanner__HintWrapper",
    componentId: "sc-17olqux-2"
})(["background-color:", ";margin-bottom:", "px;padding:", "px ", "px;display:flex;align-items:center;", " ", ""], Fe.black, M.base * 2, M.base, M.base * 4, ({hasTorch: e}) => e && `padding-right: ${M.base}px;`, ({hasCaptures: e}) => e && `padding-left: ${M.base}px;`);
function ic(e) {
    var L, H, q;
    const t = Zf()
      , n = f.useRef(void 0)
      , r = f.useRef(void 0)
      , o = f.useRef()
      , a = f.useRef();
    f.useEffect( () => {
        const [ee,Y] = hi();
        return a.current = ee,
        e.disableCaptureClient || (b.current = new Cl({
            canvasBuffer: a.current
        })),
        Y
    }
    , []);
    const {logCameraInspectionFromStream: s, logCameraInspectionSnapshot: c, getCameraInspectionData: l} = kd()
      , d = f.useRef(new Ed(e.triggerConfigs.map(ee => new Yn(ee))))
      , [u,m] = f.useState(d.current.getTriggered())
      , [h,p] = f.useState(!1)
      , b = f.useRef(null)
      , C = f.useRef()
      , [S,{toggle: v}] = rt()
      , [x,_] = f.useState(!1)
      , [R,E] = f.useState(!1)
      , [T,F] = f.useState(e.delayUntilManualCaptureMs === 0 || In())
      , O = (L = e.renderButton) != null ? L : ee => i.jsx(fe, {
        ...ee,
        buttonType: Q.Primary,
        styles: t == null ? void 0 : t[Q.Primary]
    });
    f.useEffect( () => {
        let ee;
        return e.delayUntilManualCaptureMs > 0 && (ee = window.setTimeout( () => F(!0), e.delayUntilManualCaptureMs)),
        () => {
            clearTimeout(ee)
        }
    }
    , []);
    const N = () => {
        var ee, Y, ae;
        if (((Y = (ee = o.current) == null ? void 0 : ee.video) == null ? void 0 : Y.videoWidth) > 0)
            try {
                ao({
                    source: o.current.video,
                    precreatedCanvas: a.current,
                    zoomFactor: e.zoomFactor
                }),
                (ae = b.current) == null || ae.capture()
            } catch (se) {
                se.name !== "NS_ERROR_NOT_AVAILABLE" && e.handleFailed(se, "capture")
            }
        r.current != null && (r.current = window.setTimeout(N, ys))
    }
      , U = async (ee, Y) => {
        var ae, se;
        o.current.video && (ao({
            source: o.current.video,
            precreatedCanvas: a.current,
            zoomFactor: e.zoomFactor
        }),
        (ae = b.current) == null || ae.capture(),
        Y || (Y = await e.paramsFromVideoFrame(o.current.video, a.current, b.current, d.current)),
        await e.handleCapture({
            imageSrcs: (se = b.current) == null ? void 0 : se.leastBlurryImages(),
            captureMethod: ee,
            params: Y,
            cameraInspectionData: l({
                includeSmallImages: !1
            })
        }))
    }
      , V = async () => {
        var Y, ae;
        const ee = new Date().getTime();
        if (((ae = (Y = o.current) == null ? void 0 : Y.video) == null ? void 0 : ae.videoWidth) > 0) {
            const se = await e.paramsFromVideoFrame(o.current.video, a.current, b.current, d.current);
            if (c(a.current),
            d.current.runTick(se),
            m(d.current.getTriggered()),
            e.shouldSubmit(se, d.current)) {
                U(gt.Auto, se);
                return
            }
        }
        if (n.current != null) {
            const se = Math.max(0, e.detectInterval - (new Date().getTime() - ee));
            n.current = window.setTimeout(V, se)
        }
    }
    ;
    f.useEffect( () => (n.current = window.setTimeout(V, e.detectInterval),
    e.disableCaptureClient || (r.current = window.setTimeout(N, ys)),
    () => {
        clearTimeout(n.current),
        n.current = null,
        clearTimeout(r.current),
        r.current = null,
        Nn.dispose()
    }
    ), []),
    f.useEffect( () => {
        var ee;
        try {
            if (((ee = C.current) == null ? void 0 : ee.readyState) === "live" && x) {
                const Y = {
                    torch: S
                };
                R && (Y.focusMode = "continuous"),
                C.current.applyConstraints({
                    advanced: [Y]
                })
            }
        } catch (Y) {
            Be("Failed to enable torch", "warning", {
                error: Y
            })
        }
    }
    , [S]);
    const ne = ee => {
        ee && (o.current = ee,
        o.current.video.defaultMuted = !0,
        o.current.video.muted = !0,
        o.current.video.addEventListener("loadedmetadata", async () => {
            const Y = o.current.stream;
            if (Y && typeof ImageCapture < "u") {
                const ae = Y.getVideoTracks()[0];
                if (ae == null && e.handleFailed("Video track is null", "load"),
                ae.readyState !== "live")
                    return;
                try {
                    if (await new ImageCapture(ae).getPhotoCapabilities(),
                    ae.readyState !== "live")
                        return;
                    const se = ae.getCapabilities();
                    ae.applyConstraints.toString().includes("function") && (se.focusMode != null && ae.applyConstraints({
                        advanced: [{
                            focusMode: "continuous"
                        }]
                    }),
                    C.current = ae,
                    _(se.torch != null),
                    E(se.focusMode != null))
                } catch (se) {
                    se.name !== "OperationError" && he(se, "warning")
                }
            }
        }
        ),
        o.current.video.addEventListener("canplay", async () => {
            if (o.current.video && (p(!0),
            o.current.video.paused))
                try {
                    await o.current.video.play()
                } catch (Y) {
                    e.handleFailed(Y, "load")
                }
        }
        ))
    }
    ;
    return i.jsxs("div", {
        "data-test": "scanner",
        "data-scanner-type": e.scannerType,
        children: [i.jsxs(rR, {
            mirrored: e.videoConstraints.facingMode === "user",
            zoomFactor: e.zoomFactor,
            children: [i.jsx(sa, {
                audio: !1,
                width: "100%",
                height: "initial",
                ref: ne,
                "data-test": "base-scanner__verify",
                videoConstraints: e.videoConstraints,
                onUserMedia: s,
                onUserMediaError: ee => e.handleFailed(ee, "load")
            }), e.overlay]
        }), i.jsxs(aR, {
            hasCaptures: ((H = e.captures) == null ? void 0 : H.length) > 0,
            hasTorch: x,
            children: [i.jsx(iR, {
                files: e.captures
            }), i.jsx(Z3, {
                activeTrigger: (q = e.triggerOverride) != null ? q : u,
                color: Fe.white
            }), x && i.jsx(oR, {
                id: "scanner__button--torch",
                onClick: v,
                active: S,
                title: S ? "Flash ON" : "Flash OFF",
                children: i.jsx(yp, {})
            })]
        }), O({
            disabled: !h || !T,
            id: "scanner__button--capture",
            "data-test": "scanner__button--capture",
            onClick: () => U(gt.Manual, null),
            children: e.labelTakePhoto
        }), i.jsx(Xe, {
            height: 1
        })]
    })
}
function rc(e) {
    if (e == null || e.rmsContrast === 0 && e.luminosity === 0)
        return !1;
    const t = e.rmsContrast < .2 || e.lowHighContrast < .2
      , n = e.rmsContrast > .3 && e.lowHighContrast > .5;
    return e.luminosity < .34 && !n || e.luminosity < .45 && t
}
const sR = 100
  , cR = [{
    type: 0,
    shouldShow: lR,
    showAfterFrames: 3,
    hideAfterFrames: 10,
    getPrompt: ({t: e}) => e("document-scanner.hint.detected-low-light")
}, {
    type: 1,
    shouldShow: () => !0,
    showAfterFrames: 0,
    hideAfterFrames: 0,
    getPrompt: ({t: e}) => e("document-scanner.hint.default")
}];
function lR(e) {
    return rc(e.luminosityData)
}
function xl({delayUntilManualCaptureMs: e=0, handleCapture: t, handleError: n, labelTakePhoto: r, videoConstraints: o, captures: a, renderButton: s}) {
    const c = Mt("inquiry:enable-low-light-detection-web")
      , l = async (u, m, h, p) => {
        ao({
            source: u,
            precreatedCanvas: m
        });
        try {
            return {
                luminosityData: c ? Cr(m) : null
            }
        } catch (b) {
            n(b, "capture")
        }
        return {
            luminosityData: null
        }
    }
      , d = (u, m) => !1;
    return i.jsx(ic, {
        delayUntilManualCaptureMs: e,
        handleCapture: ({imageSrcs: u, captureMethod: m}) => t(u, m),
        handleFailed: n,
        detectInterval: sR,
        labelTakePhoto: r,
        videoConstraints: o,
        triggerConfigs: cR,
        paramsFromVideoFrame: l,
        shouldSubmit: d,
        captures: a,
        scannerType: "document",
        renderButton: s,
        zoomFactor: 1
    })
}
function dR({documentFiles: e, documentFileLimit: t, handleCapture: n, handleError: r, handleFinish: o, localizations: a, videoConstraints: s}) {
    const {buttons: c} = Ur()
      , l = e.length >= t;
    return e.length === 0 ? i.jsxs(i.Fragment, {
        children: [i.jsx(ti, {
            tabIndex: -1,
            children: a.prompt
        }), i.jsx(xl, {
            handleCapture: n,
            handleError: r,
            labelTakePhoto: a["btn-take-photo"],
            videoConstraints: s,
            captures: []
        })]
    }) : i.jsxs(i.Fragment, {
        children: [i.jsx(ti, {
            tabIndex: -1,
            children: a.prompt
        }), i.jsx(xl, {
            handleCapture: n,
            handleError: r,
            labelTakePhoto: a["btn-additional-photo"],
            videoConstraints: s,
            captures: e.map(d => d.attributes.originals[0]),
            renderButton: d => i.jsxs(i.Fragment, {
                children: [l ? null : i.jsxs(i.Fragment, {
                    children: [i.jsx(fe, {
                        ...d,
                        buttonType: Q.Primary,
                        styles: c == null ? void 0 : c[Q.Primary]
                    }), c == null && i.jsx(Xe, {
                        height: 1
                    })]
                }), i.jsx(fe, {
                    id: "documents-capture__submit",
                    buttonType: Q.Secondary,
                    styles: c == null ? void 0 : c[Q.Secondary],
                    onClick: o,
                    children: a["btn-finish"]
                })]
            })
        })]
    })
}
var Mn = (e => (e.SetDocument = "document/SET_DOCUMENT",
e.SetDocumentFiles = "document_files/SET_DOCUMENT_FILES",
e.ClearDocument = "document/CLEAR_DOCUMENT",
e.SetVideoConstraints = "document/SET_VIDEO_CONSTRAINTS",
e.UploadFile = "document/UPLOAD_FILE",
e.SetUploadProgress = "document/SET_UPLOAD_PROGRESS",
e.AddUploadedFile = "document/ADD_UPLOADED_FILE",
e.ClearUploadedFiles = "document/CLEAR_UPLOADED_FILES",
e.ClearUpload = "document/CLEAR_UPLOAD",
e.ClearAllUploads = "document/CLEAR_ALL_UPLOADS",
e.AddPendingDeletion = "document/ADD_PENDING_DELETION",
e.ClearPendingDeletion = "document/CLEAR_PENDING_DELETION",
e))(Mn || {});
function og(e) {
    return {
        payload: {
            document: e
        },
        type: "document/SET_DOCUMENT"
    }
}
function ag() {
    return {
        payload: {},
        type: "document/CLEAR_DOCUMENT"
    }
}
function sg(e) {
    return {
        payload: {
            documentFiles: e
        },
        type: "document_files/SET_DOCUMENT_FILES"
    }
}
function cg(e) {
    return {
        payload: {
            videoConstraints: e
        },
        type: "document/SET_VIDEO_CONSTRAINTS"
    }
}
function oc(e) {
    return {
        payload: {
            file: e
        },
        type: "document/UPLOAD_FILE"
    }
}
function _s(e, t) {
    return {
        payload: {
            file: e,
            progress: t
        },
        type: "document/SET_UPLOAD_PROGRESS"
    }
}
function uR() {
    return {
        payload: {},
        type: "document/CLEAR_UPLOADED_FILES"
    }
}
function mR(e) {
    return {
        payload: {
            uploadedFile: e
        },
        type: "document/ADD_UPLOADED_FILE"
    }
}
function ac(e) {
    return {
        payload: {
            file: e
        },
        type: "document/CLEAR_UPLOAD"
    }
}
function hR(e) {
    return {
        payload: {
            fileId: e
        },
        type: "document/ADD_PENDING_DELETION"
    }
}
function pR(e) {
    return {
        payload: {
            fileId: e
        },
        type: "document/CLEAR_PENDING_DELETION"
    }
}
const fR = e => {
    const {inquiry: t, config: n, document: r, documentFiles: o, videoConstraints: a, styles: s, featureFlags: c} = e
      , l = Vt()
      , [d] = G();
    f.useEffect( () => {
        if (t == null || r == null) {
            D.redirectToStart();
            return
        }
    }
    , []),
    f.useEffect( () => {
        try {
            c != null && c["inquiry:enable-amplitude-logging-on-combined-step-page-enter"] && J.logAmplitude("documents.capture-page.entered", {})
        } catch {}
    }
    , []);
    const u = async (p, b) => {
        var S;
        e.saveCaptureMethod(b),
        p = p.filter(v => v != null);
        const C = p[p.length - 1];
        J.logAmplitude("document.camera.capture", {
            imageSize: C.length
        });
        try {
            e.uploadFile({
                filename: `${new Date().toISOString()}_0_${(S = n == null ? void 0 : n.kind) != null ? S : "generic"}.jpg`,
                fileType: "image/jpeg",
                dataUrl: C
            }),
            l.replace(ha(Pt.Check))
        } catch (v) {
            m(v, "capture")
        }
    }
      , m = (p, b) => {
        b === "capture" && e.showMessage(d("documents.capture.failed-screenshot")),
        p instanceof Error ? (he(p, "error", {
            state: b
        }, {
            jira: "PER-10182"
        }),
        b === "load" && (D.onEvent(Oe.LoadCameraFailed, {
            error: p.name,
            message: p.message
        }),
        l.push("/verify/support/camera"))) : (Be(p, "error", {
            state: b
        }, {
            jira: "PER-10182"
        }),
        b === "load" && (D.onEvent(Oe.LoadCameraFailed, {
            message: p
        }),
        l.push("/verify/support/camera")))
    }
      , h = () => {
        l.replace(ha(Pt.Prompt))
    }
    ;
    return t == null || r == null || n == null ? null : i.jsx(nc, {
        value: s,
        children: i.jsx(dR, {
            documentFiles: o,
            documentFileLimit: n["document-file-limit"],
            handleCapture: u,
            handleError: m,
            handleFinish: h,
            localizations: n.localizations["capture-page"],
            videoConstraints: a
        })
    })
}
;
function gR(e) {
    return {
        inquiry: e.inquiry.inquiry,
        documentFiles: e.document.documentFiles,
        config: ka(e),
        document: zs(e),
        videoConstraints: e.document.videoConstraints,
        styles: Na(e.inquiry),
        featureFlags: e.inquiry.featureFlags
    }
}
const bR = {
    saveCaptureMethod: lr,
    showMessage: ce,
    uploadFile: oc
}
  , CR = ke(gR, bR)(fR)
  , xR = jn()(CR)
  , vR = ({children: e, color: t, ...n}) => i.jsx("span", {
    ...n,
    children: e
})
  , Nd = g(vR).withConfig({
    displayName: "Text__Span",
    componentId: "sc-1yv5kz8-0"
})(["color:", ";", ";"], ({color: e="primary", theme: t}) => e == null ? "inherit" : t.color.text[e], cx);
g(Nd).attrs( () => ({
    as: "h1"
})).withConfig({
    displayName: "Text__Display",
    componentId: "sc-1yv5kz8-1"
})(["", ""], ({size: e}) => lx[e]);
g(Nd).withConfig({
    displayName: "Text__HeadingComponent",
    componentId: "sc-1yv5kz8-2"
})(["", ""], ({size: e}) => dx[e]);
const IR = g(Nd).attrs( ({as: e="p"}) => ({
    as: e
})).withConfig({
    displayName: "Text__Paragraph",
    componentId: "sc-1yv5kz8-3"
})(["", " color:", ";"], ({size: e="md", weight: t="normal"}) => {
    if (t !== "normal") {
        if (["md", "lg"].includes(e))
            return Ni[e + t.charAt(0).toUpperCase() + t.slice(1)];
        console.error(`Weight '${t}' does not exist for size '${e}'.`)
    }
    return Ni[e]
}
, ({color: e="secondary", theme: t}) => t.color.text[e])
  , SR = g(IR).attrs({
    as: "label"
}).withConfig({
    displayName: "Text__Label",
    componentId: "sc-1yv5kz8-4"
})(["color:", ";"], ({color: e="primary", theme: t}) => t.color.text[e]);
function jd(e) {
    const t = ["bytes", "KB", "MB", "GB", "TB", "PB", "EB", "ZB", "YB"];
    let n = 0;
    for (; e >= 1e3; )
        ++n,
        e = e / 1e3;
    return e.toFixed(e < 10 && n > 0 ? 1 : 0) + " " + t[n]
}
var ta = (e => (e.Initiated = "initiated",
e.Submitted = "submitted",
e.Processed = "processed",
e.Errored = "errored",
e))(ta || {});
const yR = 1e3
  , wR = 1e3
  , Nc = 3
  , lg = 999999
  , dg = 3;
function _R(e) {
    return async t => {
        const n = {
            attributes: {
                ...e
            },
            type: w.VerificationEmailAddress
        }
          , r = (await te.postResourceCreate(n)).data;
        t(pi(r)),
        await te.postResourceAction(r, "email-confirmation-code"),
        t(En("/verify/email-address/confirm"))
    }
}
function RR(e, t, n) {
    return async r => {
        const o = {
            attributes: {
                ...t
            },
            id: e.id,
            type: e.type
        }
          , a = (await te.postResourceAction(o, "submit")).data;
        r(pi(a)),
        await r(sc(a, n))
    }
}
function AR(e, t, n) {
    return async r => {
        const o = {
            attributes: {
                "country-code": e,
                ...n
            },
            type: w.VerificationPhoneNumber
        }
          , a = (await te.postResourceCreate(o, {
            meta: {
                "debug-forced-status": t
            }
        })).data;
        r(pi(a)),
        await te.postResourceAction(a, "sms-confirmation-code"),
        r(En("/verify/phone-number/confirm"))
    }
}
function TR(e, t, n, r) {
    return async o => {
        const a = {
            attributes: {
                ...n
            },
            id: e.id,
            type: e.type
        };
        e = (await te.postResourceAction(a, "confirm")).data,
        o(pi(e)),
        e.attributes.status === Et.Confirmed && t !== nd.None ? o(En("/verify/phone-number/info")) : await o(sc(e, r))
    }
}
function ER(e, t, n) {
    return async r => {
        const o = {
            attributes: {
                ...t
            },
            id: e.id,
            type: e.type
        };
        e = (await te.postResourceAction(o, "submit")).data,
        r(pi(e)),
        await r(sc(e, n))
    }
}
function kR(e, t, n, r, o) {
    return async a => {
        const s = {
            id: e.id,
            attributes: n,
            type: w.Inquiry
        };
        Ot((await te.updateResource(s)).data);
        const c = (await te.postResourceCreate({
            type: w.VerificationDatabase
        }, {
            meta: {
                "debug-forced-status": t
            }
        })).data;
        a(pi(c));
        const l = (await te.postResourceAction(c, "submit")).data;
        a(pi(c)),
        o["verify:database-failed-screen"] ? await a(hg(l, r, "/verify/database/pending", "/verify/database/failed")) : await a(sc(l, r))
    }
}
function ug() {
    return e => {
        e(od())
    }
}
function Yr(e, t, n, r) {
    const o = ui(e, t);
    if (o)
        return r ? {
            "capture-method": o.captureMethod,
            data: sd({
                filename: n,
                fileType: "image/jpeg",
                dataUrl: o.dataUrl
            })
        } : {
            "capture-method": o.captureMethod,
            data: {
                filename: n,
                data: nf(o.dataUrl)
            }
        }
}
function mg(e, t, n, r, o) {
    return async a => {
        let s;
        const c = {
            "center-photo": Yr(t, ue.Center, "center_photo.jpeg", !0),
            "left-photo": Yr(t, ue.Left, "left_photo.jpeg", !0),
            "right-photo": Yr(t, ue.Right, "right_photo.jpeg", !0),
            "camera-properties": n
        };
        try {
            s = (await te.postResourceCreate({
                attributes: c,
                type: w.VerificationSelfie
            }, {
                meta: {
                    "debug-forced-status": o
                },
                contentType: "multipart/form-data"
            })).data
        } catch {
            s = (await te.postResourceCreate({
                attributes: {
                    "center-photo": Yr(t, ue.Center, "center_photo.jpeg", !1),
                    "left-photo": Yr(t, ue.Left, "left_photo.jpeg", !1),
                    "right-photo": Yr(t, ue.Right, "right_photo.jpeg", !1),
                    "camera-properties": n
                },
                type: w.VerificationSelfie
            }, {
                meta: {
                    "debug-forced-status": o
                }
            })).data
        }
        try {
            [ue.Center, ue.Left, ue.Right].forEach(l => {
                const d = ui(t, l);
                if (d == null)
                    return;
                const {dataUrl: u, captureMethod: m} = d;
                u.length < Pr && Be("Selfie verification contains potentially blank image", "warning", {}, {
                    captureMethod: m,
                    side: l
                })
            }
            )
        } catch (l) {
            he(l, "warning")
        }
        try {
            s = (await te.postResourceAction(s, "submit")).data
        } catch (l) {
            throw Be("[PER-8408] Selfie created but failed to submit", "error", {
                id: s.id,
                error: l
            }),
            l
        }
        a(pi(s)),
        await a(Do({
            verification: s,
            history: r,
            handleFailed: l => {
                const d = l.included.find(u => u.id === l.data.relationships.inquiry.data.id);
                a(Ot(d)),
                d.attributes["next-step"].type === w.VerificationSelfie ? a(En("/verify/selfie/failed")) : a(Yt(d))
            }
        }))
    }
}
function NR(e, t, n, r, o, a, s, c) {
    return async l => {
        var S, v, x, _;
        let d = Cu(t, n, r, o)
          , u = "multipart/form-data";
        l(Ei(0));
        const m = R => {
            var E;
            l(Ei((E = R.progress) != null ? E : 0))
        }
          , h = new Date().getTime();
        let p, b;
        for (b = 0; b < Nc; b++)
            try {
                p = await te.postResourceCreate(d, {
                    meta: {
                        "debug-forced-status": s
                    },
                    contentType: u,
                    onUploadProgress: m
                });
                break
            } catch (R) {
                if (R instanceof ht)
                    switch (R.status) {
                    case 502:
                        l(ce(c("errors.network-upload")));
                        return;
                    case 413:
                        l(ce(c("errors.image-upload-too-large")));
                        return;
                    case 422:
                        if (b === 0)
                            d = Cu(t, n, r, o, !1),
                            u = "application/json";
                        else {
                            const E = (S = R.errors) == null ? void 0 : S[0].code;
                            switch (E) {
                            case wn.DOCUMENT_GOVERNMENT_ID_DIMENSION_SIZE_ERROR:
                                {
                                    const F = ((v = R.errors) == null ? void 0 : v[0]).details.min_dimension_size;
                                    An(a),
                                    a.push(ji(0, Ke.Prompt)),
                                    l(ce(c("government-id.prompt.dimension-size-too-small", {
                                        minDimensionSize: F
                                    })));
                                    return
                                }
                            case wn.DOCUMENT_GOVERNMENT_ID_TOO_SMALL:
                            case wn.DOCUMENT_GOVERNMENT_ID_ALL_BLACK_IMAGE:
                                {
                                    An(a),
                                    a.push(ji(0, Ke.Prompt)),
                                    l(ce(c("government-id.prompt.failed-black-image")));
                                    return
                                }
                            default:
                                {
                                    if (E && /must be under \d+ bytes/.test(E)) {
                                        const T = E.match(/must be under (\d+) bytes/);
                                        if (T) {
                                            const F = jd(parseInt(T[1]));
                                            l(ce(c("documents.errors.file-size-exceeded", {
                                                fileSizeLimit: F
                                            })));
                                            return
                                        }
                                    }
                                    l(ce(c("government-id.prompt.failed-select-image")));
                                    return
                                }
                            }
                        }
                    }
                else
                    R instanceof xt || he(R, "error", {
                        attempt: b
                    });
                if (b === Nc - 1)
                    throw J.logAmplitude("government-id.submit.failed", {
                        attempts: b,
                        duration: new Date().getTime() - h
                    }),
                    R
            }
        try {
            [B.Front, B.Back, B.BarcodePdf417, B.FrontOrBack, B.PassportSignature].forEach(R => {
                var E;
                (E = n[R]) == null || E.forEach(T => {
                    if (T == null)
                        return;
                    const {dataUrl: F, fileType: O, captureMethod: N, captureFlow: U} = T;
                    F.length < Pr && Be("Government ID verification contains potentially blank image", "warning", {}, {
                        captureMethod: N,
                        side: R,
                        fileType: O,
                        captureFlow: U
                    })
                }
                )
            }
            )
        } catch (R) {
            he(R, "warning")
        }
        if (p.data == null) {
            he(new Error("No data returned from create verification saga"), "warning", {
                response: p,
                governmentIdClass: t,
                captureMethod: Xr(n).map(R => {
                    var E;
                    return (E = Wt(R)) == null ? void 0 : E.captureMethod
                }
                ),
                captureFlow: Xr(n).map(R => {
                    var E;
                    return (E = Wt(R)) == null ? void 0 : E.captureFlow
                }
                ),
                uploads: {
                    backSizes: (x = n.back) == null ? void 0 : x.map(R => {
                        var E;
                        return (E = R.dataUrl) == null ? void 0 : E.length
                    }
                    ),
                    frontSizes: (_ = n.front) == null ? void 0 : _.map(R => {
                        var E;
                        return (E = R.dataUrl) == null ? void 0 : E.length
                    }
                    )
                }
            }),
            l(ce(c("government-id.prompt.failed-select-image")));
            return
        }
        const C = (await te.postResourceAction(p.data, "submit", {
            retryOptions: {
                retries: Nc,
                retryCondition: R => R.response.status === 409
            }
        })).data;
        try {
            J.logAmplitude("government-id.submit.completed", {
                duration: new Date().getTime() - h,
                attempts: b + 1,
                governmentIdClass: t,
                captureMethod: Xr(n).map(R => {
                    var E;
                    return (E = Wt(R)) == null ? void 0 : E.captureMethod
                }
                ),
                captureFlow: Xr(n).map(R => {
                    var E;
                    return (E = Wt(R)) == null ? void 0 : E.captureFlow
                }
                )
            })
        } catch {}
        l(pi(C)),
        await l(hg(C, a, "/verify/government-id/pending", "/verify/government-id/failed"))
    }
}
function hg(e, t, n, r) {
    return async o => {
        await o(Do({
            verification: e,
            history: t,
            handleFailed: a => {
                const s = a.included.find(c => c.id === a.data.relationships.inquiry.data.id);
                o(Ot(s)),
                s.attributes["next-step"].type === e.type ? o(En(r)) : o(Yt(s))
            }
            ,
            handleIncomplete: () => o(En(n)),
            attemptsLeft: dg
        }))
    }
}
function sc(e, t) {
    return async n => {
        await n(Do({
            verification: e,
            history: t,
            handleFailed: r => n(dl(r))
        }))
    }
}
function jR({documentId: e, history: t, forcedStatus: n, handleFailed: r, handlePassed: o, handleIncomplete: a, totalAttempts: s=dg}) {
    return async c => {
        const l = (await te.postResourceCreate({
            attributes: {
                "document-id": e
            },
            type: w.VerificationDocument
        }, {
            meta: {
                "debug-forced-status": n
            },
            retryOptions: {
                retryCondition: u => Ti.isNetworkError(u) || Ti.isRetryableError(u)
            }
        })).data
          , d = (await te.postResourceAction(l, "submit")).data;
        c(pi(d)),
        await c(Do({
            verification: d,
            history: t,
            attemptsLeft: s,
            handleFailed: r,
            handleIncomplete: a,
            handlePassed: o
        }))
    }
}
function Do({verification: e, history: t, handleFailed: n, handlePassed: r, handleSkipped: o, handleIncomplete: a, attemptsLeft: s=lg}) {
    return c => new Promise( (l, d) => {
        const u = () => {
            a ? (a(),
            l()) : d()
        }
          , m = C => {
            An(t),
            r ? r(C) : c(dl(C)),
            l()
        }
          , h = C => {
            An(t),
            n ? (n(C),
            l()) : d()
        }
          , p = C => {
            An(t),
            o ? o(C) : c(dl(C)),
            l()
        }
          , b = (C, S, v) => {
            S <= 0 ? u() : setTimeout( () => {
                c(PR(C, S - 1, v + wR, b, d, m, h, p))
            }
            , v)
        }
        ;
        b(e, s, yR)
    }
    )
}
function PR(e, t, n, r, o, a, s, c) {
    return async l => {
        try {
            const d = await te.getResource(Qt(e.type), e.id)
              , u = d.data
              , m = e.attributes && e.attributes.status;
            switch (u.attributes.status !== m && l(pi(u)),
            u.attributes.status) {
            case Et.Initiated:
            case Et.Confirmed:
            case Et.Submitted:
                r(u, t, n);
                return;
            case Et.Passed:
                a(d);
                return;
            case Et.RequiresRetry:
            case Et.Failed:
            case Et.Canceled:
                s(d);
                return;
            case Et.Skipped:
                c(d);
                return;
            default:
                lt(u.attributes.status)
            }
        } catch (d) {
            d instanceof xt || d instanceof ht && d.status === 502 ? r(e, t, n) : o(d)
        }
    }
}
const Pi = (e, t) => {
    switch (t) {
    case Pt.Prompt:
        return `/verify/documents/${e}/prompt`;
    case Pt.TakePhoto:
        return `/verify/documents/${e}/capture`;
    case Pt.Check:
        return `/verify/documents/${e}/check`;
    case Pt.Review:
        throw new Error("Documents review step is not permitted in Inquiry 2.0.");
    case Pt.Pending:
        return `/verify/documents/${e}/pending`;
    case Pt.Failed:
        return `/verify/documents/${e}/failed`;
    default:
        lt(t)
    }
}
  , Oo = ["image/jpeg", "image/png"]
  , DR = 1e3
  , Xu = 3
  , pg = 90
  , OR = 3;
function Pd(e, t, n) {
    return r => {
        n + 1 >= t.length ? r(Yt(e)) : (r(Ot(e)),
        r(En(Pi(n + 1, Pt.Prompt))))
    }
}
function LR({stepName: e, documentsToVerify: t, documentNumber: n, history: r, fileToUpload: o, t: a, forcedStatus: s}) {
    return async c => {
        const l = t[n]
          , d = {
            type: w.DocumentGeneric,
            attributes: {
                kind: l.kind,
                files: [sd(o)]
            }
        };
        c(_s(o, 0));
        const u = C => {
            var S;
            c(_s(o, (S = C.progress) != null ? S : 0))
        }
          , m = new Date().getTime();
        let h, p;
        for (p = 0; p < Xu; p++)
            try {
                h = (await te.postResourceCreate(d, {
                    contentType: "multipart/form-data",
                    onUploadProgress: u
                })).data;
                break
            } catch (C) {
                if (C instanceof ht)
                    switch (C.status) {
                    case 502:
                        c(ce(a("errors.network-upload")));
                        return;
                    case 413:
                        c(ce(Oo.includes(o.fileType) ? a("errors.image-upload-too-large") : a("errors.file-upload-too-large")));
                        return;
                    case 422:
                        c(ce(a("documents.prompt.failed-select-image")));
                        return
                    }
                else
                    C instanceof xt || he(C, "error", {
                        attempt: p
                    });
                if (p === Xu - 1)
                    throw J.logAmplitude("document.submit.failed", {
                        duration: new Date().getTime() - m
                    }),
                    C
            }
        const b = (await te.postResourceAction({
            id: h.id,
            type: h.type
        }, "submit")).data;
        J.logAmplitude("document.submit.completed", {
            duration: new Date().getTime() - m,
            attempts: p + 1
        }),
        c(ca(b, n)),
        await c(fg({
            document: b,
            stepName: e,
            documentsToVerify: t,
            documentNumber: n,
            history: r,
            forcedStatus: s,
            attemptsLeft: OR
        })),
        c(ac(o))
    }
}
function fg({document: e, stepName: t, documentsToVerify: n, documentNumber: r, history: o, forcedStatus: a, attemptsLeft: s=pg}) {
    return c => c(FR({
        document: e,
        documentsToVerify: n,
        documentNumber: r,
        history: o,
        attemptsLeft: s,
        onSuccess: async l => {
            const d = m => {
                const h = m.included.find(p => p.id === m.data.relationships.inquiry.data.id);
                h.attributes["next-step"].name === t ? (c(Ot(h)),
                c(En(Pi(r, Pt.Failed)))) : c(Yt(h))
            }
              , u = m => {
                const h = m.included.find(b => b.id === m.data.relationships.document.data.id)
                  , p = m.included.find(b => b.id === m.data.relationships.inquiry.data.id);
                c(ca(h, r)),
                c(Pd(p, n, r))
            }
            ;
            await c(jR({
                documentId: l.data.id,
                history: o,
                forcedStatus: a,
                handleFailed: d,
                handlePassed: u,
                totalAttempts: lg
            }))
        }
        ,
        onIncomplete: () => {
            An(o),
            c(En(Pi(r, Pt.Pending)))
        }
    }))
}
function FR({document: e, documentsToVerify: t, documentNumber: n, history: r, onSuccess: o, onIncomplete: a, attemptsLeft: s=pg}) {
    return c => new Promise( (l, d) => {
        const u = () => {
            a ? (a(),
            l()) : d()
        }
          , m = async b => {
            An(r),
            c(ca(b.data, n)),
            o ? await o(b) : c(Pd(em(b), t, n)),
            l()
        }
          , h = b => {
            An(r),
            c(ca(b.data, n)),
            c(Ot(em(b))),
            l(),
            c(En(Pi(n, Pt.Failed)))
        }
          , p = (b, C) => {
            C <= 0 ? u() : setTimeout( () => {
                MR(b, C - 1, p, d, m, h)
            }
            , DR)
        }
        ;
        p(e, s)
    }
    )
}
async function MR(e, t, n, r, o, a) {
    try {
        const s = await te.getResource(y.DocumentGeneric, e.id)
          , c = s.data;
        switch (c.attributes.status) {
        case ta.Initiated:
        case ta.Submitted:
            n(c, t);
            return;
        case ta.Processed:
            o(s);
            return;
        case ta.Errored:
            a(s);
            return;
        default:
            lt(c.attributes.status)
        }
    } catch (s) {
        s instanceof xt || s instanceof ht && s.status === 502 ? n(e, t) : r(s)
    }
}
function em(e) {
    const t = e.data;
    return e.included.find(r => r.id === t.relationships.inquiry.data.id)
}
const tm = 3;
function BR({kind: e, fileLimit: t, fieldKey: n}) {
    return async r => {
        const o = await te.postResourceCreate({
            type: w.Document,
            attributes: {
                kind: e,
                "file-limit": t
            }
        }, {
            meta: {
                "field-key-document": n
            }
        })
          , a = o.data
          , s = o.included.find(c => c.id === a.relationships.inquiry.data.id);
        if (s == null)
            throw new Error("Document fetch expected an inquiry to be returned, but no inquiry was sent.");
        Lh.unstable_batchedUpdates( () => {
            r(Ot(s)),
            r(og(a)),
            r(sg([])),
            r(uR())
        }
        )
    }
}
function gg(e) {
    return async t => {
        const {data: n, included: r} = await te.getResource(y.Document, e);
        t(og(n));
        const o = r.filter(a => a.type === w.DocumentFile);
        t(sg(o))
    }
}
function bg({file: e, captureMethod: t, document: n, t: r}) {
    return async o => {
        var l, d, u, m, h, p, b, C, S, v;
        o(_s(e, 0));
        const a = x => {
            var _;
            o(_s(e, (_ = x.progress) != null ? _ : 0))
        }
          , s = new Date().getTime();
        let c;
        for (c = 0; c < tm; c++)
            try {
                const x = await te.postResourceCreate({
                    type: w.DocumentFile,
                    attributes: {
                        "document-id": n.id,
                        "capture-method": t,
                        originals: [cd(e)],
                        name: e.filename
                    }
                }, {
                    contentType: "multipart/form-data",
                    onUploadProgress: a
                });
                D.inquiryParams["send-client-side-collected-data-in-events"] && o(mR({
                    file: e,
                    fileId: x.data.id
                }));
                break
            } catch (x) {
                if (x instanceof ht)
                    switch (x.status) {
                    case 502:
                        throw o(ce(r("errors.network-upload"))),
                        new vn({
                            method: "POST"
                        });
                    case 413:
                        throw o(ce(Oo.includes(e.fileType) ? r("errors.image-upload-too-large") : r("errors.file-upload-too-large"))),
                        new vn({
                            method: "POST"
                        });
                    case 422:
                        if (((l = x.errors) == null ? void 0 : l[0].code) === wn.DOCUMENT_GENERIC_DISABLED_FILE_TYPE_ERROR) {
                            const R = ((d = x.errors) == null ? void 0 : d[0]).details
                              , E = rr(R.uploaded_file_type).toUpperCase()
                              , T = R.enabled_file_types.map(F => rr(F).toUpperCase());
                            o(ce(r("documents.errors.disabled-file-type", {
                                uploadedFileExtension: E,
                                acceptedFileExtensions: T.join(", "),
                                count: T.length
                            })))
                        } else if (((u = x.errors) == null ? void 0 : u[0].code) === wn.DOCUMENT_GENERIC_FILE_SIZE_EXCEEDED_ERROR) {
                            const _ = (m = x.errors) == null ? void 0 : m[0]
                              , R = jd(_.details.file_size_limit);
                            o(ce(r("documents.errors.file-size-exceeded", {
                                fileSizeLimit: R
                            })))
                        } else if (((h = x.errors) == null ? void 0 : h[0].code) === wn.DOCUMENT_GENERIC_FILE_LIMIT_EXCEEDED_ERROR)
                            o(ce(r("documents.errors.file-limit-exceeded")));
                        else if (((p = x.errors) == null ? void 0 : p[0].code) === wn.DOCUMENT_GENERIC_PAGE_LIMIT_EXCEEDED_ERROR) {
                            const R = ((b = x.errors) == null ? void 0 : b[0]).details.page_limit;
                            o(ce(r("documents.errors.page-limit-exceeded", {
                                pageLimit: R,
                                count: R
                            })))
                        } else
                            ((C = x.errors) == null ? void 0 : C[0].code) === wn.DOCUMENT_GENERIC_MALFORMED_PDF_ERROR ? o(ce(r("documents.errors.malformed-pdf"))) : ((S = x.errors) == null ? void 0 : S[0].code) === wn.DOCUMENT_GENERIC_MALFORMED_IMAGE_ERROR || ((v = x.errors) == null ? void 0 : v[0].code) === wn.DOCUMENT_GENERIC_MALFORMED_FILE_ERROR ? o(ce(r("documents.errors.malformed-file"))) : o(ce(r("documents.prompt.failed-select-image")));
                        throw new vn({
                            method: "POST"
                        })
                    }
                else
                    x instanceof xt || he(x, "error", {
                        attempt: c
                    });
                if (c === tm - 1)
                    throw J.logAmplitude("document.submit.failed", {
                        duration: new Date().getTime() - s
                    }),
                    x
            }
    }
}
function VR(e) {
    return async () => {
        await te.deleteResource(y.DocumentFile, e)
    }
}
function pa(e, t, n, r, o) {
    var c, l, d, u, m;
    if (Dd(e, n, r))
        return B.Front;
    if ((e == null ? void 0 : e.idclasses) == null && (o == null ? void 0 : o["id-configs"]) == null)
        return;
    if (t == null)
        return n === 0 ? B.Front : void 0;
    const s = (c = o == null ? void 0 : o["id-configs"].find(h => h.class === t)) != null ? c : e == null ? void 0 : e.idclasses.find(h => h.class === t);
    if (s == null) {
        const h = (l = e == null ? void 0 : e.idclasses) != null ? l : o == null ? void 0 : o["id-configs"];
        throw new Error(`No configuration for id class: ${t} out of: ${h == null ? void 0 : h.map(p => p.class).join(", ")}`)
    }
    return (m = (u = (d = s["capture-page-configs"]) == null ? void 0 : d[n]) == null ? void 0 : u.side) != null ? m : s["requires-sides"][n]
}
function Ut(e, t) {
    switch (t) {
    case Ke.CaptureLeadInAnimation:
        return `/inquiry/government-id/${e}/capture-lead-in-animation`;
    case Ke.Prompt:
        return `/inquiry/government-id/${e}/prompt`;
    case Ke.TakePhoto:
        return `/inquiry/government-id/${e}/capture`;
    case Ke.Check:
        return `/inquiry/government-id/${e}/check`;
    case Ke.CheckUpload:
        return `/inquiry/government-id/${e}/check-upload`;
    case Ke.AutoclassificationFailure:
        return "/inquiry/government-id/autoclassification-failure";
    case Ke.AutoclassificationSelect:
        return "/inquiry/government-id/autoclassification-select";
    default:
        lt(t)
    }
}
function UR(e, t, n, r) {
    var s;
    const o = (s = r == null ? void 0 : r["id-configs"]) != null ? s : e == null ? void 0 : e.idclasses;
    return o && o.find(c => {
        var l, d;
        return c.class === t && ((d = (l = c["capture-page-configs"]) == null ? void 0 : l.length) != null ? d : c["requires-sides"].length) > n
    }
    ) ? n >= 2 : n >= 1
}
function Wi(e, t, n={}) {
    const {localizations: r, "localization-overrides": o=[], "selected-country-code": a} = e
      , {idClass: s=null, side: c=null} = n
      , l = o.filter(m => m.page === t && (m["country-code"] === a || m["country-code"] == null) && (m["id-class"] === s || m["id-class"] == null) && (m.side === c || m.side == null))
      , d = gC(m => -((m["country-code"] == null ? 0 : 100) + (m["id-class"] == null ? 0 : 10) + (m.side == null ? 0 : 1)), l)
      , u = r == null ? void 0 : r[t];
    return Object.fromEntries(Object.keys(u != null ? u : {}).map(m => {
        var b;
        const h = u[m]
          , p = d.find(C => C.key === m);
        return [m, (b = p == null ? void 0 : p.text) != null ? b : h]
    }
    ))
}
function vl(e) {
    var n;
    const t = Object.values(e);
    return t != null && t.length ? ((n = Wt(t[0])) == null ? void 0 : n.captureMethod) === gt.Upload : !1
}
function Dd(e, t, n) {
    var r;
    return ((r = e == null ? void 0 : e["auto-classification-config"]) == null ? void 0 : r["is-enabled"]) && t === 0 && !n
}
function cc(e, t, n, r, o, a, s) {
    var h, p;
    const c = s && Dd(e, t, n)
      , l = c ? void 0 : r;
    let d = e == null ? void 0 : e["selected-country-code"];
    !c && s && ((h = e == null ? void 0 : e["auto-classification-config"]) != null && h["is-enabled"]) && (d = o);
    const u = s && ((p = e == null ? void 0 : e["auto-classification-config"]) != null && p["is-enabled"]) ? a.find(b => b["country-code"] === o) : void 0;
    return {
        governmentIdClass: l,
        selectedCountryCode: d,
        autoclassificationIdClassesConfigState: u,
        autoclassificationIdClassesConfig: c ? void 0 : u
    }
}
const Cg = 1e6
  , HR = 5e3;
class xg {
    constructor() {
        this.params = null,
        this.timeout = null,
        this.startTime = null,
        this.subscribers = {},
        this.onStartedRecording = () => {
            const t = !!this.startTime;
            this.startTime = Date.now(),
            this.notify("start", t)
        }
        ,
        this.onStoppedRecording = t => {
            this.notify("stop", t, this.getElapsedTime()),
            this.destroy()
        }
        ,
        this.getElapsedTime = () => this.startTime ? Date.now() - this.startTime : 0,
        this.stopRecording = () => {
            var t, n;
            if (!this.timeout) {
                const r = this.startTime != null ? Date.now() - this.startTime : 0
                  , o = (n = (t = this.params) == null ? void 0 : t.minRecordingTime) != null ? n : HR
                  , a = r < o ? o - r : 0;
                this.timeout = setTimeout( () => {
                    this.stopCapture()
                }
                , a)
            }
            return this
        }
        ,
        this.clearTimeouts = () => {
            this.timeout && (clearTimeout(this.timeout),
            this.timeout = null)
        }
        ,
        this.clearSubscribers = () => {
            this.subscribers = {}
        }
        ,
        this.notify = (t, ...n) => {
            Object.values(this.subscribers).flat().filter(o => o.event === t).forEach(o => {
                var a;
                return (a = o.callback) == null ? void 0 : a.apply(null, n)
            }
            )
        }
    }
    subscribe(t) {
        const n = S0()
          , r = [];
        return t.onStart && r.push({
            event: "start",
            callback: t.onStart
        }),
        t.onRecordingComplete && r.push({
            event: "stop",
            callback: t.onRecordingComplete
        }),
        t.onError && r.push({
            event: "error",
            callback: t.onError
        }),
        t.onTimeExceeded && r.push({
            event: "time-exceeded",
            callback: t.onTimeExceeded
        }),
        this.subscribers[n] = r,
        n
    }
    unsubscribe(t) {
        return t && delete this.subscribers[t],
        this
    }
    get stream() {
        var t;
        return (t = this.params) == null ? void 0 : t.stream
    }
}
const qR = 200
  , $R = 12e4
  , GR = 64e3;
function WR() {
    return window.MediaRecorder ? [ll.VideoWebm, ll.VideoMp4].find(t => MediaRecorder.isTypeSupported(t)) : null
}
let YR = class extends xg {
    constructor() {
        super(...arguments),
        this.chunks = [],
        this.dataAvailableCalled = !1,
        this.type = "upload",
        this.handleDataAvailable = t => {
            var n, r;
            this.dataAvailableCalled = !0,
            ((n = t.data) == null ? void 0 : n.size) > 0 && (this.chunks.push(t.data),
            this.getElapsedTime() > ((r = this.params.maxRecordingTime) != null ? r : $R) && this.notify("time-exceeded"))
        }
        ,
        this.handleComplete = () => {
            this.onStoppedRecording({
                chunks: this.chunks,
                mimeType: this.mimeType,
                type: this.type
            })
        }
        ,
        this.handleError = t => {
            var r;
            let n;
            t instanceof Event ? n = `Event: ${(r = t.error) == null ? void 0 : r.name}` : n = JSON.stringify(t),
            this.notify("error", n)
        }
    }
    init(t) {
        this.params = t;
        const {stream: n, onStart: r, onError: o, onRecordingComplete: a, onTimeExceeded: s} = t;
        if (!this.isSupported()) {
            o == null || o("MediaRecorder error: MediaRecorder is not supported");
            return
        }
        if (!n) {
            o == null || o("MediaRecorder error: stream must be provided");
            return
        }
        if (this.mimeType = WR(),
        !this.mimeType) {
            o == null || o("MediaRecorder error: mimetype not supported");
            return
        }
        return this.subscribe({
            onStart: r,
            onError: o,
            onRecordingComplete: a,
            onTimeExceeded: s
        })
    }
    isRecording() {
        return !!this.mediaRecorder
    }
    isSupported() {
        return !!window.MediaRecorder
    }
    startRecording() {
        var t;
        this.createMediaRecorder(),
        this.mediaRecorder && this.mediaRecorder.state !== "recording" && this.mediaRecorder.start((t = this.params.timeSlice) != null ? t : qR)
    }
    stopCapture() {
        this.mediaRecorder && this.mediaRecorder.state !== "inactive" && this.mediaRecorder.stop()
    }
    get stream() {
        var t;
        return (t = this.params) == null ? void 0 : t.stream
    }
    destroy() {
        this.stopCapture(),
        this.cleanUpMediaRecorder(),
        this.clearSubscribers(),
        this.dataAvailableCalled = !1
    }
    cleanUpMediaRecorder() {
        if (!this.isRecording())
            return this;
        this.chunks = [],
        this.mediaRecorder && (this.mediaRecorder.removeEventListener("start", this.onStartedRecording),
        this.mediaRecorder.removeEventListener("dataavailable", this.handleDataAvailable),
        this.mediaRecorder.removeEventListener("error", this.handleError),
        this.mediaRecorder.removeEventListener("stop", this.handleComplete),
        this.mediaRecorder = null),
        this.clearTimeouts()
    }
    createMediaRecorder() {
        var t, n;
        try {
            this.mediaRecorder = new MediaRecorder(this.params.stream,{
                mimeType: this.mimeType,
                videoBitsPerSecond: (n = (t = this.params) == null ? void 0 : t.bitRate) != null ? n : Cg,
                audioBitsPerSecond: GR
            }),
            this.mediaRecorder.addEventListener("start", this.onStartedRecording),
            this.mediaRecorder.addEventListener("dataavailable", this.handleDataAvailable),
            this.mediaRecorder.addEventListener("error", this.handleError),
            this.mediaRecorder.addEventListener("stop", this.handleComplete)
        } catch (r) {
            this.notify("error", r)
        }
    }
}
;
const zR = new YR
  , KR = "https://webrtc-consumer.withpersona.com"
  , vg = "Couldn't gather enough ICE Candidates"
  , QR = 1e3
  , nm = 2;
let ZR = class extends xg {
    constructor() {
        super(...arguments),
        this.hasStarted = !1,
        this.type = "stream",
        this.setEncodings = () => {
            var t, n;
            (n = (t = this.peerConnection).getSenders) == null || n.call(t).forEach(r => {
                var o;
                if (((o = r.track) == null ? void 0 : o.kind) === "video") {
                    const a = r.track.getSettings()
                      , s = r.getParameters();
                    s.encodings.forEach(c => {
                        var l, d;
                        c.maxBitrate = (d = (l = this.params) == null ? void 0 : l.bitRate) != null ? d : Cg,
                        a.width && a.height && (a.width > 1024 || a.height > 720) && (c.scaleResolutionDownBy = 2)
                    }
                    ),
                    r.setParameters(s)
                }
            }
            )
        }
        ,
        this.handleMessage = t => {
            switch (t.message_type) {
            case "server_connected":
                this.onStartedRecording();
                break;
            case "uploaded_assets":
                {
                    const n = t.object_id;
                    this.handleComplete(n),
                    this.closePeerConnection();
                    break
                }
            case "timed_out":
                this.handleTimeExceeded();
                break
            }
        }
        ,
        this.sendMessage = t => {
            var n, r;
            try {
                this.dataChannel.send(JSON.stringify({
                    message: t
                }))
            } catch (o) {
                he(o, "warning", {
                    dataChannelReadyState: (n = this.dataChannel) == null ? void 0 : n.readyState
                }),
                ((r = this.dataChannel) == null ? void 0 : r.readyState) === "open" && this.handleError(o)
            }
        }
        ,
        this.closePeerConnection = () => {
            var t, n, r, o;
            if (((t = this.peerConnection) == null ? void 0 : t.connectionState) !== "closed") {
                (n = this.dataChannel) == null || n.close(),
                (r = this.peerConnection) != null && r.getTransceivers && this.peerConnection.getTransceivers().forEach(a => {
                    try {
                        a.stop()
                    } catch {}
                }
                );
                try {
                    (o = this.peerConnection) == null || o.close()
                } catch {}
            }
        }
        ,
        this.handleComplete = t => {
            this.notify("stop", {
                objectId: t,
                type: this.type
            })
        }
        ,
        this.handleError = t => {
            var n;
            ((n = $e.currentClient) == null ? void 0 : n.type) === this.type && this.notify("error", t)
        }
        ,
        this.handleTimeExceeded = () => {
            this.notify("time-exceeded")
        }
        ,
        this.sendStatsToSentry = async t => {
            var n;
            (n = t.getStats) == null || n.call(t).then(r => {
                const o = []
                  , a = []
                  , s = []
                  , c = []
                  , l = []
                  , d = []
                  , u = []
                  , m = []
                  , h = [];
                let p = [];
                try {
                    r.forEach(b => {
                        switch (b.type) {
                        case "media-source":
                            {
                                o.push(`${b.id}-${b.kind}`);
                                break
                            }
                        case "transport":
                            {
                                p = [b.dtlsState, b.iceState, b.iceRole, b.packetsSent, b.packetsRecieved];
                                break
                            }
                        case "candidate-pair":
                            {
                                const C = b.id;
                                s.push(`${C}-${b.bytesSent}`),
                                c.push(`${C}-${b.bytesReceived}`),
                                l.push(`${C}-${b.state}`),
                                d.push(`${C}-cp-${b.currentRoundTripTime}`);
                                break
                            }
                        case "outbound-rtp":
                            {
                                u.push([b.id, b.framesEncoded, b.nackCount, b.firCount, b.averageRtcpInterval, b.totalPacketSendDelay].join("-"));
                                break
                            }
                        case "remote-inbound-rtp":
                            {
                                m.push([b.localId, b.roundTripTime, b.totalRoundTripTime, b.fractionLost].join("-"));
                                break
                            }
                        case "remote-outbound-rtp":
                            {
                                h.push([b.localId, b.roundTripTime, b.totalRoundTripTime].join("-"));
                                break
                            }
                        case "codec":
                            {
                                a.push(b.mimeType);
                                break
                            }
                        default:
                        }
                    }
                    )
                } catch {}
                he(new Error("Webrtc: stats collected on connection failed"), "info", {
                    kinds: o.join(","),
                    transport: p.join(","),
                    bytesSent: s.join(","),
                    bytesReceived: c.join(","),
                    candidatePairState: l.join(","),
                    roundTripTimes: d.join(","),
                    mimeTypes: a.join(","),
                    outboundRtp: u.join(","),
                    remoteInboundRtp: m.join(","),
                    remoteOutboundRtp: h.join(",")
                })
            }
            ).catch(r => {}
            )
        }
    }
    init(t) {
        this.params = t;
        const {stream: n, onStart: r, onError: o, onRecordingComplete: a, onTimeExceeded: s} = t;
        if (!this.isSupported()) {
            o == null || o("MediaRecorder error: MediaRecorder is not supported");
            return
        }
        if (!n) {
            o == null || o("MediaRecorder error: stream must be provided");
            return
        }
        if (!t.jwt) {
            o == null || o("MediaRecorder error: jwt must be provided");
            return
        }
        return this.subscribe({
            onStart: r,
            onError: o,
            onRecordingComplete: a,
            onTimeExceeded: s
        })
    }
    isConnected() {
        var t, n;
        return ((t = this.peerConnection) == null ? void 0 : t.connectionState) === "connected" || ((n = this.peerConnection) == null ? void 0 : n.iceConnectionState) === "connected"
    }
    get state() {
        var t, n;
        return ((t = this.peerConnection) == null ? void 0 : t.connectionState) || ((n = this.peerConnection) == null ? void 0 : n.iceConnectionState)
    }
    isSupported() {
        return !!window.RTCPeerConnection
    }
    isRecording() {
        return this.isConnected()
    }
    startRecording() {
        if (!this.hasStarted)
            return this.hasStarted = !0,
            this.getServerConfig(this.params.jwt).then(t => this.createPeerConnection(t, this.params.jwt)).catch(t => this.handleError(t)),
            this
    }
    stopCapture() {
        return this.isConnected() && this.dataChannel && this.sendMessage({
            message_type: "stop_recording"
        }),
        this
    }
    destroy() {
        this.closePeerConnection(),
        this.clearTimeouts(),
        this.clearSubscribers(),
        this.hasStarted = !1
    }
    getBaseUrl(t) {
        const n = fs(t);
        return !n || (n == null ? void 0 : n.aud) === "persona" ? KR : n.aud
    }
    getServerConfig(t) {
        return oi.get(`${this.getBaseUrl(t)}/server-config?jwt=${t}`).then(n => n.data)
    }
    createPeerConnection(t, n) {
        const r = {
            iceTransportPolicy: "relay",
            iceServers: [{
                urls: [t.server_url],
                username: t.username,
                credential: t.credential
            }]
        };
        return this.peerConnection = new RTCPeerConnection(r),
        this.peerConnection.createDataChannel("clientChannel", {
            ordered: !0
        }),
        this.params.stream.getTracks().forEach(o => {
            if (this.peerConnection.addTrack(o, this.params.stream),
            o.kind === "video" && RTCRtpSender.getCapabilities) {
                const {codecs: a} = RTCRtpSender.getCapabilities("video")
                  , s = a.filter(c => c.mimeType.includes("video/VP"));
                if (s.length && this.peerConnection.getTransceivers) {
                    const c = this.peerConnection.getTransceivers().find(l => l.sender && l.sender.track === o);
                    c && c.setCodecPreferences && c.setCodecPreferences(s)
                }
            }
        }
        ),
        this.peerConnection.onconnectionstatechange = () => {
            switch (this.peerConnection.connectionState) {
            case "new":
            case "disconnected":
            case "closed":
                break;
            case "connected":
                this.setEncodings();
                break;
            case "failed":
                this.handleError(new Error("Connection failed")),
                this.sendStatsToSentry(this.peerConnection);
                break
            }
        }
        ,
        this.peerConnection.ondatachannel = o => {
            this.dataChannel = o.channel,
            this.dataChannel.onmessage = a => {
                try {
                    const s = JSON.parse(a.data);
                    this.handleMessage(s.message)
                } catch (s) {
                    this.handleError(s)
                }
            }
            ,
            this.dataChannel.addEventListener("open", () => {
                this.sendMessage({
                    message_type: "client_connected"
                })
            }
            )
        }
        ,
        this.peerConnection.createOffer({
            offerToReceiveVideo: !1,
            offerToReceiveAudio: !1
        }).then(o => this.peerConnection.setLocalDescription(o)).then( () => new Promise( (o, a) => {
            if (this.peerConnection.iceGatheringState === "complete")
                o();
            else {
                let s = 0;
                const c = bC(250, () => {
                    s >= nm && (h(),
                    o())
                }
                )
                  , l = setTimeout( () => {
                    s >= nm ? (h(),
                    o()) : (h(),
                    a(new Error(vg)))
                }
                , QR)
                  , d = () => {
                    this.peerConnection.iceGatheringState === "complete" && (h(),
                    o())
                }
                  , u = p => {
                    Be("WebrtcMediaRecorderClient: ICECandidateError", "info", {
                        errorCode: p == null ? void 0 : p.errorCode,
                        errorText: p == null ? void 0 : p.errorText,
                        url: p == null ? void 0 : p.url,
                        host: p == null ? void 0 : p.hostCandidate
                    })
                }
                  , m = () => {
                    s++,
                    c()
                }
                  , h = () => {
                    c.cancel(),
                    clearTimeout(l),
                    this.peerConnection.removeEventListener("icegatheringstatechange", d),
                    this.peerConnection.removeEventListener("icecandidateerror", u),
                    this.peerConnection.removeEventListener("icecandidate", m)
                }
                ;
                this.peerConnection.addEventListener("icegatheringstatechange", d),
                this.peerConnection.addEventListener("icecandidateerror", u),
                this.peerConnection.addEventListener("icecandidate", m)
            }
        }
        )).then( () => {
            const o = this.peerConnection.localDescription
              , a = this.params.stream.getVideoTracks()[0].getSettings();
            return oi.post(`${this.getBaseUrl(n)}/connect`, {
                sdp: o.sdp,
                type: o.type,
                width: a.width,
                height: a.height,
                jwt: this.params.jwt
            })
        }
        ).then( ({data: {answer: o}}) => this.peerConnection.setRemoteDescription(o))
    }
}
;
const JR = new ZR
  , XR = 4
  , im = ["stream", "upload"];
class eA {
    constructor() {
        this.attempts = 0,
        this.current = void 0,
        this.lastSuccessfulClient = void 0,
        this.maxAttempts = XR
    }
    getNewClient(t) {
        let n;
        if (t || (t = im),
        this.videoAttempts > 0) {
            const r = this.getClientFromAttempts(this.videoAttempts - 1, t);
            this.destroyClient(r, !0)
        }
        return this.lastSuccessfulClient ? n = this.lastSuccessfulClient : n = this.getClientFromAttempts(this.videoAttempts, t),
        this.current = n,
        this.lastSuccessfulClient = void 0,
        n
    }
    get currentClient() {
        return this.current
    }
    get videoAttempts() {
        return this.attempts
    }
    decrementAttempts() {
        this.attempts--
    }
    destroy(t, n=!1) {
        var r;
        t && J.logAmplitude(`${t}.video.destroy-client`, {
            type: (r = this.current) == null ? void 0 : r.type
        }),
        this.destroyClient(this.current, n),
        this.current = void 0
    }
    recordVideoAttempt() {
        this.attempts++
    }
    markClientSuccess() {
        this.lastSuccessfulClient = this.currentClient,
        this.decrementAttempts()
    }
    shouldInitializeVideo(t) {
        return !!(t != null && t.includes("video")) && this.videoAttempts < this.maxAttempts
    }
    videoCanBeReattempted() {
        return this.videoAttempts < this.maxAttempts
    }
    shouldReinitializeWithUpload(t, n) {
        var r;
        return ((r = this.currentClient) == null ? void 0 : r.type) === "stream" && t instanceof Error && (t == null ? void 0 : t.message) === vg && (n || im).includes("upload") && this.videoCanBeReattempted()
    }
    getClientFromAttempts(t, n) {
        return n[t % n.length] === "stream" ? JR : zR
    }
    destroyClient(t, n=!1) {
        n && (t != null && t.stream) && rg(t.stream),
        t == null || t.destroy()
    }
}
const $e = new eA;
function Ui(e) {
    return e ? (e == null ? void 0 : e["audio-enabled"]) && (e == null ? void 0 : e["enabled-capture-file-types"].includes("video")) && D.canRequestMicrophone : !1
}
function Ig(e, t) {
    if (e === "stream" && t["inquiry:lower-bitrate-video-stream"])
        return 5e5
}
function Sg(e, t, n) {
    var r, o, a;
    if (!(!e || e.indexOf("video") < 0)) {
        if ((t == null ? void 0 : t.type) === "stream" && (t == null ? void 0 : t.objectId) != null) {
            J.logAmplitude(`${n}.video.submit-success`, {
                type: t == null ? void 0 : t.type
            });
            return
        }
        if ((t == null ? void 0 : t.type) === "upload" && (t == null ? void 0 : t.chunks) != null) {
            J.logAmplitude(`${n}.video.submit-success`, {
                type: t == null ? void 0 : t.type,
                chunks: (r = t == null ? void 0 : t.chunks) == null ? void 0 : r.length,
                mimeType: t == null ? void 0 : t.mimeType
            });
            return
        }
        J.logAmplitude(`${n}.video.submit-failed`, {
            attempts: $e.videoAttempts,
            clientType: (o = $e.currentClient) == null ? void 0 : o.type,
            isDataAvailableCalled: ((a = $e.currentClient) == null ? void 0 : a.type) === "upload" ? $e.currentClient.dataAvailableCalled : void 0
        })
    }
}
function oa(e, t) {
    if (e == null)
        throw new Error("nullthrows: unexpected null or undefined");
    return e
}
async function rm({inquiry: e, config: t, capturedSelfiesSubmitData: n, multipart: r=!0}) {
    const o = t["selfie-type"]
      , {capturedVideoData: a} = n;
    let {capturedSelfies: s} = n;
    if (o === rn.ProfileAndCenter && (s = [ui(s, ue.Center), ui(s, ue.Left), ui(s, ue.Right)].filter(Boolean),
    s.length < 3)) {
        const d = n.capturedSelfies;
        Be("Selfie ProfileAndCenter but client captured less than 3 poses", "warning", {
            capturedSelfiesMetadata: d == null ? void 0 : d.map(u => ({
                capturedAt: u == null ? void 0 : u.capturedAt,
                captureMethod: u == null ? void 0 : u.captureMethod,
                pose: u == null ? void 0 : u.pose
            })),
            capturedVideoDataType: a == null ? void 0 : a.type
        }, {
            jira: "PER-28421"
        })
    }
    let c = s.map(d => {
        const u = o === rn.OnlyCenter && d.pose === ue.Center ? "photo" : `${d.pose}_photo`;
        return {
            name: u,
            type: "image",
            "capture-method": d.captureMethod,
            "captured-at": d.capturedAt,
            frames: Ir([{
                filename: `${u}.jpeg`,
                fileType: "image/jpeg",
                dataUrl: d.dataUrl
            }], r)
        }
    }
    );
    (a == null ? void 0 : a.type) === "stream" ? c = c.concat([{
        name: "video",
        type: "video",
        "capture-method": gt.Auto,
        frames: [],
        "object-id": a.objectId
    }]) : (a == null ? void 0 : a.type) === "upload" && (c = c.concat([{
        name: "video",
        type: "video",
        "capture-method": gt.Auto,
        frames: [rf(a.chunks, `video.${rr(a.mimeType)}`, a.mimeType)]
    }]));
    const l = {
        type: o,
        files: c,
        "camera-properties": n.cameraInspectionData
    };
    return n.movementData && (l["movement-data"] = n.movementData.join(",")),
    n.captureStartedAt && (l["capture-started-at"] = n.captureStartedAt),
    {
        id: e.id,
        type: e.type,
        attributes: {
            fields: {
                [t["field-key-selfie"]]: l
            },
            "flow-type": D.flowType
        }
    }
}
function yg({inquiry: e, config: t, capturedSelfiesSubmitData: n, debugForcedStatus: r, history: o, t: a, featureFlags: s={}}) {
    return async c => {
        var S, v, x, _, R, E;
        let l = await rm({
            inquiry: e,
            config: t,
            capturedSelfiesSubmitData: n,
            multipart: !0
        })
          , d = "multipart/form-data";
        lv(n.capturedSelfies) || Sg(t == null ? void 0 : t["enabled-capture-file-types"], n.capturedVideoData, "selfie"),
        c(Ei(0));
        const u = T => {
            var F;
            c(Ei((F = T.progress) != null ? F : 0))
        }
          , m = new Date().getTime();
        c(_n());
        let h, p;
        for (p = 0; p < sr; p++)
            try {
                if (s != null && s["inquiry:log-messages-to-sentry-to-debug-missing-files"])
                    try {
                        const T = l.attributes.fields[t["field-key-selfie"]];
                        T.type === rn.ProfileAndCenter && T.files.length < 3 && Be("Selfie Payload right before submitting - ProfileAndCenter but less than 3 files", "warning", {
                            selfieType: T.type,
                            selfieFiles: T.files.map(F => {
                                var O;
                                return {
                                    name: F.name,
                                    type: F.type,
                                    captureMethod: F["capture-method"],
                                    capturedAt: F["captured-at"],
                                    frameLength: (O = F.frames) == null ? void 0 : O.length
                                }
                            }
                            ),
                            "camera-properties": T["camera-properties"],
                            "movement-data": T["movement-data"],
                            "capture-started-at": T["capture-started-at"]
                        }, {
                            jira: "PER-28421"
                        }),
                        T.files.forEach(F => {
                            F.frames.length === 0 && Be("Selfie file frame is empty", "warning", {
                                selfieFile: F
                            }, {
                                jira: "PER-28421"
                            })
                        }
                        )
                    } catch (T) {
                        T instanceof Error && Be("Failed to check selfie payload, error: " + T.message, "warning", {}, {
                            jira: "PER-28421"
                        })
                    }
                h = await te.postResourceAction(l, "transition", {
                    meta: {
                        "from-component": e.attributes["next-step"].name,
                        "from-step": e.attributes["next-step"].name,
                        "workflow-initial-variables": {
                            "debug-forced-status": r
                        }
                    },
                    contentType: d,
                    onUploadProgress: u
                }),
                D.inquiryParams["send-client-side-collected-data-in-events"] && c(Ta({
                    name: e.attributes["next-step"].name,
                    type: Ge.Selfie,
                    data: n.capturedSelfies
                }));
                break
            } catch (T) {
                if (T instanceof ht) {
                    let F = !1;
                    switch (T.status) {
                    case 502:
                        c(ce(a("errors.network-upload")));
                        break;
                    case 409:
                        if (((S = T.errors) == null ? void 0 : S[0].code) === "inconsistent_transition_error") {
                            const {data: O} = await te.getResource(y.Inquiry, e.id);
                            c(Dt(O))
                        } else
                            ((v = T.errors) == null ? void 0 : v[0].code) === "pending_transition_error" ? c(ce(a("errors.network"))) : c(ce(a("errors.inquiry-conflict")));
                        break;
                    case 413:
                        c(ce(a("errors.image-upload-too-large")));
                        break;
                    case 422:
                        if (p === 0)
                            l = await rm({
                                inquiry: e,
                                config: t,
                                capturedSelfiesSubmitData: n,
                                multipart: !1
                            }),
                            d = "application/json";
                        else {
                            c(ce(a("government-id.prompt.failed-select-image")));
                            break
                        }
                    default:
                        F = !0
                    }
                    if (F === !1)
                        throw c(ut()),
                        new vn({
                            method: "POST"
                        })
                } else
                    T instanceof xt || he(T, "error", {
                        attempt: p
                    });
                if (p === sr - 1)
                    throw c(ut()),
                    J.logAmplitude("selfie.submit.failed", {
                        attempts: p,
                        duration: new Date().getTime() - m
                    }),
                    T
            }
        try {
            [ue.Center, ue.Left, ue.Right].forEach(T => {
                var U, V;
                const F = ui(n.capturedSelfies, T);
                if (F == null)
                    return;
                const {dataUrl: O, captureMethod: N} = F;
                O.length < Pr && Be("Selfie verification contains potentially blank image", "warning", {}, {
                    captureMethod: N,
                    side: T,
                    videoEnabled: (n.capturedVideoData != null).toString(),
                    videoCaptureMethod: (V = (U = n.capturedVideoData) == null ? void 0 : U.type) != null ? V : ""
                })
            }
            )
        } catch (T) {
            he(T, "warning")
        }
        if (h.data == null) {
            const T = t["selfie-type"];
            throw he(new Error("No data returned from create verification saga"), "warning", {
                response: h,
                selfieType: T,
                captureMethod: (x = ui(n.capturedSelfies, ue.Center)) == null ? void 0 : x.captureMethod,
                uploads: {
                    centerSize: (_ = ui(n.capturedSelfies, ue.Center)) == null ? void 0 : _.dataUrl.length,
                    leftSize: (R = ui(n.capturedSelfies, ue.Left)) == null ? void 0 : R.dataUrl.length,
                    rightSize: (E = ui(n.capturedSelfies, ue.Right)) == null ? void 0 : E.dataUrl.length
                }
            }),
            c(ce(a("government-id.prompt.failed-select-image"))),
            c(ut()),
            new vn({
                method: "POST"
            })
        }
        J.logAmplitude("selfie.submit.completed", {
            duration: new Date().getTime() - m,
            attempts: p + 1
        });
        const {data: b} = h;
        c(Ot(b)),
        c(Ei(0)),
        n.capturedVideoData && $e.markClientSuccess(),
        Oi(b) === nn.BLOCKING ? await c(Gn(b, {
            historyToClear: o
        })) : (c(ut()),
        c(Dt(b)))
    }
}
function om({inquiry: e, config: t, governmentIdClass: n, uploads: r, clientExtractionRaws: o, clientExtractionSource: a, cameraInspectionData: s, videoData: c, multipart: l=!0}) {
    var b, C, S, v, x, _;
    const d = r[B.Front] || r[B.FrontOrBack]
      , u = r[B.Back] || r[B.BarcodePdf417]
      , m = r[B.PassportSignature]
      , h = [{
        page: B.Front,
        "capture-method": (b = Wt(d)) == null ? void 0 : b.captureMethod,
        "capture-flow": (C = Wt(d)) == null ? void 0 : C.captureFlow,
        frames: Ir(d, l)
    }, {
        page: B.Back,
        "capture-method": (S = Wt(u)) == null ? void 0 : S.captureMethod,
        "capture-flow": (v = Wt(u)) == null ? void 0 : v.captureFlow,
        frames: Ir(u, l)
    }, {
        page: B.PassportSignature,
        "capture-method": (x = Wt(m)) == null ? void 0 : x.captureMethod,
        "capture-flow": (_ = Wt(m)) == null ? void 0 : _.captureFlow,
        frames: Ir(m, l)
    }];
    c && (c.type === "stream" ? h.push({
        page: "front_and_back",
        type: "video",
        "capture-flow": null,
        "capture-method": null,
        frames: [],
        "object-id": c.objectId
    }) : c.type === "upload" && h.push({
        page: "front_and_back",
        type: "video",
        "capture-flow": null,
        "capture-method": null,
        frames: [rf(c.chunks, `video.${rr(c.mimeType)}`, c.mimeType)]
    }));
    const p = {
        "client-extraction-source": a,
        "client-extraction-raws": o,
        "camera-properties": s,
        files: h.filter(R => R.frames.length !== 0 || R["object-id"] != null)
    };
    return {
        id: e.id,
        type: e.type,
        attributes: {
            fields: {
                [t["field-key-idclass"]]: n,
                [t["field-key-document"]]: p
            },
            "flow-type": D.flowType
        }
    }
}
const sr = 3;
function tA({inquiry: e, config: t, governmentIdClass: n, uploads: r, clientExtractionRaws: o, clientExtractionSource: a, cameraInspectionData: s, videoData: c, debugForcedStatus: l, history: d, t: u, opts: m={}, featureFlags: h={}}) {
    return async p => {
        var T, F, O;
        let b = om({
            inquiry: e,
            config: t,
            governmentIdClass: n,
            uploads: r,
            clientExtractionRaws: o,
            clientExtractionSource: a,
            cameraInspectionData: s,
            videoData: c,
            multipart: !0
        })
          , C = "multipart/form-data";
        vl(r) || Sg(t == null ? void 0 : t["enabled-capture-file-types"], c, "government-id"),
        p(Ei(0));
        const S = N => {
            var U;
            p(Ei((U = N.progress) != null ? U : 0))
        }
          , v = new Date().getTime();
        p(_n());
        let x, _;
        for (_ = 0; _ < sr; _++)
            try {
                if (h != null && h["inquiry:log-messages-to-sentry-to-debug-missing-files"])
                    try {
                        const N = b.attributes.fields[t["field-key-document"]];
                        N.files.filter(V => V.type !== "video").length < 1 && Be("GovId Payload right before submitting - no non-video files", "warning", {
                            govIdFilesLength: N.files.length
                        }, {
                            jira: "PER-28421"
                        })
                    } catch (N) {
                        N instanceof Error && Be("Failed to check gov id payload, error: " + N.message, "warning", {}, {
                            jira: "PER-28421"
                        })
                    }
                x = await te.postResourceAction(b, "transition", {
                    meta: {
                        "from-component": e.attributes["next-step"].name,
                        "from-step": e.attributes["next-step"].name,
                        "workflow-initial-variables": {
                            "debug-forced-status": l
                        }
                    },
                    contentType: C,
                    onUploadProgress: S
                }),
                D.inquiryParams["send-client-side-collected-data-in-events"] && p(Ta({
                    name: e.attributes["next-step"].name,
                    type: Ge.GovernmentId,
                    data: r
                }));
                break
            } catch (N) {
                if (N instanceof ht) {
                    let U = !1;
                    switch (N.status) {
                    case 502:
                        p(ce(u("errors.network-upload")));
                        break;
                    case 401:
                        return;
                    case 409:
                        switch ((T = N.errors) == null ? void 0 : T[0].code) {
                        case "inconsistent_transition_error":
                            {
                                const {data: V} = await te.getResource(y.Inquiry, e.id);
                                p(Dt(V));
                                break
                            }
                        case "pending_transition_error":
                            {
                                p(ce(u("errors.network")));
                                break
                            }
                        default:
                            p(ce(u("errors.inquiry-conflict")))
                        }
                        break;
                    case 413:
                        p(ce(u("errors.image-upload-too-large")));
                        break;
                    case 422:
                        _ === 0 ? (b = om({
                            inquiry: e,
                            config: t,
                            governmentIdClass: n,
                            uploads: r,
                            clientExtractionRaws: o,
                            clientExtractionSource: a,
                            cameraInspectionData: s,
                            videoData: c,
                            multipart: !1
                        }),
                        C = "application/json",
                        U = !0) : wg(N, d, p, u);
                        break;
                    default:
                        U = !0
                    }
                    if (U === !1)
                        throw p(ut()),
                        new vn({
                            method: "POST"
                        })
                } else
                    N instanceof xt || he(N, "error", {
                        attempt: _
                    });
                if (_ === sr - 1)
                    throw p(ut()),
                    J.logAmplitude("government-id.submit.failed", {
                        attempts: _,
                        duration: new Date().getTime() - v
                    }),
                    N
            }
        try {
            [B.Front, B.Back, B.BarcodePdf417, B.FrontOrBack, B.PassportSignature].forEach(N => {
                var U;
                (U = r[N]) == null || U.forEach(V => {
                    var ee;
                    if (V == null)
                        return;
                    const {dataUrl: ne, fileType: L, captureMethod: H, captureFlow: q} = V;
                    ne.length < Pr && Be("Government ID verification contains potentially blank image", "warning", {}, {
                        captureMethod: H,
                        side: N,
                        fileType: L,
                        captureFlow: q,
                        videoEnabled: (c != null).toString(),
                        videoCaptureMethod: (ee = c == null ? void 0 : c.type) != null ? ee : ""
                    })
                }
                )
            }
            )
        } catch (N) {
            he(N, "warning")
        }
        if (x.data == null)
            throw he(new Error("No data returned from create verification saga"), "warning", {
                response: x,
                governmentIdClass: n,
                captureMethod: Xr(r).map(N => {
                    var U;
                    return (U = Wt(N)) == null ? void 0 : U.captureMethod
                }
                ),
                captureFlow: Xr(r).map(N => {
                    var U;
                    return (U = Wt(N)) == null ? void 0 : U.captureFlow
                }
                ),
                uploads: {
                    backSizes: (F = r.back) == null ? void 0 : F.map(N => {
                        var U;
                        return (U = N.dataUrl) == null ? void 0 : U.length
                    }
                    ),
                    frontSizes: (O = r.front) == null ? void 0 : O.map(N => {
                        var U;
                        return (U = N.dataUrl) == null ? void 0 : U.length
                    }
                    )
                }
            }),
            p(ce(u("government-id.prompt.failed-select-image"))),
            p(ut()),
            new vn({
                method: "POST"
            });
        J.logAmplitude("government-id.submit.completed", {
            duration: new Date().getTime() - v,
            attempts: _ + 1
        });
        const {data: R} = x;
        p(Ot(R)),
        p(Ei(0)),
        c && $e.markClientSuccess(),
        Oi(R) === nn.BLOCKING ? p(En("/inquiry/government-id/pending", {
            transition: m.transition
        })) : (p(ut()),
        p(Dt(R)))
    }
}
var aa = (e => (e.ACCEPTED = "id_accepted",
e.REJECTED = "id_rejected",
e.FAILED = "classification_failed",
e))(aa || {});
function nA({inquiry: e, uploads: t, history: n, t: r, debugForcedStatus: o}) {
    return async a => {
        var u, m;
        const s = t[B.Front]
          , c = cd(oa(Wt(s)), !0);
        let l = null, d;
        for (d = 0; d < sr; d++)
            try {
                l = await te.postResourceAction({
                    attributes: {
                        image: c
                    },
                    id: e.id,
                    type: e.type
                }, "government-id-classification", {
                    meta: {
                        "workflow-initial-variables": {
                            "debug-forced-status": o
                        }
                    },
                    contentType: "multipart/form-data"
                });
                break
            } catch (h) {
                if (h instanceof ht) {
                    let p = !1;
                    switch (h.status) {
                    case 502:
                        a(ce(r("errors.network-upload")));
                        break;
                    case 409:
                        switch ((u = h.errors) == null ? void 0 : u[0].code) {
                        case "inconsistent_transition_error":
                            {
                                const {data: b} = await te.getResource(y.Inquiry, e.id);
                                a(Dt(b));
                                break
                            }
                        default:
                            a(ce(r("errors.inquiry-conflict")))
                        }
                        break;
                    case 413:
                        a(ce(r("errors.image-upload-too-large")));
                        break;
                    case 422:
                        wg(h, n, a, r);
                        break;
                    default:
                        p = !0
                    }
                    if (p === !1)
                        throw a(ut()),
                        new vn({
                            method: "POST"
                        })
                } else
                    h instanceof xt || he(h, "error", {
                        attempt: d
                    });
                if (d === sr - 1)
                    throw a(ut()),
                    h
            }
        try {
            return l != null && l["country-code"] && (l["country-code"] = l["country-code"].toUpperCase()),
            (m = l == null ? void 0 : l["id-classes-by-countries"]) == null || m.forEach(h => {
                h["country-code"] = h["country-code"].toUpperCase()
            }
            ),
            oa(l)
        } catch (h) {
            throw he(h, "warning"),
            new vn({
                method: "POST"
            })
        }
    }
}
function wg(e, t, n, r) {
    var a, s, c, l;
    const o = (a = e.errors) == null ? void 0 : a[0].code;
    switch (o) {
    case wn.DOCUMENT_GOVERNMENT_ID_DIMENSION_SIZE_ERROR:
        {
            const u = (c = ((s = e.errors) == null ? void 0 : s[0]).details) == null ? void 0 : c.min_dimension_size;
            An(t),
            t.push(Ut(0, Ke.Prompt)),
            n(ce(r("government-id.prompt.dimension-size-too-small", {
                minDimensionSize: u
            }))),
            n(ut());
            return
        }
    case wn.DOCUMENT_GOVERNMENT_ID_TOO_SMALL:
    case wn.DOCUMENT_GOVERNMENT_ID_ALL_BLACK_IMAGE:
        {
            An(t),
            t.push(Ut(0, Ke.Prompt)),
            n(ce(r("government-id.prompt.failed-black-image"))),
            n(ut());
            return
        }
    case wn.DOCUMENT_GOVERNMENT_ID_DISABLED_FILE_TYPE_ERROR:
        {
            const u = ((l = e.errors) == null ? void 0 : l[0]).details
              , m = rr(u.uploaded_file_type).toUpperCase()
              , h = u.enabled_file_types.map(p => rr(p).toUpperCase());
            An(t),
            t.push(Ut(0, Ke.Prompt)),
            n(ce(r("documents.errors.disabled-file-type", {
                uploadedFileExtension: m,
                acceptedFileExtensions: h.join(", "),
                count: h.length
            }))),
            n(ut());
            return
        }
    default:
        {
            if (o && /must be under \d+ bytes/.test(o)) {
                const d = o.match(/must be under (\d+) bytes/);
                if (d) {
                    const u = jd(parseInt(d[1]));
                    n(ce(r("documents.errors.file-size-exceeded", {
                        fileSizeLimit: u
                    })));
                    return
                }
            }
            n(ce(r("government-id.prompt.failed-select-image")));
            break
        }
    }
}
function _g({inquiry: e, debugForcedStatus: t, t: n, uploadedFiles: r}) {
    return async o => {
        var m, h;
        o(Ei(0));
        const a = p => {
            var b;
            o(Ei((b = p.progress) != null ? b : 0))
        }
          , s = new Date().getTime();
        o(_n());
        let c, l;
        for (l = 0; l < sr; l++)
            try {
                c = await te.postResourceAction({
                    type: e.type,
                    id: e.id,
                    attributes: {
                        "flow-type": D.flowType
                    }
                }, "transition", {
                    meta: {
                        "from-component": e.attributes["next-step"].name,
                        "from-step": e.attributes["next-step"].name,
                        "workflow-initial-variables": {
                            "debug-forced-status": t
                        }
                    },
                    onUploadProgress: a
                }),
                D.inquiryParams["send-client-side-collected-data-in-events"] && o(Ta({
                    name: e.attributes["next-step"].name,
                    type: Ge.Document,
                    data: (r || []).map(p => p.file)
                }));
                break
            } catch (p) {
                if (p instanceof ht) {
                    let b = !1;
                    switch (p.status) {
                    case 502:
                        o(ce(n("errors.network-upload")));
                        break;
                    case 409:
                        if (((m = p.errors) == null ? void 0 : m[0].code) === "inconsistent_transition_error") {
                            const {data: C} = await te.getResource(y.Inquiry, e.id);
                            o(Dt(C))
                        } else
                            ((h = p.errors) == null ? void 0 : h[0].code) === "pending_transition_error" ? o(ce(n("errors.network"))) : o(ce(n("errors.inquiry-conflict")));
                        break;
                    case 413:
                        o(ce(n("errors.image-upload-too-large")));
                        break;
                    case 422:
                        o(ce(n("government-id.prompt.failed-select-image")));
                        break;
                    default:
                        b = !0
                    }
                    if (b === !1)
                        throw o(ut()),
                        new vn({
                            method: "POST"
                        })
                } else
                    p instanceof xt || he(p, "error", {
                        attempt: l
                    });
                if (l === sr - 1)
                    throw o(ut()),
                    J.logAmplitude("document.submit.failed", {
                        attempts: l,
                        duration: new Date().getTime() - s
                    }),
                    p
            }
        if (c.data == null)
            throw he(new Error("No data returned from create document verification saga"), "warning", {
                response: c
            }),
            o(ce(n("government-id.prompt.failed-select-image"))),
            o(ut()),
            new vn({
                method: "POST"
            });
        J.logAmplitude("document.submit.completed", {
            duration: new Date().getTime() - s,
            attempts: l + 1
        });
        const {data: d} = c;
        o(Ot(d)),
        o(ag()),
        Oi(d) === nn.BLOCKING ? o(En("/inquiry/documents/pending")) : (o(ut()),
        o(Dt(d)))
    }
}
const iA = g.div.withConfig({
    displayName: "ConfirmFileUploadView__Container",
    componentId: "sc-1t7pp0y-0"
})(["display:flex;flex-direction:column;"])
  , rA = g("div").withConfig({
    displayName: "ConfirmFileUploadView__Header",
    componentId: "sc-1t7pp0y-1"
})(["min-height:", ";margin-bottom:", "px;"], We.header, M.base * 4)
  , oA = g("div").withConfig({
    displayName: "ConfirmFileUploadView__ConfirmFileContainer",
    componentId: "sc-1t7pp0y-2"
})(["background-color:", ";border-radius:", ";margin-bottom:", "px;min-height:80px;padding:0px ", "px;display:flex;flex-direction:row;justify-content:start;align-items:center;"], Fe.gray4, ln.rounded, M.base * 8, M.base * 2)
  , aA = g.div.withConfig({
    displayName: "ConfirmFileUploadView__IconContainer",
    componentId: "sc-1t7pp0y-3"
})(["margin-right:", "px;display:flex;"], M.base)
  , sA = g("div").withConfig({
    displayName: "ConfirmFileUploadView__FileNameContainer",
    componentId: "sc-1t7pp0y-4"
})(["color:", ";font-weight:", ";word-break:break-all;"], Fe.black, on.semiBold)
  , cA = g("div").withConfig({
    displayName: "ConfirmFileUploadView__Minify",
    componentId: "sc-1t7pp0y-5"
})(["display:inline;img{height:12px;margin-bottom:4px;}"]);
function Rg({customFileIcon: e, fileName: t, isProcessing: n, handleContinue: r, handleRetry: o, titleStyles: a, textStyles: s, buttonStyles: c, title: l, prompt: d, uploading: u, btnSubmit: m, btnRetake: h}) {
    return i.jsxs(iA, {
        children: [i.jsxs(rA, {
            children: [i.jsx(ct, {
                styles: a,
                children: i.jsx(X, {
                    children: l
                })
            }), i.jsx(ot, {
                styles: s,
                children: i.jsx(X, {
                    children: d
                })
            })]
        }), i.jsxs(oA, {
            children: [i.jsx(aA, {
                children: i.jsx(Ue, {
                    customImage: e,
                    alt: "file icon",
                    children: i.jsx(pe, {
                        children: i.jsx(Fs, {})
                    })
                })
            }), i.jsx(sA, {
                children: t
            })]
        }), i.jsxs(mt, {
            children: [i.jsx(fe, {
                buttonType: Q.Primary,
                styles: c == null ? void 0 : c[Q.Primary],
                disabled: n,
                onClick: r,
                "data-test": "confirm-file-upload__continue",
                children: n ? i.jsxs("span", {
                    children: [u, i.jsx(cA, {
                        children: i.jsx(Qi, {})
                    })]
                }) : m
            }), c == null && i.jsx(Xe, {
                height: 2
            }), i.jsx(fe, {
                buttonType: Q.Secondary,
                styles: c == null ? void 0 : c[Q.Secondary],
                onClick: o,
                disabled: n,
                "data-test": "confirm-file-upload__retry",
                children: h
            })]
        })]
    })
}
const jc = {}
  , lc = f.memo(function({contentType: t, src: n, "data-test": r="image", environment: o="production", ...a}) {
    var C, S;
    const [s,{disable: c}] = rt(!0);
    let l;
    try {
        l = new URL(n).pathname
    } catch {
        l = n
    }
    const [d,u] = f.useState(jc[l])
      , m = l == null ? void 0 : l.toLowerCase()
      , h = (m == null ? void 0 : m.endsWith(".png")) || (m == null ? void 0 : m.endsWith(".gif")) || (m == null ? void 0 : m.endsWith(".jpg")) || (m == null ? void 0 : m.endsWith(".jpeg")) || (n == null ? void 0 : n.startsWith("data:image/png;")) || (n == null ? void 0 : n.startsWith("data:image/jpeg;")) || (n == null ? void 0 : n.startsWith("blob:")) || t === "image/png" || t === "image/gif" || t === "image/jpg" || t === "image/jpeg"
      , p = t === "image/svg+xml" || (m == null ? void 0 : m.endsWith(".svg")) || (n == null ? void 0 : n.startsWith("data:image/svg+xml"))
      , b = (m == null ? void 0 : m.endsWith(".json")) || t === "application/json";
    return f.useEffect( () => {
        if (o === "production" && !(n != null && n.startsWith("https://files.withpersona.com/") || n != null && n.startsWith("https://files.withpersona-staging.com/"))) {
            c();
            return
        }
        p ? oi.get(n).then( ({data: v}) => {
            const x = `data:image/svg+xml;base64,${btoa(v)}`;
            jc[l] = x,
            u(x)
        }
        ).catch(v => nr({
            error: v,
            method: "GET",
            uri: n
        })).finally(c) : b && oi.get(n).then( ({data: v}) => {
            var x;
            jc[l] = v,
            u(v),
            (x = a.onLoad) == null || x.call(a)
        }
        ).catch(v => {
            var x;
            (x = a.onError) == null || x.call(a),
            nr({
                error: v,
                method: "GET",
                uri: n
            })
        }
        ).finally(c)
    }
    , [n, h, b, p]),
    n ? h ? i.jsx("img", {
        ...a,
        src: n,
        "data-test": r
    }) : p && d != null ? i.jsx("img", {
        ...a,
        src: d,
        "data-test": r
    }) : b && d != null ? i.jsx(Vn, {
        role: "img",
        animationData: d,
        style: {
            height: (C = a.height) != null ? C : "auto",
            width: (S = a.width) != null ? S : "auto"
        }
    }) : i.jsx("div", {
        "aria-label": s ? "loading image" : "no image",
        "data-test": `${r}__${s ? "loading" : "empty"}`,
        className: a.className
    }) : null
});
function Ag(e) {
    return i.jsx(lc, {
        src: e.src,
        style: {
            imageOrientation: "from-image"
        },
        alt: e.alt
    })
}
const lA = g.div.withConfig({
    displayName: "InquiryDocumentsCheckView__Container",
    componentId: "sc-o0bjv1-0"
})(["display:flex;flex-direction:column;"])
  , dA = g("div").withConfig({
    displayName: "InquiryDocumentsCheckView__Header",
    componentId: "sc-o0bjv1-1"
})(["min-height:", ";margin-bottom:", "px;"], We.header, M.base * 4)
  , uA = g("div").withConfig({
    displayName: "InquiryDocumentsCheckView__ImagePositioner",
    componentId: "sc-o0bjv1-2"
})(["img{display:block;margin-left:auto;margin-right:auto;max-width:100%;max-height:320px;margin-bottom:", "px;}"], M.base * 2)
  , mA = g("div").withConfig({
    displayName: "InquiryDocumentsCheckView__Minify",
    componentId: "sc-o0bjv1-3"
})(["display:inline;img{height:12px;margin-bottom:4px;}"]);
function hA(e) {
    const {base: t, buttons: n} = Ur()
      , {currentUpload: r, currentUploadCaptureMethod: o, localizations: a, handleContinue: s, handleRetry: c, isProcessing: l} = e;
    return !Oo.includes(r.fileType) || o === gt.Upload ? i.jsx(Rg, {
        fileName: r.filename,
        isProcessing: l,
        handleContinue: s,
        handleRetry: c,
        title: a["confirm-upload-title"],
        prompt: a["confirm-upload-prompt"],
        uploading: a["confirm-upload-uploading"],
        btnSubmit: a["confirm-upload-btn-submit"],
        btnRetake: a["confirm-upload-btn-retake"],
        titleStyles: t == null ? void 0 : t.titleStyle,
        textStyles: t == null ? void 0 : t.textStyle,
        buttonStyles: n
    }) : i.jsxs(lA, {
        children: [i.jsxs(dA, {
            children: [i.jsx(ct, {
                styles: t == null ? void 0 : t.titleStyle,
                children: i.jsx(X, {
                    children: a.title
                })
            }), i.jsx(ot, {
                styles: t == null ? void 0 : t.textStyle,
                children: i.jsx(X, {
                    children: a.prompt
                })
            })]
        }), i.jsx(uA, {
            children: i.jsx(Ag, {
                src: r.dataUrl,
                alt: "upload preview"
            })
        }), i.jsxs(mt, {
            children: [i.jsx(fe, {
                id: "documents-check__use-image",
                buttonType: Q.Primary,
                styles: n == null ? void 0 : n[Q.Primary],
                disabled: l,
                onClick: s,
                "data-test": "documents-check__continue",
                children: l ? i.jsxs("span", {
                    children: [a.uploading, i.jsx(mA, {
                        children: i.jsx(Qi, {})
                    })]
                }) : a["btn-submit"]
            }), n == null && i.jsx(Xe, {
                height: 2
            }), i.jsx(fe, {
                id: "documents-check__retake",
                buttonType: Q.Secondary,
                styles: n == null ? void 0 : n[Q.Secondary],
                disabled: l,
                onClick: c,
                "data-test": "documents-check__retake",
                children: a["btn-retake"]
            })]
        })]
    })
}
const pA = e => e.inquiry.currentStep
  , fA = e => e.inquiry.documents
  , gA = e => e.inquiry.verifications
  , dc = si([pA], e => e.type === Ge.DocumentsUpload ? e.config : null)
  , Da = si([dc, fA, gA], (e, t, n) => {
    if (e == null)
        return [];
    const r = CC(c => c.relationships.document.data.id, n == null ? void 0 : n.filter(c => c.type === w.VerificationDocument))
      , o = hp(t).filter(c => {
        var l;
        return ((l = r[c.id]) == null ? void 0 : l.attributes.status) === Et.Passed
    }
    )
      , a = xC(c => c.attributes.kind, o);
    return e.required.reduce( (c, l) => (a[l.kind] > 0 ? (a[l.kind] -= 1,
    c.push({
        ...l,
        submitted: !0
    })) : c.push({
        ...l,
        submitted: !1
    }),
    c), [])
}
)
  , bA = si([dc], e => (e || {})["intro-screen"])
  , CA = si([dc], e => (e || {})["skip-intro-screen"])
  , Tg = e => {
    var t;
    return (t = Wt(e.document.uploads)) == null ? void 0 : t.file
}
;
function xA(e) {
    const {captureMethod: t, config: n, debugForcedStatus: r, document: o, fileToUpload: a, inquiry: s, uploadedFiles: c, styles: l, featureFlags: d} = e
      , u = (n == null ? void 0 : n["document-file-limit"]) > 1
      , m = Vt();
    f.useEffect( () => {
        if (s == null || o == null || a == null) {
            D.redirectToStart();
            return
        }
        return e.fileToUpload || (e.showMessage(h("errors.network")),
        m.goBack()),
        () => {
            e.clearUpload(a)
        }
    }
    , []),
    f.useEffect( () => {
        try {
            d != null && d["inquiry:enable-amplitude-logging-on-combined-step-page-enter"] && J.logAmplitude("documents.check-page.entered", {})
        } catch {}
    }
    , []);
    const [h] = G()
      , {error: p, loading: b, callback: C} = vt(async () => {
        e.clearMessages(),
        a.dataUrl.length > Gs && e.showMessage(Oo.includes(a.fileType) ? n.localizations["check-page"]["large-image-upload"] : n.localizations["check-page"]["large-file-upload"]),
        await e.createDocumentFile({
            file: a,
            captureMethod: t,
            document: o,
            t: h
        }),
        u ? (e.loadDocument(o.id),
        m.replace(ha(Pt.TakePhoto))) : await e.documentSubmit({
            inquiry: s,
            debugForcedStatus: r,
            t: h,
            uploadedFiles: c
        })
    }
    , [s, a, r, h, u, c]);
    _t({
        error: p,
        onError: () => e.showMessage(h("documents.prompt.failed-select-image")),
        onNetworkError: () => e.showMessage(h("errors.network"))
    });
    const S = () => {
        b || (m.goBack(),
        e.clearUpload(a))
    }
    ;
    return s == null || n == null || o == null || a == null ? null : i.jsx(nc, {
        value: l,
        children: i.jsx(hA, {
            currentUpload: a,
            currentUploadCaptureMethod: t,
            handleContinue: C,
            handleRetry: S,
            isProcessing: b,
            localizations: n.localizations["check-page"]
        })
    })
}
function vA(e) {
    return {
        captureMethod: e.verification.captureMethod,
        config: ka(e),
        debugForcedStatus: e.test.forcedStatus,
        document: zs(e),
        fileToUpload: Tg(e),
        inquiry: e.inquiry.inquiry,
        uploadedFiles: ff(e),
        styles: Na(e.inquiry),
        featureFlags: e.inquiry.featureFlags
    }
}
const IA = {
    clearMessages: Lt,
    clearUpload: ac,
    createDocumentFile: bg,
    documentSubmit: _g,
    loadDocument: gg,
    showMessage: ce
}
  , SA = ke(vA, IA)
  , yA = SA(xA)
  , Lo = ({icon: e, ...t}) => {
    const n = f.useContext(Je);
    if (n == null ? void 0 : n.loadingPictographUrl)
        return i.jsx(Kt, {
            url: "loadingPictographUrl",
            height: "loadingPictographHeight"
        });
    {
        let o;
        switch (e) {
        case "document":
            o = O1;
            break;
        case "verification":
            o = D1;
            break;
        default:
            lt(e)
        }
        return i.jsx(pe, {
            ...t,
            role: "img",
            "aria-label": "loading animation",
            children: i.jsx(Vn, {
                "aria-busy": !0,
                "aria-live": "polite",
                role: "alert",
                animationData: o,
                style: {
                    height: "160px",
                    width: "auto"
                }
            })
        })
    }
}
  , wA = g.div.withConfig({
    displayName: "InquiryDocumentsPendingView__Container",
    componentId: "sc-tvw84p-0"
})(["display:flex;flex-direction:column;"])
  , _A = g("div").withConfig({
    displayName: "InquiryDocumentsPendingView__Header",
    componentId: "sc-tvw84p-1"
})(["min-height:", ";margin-bottom:", "px;"], We.header, M.base * 4)
  , RA = g("div").withConfig({
    displayName: "InquiryDocumentsPendingView__AnimationContainer",
    componentId: "sc-tvw84p-2"
})(["display:flex;justify-content:center;align-items:center;height:200px;margin-top:", ";"], M.base * 8);
function AA({assets: e, localizations: t, textVerticalPosition: n}) {
    const {base: r, processingPage: o} = Ur()
      , a = i.jsxs(_A, {
        children: [i.jsx(ct, {
            styles: o == null ? void 0 : o.titleStyle,
            children: i.jsx(X, {
                children: t.title
            })
        }), i.jsx(ot, {
            styles: o == null ? void 0 : o.textStyle,
            children: i.jsx(X, {
                children: t.description
            })
        })]
    });
    return i.jsxs(wA, {
        children: [i.jsx(Ue, {
            customImage: e["header-pictograph"],
            alt: "header pictograph"
        }), n !== "end" && a, i.jsx(RA, {
            children: i.jsx(Ue, {
                customImage: e["loading-pictograph"],
                alt: "loading pictograph",
                children: i.jsx(Lo, {
                    icon: "document",
                    $primaryColor: A(r == null ? void 0 : r.fill.color),
                    $strokeColor: A(r == null ? void 0 : r.stroke.color)
                })
            })
        }), n === "end" && a]
    })
}
function TA(e) {
    const {inquiry: t, config: n, styles: r, featureFlags: o} = e
      , [a] = G()
      , s = Vt();
    return f.useEffect( () => {
        if (t == null) {
            D.redirectToStart();
            return
        }
    }
    , []),
    va(async () => {
        t != null && e.pollInquiry(t, {
            historyToClear: s
        }).catch( () => {
            e.showMessage(a("errors.network"), !0),
            s.goBack()
        }
        )
    }
    , []),
    f.useEffect( () => {
        try {
            o != null && o["inquiry:enable-amplitude-logging-on-combined-step-page-enter"] && J.logAmplitude("documents.pending-page.entered", {})
        } catch {}
    }
    , []),
    t == null || n == null ? null : i.jsx(nc, {
        value: r,
        children: i.jsx(AA, {
            assets: n.assets["pending-page"],
            localizations: n.localizations["pending-page"],
            textVerticalPosition: n["pending-page-text-vertical-position"]
        })
    })
}
const EA = e => ({
    document: zs(e),
    inquiry: e.inquiry.inquiry,
    config: ka(e),
    featureFlags: e.inquiry.featureFlags,
    styles: Na(e.inquiry)
})
  , kA = {
    showMessage: ce,
    pollInquiry: Gn
}
  , NA = ke(EA, kA)
  , jA = NA(TA);
function Eg({onSelectImage: e, capture: t, disabled: n}) {
    const r = f.useCallback(l => {
        var u;
        const d = (u = l.target.files) == null ? void 0 : u[0];
        e(d)
    }
    , [e])
      , o = f.useCallback( () => {
        var l;
        (l = a.current) == null || l.click()
    }
    , [])
      , a = f.useRef(null)
      , s = f.useMemo( () => ({
        accept: "image/*",
        capture: t != null ? t : "environment",
        disabled: n != null ? n : !1,
        onChange: r,
        ref: a,
        style: {
            display: "none"
        },
        type: "file",
        "data-cy": "file-upload"
    }), [t, n, r])
      , c = f.useMemo( () => ({
        disabled: n || a == null,
        onClick: o
    }), [n, o]);
    return {
        inputCaptureProps: s,
        buttonProps: c
    }
}
const PA = g(fe).withConfig({
    displayName: "ButtonInputCapture__StyledButton",
    componentId: "sc-1fq0gkp-0"
})(["margin-bottom:", "px;:last-of-type{margin-bottom:0;}"], M.base * 2)
  , Fo = ({buttonType: e, capture: t, children: n, disabled: r, id: o, isPending: a, handleSelectImage: s, styles: c, "aria-label": l, "data-test": d}) => {
    const {inputCaptureProps: u, buttonProps: m} = Eg({
        onSelectImage: s,
        capture: t,
        disabled: r
    });
    return c != null ? i.jsxs(i.Fragment, {
        children: [i.jsx("input", {
            ...u,
            id: o
        }), i.jsx(ua, {
            ...m,
            "data-test": d,
            styles: c,
            isPending: a,
            "aria-label": l,
            children: n
        })]
    }) : i.jsxs(i.Fragment, {
        children: [i.jsx("input", {
            ...u,
            id: o
        }), i.jsx(PA, {
            ...m,
            "data-test": d,
            buttonType: e,
            isPending: a,
            "aria-label": l,
            children: n
        })]
    })
}
;
var nt = (e => (e.SelectCamera = "SelectCamera",
e.DeviceHandoff = "DeviceHandoff",
e.UploadImage = "UploadImage",
e))(nt || {});
const DA = g.div.withConfig({
    displayName: "DocumentsPrompt__Container",
    componentId: "sc-nw222o-0"
})(["display:flex;flex-direction:column;"])
  , OA = g("div").withConfig({
    displayName: "DocumentsPrompt__Header",
    componentId: "sc-nw222o-1"
})(["min-height:", ";margin-bottom:", ";"], We.header, I.Spacing[6])
  , LA = g(Kt).withConfig({
    displayName: "DocumentsPrompt__StyledCustomizablePictograph",
    componentId: "sc-nw222o-2"
})(["width:100%;"]);
function FA({allowedCaptureOptions: e, acceptedFileTypes: t, assets: n, handleDeviceHandoff: r, handleDrop: o, handleDropRejected: a, handleInputCapture: s, handleSelectCamera: c, isProcessing: l, loading: d, localizations: u, multiFileSupported: m}) {
    const {documentPictographPosition: h} = f.useContext(Je)
      , {base: p} = Ur()
      , b = i.jsx(Qe, {
        height: null,
        width: null,
        "aria-label": "document pictograph",
        children: i.jsx(Ue, {
            customImage: n["document-pictograph"],
            alt: "document pictograph",
            children: i.jsx(LA, {
                url: "documentPictographUrl",
                height: "documentPictographHeight",
                "aria-label": "document pictograph",
                vectorEffect: "initial",
                primaryColor: A(p == null ? void 0 : p.fill.color),
                highlightColor: A(p == null ? void 0 : p.fill.highlightColor),
                backgroundColor: A(p == null ? void 0 : p.fill.backgroundColor),
                strokeColor: A(p == null ? void 0 : p.stroke.color),
                children: i.jsx(hn, {
                    backgroundColor: A(p == null ? void 0 : p.fill.highlightColor),
                    children: i.jsx(Bl, {
                        height: 80,
                        width: "100%"
                    })
                })
            })
        })
    });
    return i.jsxs(DA, {
        "data-test": "documents-prompt",
        children: [i.jsx(Ue, {
            customImage: n["header-pictograph"],
            alt: "header pictograph"
        }), h === $t.Start && b, i.jsxs(OA, {
            children: [i.jsx(ct, {
                styles: p == null ? void 0 : p.titleStyle,
                children: i.jsx(X, {
                    children: u.title
                })
            }), i.jsx(ot, {
                "data-test": "documents-prompt__capture-options",
                styles: p == null ? void 0 : p.textStyle,
                children: i.jsx(X, {
                    children: e.length > 0 ? u.prompt : u["no-capture-options-prompt"]
                })
            })]
        }), h === $t.Center && b, i.jsx(mt, {
            children: i.jsx(MA, {
                allowedCaptureOptions: e,
                acceptedFileTypes: t,
                handleDeviceHandoff: r,
                handleDrop: o,
                handleDropRejected: a,
                handleInputCapture: s,
                handleSelectCamera: c,
                isProcessing: l,
                loading: d,
                localizations: u,
                multiFileSupported: m
            })
        })]
    })
}
function MA({allowedCaptureOptions: e, acceptedFileTypes: t, handleDeviceHandoff: n, handleDrop: r, handleDropRejected: o, handleInputCapture: a, handleSelectCamera: s, isProcessing: c, loading: l, localizations: d, multiFileSupported: u}) {
    return i.jsx(VA, {
        id: "document-prompt__view",
        children: e.map( (m, h) => i.jsx(BA, {
            isPrimary: h === 0,
            option: m,
            handleDeviceHandoff: n,
            handleDrop: r,
            handleDropRejected: o,
            handleInputCapture: a,
            handleSelectCamera: s,
            isProcessing: c,
            loading: l,
            localizations: d,
            multiFileSupported: u,
            acceptedFileTypes: t
        }, m))
    })
}
function BA({handleDeviceHandoff: e, handleDrop: t, handleDropRejected: n, handleInputCapture: r, handleSelectCamera: o, isPrimary: a, isProcessing: s, loading: c, localizations: l, option: d, multiFileSupported: u, acceptedFileTypes: m}) {
    const {getRootProps: h, getInputProps: p} = Ia({
        onDrop: t,
        onDropRejected: n,
        multiple: !!u,
        accept: m
    })
      , {buttons: b} = Ur()
      , C = a ? Q.Primary : Q.Secondary
      , S = s != null || c;
    switch (d) {
    case "web_camera":
        return i.jsx(Pc, {
            id: "document-prompt__button--web-camera",
            "data-test": "document-prompt__button--web-camera",
            buttonType: Q.Primary,
            disabled: S,
            styles: b == null ? void 0 : b[Q.Primary],
            onClick: o,
            isPending: s === nt.SelectCamera,
            children: i.jsx(am, {
                children: l["btn-capture"]
            })
        });
    case "mobile_camera":
        return i.jsx(Fo, {
            id: "document-prompt__button--mobile-camera",
            "data-test": "document-prompt__button--mobile-camera",
            buttonType: Q.Primary,
            disabled: S,
            styles: b == null ? void 0 : b[Q.Primary],
            handleSelectImage: r,
            isPending: s === nt.UploadImage,
            children: i.jsx(am, {
                children: l["btn-capture"]
            })
        });
    case "upload":
        return i.jsxs(Pc, {
            id: "document-prompt__button--upload",
            "data-test": "document-prompt__button--upload",
            buttonType: a ? Q.Primary : Q.Secondary,
            disabled: S,
            styles: b == null ? void 0 : b[C],
            ...h(),
            children: [i.jsx("input", {
                ...p(),
                "data-cy": "file-upload",
                "data-test": "document-prompt__input--upload"
            }), l["btn-upload"]]
        });
    case "device_handoff":
        return i.jsx(Pc, {
            id: "document-prompt__button--device-handoff",
            "data-test": "document-prompt__button--device-handoff",
            buttonType: a ? Q.Primary : Q.Secondary,
            disabled: S,
            styles: b == null ? void 0 : b[C],
            onClick: e,
            isPending: s === nt.DeviceHandoff,
            children: l["btn-device-handoff"]
        });
    default:
        lt(d)
    }
}
const VA = g.div.withConfig({
    displayName: "DocumentsPrompt__CaptureOptionsContainer",
    componentId: "sc-nw222o-3"
})(["width:100%;"])
  , Pc = g(fe).withConfig({
    displayName: "DocumentsPrompt__OptionButton",
    componentId: "sc-nw222o-4"
})(["margin-bottom:", ";:last-of-type{margin-bottom:0;}"], I.Spacing[4])
  , UA = g(Dr).withConfig({
    displayName: "DocumentsPrompt__ImgCamera",
    componentId: "sc-nw222o-5"
})(["vertical-align:bottom;path[stroke]{stroke:", ";}"], e => e.theme.colorFontButtonPrimary)
  , am = ({children: e}) => e ? i.jsx("span", {
    children: e
}) : i.jsx(UA, {
    "data-test": "document-prompt__image--camera"
})
  , $o = e => f.createElement("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    width: 32,
    height: 32,
    fill: "none",
    viewBox: "0 0 32 32",
    ...e
}, f.createElement("circle", {
    cx: 16,
    cy: 16,
    r: 16,
    fill: "#631FFF"
}), f.createElement("path", {
    stroke: "#fff",
    d: "M16 9v14M9 16h14"
}))
  , HA = e => f.createElement("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    width: 20,
    height: 20,
    fill: "none",
    viewBox: "0 0 20 20",
    ...e
}, f.createElement("path", {
    stroke: "currentColor",
    d: "m13.335 6.667-6.667 6.667M6.668 6.667l6.667 6.667"
}))
  , fa = 160
  , ga = 120
  , qA = fa * 2.25 + Cn * 3
  , $A = ga * 2.25 + Cn * 3
  , GA = g.div.withConfig({
    displayName: "ImageGallery__ImageGalleryContainer",
    componentId: "sc-biogau-0"
})(["display:grid;grid-gap:", ";justify-content:center;grid-auto-flow:row;grid-auto-rows:", "px;grid-template-columns:repeat(2,", "px);overflow-x:auto;max-height:50vh;", ";@media ", "{max-height:60vh;}@media ", "{grid-auto-rows:", "px;grid-template-columns:repeat(2,", "px);max-height:50vh;", ";}"], I.Spacing[3], fa, fa, ({multiRow: e}) => e && `min-height: ${qA}px`, jt.isMobile, jt.isMobileSmall, ga, ga, ({multiRow: e}) => e && `min-height: ${$A}px`)
  , kg = $(["height:", "px;width:", "px;border-radius:4px;border:1px solid ", ";@media ", "{height:", "px;width:", "px;}"], fa, fa, I.Color.CoreSlate300, jt.isMobileSmall, ga, ga)
  , Go = g.div.withConfig({
    displayName: "ImageGallery__AddImageContainer",
    componentId: "sc-biogau-1"
})(["", " ", " ", " transition:background ", ",border-color ", ";"], kg, ({disabled: e}) => {
    if (!e)
        return $([":hover{background:", ";}:focus-within{background:", ";}"], I.Color.CoreSlate50, I.Color.CoreSlate50)
}
, ({disabled: e, isDragActive: t, isDragReject: n}) => {
    if (!e) {
        if (n)
            return $(["border-color:", ";background:", ";"], I.Color.CoreRed400, I.Color.CoreRed100);
        if (t)
            return $(["background:", ";"], I.Color.CoreSlate50)
    }
}
, tt.Fast, tt.Fast)
  , Wo = g.button.withConfig({
    displayName: "ImageGallery__AddButton",
    componentId: "sc-biogau-2"
})(["height:100%;width:100%;background:none;cursor:pointer;circle{fill:", ";}path{stroke:", ";}", ""], ({theme: e, styles: t}) => {
    var n;
    return (n = A(t == null ? void 0 : t.fill.color)) != null ? n : e.colorButtonPrimary
}
, ({styles: e}) => {
    var t;
    return (t = A(e == null ? void 0 : e.stroke.color)) != null ? t : I.Color.PrimaryWhite
}
, ({disabled: e}) => {
    if (e)
        return $(["cursor:default;circle{fill:", ";}path{stroke:#898d9e;}"], I.Color.CoreSlate200)
}
)
  , WA = g.figure.withConfig({
    displayName: "ImageGallery__PreviewImageContainer",
    componentId: "sc-biogau-3"
})(["", " background-color:", ";position:relative;display:flex;flex-direction:column;"], kg, ({styles: e}) => {
    var t;
    return (t = A(e == null ? void 0 : e.fill.color)) != null ? t : I.Color.CoreSlate50
}
)
  , YA = g.button.withConfig({
    displayName: "ImageGallery__RemoveButton",
    componentId: "sc-biogau-4"
})(["position:absolute;top:", ";right:", ";border-radius:10px;height:20px;width:20px;cursor:pointer;transition:background ", ",box-shadow ", ";background:", ";svg{color:", ";}&:disabled{cursor:not-allowed;background:", ";}&:hover:not(:disabled){background:", ";}&:focus-visible:not(:disabled){box-shadow:0 0 0 2px ", ";}"], I.Spacing[2], I.Spacing[2], tt.Fast, tt.Fast, ({styles: e}) => {
    var t;
    return (t = A(e == null ? void 0 : e.fill.color)) != null ? t : I.Color.PrimaryWhite
}
, ({styles: e}) => {
    var t;
    return (t = A(e == null ? void 0 : e.stroke.color)) != null ? t : I.Color.CoreSlate700
}
, I.Color.CoreSlate200, I.Color.CoreSlate100, ({styles: e}) => {
    var t;
    return (t = A(e == null ? void 0 : e.stroke.color)) != null ? t : I.Color.CoreSlate700
}
)
  , zA = g.div.withConfig({
    displayName: "ImageGallery__PreviewImageInner",
    componentId: "sc-biogau-5"
})(["padding:", ";flex:auto;min-height:0;display:flex;align-items:center;justify-content:center;"], I.Spacing[3])
  , KA = g.div.withConfig({
    displayName: "ImageGallery__AspectRatioGuard",
    componentId: "sc-biogau-6"
})(["height:100%;width:100%;display:flex;align-items:center;justify-content:center;"])
  , QA = g.img.withConfig({
    displayName: "ImageGallery__Thumbnail",
    componentId: "sc-biogau-7"
})(["height:auto;width:auto;max-height:100%;max-width:100%;image-orientation:from-image;"])
  , ZA = g(pe).withConfig({
    displayName: "ImageGallery__StyledThemedSvg",
    componentId: "sc-biogau-8"
})(["display:flex;align-items:center;justify-content:center;svg{height:48px;width:48px;}"])
  , JA = g.figcaption.withConfig({
    displayName: "ImageGallery__Caption",
    componentId: "sc-biogau-9"
})(["height:32px;width:100%;flex:none;display:flex;align-items:center;background-color:", ";border-bottom-left-radius:4px;border-bottom-right-radius:4px;padding:", " ", ";"], I.Color.PrimaryWhite, I.Spacing[2], I.Spacing[3])
  , XA = g(ot).withConfig({
    displayName: "ImageGallery__CaptionText",
    componentId: "sc-biogau-10"
})(["overflow-x:hidden;white-space:nowrap;text-overflow:ellipsis;"]);
function e4(e) {
    return (e == null ? void 0 : e.includes("image")) && e !== "image/heic"
}
const t4 = ["application/pdf", "image/jpeg", "image/png", "image/heic"]
  , n4 = ({files: e, onChange: t, onRemove: n, onAddClick: r, onAddError: o, onDeviceHandoff: a, acceptedImageFormats: s=t4, allowedCaptureOptions: c, disabled: l, addFileDisabled: d, "data-test": u, captureOptionsDialogTitle: m, webCameraBtnLabel: h, mobileCameraBtnLabel: p, uploadBtnLabel: b, deviceHandoffBtnLabel: C, deleteDialogTitle: S, cancelBtnLabel: v, deleteBtnLabel: x, noCaptureOptionsPrompt: _, styles: R}) => {
    const E = f.useCallback(async T => {
        const F = e[T];
        F.type === "uploaded" && await n(F.id)
    }
    , [n, e]);
    return i.jsx(i.Fragment, {
        children: i.jsxs(GA, {
            "data-test": u,
            multiRow: e.length > 1,
            children: [e.slice().map( (T, F) => i.jsx(c4, {
                disabled: l,
                file: T,
                index: F,
                loading: !1,
                onRemove: E,
                deleteDialogTitle: S,
                cancelBtnLabel: v,
                deleteBtnLabel: x,
                styles: R
            }, T.id)), d ? null : i.jsx(i4, {
                onAdd: t,
                onAddClick: r,
                onAddError: o,
                onDeviceHandoff: a,
                acceptedImageFormats: s,
                allowedCaptureOptions: c,
                disabled: l,
                captureOptionsDialogTitle: m,
                webCameraBtnLabel: h,
                mobileCameraBtnLabel: p,
                uploadBtnLabel: b,
                deviceHandoffBtnLabel: C,
                noCaptureOptionsPrompt: _,
                styles: R
            })]
        })
    })
}
  , i4 = ({onAdd: e, onAddClick: t, onAddError: n, onDeviceHandoff: r, disabled: o, acceptedImageFormats: a, allowedCaptureOptions: s, captureOptionsDialogTitle: c, webCameraBtnLabel: l, mobileCameraBtnLabel: d, uploadBtnLabel: u, deviceHandoffBtnLabel: m, noCaptureOptionsPrompt: h, styles: {base: p, imagePreview: b, buttons: C}}) => {
    const [S,{enable: v, disable: x}] = rt()
      , {getRootProps: _, getInputProps: R, isDragActive: E, isDragReject: T} = Ia({
        onDrop: U => {
            e(U),
            x()
        }
        ,
        onDropRejected: n,
        multiple: !0,
        accept: a
    })
      , F = f.useCallback(U => e([U]), [e])
      , {inputCaptureProps: O, buttonProps: N} = Eg({
        onSelectImage: U => {
            F(U),
            x()
        }
        ,
        capture: "environment",
        disabled: o
    });
    if (s.length === 1)
        switch (s[0]) {
        case "web_camera":
            return i.jsx(Go, {
                isDragActive: !1,
                isDragReject: !1,
                disabled: o,
                "data-test": "add-image__web-camera",
                children: i.jsx(Wo, {
                    id: "add-image__add-btn",
                    "data-test": "add-image__add-btn",
                    "aria-label": "Add image",
                    onClick: t,
                    disabled: N.disabled,
                    styles: b == null ? void 0 : b.plusIcon,
                    children: i.jsx($o, {})
                })
            });
        case "mobile_camera":
            return i.jsxs(Go, {
                isDragActive: !1,
                isDragReject: !1,
                disabled: o,
                "data-test": "add-image__mobile-camera",
                children: [i.jsx("input", {
                    ...O
                }), i.jsx(Wo, {
                    id: "add-image__add-btn",
                    "data-test": "add-image__add-btn",
                    "aria-label": "Add image",
                    styles: b == null ? void 0 : b.plusIcon,
                    ...N,
                    children: i.jsx($o, {})
                })]
            });
        case "upload":
            return i.jsx(Go, {
                isDragActive: E,
                isDragReject: T,
                disabled: o,
                "data-test": "add-image__upload",
                children: i.jsxs(Wo, {
                    id: "add-image__add-btn",
                    "data-test": "add-image__add-btn",
                    "aria-label": "Add image",
                    ..._(),
                    disabled: o,
                    styles: b == null ? void 0 : b.plusIcon,
                    children: [i.jsx("input", {
                        ...R(),
                        "data-cy": "file-upload"
                    }), i.jsx($o, {})]
                })
            });
        case "device_handoff":
            return i.jsx(Go, {
                isDragActive: !1,
                isDragReject: !1,
                disabled: o,
                "data-test": "add-image__device-handoff",
                children: i.jsx(Wo, {
                    id: "add-image__add-btn",
                    "data-test": "add-image__add-btn",
                    "aria-label": "Add image",
                    onClick: r,
                    disabled: N.disabled,
                    styles: b == null ? void 0 : b.plusIcon,
                    children: i.jsx($o, {})
                })
            });
        default:
            lt(s[0])
        }
    else
        return i.jsxs(i.Fragment, {
            children: [i.jsxs(bi, {
                isOpen: S,
                onClose: x,
                "data-test": "capture-options-dialog",
                "aria-labelledby": "capture-options-dialog__title",
                "aria-describedby": "capture-options-dialog__description",
                styles: p == null ? void 0 : p.modal,
                children: [i.jsx(ct, {
                    styles: p == null ? void 0 : p.titleStyle,
                    children: i.jsx(X, {
                        children: c
                    })
                }), i.jsx(Xe, {
                    height: 1
                }), s.length === 0 && i.jsx(ot, {
                    styles: p == null ? void 0 : p.textStyle,
                    children: i.jsx(X, {
                        children: h
                    })
                }), s.includes("web_camera") && i.jsxs(i.Fragment, {
                    children: [i.jsx(fe, {
                        id: "add-image__dialog--btn-web-camera",
                        "data-test": "add-image__dialog--btn-web-camera",
                        buttonType: Q.Primary,
                        styles: C == null ? void 0 : C[Q.Primary],
                        onClick: () => {
                            t(),
                            x()
                        }
                        ,
                        disabled: o,
                        children: i.jsx(sm, {
                            children: l
                        })
                    }), C == null && i.jsx(Xe, {
                        height: 1.5
                    })]
                }), s.includes("mobile_camera") && i.jsxs(i.Fragment, {
                    children: [i.jsx("input", {
                        ...O
                    }), i.jsx(fe, {
                        id: "add-image__dialog--btn-mobile-camera",
                        "data-test": "add-image__dialog--btn-mobile-camera",
                        buttonType: Q.Primary,
                        styles: C == null ? void 0 : C[Q.Primary],
                        disabled: o,
                        ...N,
                        children: i.jsx(sm, {
                            children: d
                        })
                    }), C == null && i.jsx(Xe, {
                        height: 1.5
                    })]
                }), s.includes("upload") && i.jsxs(i.Fragment, {
                    children: [i.jsxs(fe, {
                        id: "add-image__dialog--btn-upload",
                        "data-test": "add-image__dialog--btn-upload",
                        buttonType: Q.Secondary,
                        styles: C == null ? void 0 : C[Q.Secondary],
                        disabled: o,
                        ..._(),
                        children: [i.jsx("input", {
                            ...R(),
                            "data-cy": "file-upload"
                        }), u]
                    }), C == null && i.jsx(Xe, {
                        height: 1.5
                    })]
                }), s.includes("device_handoff") && i.jsx(i.Fragment, {
                    children: i.jsx(fe, {
                        id: "add-image__dialog--btn-device-handoff",
                        "data-test": "add-image__dialog--btn-device-handoff",
                        buttonType: Q.Secondary,
                        styles: C == null ? void 0 : C[Q.Secondary],
                        onClick: () => {
                            r(),
                            x()
                        }
                        ,
                        disabled: o,
                        children: m
                    })
                })]
            }), i.jsx(Go, {
                isDragActive: !1,
                isDragReject: !1,
                disabled: o,
                "data-test": "add-image--multiple-capture-options",
                children: i.jsx(Wo, {
                    id: "add-image__add-btn",
                    "data-test": "add-image__add-btn",
                    "aria-label": "Add image",
                    onClick: v,
                    disabled: N.disabled,
                    styles: b == null ? void 0 : b.plusIcon,
                    children: i.jsx($o, {})
                })
            })]
        })
}
  , r4 = g.div.withConfig({
    displayName: "ImageGallery__LoadingContainer",
    componentId: "sc-biogau-11"
})(["position:absolute;cursor:default;height:100%;width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;"])
  , o4 = g.div.withConfig({
    displayName: "ImageGallery__LoadingBackdrop",
    componentId: "sc-biogau-12"
})(["position:absolute;height:100%;width:100%;background:", ";opacity:0.8;border-radius:4px;.fade-enter-done &{opacity:0.8;}.fade-exit &{opacity:0.8;}"], I.Color.PrimaryWhite)
  , a4 = Pn(["from{transform:rotate(0deg);}to{transform:rotate(360deg);}"])
  , s4 = g(Th).withConfig({
    displayName: "ImageGallery__AnimatedLoaderIcon",
    componentId: "sc-biogau-13"
})(["z-index:1;margin:", ";animation:", " 1s linear infinite;"], I.Spacing[2], a4)
  , c4 = ({file: e, disabled: t, index: n, loading: r, onRemove: o, deleteDialogTitle: a, deleteBtnLabel: s, cancelBtnLabel: c, styles: {base: l, imagePreview: d, buttons: u}}) => {
    var x;
    const [m,{enable: h, disable: p}] = rt()
      , b = !r && e.type === "uploaded"
      , C = f.useCallback(async () => {
        p(),
        await o(n)
    }
    , [o, n])
      , S = e.type === "uploading" && e.progress < 100
      , v = e.type === "uploaded" && e.deleting;
    return i.jsxs(i.Fragment, {
        children: [i.jsxs(bi, {
            isOpen: m,
            onClose: p,
            "data-test": "delete-dialog",
            "aria-labelledby": "delete-dialog__title",
            "aria-describedby": "delete-dialog__description",
            styles: l == null ? void 0 : l.modal,
            children: [i.jsx(ct, {
                styles: l == null ? void 0 : l.titleStyle,
                children: a
            }), i.jsx(Xe, {
                height: 1
            }), i.jsx(fe, {
                buttonType: Q.Primary,
                styles: u == null ? void 0 : u[Q.Primary],
                id: "delete-dialog__btn-delete",
                "data-test": "delete-dialog__btn-delete",
                onClick: C,
                children: s
            }), u == null && i.jsx(Xe, {
                height: 1.5
            }), i.jsx(fe, {
                buttonType: Q.Secondary,
                styles: u == null ? void 0 : u[Q.Secondary],
                id: "delete-dialog__btn-cancel",
                "data-test": "delete-dialog__btn-cancel",
                onClick: p,
                children: c
            })]
        }), i.jsxs(WA, {
            styles: d == null ? void 0 : d.cropArea,
            children: [b && !v && i.jsx(YA, {
                id: "preview-image__remove-btn",
                "data-test": "preview-image__remove-btn",
                "aria-label": "Remove image",
                disabled: t,
                onClick: h,
                styles: d == null ? void 0 : d.xIcon,
                children: i.jsx(HA, {})
            }), (S || v) && i.jsxs(r4, {
                children: [i.jsx(s4, {}), i.jsx(o4, {})]
            }), i.jsx(zA, {
                children: e4(e.fileType) ? i.jsx(KA, {
                    children: i.jsx(QA, {
                        src: e.url,
                        "data-test": "preview-image__thumbnail"
                    })
                }) : i.jsx(ZA, {
                    "data-test": "preview-image__icon-file",
                    children: i.jsx(Fs, {})
                })
            }), i.jsx(JA, {
                title: e.filename,
                "data-test": "preview-image__caption",
                children: i.jsx(XA, {
                    styles: (x = d == null ? void 0 : d.imageName) == null ? void 0 : x.textStyle,
                    children: e.filename
                })
            })]
        })]
    })
}
  , l4 = g(Dr).withConfig({
    displayName: "ImageGallery__ImgCamera",
    componentId: "sc-biogau-14"
})(["vertical-align:bottom;path[stroke]{stroke:", ";}"], e => e.theme.colorFontButtonPrimary)
  , sm = ({children: e}) => e ? i.jsx(i.Fragment, {
    children: e
}) : i.jsx(l4, {
    "data-test": "government-id-prompt__image--camera"
})
  , d4 = g.div.withConfig({
    displayName: "DocumentsReview__Container",
    componentId: "sc-12z5v8n-0"
})(["display:flex;flex-direction:column;"])
  , u4 = g("div").withConfig({
    displayName: "DocumentsReview__Header",
    componentId: "sc-12z5v8n-1"
})(["min-height:", ";margin-bottom:", ";"], We.header, I.Spacing[6])
  , m4 = g(fe).withConfig({
    displayName: "DocumentsReview__SubmitButton",
    componentId: "sc-12z5v8n-2"
})(["position:static;"]);
function h4({allowedCaptureOptions: e, acceptedFileTypes: t, assets: n, documentFiles: r, documentFileLimit: o, handleAddError: a, handleAddFiles: s, handleDeviceHandoff: c, handleRemoveFile: l, handleSelectCamera: d, handleSubmit: u, loading: m, localizations: h, submitting: p, uploads: b, pendingDeletions: C}) {
    const S = Ur()
      , {base: v, buttons: x} = S
      , _ = r.length > 0 && b.length === 0 && C.length === 0 && !m && !p
      , R = f.useMemo( () => {
        const E = r.map( ({id: F, attributes: {name: O, originals: N}}) => ({
            type: "uploaded",
            filename: O,
            url: N[0].url,
            fileType: N[0]["file-type"],
            id: F,
            deleting: C.includes(F)
        }))
          , T = b.map(F => ({
            type: "uploading",
            filename: F.file.filename,
            url: F.file.dataUrl,
            fileType: F.file.fileType,
            progress: F.progress,
            id: String(F.id)
        }));
        return [...E, ...T]
    }
    , [r, b, C]);
    return i.jsxs(d4, {
        "data-test": "documents-review",
        children: [i.jsx(Ue, {
            customImage: n["header-pictograph"],
            alt: "header pictograph"
        }), i.jsxs(u4, {
            children: [i.jsx(ct, {
                styles: v == null ? void 0 : v.titleStyle,
                children: i.jsx(X, {
                    children: h.title
                })
            }), i.jsx(ot, {
                styles: v == null ? void 0 : v.textStyle,
                children: i.jsx(X, {
                    children: h.prompt
                })
            })]
        }), i.jsx(n4, {
            "data-test": "documents-review__image-gallery",
            disabled: m,
            addFileDisabled: b.length > 0 || C.length > 0 || R.length >= o,
            allowedCaptureOptions: e,
            acceptedImageFormats: t,
            files: R,
            onAddClick: d,
            onAddError: a,
            onChange: s,
            onDeviceHandoff: c,
            onRemove: l,
            captureOptionsDialogTitle: h["capture-options-dialog-title"],
            webCameraBtnLabel: h["btn-capture"],
            mobileCameraBtnLabel: h["btn-capture"],
            uploadBtnLabel: h["btn-upload"],
            deviceHandoffBtnLabel: h["btn-device-handoff"],
            deleteDialogTitle: h["delete-dialog-title"],
            cancelBtnLabel: h["btn-cancel"],
            deleteBtnLabel: h["btn-delete"],
            noCaptureOptionsPrompt: h["no-capture-options-prompt"],
            styles: S
        }), i.jsx(Xe, {
            height: 4
        }), i.jsx(mt, {
            children: i.jsx(m4, {
                id: "documents-review__btn-submit",
                "data-test": "documents-review__btn-submit",
                buttonType: Q.Primary,
                styles: x == null ? void 0 : x[Q.Primary],
                onClick: u,
                isPending: p,
                disabled: !_,
                children: h["btn-submit"]
            })
        })]
    })
}
function p4({allowedCaptureOptions: e, acceptedFileTypes: t, assets: n, documentFiles: r, documentFileLimit: o, handleAddFiles: a, handleDeviceHandoff: s, handleDrop: c, handleDropRejected: l, handleInputCapture: d, handleRemoveFile: u, handleSelectCamera: m, handleSubmit: h, hideCameraPermissionsDialog: p, isProcessing: b, loading: C, localizations: S, openCameraPermissionsDialog: v, page: x, showCameraPermissionsDialog: _, submitting: R, uploads: E, pendingDeletions: T, multiFileSupported: F, skipPromptPage: O}) {
    const {base: N, buttons: U} = Ur()
      , V = f.useCallback(async () => {
        try {
            await m()
        } catch {
            v()
        }
    }
    , []);
    if (O && e.length === 0)
        return i.jsx(Tn, {});
    const ne = x === "review" || F && r.length + E.length > 0;
    return i.jsxs(i.Fragment, {
        children: [i.jsxs(bi, {
            isOpen: _,
            onClose: p,
            styles: N == null ? void 0 : N.modal,
            "data-test": "camera-permissions-dialog",
            "aria-labelledby": "camera-permissions-dialog__title",
            "aria-describedby": "camera-permissions-dialog__description",
            children: [i.jsx(ct, {
                id: "camera-permissions-dialog__title",
                styles: N == null ? void 0 : N.titleStyle,
                children: i.jsx(X, {
                    children: S["camera-permissions-title"]
                })
            }), i.jsx(ot, {
                id: "camera-permissions-dialog__description",
                styles: N == null ? void 0 : N.textStyle,
                children: i.jsx(X, {
                    children: S["camera-permissions-prompt"]
                })
            }), i.jsx(Xe, {
                height: 2
            }), i.jsx(fe, {
                type: "button",
                id: "camera-permissions-dialog__btn",
                styles: U == null ? void 0 : U[Q.Primary],
                onClick: p,
                children: S["camera-permissions-btn-continue-web"]
            })]
        }), ne ? i.jsx(h4, {
            assets: n,
            allowedCaptureOptions: e,
            acceptedFileTypes: t,
            documentFiles: r,
            documentFileLimit: o,
            handleAddError: l,
            handleAddFiles: a,
            handleDeviceHandoff: s,
            handleRemoveFile: u,
            handleSelectCamera: V,
            handleSubmit: h,
            loading: C,
            localizations: S,
            submitting: R,
            uploads: E,
            pendingDeletions: T
        }) : i.jsx(FA, {
            allowedCaptureOptions: e,
            acceptedFileTypes: t,
            assets: n,
            handleDeviceHandoff: s,
            handleDrop: c,
            handleDropRejected: l,
            handleInputCapture: d,
            handleSelectCamera: V,
            isProcessing: b,
            loading: C,
            localizations: S,
            multiFileSupported: F
        })]
    })
}
const f4 = 1.5;
function Od() {
    return Hl() ? f4 : 1
}
function Ng({currentSide: e, facingMode: t, isGovidRedesign: n=!1, isMicroblink: r=!1, enableVideoRecording: o=!1, featureFlags: a={}}) {
    const s = Od();
    if (n) {
        const c = o && Hl() ? {
            min: 1
        } : void 0;
        let l = {
            min: 480,
            ideal: 2160,
            max: 2160
        }
          , d = {
            min: 640,
            ideal: 1350,
            max: 1350
        };
        return a["inquiry:use-low-resolution-govid-redesign"] && (r ? (l = {
            min: 480,
            ideal: 1920,
            max: 1920
        },
        d = {
            min: 640,
            ideal: 1080,
            max: 1920
        }) : (l = {
            ideal: 1280
        },
        d = {
            ideal: 960
        })),
        Kn() ? {
            facingMode: t,
            width: d,
            height: l,
            aspectRatio: c
        } : {
            facingMode: t,
            height: d,
            width: l,
            aspectRatio: c
        }
    }
    if (r || s > 1)
        return {
            facingMode: t,
            width: {
                min: 640,
                ideal: 1920 * s,
                max: 1920 * s
            },
            height: {
                min: 480,
                ideal: 1080 * s,
                max: 1920 * s
            },
            aspectRatio: 1
        };
    switch (e) {
    case B.Back:
    case B.BarcodePdf417:
        return {
            facingMode: t,
            width: {
                ideal: 1280 * s
            },
            height: {
                ideal: 960 * s
            }
        };
    default:
        return {
            facingMode: t,
            width: {
                ideal: 1280 * s
            },
            height: {
                ideal: 960 * s
            }
        }
    }
}
function jg({facingMode: e}) {
    return {
        facingMode: e,
        width: {
            ideal: 1280
        },
        height: {
            ideal: 960
        }
    }
}
function Pg({highResolution: e=!1}) {
    const t = {
        facingMode: "user"
    };
    return e ? {
        ...t,
        width: {
            min: 720,
            max: 1920
        },
        height: {
            min: 720,
            max: 1080
        }
    } : t
}
const g4 = e => {
    var re;
    const {config: t, debugForcedStatus: n, document: r, documentFiles: o, featureFlags: a, hasCamera: s, inquiry: c, uploads: l, uploadedFiles: d, pendingDeletions: u, addPendingDeletion: m, clearPendingDeletion: h, styles: p} = e
      , b = ((re = t == null ? void 0 : t["document-file-limit"]) != null ? re : 0) > 1
      , [C,S] = f.useState(void 0)
      , [v,x] = f.useState([])
      , [_,{enable: R, disable: E}] = rt()
      , [T,{enable: F}] = rt(!1)
      , {t: O} = G()
      , N = Vt();
    f.useEffect( () => {
        if (c == null) {
            D.redirectToStart();
            return
        }
    }
    , []),
    f.useEffect( () => {
        if (t != null)
            if (s == null)
                e.checkCamera();
            else {
                const z = Jv(t, s);
                z.length === 1 ? be(z[0]) : x(z)
            }
    }
    , [s, t]),
    f.useEffect( () => {
        try {
            a != null && a["inquiry:enable-amplitude-logging-on-combined-step-page-enter"] && J.logAmplitude("documents.prompt-page.entered", {})
        } catch {}
    }
    , []);
    const {loading: U} = Br({
        loader: async () => {
            t != null && ((r == null ? void 0 : r.id) !== t["document-id"] && e.clearDocument(),
            t["document-id"] != null ? await e.loadDocument(t["document-id"]) : await e.createDocument({
                kind: t.kind,
                fileLimit: t["document-file-limit"],
                fieldKey: t["field-key-document"]
            }))
        }
        ,
        deps: [],
        skip: t == null,
        onError: z => {
            throw z
        }
        ,
        onNetworkError: z => {
            throw z
        }
    })
      , {error: V, callback: ne} = vt(async z => {
        if (r != null)
            try {
                await e.createDocumentFile({
                    file: z,
                    captureMethod: gt.Upload,
                    document: r,
                    t: O
                })
            } catch (Z) {
                throw e.clearUpload(z),
                Z
            }
    }
    , [r, O]);
    _t({
        error: V,
        onError: () => e.showMessage(O("documents.prompt.failed-select-image")),
        onNetworkError: () => e.showMessage(O("errors.network"))
    });
    const {error: L, callback: H} = vt(async z => {
        await e.deleteDocumentFile(z),
        r != null && await e.loadDocument(r.id)
    }
    , [r]);
    _t({
        error: L,
        onError: () => e.showMessage(O("errors.network")),
        onNetworkError: () => e.showMessage(O("errors.network"))
    });
    const {loading: q, error: ee, callback: Y} = vt(async () => {
        e.clearMessages(),
        await e.documentSubmit({
            inquiry: c,
            debugForcedStatus: n,
            t: O,
            uploadedFiles: d
        })
    }
    , [c, n, O, d]);
    _t({
        error: ee,
        onError: () => e.showMessage(O("errors.network")),
        onNetworkError: () => e.showMessage(O("errors.network"))
    });
    const ae = async (z, Z) => {
        try {
            const xe = await yo(z)
              , we = {
                filename: `${new Date().toISOString()}_${Z}_${z.name}`,
                fileType: z.type,
                dataUrl: xe
            };
            return e.uploadFile(we),
            we
        } catch (xe) {
            switch (J.logAmplitude("document.upload.errored", {
                file: {
                    type: z == null ? void 0 : z.type
                }
            }),
            xe.name) {
            case "NotReadableError":
                e.showMessage(O("documents.prompt.failed-select-image-permissions"));
                break;
            default:
                e.showMessage(O("documents.prompt.failed-select-image"))
            }
        }
    }
      , se = async z => {
        m(z);
        try {
            await H(z)
        } finally {
            h(z)
        }
    }
      , _e = async z => {
        if (z.length < z.length && (J.logAmplitude("document.upload.invalid", {
            detail: "wrong file type"
        }),
        e.showMessage(O("documents.prompt.failed-invalid-type")),
        z.length === 0)) {
            S(void 0);
            return
        }
        D.onEvent(Oe.DocumentUpload);
        const Z = (await Promise.all(z.map( (xe, we) => ae(xe, we)))).filter(xe => xe != null);
        if (Z.length === 0) {
            S(void 0);
            return
        }
        if (b)
            try {
                await Promise.all(Z.map(ne)),
                r != null && e.loadDocument(r.id).then( () => Z.map(e.clearUpload))
            } finally {
                S(void 0)
            }
        else
            e.saveCaptureMethod(gt.Upload),
            N.push(ha(Pt.Check))
    }
      , Re = async z => {
        e.clearMessages(),
        S(nt.SelectCamera),
        J.logAmplitude("document.camera.preload");
        try {
            const Z = jg({
                facingMode: Ds()
            });
            e.setVideoConstraints(Z),
            await Nn.prepare({
                video: Z
            }, a),
            z(ha(Pt.TakePhoto))
        } catch (Z) {
            const xe = Z;
            throw J.logAmplitude("document.camera.errored", {
                error: {
                    name: xe.name,
                    message: xe.message
                }
            }),
            D.onEvent(Oe.LoadCameraFailed, {
                error: xe.name,
                message: xe.message
            }),
            S(void 0),
            xe
        }
    }
      , ye = z => {
        e.clearMessages(),
        S(nt.UploadImage),
        J.logAmplitude("document.upload", {
            method: "drop",
            files: z.map(Z => ({
                name: Z == null ? void 0 : Z.name,
                type: Z == null ? void 0 : Z.type,
                size: Z == null ? void 0 : Z.size
            }))
        }),
        _e(z)
    }
      , Pe = z => {
        if (t == null)
            return;
        e.clearMessages();
        const Z = t["accepted-file-types"]
          , xe = z.filter( ({file: we}) => !Z.includes(we.type));
        xe.length > 0 ? e.showMessage(O("documents.errors.disabled-file-type", {
            uploadedFileExtension: rr(xe[0].file.type),
            acceptedFileExtensions: Z.map(rr).join(", "),
            count: Z.length
        })) : e.showMessage(O("documents.prompt.failed-select-image")),
        S(void 0)
    }
      , Ae = z => {
        e.clearMessages(),
        S(nt.UploadImage),
        J.logAmplitude("document.camera.upload", {
            method: "input_capture",
            files: [{
                name: z == null ? void 0 : z.name,
                type: z == null ? void 0 : z.type,
                size: z == null ? void 0 : z.size
            }]
        }),
        _e([z])
    }
      , Te = z => {
        C == null && (e.clearMessages(),
        S(nt.DeviceHandoff),
        z("/inquiry/device-handoff/prompt"))
    }
      , be = async z => {
        switch (z) {
        case "web_camera":
            if (a["verify:skip-gov-id-prompt-web-camera-only-by-org"])
                try {
                    F(),
                    await Re(N.replace)
                } catch {
                    x([z]),
                    R()
                }
            else
                x([z]);
            break;
        case "device_handoff":
            Te(N.replace);
            break;
        case "mobile_camera":
        case "upload":
            x([z]);
            break;
        default:
            lt(z)
        }
    }
    ;
    return c == null || t == null || s == null ? null : i.jsx(nc, {
        value: p,
        children: i.jsx(p4, {
            allowedCaptureOptions: v,
            acceptedFileTypes: t["accepted-file-types"],
            assets: t.assets["prompt-page"],
            documentFiles: o,
            documentFileLimit: t["document-file-limit"],
            handleAddFiles: _e,
            handleDeviceHandoff: () => Te(N.push),
            handleDrop: ye,
            handleDropRejected: Pe,
            handleInputCapture: Ae,
            handleRemoveFile: se,
            handleSelectCamera: () => Re(N.push),
            handleSubmit: Y,
            hideCameraPermissionsDialog: E,
            isProcessing: C,
            loading: U,
            localizations: t.localizations["prompt-page"],
            openCameraPermissionsDialog: R,
            page: t["start-page"],
            showCameraPermissionsDialog: _,
            submitting: q,
            uploads: l,
            pendingDeletions: u,
            multiFileSupported: b,
            skipPromptPage: T
        })
    })
}
;
function b4(e) {
    return {
        config: ka(e),
        debugForcedStatus: e.test.forcedStatus,
        document: zs(e),
        documentFiles: e.document.documentFiles,
        featureFlags: e.inquiry.featureFlags,
        hasCamera: e.ui.hasCamera,
        inquiry: e.inquiry.inquiry,
        uploads: e.document.uploads,
        pendingDeletions: e.document.pendingDeletions,
        uploadedFiles: ff(e),
        styles: Na(e.inquiry)
    }
}
const C4 = {
    createDocumentFile: bg,
    checkCamera: Or,
    clearDocument: ag,
    clearMessages: Lt,
    clearUpload: ac,
    createDocument: BR,
    documentSubmit: _g,
    loadDocument: gg,
    deleteDocumentFile: VR,
    saveCaptureMethod: lr,
    setVideoConstraints: cg,
    showMessage: ce,
    uploadFile: oc,
    addPendingDeletion: hR,
    clearPendingDeletion: pR
}
  , x4 = ke(b4, C4)
  , v4 = x4(g4)
  , Dg = f.createContext(xf())
  , Sn = () => f.useContext(Dg)
  , Rr = ({children: e, value: t}) => {
    const n = f.useMemo( () => xf(t), [t]);
    return i.jsx(Dg.Provider, {
        value: n,
        children: i.jsx(Pa.Provider, {
            value: n.buttons,
            children: e
        })
    })
}
  , I4 = g.div.withConfig({
    displayName: "InquiryGovernmentIdAutoclassificationFailureView__FailureReasonPictograph",
    componentId: "sc-15hry4i-0"
})(["display:flex;flex-direction:column;align-items:", ";"], ({justify: e}) => e != null ? e : "center");
function S4({localizations: e, autoclassificationFailureReason: t, handleContinue: n}) {
    var T, F, O, N, U, V, ne, L, H, q, ee, Y, ae, se, _e, Re, ye, Pe, Ae, Te, be, re, z, Z, xe, we, Ye, qe, Ce;
    const {base: r, buttons: o, imageLocal: a} = Sn()
      , s = t === aa.REJECTED
      , c = k((F = (T = a == null ? void 0 : a.illustration) == null ? void 0 : T.height) == null ? void 0 : F.base.base)
      , l = k((N = (O = a == null ? void 0 : a.illustration) == null ? void 0 : O.width) == null ? void 0 : N.base.base)
      , d = k((ne = (V = (U = a == null ? void 0 : a.illustration) == null ? void 0 : U.margin) == null ? void 0 : V.base.base) == null ? void 0 : ne.top)
      , u = k((q = (H = (L = a == null ? void 0 : a.illustration) == null ? void 0 : L.margin) == null ? void 0 : H.base.base) == null ? void 0 : q.bottom)
      , m = k((ae = (Y = (ee = a == null ? void 0 : a.illustration) == null ? void 0 : ee.margin) == null ? void 0 : Y.base.base) == null ? void 0 : ae.left)
      , h = k((Re = (_e = (se = a == null ? void 0 : a.illustration) == null ? void 0 : se.margin) == null ? void 0 : _e.base.base) == null ? void 0 : Re.right)
      , p = (ye = a == null ? void 0 : a.illustration) == null ? void 0 : ye.justify.base.base
      , b = A((Te = (Ae = (Pe = a == null ? void 0 : a.illustration) == null ? void 0 : Pe["fill-color"]) == null ? void 0 : Ae.base) == null ? void 0 : Te.base)
      , C = A((re = (be = a == null ? void 0 : a.illustration) == null ? void 0 : be["fill-color"]) == null ? void 0 : re.background.base)
      , S = A((Z = (z = a == null ? void 0 : a.illustration) == null ? void 0 : z["fill-color"]) == null ? void 0 : Z.highlight.base)
      , v = A((Ye = (we = (xe = a == null ? void 0 : a.illustration) == null ? void 0 : xe["stroke-color"]) == null ? void 0 : we.base) == null ? void 0 : Ye.base)
      , x = {
        $primaryColor: b,
        $backgroundColor: C,
        $highlightColor: S,
        $strokeColor: v
    }
      , _ = Af[le.IdFrontIcon]
      , R = (qe = s ? e == null ? void 0 : e["id-class-rejected-title"] : e == null ? void 0 : e["unable-to-classify-document-title"]) != null ? qe : "Failed to autoclassify"
      , E = (Ce = s ? e == null ? void 0 : e["id-class-rejected-continue-button-text"] : e == null ? void 0 : e["unable-to-classify-document-continue-button-text"]) != null ? Ce : "Continue";
    return i.jsxs(i.Fragment, {
        children: [i.jsx(ct, {
            id: "autoclassification-failure__title",
            styles: r == null ? void 0 : r.titleStyle,
            children: i.jsx(X, {
                children: R
            })
        }), i.jsx(I4, {
            role: "img",
            "aria-label": "Failed icon",
            justify: p,
            children: i.jsx(pe, {
                ...x,
                children: i.jsx(Hh, {
                    style: {
                        width: l != null ? l : k(_.width),
                        height: c != null ? c : k(_.height),
                        marginTop: d,
                        marginBottom: u,
                        marginLeft: m,
                        marginRight: h
                    }
                })
            })
        }), i.jsx(Xe, {
            height: 6
        }), i.jsx(fe, {
            type: "button",
            id: "autoclassification-failure__btn",
            buttonType: Q.Primary,
            styles: o == null ? void 0 : o[Q.Primary],
            onClick: n,
            children: E
        })]
    })
}
const y4 = e => {
    const {autoclassificationFailureReason: t, history: n, config: r} = e
      , o = () => {
        n.push(Ut(0, Ke.AutoclassificationSelect))
    }
      , a = r ? Wi(r, "auto-classification-page") : void 0;
    return i.jsx(S4, {
        localizations: a,
        autoclassificationFailureReason: t,
        handleContinue: o
    })
}
;
function w4(e) {
    return {
        styles: zi(e.inquiry),
        inquiry: e.inquiry.inquiry,
        config: dr(e),
        featureFlags: e.inquiry.featureFlags,
        autoclassificationFailureReason: e.verification.autoclassificationFailureReason,
        uiStatus: e.ui.status
    }
}
const _4 = {
    showMessage: ce
}
  , R4 = ke(w4, _4)(y4)
  , A4 = g("div").withConfig({
    displayName: "InquiryGovernmentIdAutoclassificationSelectView__Container",
    componentId: "sc-hjv5m4-0"
})(["", " text-transform:capitalize;"], Fi)
  , T4 = g("div").withConfig({
    displayName: "InquiryGovernmentIdAutoclassificationSelectView__OutlinedLabelContainer",
    componentId: "sc-hjv5m4-1"
})(["", ""], ({styles: e}) => Dn(e));
function E4({localizations: e, governmentIdClassLocalizations: t, idClassesByCountries: n, selectIdTypeAndContinue: r, defaultCountry: o}) {
    var E, T, F, O;
    const {base: a, buttons: s, inputSelect: c} = Sn()
      , [l,d] = f.useState( () => n.map(N => N["country-code"]).includes(o) ? o : "")
      , [u,m] = f.useState("")
      , h = f.useMemo( () => n.map(N => ({
        text: N["country-name"],
        value: N["country-code"]
    })), [n])
      , p = f.useMemo( () => {
        const N = n.filter(U => U["country-code"] === l);
        return N.length === 0 ? [] : N[0]["id-configs"].map(U => {
            var V;
            return {
                text: (V = hl(t, l === "" ? void 0 : l, U.class)) != null ? V : U.class,
                value: U.class
            }
        }
        )
    }
    , [n, t, l])
      , b = () => {
        l !== "" && u !== "" && r(l, u)
    }
      , C = N => {
        N !== l && m(""),
        d(N)
    }
      , S = N => {
        m(N)
    }
      , v = (E = e == null ? void 0 : e["manual-classification-title"]) != null ? E : "Select your country and ID type"
      , x = (T = e == null ? void 0 : e["country-input-title"]) != null ? T : "Country"
      , _ = (F = e == null ? void 0 : e["id-class-input-title"]) != null ? F : "Accepted IDs"
      , R = (O = e == null ? void 0 : e["manual-classification-continue-button-text"]) != null ? O : "Continue";
    return i.jsxs(i.Fragment, {
        children: [i.jsx(ct, {
            id: "autoclassification-select__title",
            styles: a == null ? void 0 : a.titleStyle,
            children: i.jsx(X, {
                children: v
            })
        }), i.jsx(cm, {
            styles: c == null ? void 0 : c.base,
            id: "autoclassification-select__country",
            label: x,
            value: l,
            options: h,
            handleChange: C
        }), l && i.jsx(cm, {
            styles: c == null ? void 0 : c.base,
            id: "autoclassification-select__id_class",
            label: _,
            value: u,
            options: p,
            handleChange: S
        }), i.jsx("div", {
            children: i.jsx(fe, {
                type: "button",
                id: "autoclassification-select__continue_btn",
                buttonType: Q.Primary,
                styles: s == null ? void 0 : s[Q.Primary],
                disabled: l === "" || u === "",
                onClick: b,
                children: R
            })
        })]
    })
}
function cm({styles: e, id: t, label: n, value: r, options: o, handleChange: a}) {
    return i.jsxs(T4, {
        styles: e,
        children: [i.jsx(X, {
            wrapper: "label",
            wrapperProps: {
                htmlFor: t
            },
            children: n
        }), i.jsx(A4, {
            children: i.jsxs(Id, {
                value: r,
                onChange: s => a(s.target.value),
                id: t,
                styles: e,
                children: [i.jsx("option", {
                    value: ""
                }), o.map(s => i.jsx("option", {
                    value: s.value,
                    children: s.text
                }, s.value))]
            })
        })]
    })
}
const k4 = e => {
    const {idClassesByCountries: t, history: n, config: r} = e;
    f.useEffect( () => {
        e.clearAutoclassificationIdSelection()
    }
    , []);
    const o = (c, l) => {
        e.saveAutoclassificationIdSelection(c, l),
        n.push(Ut(0, Ke.Prompt))
    }
      , a = r ? Wi(r, "auto-classification-page") : void 0
      , s = r ? Wi(r, "select-page") : void 0;
    return i.jsx(E4, {
        localizations: a,
        governmentIdClassLocalizations: s,
        idClassesByCountries: t,
        selectIdTypeAndContinue: o,
        defaultCountry: e.defaultCountry
    })
}
;
function N4(e) {
    return {
        styles: zi(e.inquiry),
        inquiry: e.inquiry.inquiry,
        config: dr(e),
        featureFlags: e.inquiry.featureFlags,
        idClassesByCountries: e.verification.idClassesByCountries,
        defaultCountry: e.locale.localeInfo.country_code
    }
}
const j4 = {
    saveAutoclassificationIdSelection: fv,
    clearAutoclassificationIdSelection: tf
}
  , P4 = ke(N4, j4)(k4)
  , D4 = g("nav").withConfig({
    displayName: "Navbar__Nav",
    componentId: "sc-hxvjv3-0"
})(["position:absolute;z-index:", ";pointer-events:none;top:0;top:env(safe-area-inset-top);left:0;right:0;box-sizing:content-box;display:flex;flex-wrap:none;align-items:center;justify-content:space-between;height:", ";margin:0;padding:", ";padding-bottom:", ";padding-left:calc(", " + env(safe-area-inset-left));padding-right:calc(", " + env(safe-area-inset-right));border-bottom:", ";background-color:", ";"], wt.navbar, I.Spacing[5], M.widgetPadding, I.Spacing[4], M.widgetPadding, M.widgetPadding, ({styles: e}) => e != null ? `${e.borderWidth} solid ${e.borderColor}` : "", ({styles: e}) => e == null ? void 0 : e.backgroundColor)
  , lm = g(uo).withConfig({
    displayName: "Navbar__NavOption",
    componentId: "sc-hxvjv3-1"
})(["height:", ";width:", ";margin:-", ";padding:", ";svg{color:", ";}"], I.Spacing[5], I.Spacing[5], I.Spacing[1], I.Spacing[1], ({iconColor: e, theme: t}) => e != null ? e : t.colorIconHeader)
  , O4 = g(lc).withConfig({
    displayName: "Navbar__OrganizationLogo",
    componentId: "sc-hxvjv3-2"
})(["display:block;object-fit:contain;height:", ";"], ({theme: e}) => {
    var t;
    return (t = e.navbarLogoHeight) != null ? t : `${I.Spacing[5]}`
}
)
  , L4 = g.div.withConfig({
    displayName: "Navbar__LogoContainer",
    componentId: "sc-hxvjv3-3"
})(["flex:auto;display:flex;max-width:100%;max-height:100%;", ";"], ({logoDisplay: e}) => {
    switch (e) {
    case Ai.None:
        return $(["visibility:hidden;"]);
    case Ai.Start:
        return $(["&:not(:first-child){margin-left:", ";}justify-content:flex-start;"], I.Spacing[5]);
    case Ai.End:
        return $(["&:not(:last-child){margin-right:", ";}justify-content:flex-end;"], I.Spacing[5]);
    case Ai.Center:
        return $(["&:not(:first-child){margin-right:", ";}&:not(:last-child){margin-left:", ";}justify-content:center;"], I.Spacing[5], I.Spacing[5])
    }
}
)
  , Og = ({onBack: e, onClose: t, showBackButton: n, showCloseButton: r, styles: o, colorIconHeader: a, logoContentType: s, logoDisplay: c=Ai.None, logoUrl: l, loading: d, id: u, "data-test": m="navbar"}) => i.jsxs(D4, {
    id: u,
    "data-test": m,
    styles: o,
    children: [n && i.jsx(lm, {
        onClick: e,
        id: "navbar__back-link",
        "data-test": "navbar__back-link",
        disabled: d,
        iconColor: a,
        "aria-label": "back",
        children: i.jsx(OC, {
            "aria-hidden": !0
        })
    }), i.jsx(L4, {
        logoDisplay: c,
        role: "presentation",
        children: c !== Ai.None && l != null && i.jsx(O4, {
            contentType: s,
            "data-test": "navbar__logo",
            alt: "logo",
            src: l
        })
    }), r && i.jsx(lm, {
        onClick: t,
        id: "navbar__close-link",
        "data-test": "navbar__close-link",
        disabled: d,
        iconColor: a,
        "aria-label": "close",
        children: i.jsx(Cp, {
            "aria-hidden": !0
        })
    })]
})
  , Ld = "navbar__inquiry-dynamic-flow"
  , F4 = ["/widget", "/verify", "/verify/support/sent", "/inquiry/create-persona/passkey-registration", "/inquiry/create-persona/success", "/inquiry/verify-with-persona/passkey-authentication", "/inquiry/verify-with-persona/success", "/inquiry/verify-with-persona/error"]
  , M4 = ["/widget", "/verify", "/inquiry/device-handoff/email", "/inquiry/device-handoff/prompt", "/inquiry/device-handoff/sms", "/inquiry/device-handoff/sms/sent", "/inquiry/documents/capture", "/inquiry/documents/check", "/inquiry/documents/pending", "/inquiry/documents/prompt", "/inquiry/government-id/:step/capture", "/inquiry/government-id/:step/check", "/inquiry/government-id/:step/prompt", "/inquiry/government-id/pending", "/inquiry/government-id/select", "/inquiry/selfie/center/prompt", "/inquiry/selfie/record", "/inquiry/create-persona/passkey-registration", "/inquiry/create-persona/success", "/inquiry/verify-with-persona/passkey-authentication", "/inquiry/verify-with-persona/success", "/inquiry/verify-with-persona/error"]
  , B4 = ["/inquiry/ui", "/inquiry/documents/prompt", "/inquiry/government-id/select", "/inquiry/selfie/center/prompt"]
  , V4 = ["/inquiry/create-persona/passkey-registration", "/inquiry/create-persona/success", "/inquiry/verify-with-persona/passkey-authentication", "/inquiry/verify-with-persona/success", "/inquiry/verify-with-persona/error"]
  , U4 = ["/inquiry/inactive", "/verify/invalid"]
  , H4 = () => {
    var ne, L, H, q, ee, Y, ae, se, _e, Re, ye, Pe, Ae, Te, be, re, z, Z, xe, we, Ye, qe, Ce, W;
    const e = st(oe => oe.ui.status)
      , t = st(oe => oe.inquiry.inquiry)
      , n = st(oe => !!oe.inquiry.popupUrl)
      , r = (H = (L = (ne = t.attributes["next-step"]) == null ? void 0 : ne.config) == null ? void 0 : L.localizations) == null ? void 0 : H["cancel-dialog"]
      , o = st(Li)
      , a = st(oe => oe.ui.showConfirmCancelDialog)
      , s = Pl()
      , {t: c} = G()
      , l = Vt()
      , d = Nr()
      , [u,{enable: m, disable: h}] = rt(!1);
    f.useEffect( () => {
        m();
        const oe = setTimeout(h, 500);
        return () => {
            clearTimeout(oe)
        }
    }
    , [d]);
    const p = f.useMemo( () => !(l.index == null || l.index <= 0 || B4.some(oe => pn(d.pathname, {
        path: oe,
        exact: !0,
        strict: !1
    })) || V4.some(oe => pn(d.pathname, {
        path: oe,
        exact: !0,
        strict: !1
    }))), [l.index, d.pathname])
      , b = f.useMemo( () => t.attributes["next-step"].config["back-step-enabled"] ? !p : !1, [t, p])
      , {error: C, callback: S} = vt(async () => {
        b ? s(jv(t)) : p ? l.goBack() : Be("Tried to navigate back when neither transition nor history back permitted", "warning")
    }
    , [d.pathname, b, p, t])
      , v = f.useRef(Date.now());
    f.useEffect( () => {
        v.current = Date.now()
    }
    , [d.pathname]),
    _t({
        error: C,
        onError: () => {
            s(ce("Unexpected error, please try again."))
        }
        ,
        onNetworkError: () => s(ce("Unexpected error, please try again."))
    });
    const x = () => {
        U4.some(oe => pn(d.pathname, {
            path: oe,
            exact: !1,
            strict: !1
        })) ? _() : s(jr())
    }
      , _ = () => {
        md(),
        D.onEvent(Oe.Exit, {
            inquiryId: t.id,
            sessionToken: te.accessToken
        }, {
            inquiry: t
        }),
        An(l),
        l.push("/widget"),
        s(Ic())
    }
      , R = e === tn.Blocked
      , E = e === tn.Transitioning
      , T = t.attributes["next-step"].config["cancel-button-enabled"] && !D.isHosted && !D.isInline && !fd(t) && !F4.some(oe => pn(d.pathname, {
        path: oe,
        exact: !0,
        strict: !1
    })) && !R && !n
      , F = (b || p) && !R && !D.isReusablePersonaPopup
      , O = t.attributes.logo;
    let N = O == null ? void 0 : O.display;
    (!N || M4.some(oe => pn(d.pathname, {
        path: oe,
        exact: !0,
        strict: !1
    }))) && (N = Ai.None);
    const U = {
        backgroundColor: A((ee = (q = o == null ? void 0 : o["background-color"]) == null ? void 0 : q.header) == null ? void 0 : ee.base),
        borderColor: A((ae = (Y = o == null ? void 0 : o["border-color"]) == null ? void 0 : Y.header) == null ? void 0 : ae.base),
        borderWidth: k((Re = (_e = (se = o == null ? void 0 : o["border-width"]) == null ? void 0 : se.header) == null ? void 0 : _e.base) == null ? void 0 : Re.bottom)
    }
      , V = {
        backgroundColor: (Pe = (ye = o == null ? void 0 : o["background-color"]) == null ? void 0 : ye.base) == null ? void 0 : Pe.base,
        padding: (Te = (Ae = o == null ? void 0 : o.padding) == null ? void 0 : Ae.modal) == null ? void 0 : Te.base,
        border: {
            radius: (re = (be = o == null ? void 0 : o["border-radius"]) == null ? void 0 : be.modal) == null ? void 0 : re.base
        }
    };
    return i.jsxs(i.Fragment, {
        children: [i.jsxs(bi, {
            isOpen: a,
            onClose: () => s(Ic()),
            styles: V,
            "data-test": "confirm-exit-dialog",
            "aria-labelledby": "confirm-exit-dialog__title",
            "aria-describedby": "confirm-exit-dialog__description",
            children: [i.jsx(ct, {
                id: "confirm-exit-dialog__title",
                styles: (z = o == null ? void 0 : o["title-style"]) == null ? void 0 : z.base.base,
                children: i.jsx(X, {
                    children: (Z = r == null ? void 0 : r.title) != null ? Z : c("exit.title")
                })
            }), i.jsx(ot, {
                id: "confirm-exit-dialog__description",
                styles: (xe = o == null ? void 0 : o["text-style"]) == null ? void 0 : xe.base.base,
                children: i.jsx(X, {
                    children: (we = r == null ? void 0 : r.prompt) != null ? we : c("exit.prompt")
                })
            }), i.jsx(Xe, {
                height: 2
            }), i.jsx(fe, {
                id: "confirm-exit-dialog__button--close",
                "data-test": "confirm-exit-dialog__button--close",
                buttonType: Q.Primary,
                styles: (Ye = o == null ? void 0 : o["button-primary-style"]) == null ? void 0 : Ye.base.base,
                onClick: _,
                children: (qe = r == null ? void 0 : r["btn-submit"]) != null ? qe : c("exit.btn-submit")
            }), o == null && i.jsx(Xe, {
                height: 1.5
            }), i.jsx(fe, {
                id: "confirm-exit-dialog__button--resume",
                "data-test": "confirm-exit-dialog__button--resume",
                buttonType: Q.Secondary,
                styles: (Ce = o == null ? void 0 : o["button-secondary-style"]) == null ? void 0 : Ce.base.base,
                onClick: () => s(Ic()),
                children: (W = r == null ? void 0 : r["btn-resume"]) != null ? W : i.jsx(kn, {
                    i18nKey: "exit.or-go-back",
                    defaults: "Or <0>click here to resume</0>",
                    components: [i.jsx(f.Fragment, {
                        children: "click here to resume"
                    }, 0)],
                    children: "Or click here to resume"
                })
            })]
        }), i.jsx(Og, {
            id: Ld,
            "data-test": "navbar__inquiry-dynamic-flow",
            onBack: S,
            onClose: x,
            styles: U,
            showBackButton: F,
            showCloseButton: T,
            colorIconHeader: A(o == null ? void 0 : o["text-color"]["header-button"].base),
            logoContentType: O == null ? void 0 : O["content-type"],
            logoDisplay: N,
            logoUrl: O == null ? void 0 : O.url,
            loading: E || u
        })]
    })
}
  , q4 = g.div.withConfig({
    displayName: "AboveFrameHint__AboveFrameHintContainer",
    componentId: "sc-1eqi7b5-0"
})(["display:flex;flex-direction:row;justify-content:center;align-items:center;position:absolute;top:-16px;transform:translateY(-100%);border-radius:4px;padding:8px 16px;background-color:rgba(255,255,255,0.15);color:", ";width:100%;text-align:center;font-size:14px;line-height:150%;z-index:1;transition:opacity ", ";opacity:", ";"], I.Color.PrimaryWhite, tt.Fast, ({visible: e}) => e ? 1 : 0)
  , $4 = ({text: e}) => {
    const [t,n] = f.useState("");
    return f.useEffect( () => {
        e && n(e)
    }
    , [e]),
    i.jsx(q4, {
        visible: !!e,
        children: i.jsx("div", {
            role: "alert",
            children: e || t
        })
    })
}
  , G4 = 1
  , W4 = 1
  , Y4 = 14
  , z4 = g.div.withConfig({
    displayName: "CaptureFrameLabel__CaptureFrameLabelFrame",
    componentId: "sc-1quv8d1-0"
})(["position:relative;align-items:flex-start;background:rgb(230,230,230);color:", ";padding:", "px 12px;display:flex;border-radius:", ";height:", ";width:100%;transition:", ";"], ({styles: e}) => e != null ? A(e == null ? void 0 : e["text-color"].base.base) : I.Color.CoreSlate800, Y4, ({borderRadius: e}) => e, ({height: e}) => e != null ? e : "auto", ({collapsed: e}) => `height ${W4}s,
    border-radius ${G4}s steps(1, ${e ? "jump-end" : "jump-start"})`)
  , K4 = g.div.withConfig({
    displayName: "CaptureFrameLabel__CaptureFrameLabelContents",
    componentId: "sc-1quv8d1-1"
})(["display:flex;align-items:center;font-size:14px;line-height:150%;img,svg{height:auto !important;width:40px !important;}svg{path{mix-blend-mode:normal !important;}}"])
  , Q4 = g("div").withConfig({
    displayName: "CaptureFrameLabel__CaptureFrameLabelText",
    componentId: "sc-1quv8d1-2"
})(["align-self:center;margin-left:12px;"])
  , Z4 = g.span.withConfig({
    displayName: "CaptureFrameLabel__PictographContainer",
    componentId: "sc-1quv8d1-3"
})(["flex:1 0 auto;height:auto !important;width:40px !important;"])
  , J4 = (e, t, n) => {
    var o, a, s, c, l;
    let r;
    return n === "pp" || n === "ipp" ? t === B.PassportSignature ? r = e["passport-signature-pictograph"] : r = e["passport-front-pictograph"] : t === B.Back ? r = e["id-back-pictograph"] : t === B.BarcodePdf417 ? r = e["barcode-pdf417-pictograph"] : t === B.Front || t === B.FrontOrBack ? r = e["id-front-pictograph"] : t === B.PassportSignature && (r = e["passport-signature-pictograph"]),
    ((c = (s = (a = (o = r == null ? void 0 : r.styles) == null ? void 0 : o.width) == null ? void 0 : a.base) == null ? void 0 : s.base) == null ? void 0 : c.value) === 0 || ((l = r == null ? void 0 : r.attributes) == null ? void 0 : l.width) === "0px"
}
  , X4 = ({assets: e, currentSide: t, governmentIdClass: n, styles: r}) => {
    if (n === "pp" || n === "ipp")
        switch (t) {
        case B.PassportSignature:
            return i.jsx(Ue, {
                customImage: e["passport-signature-pictograph"],
                alt: "passport signature pictograph",
                children: i.jsx(pe, {
                    style: {
                        lineHeight: 0
                    },
                    $primaryColor: A(r == null ? void 0 : r.fill.color),
                    $strokeColor: A(r == null ? void 0 : r.stroke.color),
                    "aria-hidden": "true",
                    children: i.jsx(ls, {})
                })
            });
        default:
            return i.jsx(Ue, {
                customImage: e["passport-front-pictograph"],
                alt: "passport front pictograph",
                children: i.jsx(pe, {
                    style: {
                        lineHeight: 0
                    },
                    $primaryColor: A(r == null ? void 0 : r.fill.color),
                    $strokeColor: A(r == null ? void 0 : r.stroke.color),
                    "aria-hidden": "true",
                    children: i.jsx(Gh, {})
                })
            })
        }
    switch (t) {
    case B.Back:
        return i.jsx(Ue, {
            customImage: e["id-back-pictograph"],
            alt: "ID back pictograph",
            children: i.jsx(pe, {
                style: {
                    lineHeight: 0
                },
                $primaryColor: A(r == null ? void 0 : r.fill.color),
                $strokeColor: A(r == null ? void 0 : r.stroke.color),
                "aria-hidden": "true",
                children: i.jsx(zh, {
                    style: {
                        height: "46px",
                        width: "74px"
                    }
                })
            })
        });
    case B.BarcodePdf417:
        return i.jsx(Ue, {
            customImage: e["barcode-pdf417-pictograph"],
            alt: "Barcode PDF417 pictograph",
            children: i.jsx(pe, {
                style: {
                    lineHeight: 0
                },
                $primaryColor: A(r == null ? void 0 : r.fill.color),
                $strokeColor: A(r == null ? void 0 : r.stroke.color),
                "aria-hidden": "true",
                children: i.jsx(Yh, {
                    style: {
                        height: "46px",
                        width: "74px"
                    }
                })
            })
        });
    case B.Front:
    case B.FrontOrBack:
        return i.jsx(Ue, {
            customImage: e["id-front-pictograph"],
            alt: "ID front pictograph",
            children: i.jsx(pe, {
                style: {
                    lineHeight: 0
                },
                $primaryColor: A(r == null ? void 0 : r.fill.color),
                $strokeColor: A(r == null ? void 0 : r.stroke.color),
                "aria-hidden": "true",
                children: i.jsx(Wh, {
                    style: {
                        height: "46px",
                        width: "74px"
                    }
                })
            })
        });
    case B.PassportSignature:
        return i.jsx(Ue, {
            customImage: e["passport-signature-pictograph"],
            alt: "passport signature pictograph",
            children: i.jsx(pe, {
                style: {
                    lineHeight: 0
                },
                $primaryColor: A(r == null ? void 0 : r.fill.color),
                $strokeColor: A(r == null ? void 0 : r.stroke.color),
                "aria-hidden": "true",
                children: i.jsx(ls, {})
            })
        });
    default:
        return null
    }
}
  , eT = (e, t) => {
    var o;
    const {captureHintIcon: n} = Sn()
      , r = !J4(e.assets, e.side, e.idClass);
    return i.jsx(z4, {
        collapsed: !1,
        height: (o = e.height) != null ? o : "auto",
        styles: e.styles,
        borderRadius: e.borderRadius,
        children: i.jsxs(K4, {
            ref: t,
            children: [r && i.jsx(Z4, {
                "aria-hidden": "true",
                children: i.jsx(X4, {
                    assets: e.assets,
                    currentSide: e.side,
                    governmentIdClass: e.idClass,
                    styles: n
                })
            }), i.jsx(Q4, {
                children: e.text
            })]
        })
    })
}
  , Lg = f.forwardRef(eT)
  , tT = g.div.withConfig({
    displayName: "InFrameHint__InFrameHintContainer",
    componentId: "sc-rbdkd8-0"
})(["display:flex;flex-direction:row;justify-content:center;align-items:center;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:", ";text-align:center;font-size:14px;line-height:150%;z-index:1;width:80%;transition:opacity ", ";opacity:", ";"], I.Color.PrimaryWhite, tt.Fast, ({visible: e}) => e ? 1 : 0)
  , nT = g.div.withConfig({
    displayName: "InFrameHint__InFrameHintContainerInner",
    componentId: "sc-rbdkd8-1"
})(["background-color:rgba(0,0,0,0.5);border-radius:4px;padding:8px 16px;min-width:50%;"])
  , iT = ({text: e}) => {
    const [t,n] = f.useState("");
    return f.useEffect( () => {
        e && n(e)
    }
    , [e]),
    i.jsx(tT, {
        visible: !!e,
        children: i.jsx(nT, {
            role: "alert",
            children: e || t
        })
    })
}
  , rT = g(js).withConfig({
    displayName: "IdCornersGuide__CornerTopLeft",
    componentId: "sc-1mt1yfs-0"
})(["position:absolute;top:", ";left:", ";path{stroke:", ";transition:stroke ", ";}"], I.Spacing[3], I.Spacing[3], ({$highlightCorners: e}) => e ? I.Color.CoreGreen400 : null, tt.Fast)
  , oT = g(js).withConfig({
    displayName: "IdCornersGuide__CornerTopRight",
    componentId: "sc-1mt1yfs-1"
})(["position:absolute;top:", ";right:", ";transform:rotate(90deg);path{stroke:", ";transition:stroke ", ";}"], I.Spacing[3], I.Spacing[3], ({$highlightCorners: e}) => e ? I.Color.CoreGreen400 : null, tt.Fast)
  , aT = g(js).withConfig({
    displayName: "IdCornersGuide__CornerBottomRight",
    componentId: "sc-1mt1yfs-2"
})(["position:absolute;bottom:", ";right:", ";transform:rotate(180deg);path{stroke:", ";transition:stroke ", ";}"], I.Spacing[3], I.Spacing[3], ({$highlightCorners: e}) => e ? I.Color.CoreGreen400 : null, tt.Fast)
  , sT = g(js).withConfig({
    displayName: "IdCornersGuide__CornerBottomLeft",
    componentId: "sc-1mt1yfs-3"
})(["position:absolute;bottom:", ";left:", ";transform:rotate(270deg);path{stroke:", ";transition:stroke ", ";}"], I.Spacing[3], I.Spacing[3], ({$highlightCorners: e}) => e ? I.Color.CoreGreen400 : null, tt.Fast);
function uc({highlightCorners: e}) {
    return i.jsxs(i.Fragment, {
        children: [i.jsx(rT, {
            $highlightCorners: e,
            "aria-hidden": !0
        }), i.jsx(oT, {
            $highlightCorners: e,
            "aria-hidden": !0
        }), i.jsx(sT, {
            $highlightCorners: e,
            "aria-hidden": !0
        }), i.jsx(aT, {
            $highlightCorners: e,
            "aria-hidden": !0
        })]
    })
}
const cT = g("div").withConfig({
    displayName: "IdBackGuide__Positioner",
    componentId: "sc-ojzxwa-0"
})(["", ";width:100%;"], ({mirrored: e}) => e && $(["transform:scale(-1,1);"]));
function Il({mirrored: e=!1, hideGuide: t=!1, highlightCorners: n=!1}) {
    return i.jsx(cT, {
        "data-test": "id-back-guide",
        mirrored: e,
        children: i.jsxs("div", {
            style: {
                position: "relative"
            },
            children: [i.jsx(uc, {
                highlightCorners: n
            }), i.jsx(Kh, {
                style: {
                    objectFit: "cover",
                    opacity: t ? 0 : 1,
                    transition: `opacity ${tt.Fast}`
                }
            })]
        })
    })
}
const lT = g("div").withConfig({
    displayName: "IdBarcodeGuide__Positioner",
    componentId: "sc-1bbdq8d-0"
})(["", ";width:100%;"], ({mirrored: e}) => e && $(["transform:scale(-1,1);"]));
function Sl({mirrored: e=!1, hideGuide: t=!1}) {
    return i.jsx(lT, {
        "data-test": "id-back-guide",
        mirrored: e,
        children: i.jsx("div", {
            style: {
                paddingBottom: "35%",
                position: "relative",
                width: "100%"
            },
            children: i.jsx("div", {
                style: {
                    position: "absolute",
                    inset: "17.75%"
                },
                children: i.jsx(L1, {
                    style: {
                        height: "100%",
                        objectFit: "cover",
                        opacity: t ? 0 : 1,
                        position: "absolute",
                        transition: `opacity ${tt.Fast}`,
                        width: "100%"
                    }
                })
            })
        })
    })
}
const dT = g("div").withConfig({
    displayName: "IdCornersOnlyGuide__Positioner",
    componentId: "sc-1ico4mx-0"
})(["", ";width:100%;"], ({mirrored: e}) => e && $(["transform:scale(-1,1);"]))
  , uT = g("div").withConfig({
    displayName: "IdCornersOnlyGuide__SimpleGuide",
    componentId: "sc-1ico4mx-1"
})(["padding-bottom:65.97%;width:100%;"]);
function Fg({mirrored: e=!1, highlightCorners: t=!1}) {
    return i.jsx(dT, {
        "data-test": "id-corners-guide",
        mirrored: e,
        children: i.jsxs("div", {
            style: {
                position: "relative"
            },
            children: [i.jsx(uc, {
                highlightCorners: t
            }), i.jsx(uT, {})]
        })
    })
}
const mT = g("div").withConfig({
    displayName: "IdFrontGuide__Positioner",
    componentId: "sc-ezk9hl-0"
})(["", ";width:100%;"], ({mirrored: e}) => e && $(["transform:scale(-1,1);"]));
function yl({mirrored: e=!1, hideGuide: t=!1, highlightCorners: n=!1}) {
    return i.jsx(mT, {
        "data-test": "id-front-guide",
        mirrored: e,
        children: i.jsxs("div", {
            style: {
                position: "relative"
            },
            children: [i.jsx(uc, {
                highlightCorners: n
            }), i.jsx(Qh, {
                style: {
                    objectFit: "cover",
                    opacity: t ? 0 : 1,
                    transition: `opacity ${tt.Fast}`
                }
            })]
        })
    })
}
const hT = g("div").withConfig({
    displayName: "IdFrontRightPortraitGuide__Positioner",
    componentId: "sc-2hpaxj-0"
})(["", ";width:100%;"], ({mirrored: e}) => e && $(["transform:scale(-1,1);"]));
function Mg({mirrored: e=!1, hideGuide: t=!1, highlightCorners: n=!1}) {
    return i.jsx(hT, {
        "data-test": "id-front-guide",
        mirrored: e,
        children: i.jsxs("div", {
            style: {
                position: "relative"
            },
            children: [i.jsx(uc, {
                highlightCorners: n
            }), i.jsx(F1, {
                style: {
                    objectFit: "cover",
                    opacity: t ? 0 : 1,
                    transition: `opacity ${tt.Fast}`
                }
            })]
        })
    })
}
const pT = g("div").withConfig({
    displayName: "MrzTwoLineGuide__Positioner",
    componentId: "sc-1thhldn-0"
})(["position:relative;left:0;right:0;top:100%;bottom:100%;", ";visibility:", ";width:100%;"], ({mirrored: e}) => e && $(["transform:scale(-1,1);"]), ({hideGuide: e}) => e ? "hidden" : "visible");
function wl({mirrored: e=!1, hideGuide: t=!1}) {
    return i.jsx(pT, {
        "data-test": "mrz-two-line-guide",
        mirrored: e,
        hideGuide: t,
        children: i.jsx(Zh, {})
    })
}
const fT = Pn(["0%{opacity:100;}100%{opacity:0;}"])
  , gT = g("div").withConfig({
    displayName: "OverlayImage__Flash",
    componentId: "sc-1sy16p7-0"
})(["position:absolute;top:0;left:0;height:100%;width:100%;background-color:", ";opacity:0;animation:", " 1s;"], I.Color.PrimaryWhite, fT)
  , bT = g("div").withConfig({
    displayName: "OverlayImage__Positioner",
    componentId: "sc-1sy16p7-1"
})(["transform:translate(-50%,-50%);width:100%;position:absolute;top:50%;left:50%;& > div,& > img{margin:auto;}"])
  , dm = g("div").withConfig({
    displayName: "OverlayImage__SimpleGuide",
    componentId: "sc-1sy16p7-2"
})(["padding-bottom:65.97%;width:100%;"])
  , CT = g("div").withConfig({
    displayName: "OverlayImage__BarcodeImageContainer",
    componentId: "sc-1sy16p7-3"
})(["position:absolute;margin-left:20%;margin-right:20%;padding-top:17%;width:60%;top:50%;transform:translateY(-50%);"])
  , xT = g(Ul).withConfig({
    displayName: "OverlayImage__IdBarcodeGenericGuideStyled",
    componentId: "sc-1sy16p7-4"
})(["top:0;left:0;position:absolute;width:100%;height:100%;"])
  , vT = e => {
    const {captureOverlay: t, hideGuide: n, highlightCorners: r, isShortBarcodeOverlay: o, showFlash: a} = e
      , s = () => {
        switch (t == null ? void 0 : t["overlay-fallback"]) {
        case xn.Passport:
            return i.jsx(wl, {
                hideGuide: n
            });
        case xn.IdFront:
            return i.jsx(yl, {
                hideGuide: n,
                highlightCorners: r
            });
        case xn.IdFrontRightPortrait:
            return i.jsx(Mg, {
                hideGuide: n,
                highlightCorners: r
            });
        case xn.IdBack:
            return i.jsx(Il, {
                hideGuide: n,
                highlightCorners: r
            });
        case xn.Barcode:
            return o ? i.jsx(Sl, {}) : i.jsx(dm, {
                children: i.jsx(CT, {
                    children: i.jsx(xT, {
                        preserveAspectRatio: "none"
                    })
                })
            });
        case xn.CornersOnly:
            return i.jsx(Fg, {
                highlightCorners: r
            });
        case xn.Empty:
        default:
            return i.jsx(dm, {})
        }
    }
    ;
    return i.jsxs(i.Fragment, {
        children: [i.jsx(bT, {
            children: i.jsx(Ue, {
                customImage: t == null ? void 0 : t.overlay,
                alt: "ID capture overlay",
                children: s()
            })
        }), a && i.jsx(gT, {})]
    })
}
  , Bg = 1
  , IT = 1
  , ST = 8
  , yT = 3
  , Vg = e => {
    var t, n;
    return (n = k((t = e == null ? void 0 : e.border) == null ? void 0 : t.radius)) != null ? n : `${ST}px`
}
  , to = e => {
    var t, n, r;
    return (r = k((n = (t = e == null ? void 0 : e.border) == null ? void 0 : t.width) == null ? void 0 : n.top)) != null ? r : `${yT}px`
}
  , wT = e => {
    var t, n;
    return (n = A((t = e == null ? void 0 : e.border) == null ? void 0 : t.color)) != null ? n : I.Color.PrimaryWhite
}
  , Ug = e => `calc(${Vg(e)} - ${to(e)})`
  , _T = .8
  , RT = .8
  , AT = .4242
  , zr = 14
  , um = window.requestIdleCallback != null
  , TT = g("div").withConfig({
    displayName: "ScannerOverlayNew__FullscreenPage",
    componentId: "sc-1dti9f8-0"
})(["position:absolute;top:0;left:0;right:0;bottom:0;overflow:hidden;display:flex;flex-direction:column;"])
  , Fd = e => {
    var r, o, a, s;
    const t = f.useRef()
      , n = A((a = (o = (r = e == null ? void 0 : e.styles) == null ? void 0 : r.captureOverlayHeaderButton) == null ? void 0 : o.stroke) == null ? void 0 : a.color);
    return i.jsxs(i.Fragment, {
        children: [i.jsx(ET, {
            svgColor: n
        }), i.jsx(TT, {
            ref: (s = e.overlayRef) != null ? s : t,
            children: i.jsx(BT, {
                ...e
            })
        })]
    })
}
  , ET = bo(["nav#", "{background-color:unset;svg{path{", "}}}"], Ld, ({svgColor: e}) => `stroke: ${e != null ? e : I.Color.PrimaryWhite};`)
  , kT = g.div.withConfig({
    displayName: "ScannerOverlayNew__ImageContainerWrapper",
    componentId: "sc-1dti9f8-1"
})(["position:relative;"])
  , NT = g.div.withConfig({
    displayName: "ScannerOverlayNew__ImageContainer",
    componentId: "sc-1dti9f8-2"
})(["height:", ";position:relative;transform:", ";transition:all ", "s;"], ({height: e}) => e, ({mirrored: e}) => e ? "scale(-1, 1)" : null, Bg)
  , jT = g("div").withConfig({
    displayName: "ScannerOverlayNew__ImageContainerSizer",
    componentId: "sc-1dti9f8-3"
})(["top:0;left:0;padding-bottom:", ";overflow:hidden;"], ({isShortBarcodeOverlay: e}) => e ? "35%" : "66%")
  , Hg = g("div").withConfig({
    displayName: "ScannerOverlayNew__CaptureFrame",
    componentId: "sc-1dti9f8-4"
})(["backface-visibility:hidden;height:100%;width:100%;overflow:hidden;transform:", ";position:", ";top:", ";"], ({isAnimated: e, isReverseSide: t}) => t ? "rotateY(180deg)" : e ? "scale(1)" : null, ({isReverseSide: e}) => e ? "absolute" : null, ({isReverseSide: e}) => e ? 0 : null)
  , PT = g("div").withConfig({
    displayName: "ScannerOverlayNew__VerticalPositioner",
    componentId: "sc-1dti9f8-5"
})(["position:absolute;top:calc( ", " - ", " );background:", ";width:calc(80% + 2 * (", "));margin-left:calc(10% - ", ");margin-right:calc(10% - ", ");perspective:", ";transform:", ";transition:", ";"], ({collapsed: e, isShortBarcodeOverlay: t}) => e ? "50%" : t ? "35%" : "25%", ({styles: e}) => to(e), ({collapsed: e}) => e ? "black" : "transparent", ({styles: e}) => to(e), ({styles: e}) => to(e), ({styles: e}) => to(e), ({animated: e}) => e ? "1000px" : null, ({animated: e, collapsed: t, collapsedVerticalOffset: n}) => e && t ? `translate3d(0, ${n != null ? n : "-50%"}, 0)` : null, ({animated: e}) => e ? `all ${Bg}s` : null)
  , DT = g("div").withConfig({
    displayName: "ScannerOverlayNew__FlipCard",
    componentId: "sc-1dti9f8-6"
})(["border:", ";border-radius:", ";position:relative;width:100%;height:100%;overflow:", ";transform-style:", ";transform:", ";transition:", ";"], ({styles: e}) => `${to(e)} solid ${wT(e)}`, ({styles: e}) => Vg(e), ({flipped: e}) => e ? null : "hidden", ({animated: e}) => e ? "preserve-3d" : null, ({animated: e, flipped: t}) => e && t ? "rotateY(180deg)" : null, ({animated: e}) => e ? `transform ${IT}s` : null)
  , OT = g("div").withConfig({
    displayName: "ScannerOverlayNew__UnderOverlayComponentsWrapper",
    componentId: "sc-1dti9f8-7"
})(["position:absolute;bottom:-16px;transform:translateY(100%);z-index:1;transition:opacity ", ";opacity:", ";width:100%;"], tt.Fast, ({visible: e}) => e ? 1 : 0)
  , LT = g.div.withConfig({
    displayName: "ScannerOverlayNew__RealCaptureWindow",
    componentId: "sc-1dti9f8-8"
})(["position:absolute;overflow:hidden;top:", "%;height:", "%;left:", "%;width:", "%;video{object-fit:cover;height:100%;width:100%;}"], ({visibleToRealCaptureWindowHeightRatio: e}) => (100 - 100 / e) / 2, ({visibleToRealCaptureWindowHeightRatio: e}) => 100 / e, ({visibleToRealCaptureWindowWidthRatio: e}) => (100 - 100 / e) / 2, ({visibleToRealCaptureWindowWidthRatio: e}) => 100 / e)
  , FT = e => {
    var t, n, r, o;
    return i.jsxs(Hg, {
        isReverseSide: !1,
        isAnimated: e.isAnimated,
        children: [i.jsxs(kT, {
            children: [i.jsxs(NT, {
                ref: e.previewViewfinderRef,
                mirrored: e.mirrored,
                height: e.imageContainerHeight,
                onTransitionEnd: () => {
                    var a;
                    (a = e.onTransitionEnd) == null || a.call(e)
                }
                ,
                children: [i.jsx(LT, {
                    ref: e.overlayCaptureWindowRef,
                    visibleToRealCaptureWindowWidthRatio: _T,
                    visibleToRealCaptureWindowHeightRatio: e.isShortBarcodeOverlay ? AT : RT,
                    children: (t = e.renderCaptureWindowContents) == null ? void 0 : t.call(e)
                }), i.jsx(jT, {
                    ref: e.imageContainerSizerRef,
                    isShortBarcodeOverlay: e.isShortBarcodeOverlay
                }), i.jsx(vT, {
                    captureOverlay: (n = e.captureOverlay) != null ? n : null,
                    isShortBarcodeOverlay: e.isShortBarcodeOverlay,
                    hideGuide: e.hideGuide,
                    highlightCorners: !!e.hasDetectedQuad,
                    showFlash: e.capturing
                })]
            }), !e.isShortBarcodeOverlay && i.jsx(iT, {
                text: e.inFrameText
            })]
        }), i.jsx(Lg, {
            collapsed: !1,
            borderRadius: Ug((r = e.styles) == null ? void 0 : r.captureBox),
            ref: e.captureFrameLabelRef,
            styles: (o = e.styles) == null ? void 0 : o.hint,
            assets: e.assets,
            side: e.requiresSide,
            idClass: e.governmentIdClass,
            text: e.captureFrameLabel,
            height: e.captureFrameLabelHeight
        })]
    })
}
  , MT = e => {
    var t, n;
    return e.reverseSide ? i.jsx(Hg, {
        isReverseSide: !0,
        isAnimated: e.isAnimated,
        "aria-hidden": "true",
        children: i.jsx(Lg, {
            ref: e.captureFrameLabelRef,
            collapsed: !1,
            borderRadius: Ug((t = e.styles) == null ? void 0 : t.captureBox),
            styles: (n = e.styles) == null ? void 0 : n.hint,
            assets: e.assets,
            side: e.reverseSide,
            idClass: e.governmentIdClass,
            text: e.reverseCaptureFrameLabel
        })
    }) : null
}
  , BT = e => {
    var E, T;
    const t = f.useRef(null)
      , [n,r] = f.useState(e.collapsed || e.expandOnMount)
      , [o,a] = f.useState(n ? 0 : "auto")
      , s = f.useRef(null)
      , c = f.useRef(null)
      , [l,d] = f.useState(e.flipped)
      , [u,m] = f.useState("auto")
      , [h,p] = f.useState(null)
      , b = f.useRef(null)
      , C = (E = e.previewViewfinderRef) != null ? E : b;
    f.useEffect( () => {
        var O, N, U, V;
        const F = e.captureOverlay ? (O = t.current) == null ? void 0 : O.clientHeight : (N = C.current) == null ? void 0 : N.scrollHeight;
        S() ? e.collapsed && !n ? (a(F + "px"),
        um ? window.requestIdleCallback( () => {
            var ne;
            a(0),
            p(`${-(((ne = s.current) == null ? void 0 : ne.scrollHeight) + zr * 2) / 2}px`),
            r(!0)
        }
        , {
            timeout: 500
        }) : setTimeout( () => {
            var ne;
            a(0),
            p(`${-(((ne = s.current) == null ? void 0 : ne.scrollHeight) + zr * 2) / 2}px`),
            r(!0)
        }
        , 50)) : (a(e.collapsed ? 0 : F || "auto"),
        e.collapsed && p(`${-(((U = s.current) == null ? void 0 : U.scrollHeight) + zr * 2) / 2}px`),
        r(e.collapsed)) : e.expandOnMount ? (a(F + "px"),
        r(!1)) : (V = e.onReady) == null || V.call(e)
    }
    , [e.collapsed]),
    f.useEffect( () => {
        var F;
        S() && e.flipped && !l && (m(`${((F = s.current) == null ? void 0 : F.scrollHeight) + zr * 2}px`),
        um ? window.requestIdleCallback( () => {
            var N;
            const O = ((N = c.current) == null ? void 0 : N.scrollHeight) + zr * 2;
            m(`${O}px`),
            p(`-${O / 2}px`),
            d(!0)
        }
        , {
            timeout: 500
        }) : setTimeout( () => {
            var N;
            const O = ((N = c.current) == null ? void 0 : N.scrollHeight) + zr * 2;
            m(`${O}px`),
            p(`-${O / 2}px`),
            d(!0)
        }
        , 50))
    }
    , [e.flipped]);
    const S = Ki()
      , v = e.isShortBarcodeOverlay && e.hint || e.prompt
      , x = e.isShortBarcodeOverlay ? null : e.hint
      , _ = e.capturing || e.hasDetectedQuad || !!x
      , R = e.isAnimated || e.expandOnMount || e.collapsed || e.flipped;
    return i.jsxs(PT, {
        animated: R,
        collapsed: n,
        collapsedVerticalOffset: h,
        isShortBarcodeOverlay: e.isShortBarcodeOverlay,
        children: [i.jsx($4, {
            text: n ? null : v
        }), i.jsxs(DT, {
            animated: R,
            flipped: l,
            styles: (T = e.styles) == null ? void 0 : T.captureBox,
            children: [i.jsx(FT, {
                ...e,
                previewViewfinderRef: C,
                imageContainerSizerRef: t,
                captureFrameLabelRef: s,
                captureFrameLabelHeight: u,
                imageContainerHeight: o,
                hideGuide: _,
                inFrameText: x,
                onTransitionEnd: () => {
                    var F;
                    a(n ? 0 : "auto"),
                    (F = e.onReady) == null || F.call(e)
                }
                ,
                isAnimated: R
            }), i.jsx(MT, {
                ...e,
                captureFrameLabelRef: c,
                captureFrameLabelHeight: u,
                reverseSide: e.reverseSide,
                isAnimated: R
            })]
        }), e.renderUnderOverlayComponents && i.jsx(OT, {
            visible: !0,
            children: e.renderUnderOverlayComponents()
        })]
    })
}
;
function fi(e, t, n, r, o) {
    const a = n == null ? void 0 : n.toLowerCase()
      , s = r
      , c = (d => {
        switch (d) {
        case B.Back:
            return "back";
        case B.BarcodePdf417:
            return "barcode";
        case B.Front:
            return "front";
        case B.FrontOrBack:
            return "front-or-back";
        case B.PassportSignature:
            return "passport-signature"
        }
    }
    )(o)
      , l = ya(t.map(d => vC([a && s && c ? `${d}.${a}.${s}.${c}` : null, a && s ? `${d}.${a}.${s}.default` : null, a && c ? `${d}.${a}.unknown.${c}` : null, a ? `${d}.${a}.unknown.default` : null, a && s ? `${d}.${a}.${s}` : null, a ? `${d}.${a}.unknown` : null, s && c ? `${d}.${s}.${c}` : null, s ? `${d}.${s}.default` : null, c ? `${d}.unknown.${c}` : null, `${d}.unknown.default`, s ? `${d}.${s}` : null, `${d}.unknown`])));
    return e(l)
}
function _i(e, t, n) {
    return (t === "pp" || t === "ipp") && n === B.Front ? e["passport-portrait-capture-frame-label"] : (t === "pp" || t === "ipp") && n === B.PassportSignature ? e["passport-signature-capture-frame-label"] : n === B.BarcodePdf417 ? e["barcode-capture-frame-label"] : n === B.Back ? e["id-back-capture-frame-label"] : e["id-front-capture-frame-label"]
}
const VT = 720
  , UT = g("div").withConfig({
    displayName: "InquiryGovernmentIdCaptureLeadInAnimationView__VideoWrapperFullscreen",
    componentId: "sc-117p6m6-0"
})(["background:", ";overflow:hidden;position:relative;min-height:", "px;display:flex;justify-content:center;", ";", ";"], I.Color.PrimaryBlack, Ra, ({flowType: e}) => e === Tt.Inline ? `
      height: ${VT}px;
    ` : `
      @media ${jt.isMobile} {
        height: 100%;
        min-height: 140vw;
      }
    `, D.isDashboardFLE && "height: 100%;")
  , HT = 450
  , qT = g.div.withConfig({
    displayName: "InquiryGovernmentIdCaptureLeadInAnimationView__VideoWrapperColumnSizer",
    componentId: "sc-117p6m6-1"
})(["position:relative;width:100%;max-width:", ";"], ({restrictInlineColumnWidth: e}) => e ? `${HT}px` : null)
  , $T = g.div.withConfig({
    displayName: "InquiryGovernmentIdCaptureLeadInAnimationView__TitlePositioner",
    componentId: "sc-117p6m6-2"
})(["position:absolute;top:72px;left:10%;right:10%;*{color:", " !important;}z-index:", ";"], I.Color.PrimaryWhite, wt.navbar);
function GT({assets: e, localizations: t, featureFlags: n, governmentIdClass: r, requiresSide: o, handleRouteToCaptureView: a}) {
    const {base: s, captureFeedBox: c, captureHint: l, captureOverlayHeaderButton: d} = Sn()
      , u = o === B.BarcodePdf417
      , m = () => i.jsx(Fd, {
        styles: {
            base: s,
            captureBox: c,
            captureOverlayHeaderButton: d,
            hint: l == null ? void 0 : l.textStyle
        },
        assets: e,
        isShortBarcodeOverlay: u,
        governmentIdClass: r,
        requiresSide: o,
        captureFrameLabel: _i(t, r, o),
        isAnimated: !0,
        collapsed: !0,
        expandOnMount: !0,
        onReady: a
    })
      , h = () => t.title ? i.jsx($T, {
        children: i.jsx(ct, {
            styles: s == null ? void 0 : s.titleStyle,
            children: t.title
        })
    }) : null;
    return i.jsx(UT, {
        flowType: D.flowType,
        children: i.jsxs(qT, {
            restrictInlineColumnWidth: D.isInline,
            children: [h(), m()]
        })
    })
}
const WT = e => {
    const {config: t, featureFlags: n, inquiry: r, match: o, history: a, governmentIdClass: s, autoclassificationCountryCode: c, didAutoclassificationIdSelection: l, idClassesByCountries: d, styles: u} = e
      , m = parseInt(o.params.step, 10)
      , h = Mt("inquiry:auto-classification")
      , {governmentIdClass: p, selectedCountryCode: b, autoclassificationIdClassesConfig: C} = cc(t, m, l, s, c, d, h)
      , S = n["inquiry:enable-experimental-govid-perf-improvements"] && n["inquiry:enable-experimental-govid-perf-improvements-percentage"]
      , v = pa(t, p, m, l, C);
    f.useEffect( () => {
        try {
            n != null && n["inquiry:enable-amplitude-logging-on-combined-step-page-enter"] && J.logAmplitude("government-id.capture-page-animation.entered", {
                currentSide: v,
                selectedCountryCode: b,
                governmentIdClass: p
            })
        } catch {}
    }
    , []);
    const x = f.useCallback( () => {
        a.replace(Ut(m, Ke.TakePhoto))
    }
    , []);
    f.useEffect( () => {
        const R = setTimeout( () => {
            x()
        }
        , 1e3);
        return () => clearTimeout(R)
    }
    , [x]);
    const _ = (t == null ? void 0 : t["govid-design-version"]) === _o.V1;
    if (r == null || r.attributes["next-step"].type !== Ge.GovernmentId)
        return null;
    if (_ && S) {
        const R = Wi(t, "capture-page", {
            idClass: p,
            side: v
        });
        return i.jsx(Rr, {
            value: u,
            children: i.jsx(GT, {
                assets: t.assets["capture-page"],
                localizations: R,
                requiresSide: v,
                featureFlags: n,
                governmentIdClass: p,
                handleRouteToCaptureView: x
            })
        })
    }
    return i.jsx(er, {
        to: Ut(m, Ke.TakePhoto)
    })
}
;
function YT(e) {
    return {
        styles: zi(e.inquiry),
        inquiry: e.inquiry.inquiry,
        config: dr(e),
        featureFlags: e.inquiry.featureFlags,
        governmentIdClass: e.verification.governmentIdClass,
        autoclassificationCountryCode: e.verification.autoclassificationCountryCode,
        didAutoclassificationIdSelection: !!e.verification.didAutoclassificationIdSelection,
        idClassesByCountries: e.verification.idClassesByCountries
    }
}
const zT = ke(YT)(WT)
  , KT = g("div").withConfig({
    displayName: "IdBackGuide__Positioner",
    componentId: "sc-rt087u-0"
})(["position:relative;right:0;top:100%;bottom:100%;"]);
function QT() {
    return i.jsx(KT, {
        "data-test": "id-back__guide",
        children: i.jsx(Kh, {})
    })
}
const ZT = g("div").withConfig({
    displayName: "IdFrontGuide__Positioner",
    componentId: "sc-1y06jqx-0"
})(["position:relative;right:0;top:100%;bottom:100%;", ";"], ({mirrored: e}) => e && $(["transform:scale(-1,1);"]));
function JT({mirrored: e=!1}) {
    return i.jsx(ZT, {
        "data-test": "id-front__guide",
        mirrored: e,
        children: i.jsx(Qh, {})
    })
}
const XT = g("div").withConfig({
    displayName: "MrzTwoLineGuide__Positioner",
    componentId: "sc-vy0g9h-0"
})(["position:relative;left:0;right:0;top:100%;bottom:100%;", ";"], ({mirrored: e}) => e && $(["transform:scale(-1,1);"]));
function e5({mirrored: e=!1}) {
    return i.jsx(XT, {
        "data-test": "mrz-two-line__guide",
        mirrored: e,
        children: i.jsx(Zh, {})
    })
}
const t5 = g("div").withConfig({
    displayName: "ScannerOverlay__CropPositioner",
    componentId: "sc-e4tdwi-0"
})(["position:absolute;top:0;left:0;right:0;bottom:0;"])
  , n5 = g("div").withConfig({
    displayName: "ScannerOverlay__OverlayCrop",
    componentId: "sc-e4tdwi-1"
})(["position:relative;height:100%;width:100%;overflow:hidden;"])
  , qg = e => i.jsx(t5, {
    children: i.jsx(n5, {
        children: i.jsx(c5, {
            ...e
        })
    })
})
  , i5 = g("div").withConfig({
    displayName: "ScannerOverlay__OverlayBarcode",
    componentId: "sc-e4tdwi-2"
})(["position:absolute;margin:30% 20%;padding-bottom:17%;width:60%;"])
  , r5 = g("div").withConfig({
    displayName: "ScannerOverlay__ImageStyled",
    componentId: "sc-e4tdwi-3"
})(["svg{position:absolute;width:100%;height:100%;}"])
  , o5 = g("div").withConfig({
    displayName: "ScannerOverlay__SimpleGuide",
    componentId: "sc-e4tdwi-4"
})(["padding-bottom:65.97%;width:100%;"])
  , a5 = g(Ul).withConfig({
    displayName: "ScannerOverlay__IdBarcodeGenericGuideStyled",
    componentId: "sc-e4tdwi-5"
})(["position:absolute;width:100%;height:100%;"])
  , Ya = g("div").withConfig({
    displayName: "ScannerOverlay__OverlayWhole",
    componentId: "sc-e4tdwi-6"
})(["position:absolute;border-radius:", ";border:2px dashed ", ";margin:13% 10%;padding-bottom:48%;width:80%;box-shadow:0 0 1px 1000px rgba(0,0,0,0.5);"], ln.base, Fe.white)
  , mm = g("div").withConfig({
    displayName: "ScannerOverlay__OverlayPortrait",
    componentId: "sc-e4tdwi-7"
})(["position:absolute;border-radius:", ";border:2px dashed ", ";margin:10% 10%;width:80%;box-shadow:0 0 1px 1000px rgba(0,0,0,0.5);"], ln.base, Fe.white)
  , s5 = g("div").withConfig({
    displayName: "ScannerOverlay__OverlayMrzTwoLine",
    componentId: "sc-e4tdwi-8"
})(["position:absolute;border-radius:", ";border:2px dashed ", ";margin:12% 10% 8% 10%;width:80%;box-shadow:0 0 1px 1000px rgba(0,0,0,0.7);"], ln.base, Fe.white)
  , c5 = e => e.governmentIdClass == null || e.simple ? i.jsx(Ya, {}) : e.requiresSide === B.PassportSignature ? i.jsx(Ya, {}) : ["nric"].includes(e.governmentIdClass) ? i.jsx(Ya, {}) : ["pp", "visa", "ipp"].includes(e.governmentIdClass) ? i.jsx(s5, {
    children: i.jsx(e5, {
        mirrored: e.mirrored
    })
}) : e.requiresSide === B.Front ? i.jsx(mm, {
    children: i.jsx(JT, {
        mirrored: e.mirrored
    })
}) : e.requiresSide === B.Back ? i.jsx(mm, {
    children: e.hideBackOverlay ? i.jsx(o5, {}) : i.jsx(QT, {})
}) : e.requiresSide === B.BarcodePdf417 ? i.jsxs(i5, {
    children: [i.jsx(r5, {
        children: i.jsx(M1, {})
    }), i.jsx(a5, {})]
}) : i.jsx(Ya, {});
function oo(e) {
    var t;
    return (t = document.querySelector(`meta[name="model-src-${e}"]`)) == null ? void 0 : t.content
}
async function mc(e, t, n=1) {
    const {maxAttempts: r=3, onRetry: o, onRetriesExhausted: a=s => {
        throw s
    }
    } = {};
    try {
        return await Promise.resolve(e())
    } catch (s) {
        if (n < r)
            return o == null || o(s, n),
            await mc(e, t, n + 1);
        a(s)
    }
}
let l5 = class {
    constructor() {
        this.loaded = !1,
        this.tfOptimizationFlagsSet = !1,
        this.wasmPathSet = !1
    }
    isMediaLoaded(t) {
        return MC(t)
    }
    isLoaded() {
        return this.loaded
    }
    async loadModels() {
        try {
            if (In())
                return;
            if (!this.wasmPathSet) {
                const t = oo("tfjs-backend-wasm") + "/";
                Uo.setWasmPaths(t),
                this.wasmPathSet = !0
            }
            this.setTfOptimizationFlags(),
            await Uo.ready()
        } catch (t) {
            he(t, "warning", {
                source: "FaceApiClient.loadModels",
                wasmPathSet: this.wasmPathSet
            })
        }
        await mc(async () => {
            if (this.promiseTinyFaceDetector == null) {
                const t = oo("tiny_face_detector_model");
                t != null && (this.promiseTinyFaceDetector = BC(t))
            }
            if (this.promiseFaceLandmarkTiny == null) {
                const t = oo("face_landmark_68_tiny_model");
                t != null && (this.promiseFaceLandmarkTiny = VC(t))
            }
            await Promise.all([this.promiseTinyFaceDetector, this.promiseFaceLandmarkTiny]),
            this.loaded = !0
        }
        )
    }
    async detectFaces(t, {inputSize: n, scoreThreshold: r}) {
        return await UC(t, new HC({
            inputSize: n != null ? n : 416,
            scoreThreshold: r != null ? r : .4
        }))
    }
    async detectLandmarks(t) {
        return await qC(t)
    }
    resetLoadStatus() {
        this.promiseTinyFaceDetector = void 0,
        this.promiseFaceLandmarkTiny = void 0
    }
    setTfOptimizationFlags() {
        if (!this.tfOptimizationFlagsSet) {
            try {
                Uo.ENV.set("WEBGL_DELETE_TEXTURE_THRESHOLD", 0)
            } catch (t) {
                he(t, "warning")
            }
            try {
                Uo.ENV.set("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU", !0)
            } catch (t) {
                he(t, "warning")
            }
            try {
                Uo.ENV.set("WEBGL_EXP_CONV", !0)
            } catch (t) {
                he(t, "warning")
            }
            this.tfOptimizationFlagsSet = !0
        }
    }
}
;
const kt = new l5;
var $g = (e => (e[e.FrontSide = 0] = "FrontSide",
e[e.Capture = 1] = "Capture",
e[e.HoldStill = 2] = "HoldStill",
e[e.None = 3] = "None",
e))($g || {});
const d5 = 300
  , hm = .3
  , u5 = .27
  , m5 = .32
  , h5 = [{
    type: 0,
    shouldShow: p5,
    showAfterFrames: 2,
    hideAfterFrames: 4,
    getPrompt: ({t: e}) => e("barcode-scanner.hint.back-side")
}, {
    type: 1,
    shouldShow: e => e.requiresSide === B.BarcodePdf417 ? e.detectedGuards >= 2 : e.detectedGuards >= 1,
    showAfterFrames: 3,
    hideAfterFrames: 4,
    getPrompt: ({t: e}) => e("barcode-scanner.hint.hold-still")
}, {
    type: 2,
    shouldShow: e => e.detectedGuards >= 1,
    showAfterFrames: 1,
    hideAfterFrames: 4,
    getPrompt: ({t: e}) => e("barcode-scanner.hint.hold-still")
}, {
    type: 3,
    shouldShow: () => !0,
    showAfterFrames: 0,
    hideAfterFrames: 0,
    getPrompt: () => ""
}];
function p5(e) {
    if (e.faceBoundingBox == null)
        return !1;
    const t = e.faceBoundingBox.left + e.faceBoundingBox.width / 2;
    return (t < hm || t > 1 - hm) && e.faceBoundingBox.width < u5 + .05 && e.faceBoundingBox.height < m5 + .05
}
async function f5(e, t) {
    const n = Ps(e);
    if (n == null)
        return {
            detectedGuards: 0
        };
    const r = window.ZXing;
    if (r) {
        const o = new r.BitmapLuminanceSource(n)
          , a = new r.Common.HybridBinarizer(o)
          , s = new r.BinaryBitmap(a);
        return g5(e, s, t)
    } else
        return {
            detectedGuards: 0
        }
}
function g5(e, t, n) {
    const r = window.ZXing;
    for (const o of n) {
        switch (o) {
        case 90:
            t = t.rotateCounterClockwise();
            break;
        case 180:
            t = t.rotateCounterClockwise().rotateCounterClockwise();
            break
        }
        const a = r.PDF417.Internal.Detector.detectSingle(t, null, !1);
        if (a.Points.length > 0) {
            const s = r.PDF417.PDF417Reader.decode(t, null, !1);
            return {
                decodedResult: s.length > 0 && s[0].Text,
                detectedGuards: a.Points[0].filter(Boolean).length / 4,
                scannedImage: e.toDataURL("image/jpeg")
            }
        }
    }
    return {
        detectedGuards: 0
    }
}
function b5(e) {
    const t = /\d{6}(\d{2})\w+/.exec(e)
      , n = t && t[1]
      , r = {
        firstName: ["02", "03"].indexOf(n) !== -1 ? "DCT" : "DAC",
        lastName: n === "01" ? "DAB" : "DCS",
        middleName: "DAD",
        dateOfBirth: "DBB",
        street1: "DAG",
        street2: "DAH",
        city: "DAI",
        state: "DAJ",
        postalCode: "DAK",
        issuingCountry: "DCG"
    }
      , o = {};
    for (const a of Object.keys(r)) {
        const s = r[a]
          , c = new RegExp(`\\s*${s}(.+)(\\n|$)`).exec(e);
        o[a] = c && c[1].trim()
    }
    return o
}
const C5 = 8e3
  , x5 = .3
  , Gg = ({delayUntilManualCaptureMs: e=C5, handleCapture: t, handleError: n, labelTakePhoto: r, overlay: o, requiresSide: a, zoomFactor: s, videoConstraints: c}) => {
    f.useEffect( () => {
        kt.loadModels()
    }
    , []);
    const [l,d] = f.useState(!1)
      , u = f.useRef([])
      , m = async (p, b, C, S) => {
        ao({
            source: p,
            precreatedCanvas: b,
            zoomFactor: s
        });
        const v = await f5(b, [0]);
        let x = !1;
        if (v.decodedResult && v.scannedImage) {
            const E = b5(v.decodedResult);
            if (E.firstName && E.lastName && E.middleName && E.dateOfBirth) {
                const T = JSON.stringify({
                    firstName: E.firstName,
                    lastName: E.lastName,
                    middleName: E.middleName,
                    dateOfBirth: E.dateOfBirth
                });
                x = u.current.includes(T),
                x ? C == null || C.manualCapture(v.scannedImage) : u.current = [...u.current, T]
            }
        }
        let _ = [];
        if (!l && !x)
            try {
                _ = await kt.detectFaces(b, {
                    scoreThreshold: x5
                })
            } catch (E) {
                n(E, "capture"),
                d(!0)
            }
        let R;
        return _.length === 1 && (R = _[0].box.rescale({
            width: 1 / b.width,
            height: 1 / b.height
        })),
        {
            successfullyScanned: x,
            detectedGuards: v.detectedGuards,
            requiresSide: a,
            faceBoundingBox: R
        }
    }
      , h = (p, b) => p.successfullyScanned || b.getTriggered().getType() === $g.Capture;
    return i.jsx(ic, {
        handleCapture: ({imageSrcs: p, captureMethod: b}) => t(p, b),
        handleFailed: n,
        detectInterval: d5,
        labelTakePhoto: r,
        videoConstraints: c,
        triggerConfigs: h5,
        paramsFromVideoFrame: m,
        shouldSubmit: h,
        overlay: o,
        delayUntilManualCaptureMs: e,
        zoomFactor: s,
        scannerType: "barcode"
    })
}
;
class Xt extends Error {
    constructor(t) {
        super(t.message),
        this.name = "MicroblinkError",
        this.originalError = t
    }
    static fromString(t) {
        return new Xt({
            message: t
        })
    }
}
let v5 = class {
    constructor() {
        this.recognizer = null,
        this.fullDocumentRecognizer = null,
        this.recognizerRunner = null,
        this.initializingRunner = !1,
        this.captureSide = null,
        this.idClass = null,
        this.currentQuad = null,
        this.currentFullDocumentQuad = null,
        this.attemptedReset = !1,
        this.onClassifiedCallback = null,
        this.requireFullBack = !1,
        this.allowIncompleteBarcode = !1,
        this.currentInstanceNumber = 0
    }
    async preload(t="advanced", n=null) {
        if (!In() && !this.isLoaded()) {
            if (this.loadSDKPromise == null) {
                const r = new w0(Wg(window.location.host));
                r.engineLocation = oo("microblink-6-7-2"),
                r.workerLocation = `${lo}/microblink/6-7-2`,
                r.allowHelloMessage = !1,
                r.wasmType = n,
                r.blinkIdVariant = t === "advanced" ? "full" : "lightweight",
                this.loadSDKPromise = mc(async () => _0(r).then(o => (this.wasmSDK = o,
                this.wasmSDK)).catch(o => {
                    throw this.loadSDKPromise = null,
                    typeof o == "string" ? Xt.fromString(o) : new Xt(o)
                }
                ))
            }
            await this.loadSDKPromise
        }
    }
    isLoaded() {
        return this.wasmSDK != null
    }
    async initialize(t, n=void 0, r={
        requireFullBack: !1,
        allowIncompleteBarcode: !1
    }) {
        return In() ? -1 : (this.currentQuad = null,
        this.attemptedReset = !1,
        this.onClassifiedCallback = null,
        this.recognizer && this.recognizerRunner && this.captureSide === t && this.idClass === n ? this.currentInstanceNumber : (this.currentInstanceNumber++,
        this.captureSide = t,
        this.idClass = n,
        this.requireFullBack = t === B.Back && r.requireFullBack,
        this.allowIncompleteBarcode = t === B.Back && r.allowIncompleteBarcode,
        new Promise(o => {
            this.preload().then( () => clearTimeout(this.faceApiFallbackTimeout)).then( () => this.startRunner()).then( () => o(this.currentInstanceNumber)).catch(a => typeof a == "string" ? Xt.fromString(a) : new Xt(a))
        }
        )))
    }
    async startRunner() {
        var n;
        if (!this.captureSide || this.initializingRunner)
            return;
        this.initializingRunner = !0;
        const t = performance.now();
        if (await this.tearDown(!1),
        !!this.captureSide) {
            if (this.captureSide === B.Back && this.allowIncompleteBarcode) {
                this.recognizer = await xc(this.wasmSDK);
                const r = await this.recognizer.currentSettings();
                r.recognitionModeFilter.enableBarcodeId = !0,
                r.recognitionModeFilter.enableMrzPassport = !1,
                r.recognitionModeFilter.enableMrzVisa = !1,
                r.recognitionModeFilter.enableMrzId = !1,
                r.recognitionModeFilter.enablePhotoId = !1,
                r.recognitionModeFilter.enableFullDocumentRecognition = !0,
                r.enableBlurFilter = !0,
                r.enableGlareFilter = !0,
                await this.recognizer.updateSettings(r)
            } else if (this.captureSide === B.BarcodePdf417 || this.captureSide === B.Back)
                this.recognizer = await R0(this.wasmSDK);
            else if (this.captureSide === B.Front) {
                this.recognizer = await xc(this.wasmSDK);
                const r = await this.recognizer.currentSettings();
                r.recognitionModeFilter.enableBarcodeId = !1,
                r.recognitionModeFilter.enableMrzPassport = this.idClass === "pp",
                r.recognitionModeFilter.enableMrzVisa = !1,
                r.recognitionModeFilter.enableMrzId = !1,
                r.classifierCallback = o => {
                    var a;
                    return (a = this.onClassifiedCallback) == null ? void 0 : a.call(this, o)
                }
                ,
                r.enableBlurFilter = !0,
                r.enableGlareFilter = !0,
                await ((n = this.recognizer) == null ? void 0 : n.updateSettings(r))
            } else
                Be(`Unsupported side for Microblink Client: ${this.captureSide}`, "warning");
            if (this.requireFullBack) {
                this.fullDocumentRecognizer = await xc(this.wasmSDK);
                const r = await this.fullDocumentRecognizer.currentSettings();
                r.recognitionModeFilter.enableBarcodeId = !1,
                r.recognitionModeFilter.enableMrzPassport = !1,
                r.recognitionModeFilter.enableMrzVisa = !1,
                r.recognitionModeFilter.enableMrzId = !1,
                r.recognitionModeFilter.enablePhotoId = !1,
                r.recognitionModeFilter.enableFullDocumentRecognition = !0,
                r.enableBlurFilter = !0,
                r.enableGlareFilter = !0,
                await this.fullDocumentRecognizer.updateSettings(r)
            }
            if (this.requireFullBack || this.allowIncompleteBarcode) {
                const r = {
                    onQuadDetection: o => {
                        this.currentQuad ? gm(o) > gm(this.currentQuad) ? this.currentFullDocumentQuad = o : (this.currentFullDocumentQuad = this.currentQuad,
                        this.currentQuad = o) : this.currentQuad = o
                    }
                };
                this.recognizerRunner = await nu(this.wasmSDK, (this.requireFullBack ? [this.recognizer, this.fullDocumentRecognizer] : [this.recognizer]).filter(o => o != null), !0, r)
            } else {
                const r = {
                    onQuadDetection: o => {
                        (this.captureSide === B.Front || !this.currentQuad) && (this.currentQuad = o)
                    }
                };
                this.recognizerRunner = await nu(this.wasmSDK, [this.recognizer].filter(o => o != null), !1, r)
            }
            this.initializingRunner = !1,
            J.logAmplitude("government-id.microblink.initialize-runners", {
                durationSeconds: (performance.now() - t) / 1e3,
                side: this.captureSide,
                idClass: this.idClass
            })
        }
    }
    async processImage(t, n) {
        var s, c, l, d, u, m, h, p, b, C, S;
        if (!this.recognizerRunner || !this.recognizer)
            return null;
        this.currentQuad = null,
        this.currentFullDocumentQuad = null,
        this.onClassifiedCallback = n;
        const r = Ps(t);
        if (r == null)
            return null;
        const o = new A0(r,T0.NoRotation,!0);
        if (!o.imageData)
            return null;
        await this.recognizerRunner.processImage(o).catch(async v => {
            const x = typeof v == "string" ? v : v.message;
            if ((x.indexOf(iu.WORKER_IMAGE_PROCESS_FAILURE) !== -1 || x.indexOf(iu.WORKER_RUNNER_DELETED) !== -1) && !this.attemptedReset)
                return this.attemptedReset = !0,
                await this.tearDown(!1),
                await this.startRunner(),
                null;
            throw typeof v == "string" ? Xt.fromString(v) : new Xt(v)
        }
        );
        const a = (c = (s = this.recognizer) == null ? void 0 : s.recognizerName) != null ? c : "MicroblinkUnknown";
        if (this.requireFullBack) {
            const v = await ((l = this.recognizer) == null ? void 0 : l.getResult())
              , x = await ((d = this.fullDocumentRecognizer) == null ? void 0 : d.getResult());
            !this.currentFullDocumentQuad && this.currentQuad && (v == null ? void 0 : v.state) === xr.Empty && (x == null ? void 0 : x.state) !== xr.Empty && za(this.currentQuad, null) && (this.currentFullDocumentQuad = this.currentQuad,
            this.currentQuad = null);
            const _ = za(this.currentFullDocumentQuad, this.currentQuad) ? this.currentFullDocumentQuad : null
              , R = (v == null ? void 0 : v.state) != null && (v == null ? void 0 : v.state) !== xr.Empty && !_;
            return {
                recognitionResult: v,
                detectedQuad: _,
                hasBlur: (m = (u = x == null ? void 0 : x.imageAnalysisResult) == null ? void 0 : u.blurDetected) != null ? m : !1,
                hasGlare: (p = (h = x == null ? void 0 : x.imageAnalysisResult) == null ? void 0 : h.glareDetected) != null ? p : !1,
                hasIncompleteBack: R,
                recognizerName: a
            }
        } else {
            const v = await ((b = this.recognizer) == null ? void 0 : b.getResult());
            let x = this.currentQuad;
            this.allowIncompleteBarcode && (x = za(this.currentFullDocumentQuad, null) ? this.currentFullDocumentQuad : za(this.currentQuad, null) ? this.currentQuad : null);
            const _ = v != null && "imageAnalysisResult"in v ? v.imageAnalysisResult : void 0;
            return {
                recognitionResult: v,
                detectedQuad: x,
                hasBlur: (C = _ == null ? void 0 : _.blurDetected) != null ? C : !1,
                hasGlare: (S = _ == null ? void 0 : _.glareDetected) != null ? S : !1,
                hasIncompleteBack: null,
                recognizerName: a
            }
        }
    }
    needsTeardown() {
        return this.recognizerRunner != null || this.recognizer != null || this.fullDocumentRecognizer != null
    }
    async tearDownInstance(t) {
        t === this.currentInstanceNumber && this.tearDown()
    }
    async tearDown(t=!0) {
        const n = this.recognizerRunner
          , r = this.recognizer
          , o = this.fullDocumentRecognizer;
        this.recognizer = null,
        this.recognizerRunner = null,
        this.fullDocumentRecognizer = null,
        t && (this.captureSide = null,
        this.requireFullBack = !1,
        this.allowIncompleteBarcode = !1),
        this.currentQuad = null,
        this.currentFullDocumentQuad = null;
        try {
            await Promise.allSettled([n == null ? void 0 : n.delete(), r == null ? void 0 : r.delete(), o == null ? void 0 : o.delete()])
        } catch {}
    }
}
;
const pm = [B.Front, B.Back, B.BarcodePdf417]
  , I5 = ["pp"];
let _l = {
    "withpersona.com": {
        key: null,
        expiresAt: null
    },
    "withpersona-staging.com": {
        key: null,
        expiresAt: null
    },
    "*.withpersona.com": {
        key: null,
        expiresAt: null
    },
    "*.withpersona-staging.com": {
        key: null,
        expiresAt: null
    }
};
try {
    _l = JSON.parse('{"withpersona.com":{"key":"sRwAAAYPd2l0aHBlcnNvbmEuY29thpUVKHnfmIvdibPDhhXCoq2b8v+l6XteggRLjtZIG/6cdFhQRDWSyQMJRKt1/uBjdWqzh/PNxJcDgpcA2RFxOI9hwsswppr0QJ0qsM6uReNIId3InngR4q4jn15UA/P7MT2okOJg6lnf/0BETmwtliRLI1uKsm8fC5XxxaBvvfVQYV0nBQW/GPGY9KpRJvmYFrfaL0Z6bvowFBV1ivKyK2RY6jnKEA==","expiresAt":"2025-07-30"},"*.withpersona.com":{"key":"sRwAAAYRKi53aXRocGVyc29uYS5jb22q2VqlctXIE+DL6va9pIVBYDMqJu6BCIKcb7LD9fSCMztfF8rD802Ra+xNfBeJB7yxKb+9he18NtOAtgW17bg3CWIZ2D0Nn2sKcL2xwAce1UeeUBQ5OUdK4Bsw6gHFBd3pr5XtoN41zv7rCHSqlJLHQSlLNNLoXEys7lCOGTQTtMZEkRFxJ1B8RKX+mvMvvvPPzmaC+dEbyjvElNxRQhpR1TYZVqQIY+B1","expiresAt":"2025-07-30"},"withpersona-staging.com":{"key":"sRwAAAYXd2l0aHBlcnNvbmEtc3RhZ2luZy5jb22+UDZGEA8YgF3AvK+ukP5gRK2kh/9OnwsB/7ccb2Mlhs6WRQ8osyJdKur51WsEPnrP4blrooTXiF6uLpF6wHfU/sw/4PVFa0wKd4exHBPevosZj7RHxE3y/VRgm/aTBF+Ko8yA+uX6+b/fV5WNt4bnB7conG7Eh3QCsSIWdrkTPz3Od3U6Yg1t+J45HNJk1dm30tdGYWxt32oeEgDUL4n1Fs0h1rMUBJo=","expiresAt":"2025-07-30"},"*.withpersona-staging.com":{"key":"sRwAAAYZKi53aXRocGVyc29uYS1zdGFnaW5nLmNvbd8DgK6h/E1CelG5jE9+jT5ixlAs4qF2PbdWLdXdFMRGFltKBhys2Yb72m6qK9+4JKD+dHQrL8zeFgn3gaTQKWMp0pDoLqsL2THeMDS9nejFY1yuBdOmvibRoCV+YKNRNvDj/cISQfgWvXZJ73ZepsTdPrhApEB6ryabBYJhsceeHp9KL+U5LsVzGBzfNMrVT4jR0u9eSF2dDAUHV+EIDdVZgejZTsxg1w==","expiresAt":"2025-07-30"}}')
} catch {}
const S5 = 14 * 24 * 60 * 60 * 1e3
  , Wg = e => {
    var o;
    let t = e.split(":")[0];
    if (!_l[t] && t.split(".").length === 3) {
        const a = t.split(".");
        a[0] = "*",
        t = a.join(".")
    }
    const {key: n, expiresAt: r} = (o = _l[t]) != null ? o : {};
    try {
        r != null && (t === "withpersona.com" || t === "*.withpersona.com") && new Date(r).getTime() - new Date().getTime() < S5 && Be("Microblink license key is expiring in less than 14 days. Request a renewal in #microblink-persona and update MICROBLINK_LICENSES in .env.", "error", {
            expiresAt: r,
            domain: t
        })
    } catch (a) {
        he(a)
    }
    return n
}
  , ba = e => Wg(e) != null && y0()
  , Ca = (e, t=void 0, n, r) => {
    if (I5.includes(n) && e === B.Front || r["inquiry:enable-microblink-web-front-everywhere"] && e === B.Front || r["inquiry:enable-microblink-web-back-everywhere"] && e === B.Back)
        return !0;
    switch (t) {
    case "US":
        switch (n) {
        case "dl":
        case "id":
            return pm.includes(e);
        default:
            return !1
        }
    case "CA":
        if (!r["inquiry:enable-microblink-canada"])
            return !1;
        switch (n) {
        case "dl":
        case "id":
            return pm.includes(e);
        default:
            return !1
        }
    case "JP":
        return !1;
    default:
        return !1
    }
}
  , y5 = {
    [j.NONE]: "NONE",
    [j.ALBANIA]: "ALBANIA",
    [j.ALGERIA]: "ALGERIA",
    [j.ARGENTINA]: "ARGENTINA",
    [j.AUSTRALIA]: "AUSTRALIA",
    [j.AUSTRIA]: "AUSTRIA",
    [j.AZERBAIJAN]: "AZERBAIJAN",
    [j.BAHRAIN]: "BAHRAIN",
    [j.BANGLADESH]: "BANGLADESH",
    [j.BELGIUM]: "BELGIUM",
    [j.BOSNIA_AND_HERZEGOVINA]: "BOSNIA_AND_HERZEGOVINA",
    [j.BRUNEI]: "BRUNEI",
    [j.BULGARIA]: "BULGARIA",
    [j.CAMBODIA]: "CAMBODIA",
    [j.CANADA]: "CANADA",
    [j.CHILE]: "CHILE",
    [j.COLOMBIA]: "COLOMBIA",
    [j.COSTA_RICA]: "COSTA_RICA",
    [j.CROATIA]: "CROATIA",
    [j.CYPRUS]: "CYPRUS",
    [j.CZECHIA]: "CZECHIA",
    [j.DENMARK]: "DENMARK",
    [j.DOMINICAN_REPUBLIC]: "DOMINICAN_REPUBLIC",
    [j.EGYPT]: "EGYPT",
    [j.ESTONIA]: "ESTONIA",
    [j.FINLAND]: "FINLAND",
    [j.FRANCE]: "FRANCE",
    [j.GEORGIA]: "GEORGIA",
    [j.GERMANY]: "GERMANY",
    [j.GHANA]: "GHANA",
    [j.GREECE]: "GREECE",
    [j.GUATEMALA]: "GUATEMALA",
    [j.HONG_KONG]: "HONG_KONG",
    [j.HUNGARY]: "HUNGARY",
    [j.INDIA]: "INDIA",
    [j.INDONESIA]: "INDONESIA",
    [j.IRELAND]: "IRELAND",
    [j.ISRAEL]: "ISRAEL",
    [j.ITALY]: "ITALY",
    [j.JORDAN]: "JORDAN",
    [j.KAZAKHSTAN]: "KAZAKHSTAN",
    [j.KENYA]: "KENYA",
    [j.KOSOVO]: "KOSOVO",
    [j.KUWAIT]: "KUWAIT",
    [j.LATVIA]: "LATVIA",
    [j.LITHUANIA]: "LITHUANIA",
    [j.MALAYSIA]: "MALAYSIA",
    [j.MALDIVES]: "MALDIVES",
    [j.MALTA]: "MALTA",
    [j.MAURITIUS]: "MAURITIUS",
    [j.MEXICO]: "MEXICO",
    [j.MOROCCO]: "MOROCCO",
    [j.NETHERLANDS]: "NETHERLANDS",
    [j.NEW_ZEALAND]: "NEW_ZEALAND",
    [j.NIGERIA]: "NIGERIA",
    [j.PAKISTAN]: "PAKISTAN",
    [j.PANAMA]: "PANAMA",
    [j.PARAGUAY]: "PARAGUAY",
    [j.PHILIPPINES]: "PHILIPPINES",
    [j.POLAND]: "POLAND",
    [j.PORTUGAL]: "PORTUGAL",
    [j.PUERTO_RICO]: "PUERTO_RICO",
    [j.QATAR]: "QATAR",
    [j.ROMANIA]: "ROMANIA",
    [j.RUSSIA]: "RUSSIA",
    [j.SAUDI_ARABIA]: "SAUDI_ARABIA",
    [j.SERBIA]: "SERBIA",
    [j.SINGAPORE]: "SINGAPORE",
    [j.SLOVAKIA]: "SLOVAKIA",
    [j.SLOVENIA]: "SLOVENIA",
    [j.SOUTH_AFRICA]: "SOUTH_AFRICA",
    [j.SPAIN]: "SPAIN",
    [j.SWEDEN]: "SWEDEN",
    [j.SWITZERLAND]: "SWITZERLAND",
    [j.TAIWAN]: "TAIWAN",
    [j.THAILAND]: "THAILAND",
    [j.TUNISIA]: "TUNISIA",
    [j.TURKEY]: "TURKEY",
    [j.UAE]: "UAE",
    [j.UGANDA]: "UGANDA",
    [j.UK]: "UK",
    [j.UKRAINE]: "UKRAINE",
    [j.USA]: "USA",
    [j.VIETNAM]: "VIETNAM",
    [j.BRAZIL]: "BRAZIL",
    [j.NORWAY]: "NORWAY",
    [j.OMAN]: "OMAN",
    [j.ECUADOR]: "ECUADOR",
    [j.EL_SALVADOR]: "EL_SALVADOR",
    [j.SRI_LANKA]: "SRI_LANKA",
    [j.PERU]: "PERU",
    [j.URUGUAY]: "URUGUAY",
    [j.BAHAMAS]: "BAHAMAS",
    [j.BERMUDA]: "BERMUDA",
    [j.BOLIVIA]: "BOLIVIA",
    [j.CHINA]: "CHINA",
    [j.EUROPEAN_UNION]: "EUROPEAN_UNION",
    [j.HAITI]: "HAITI",
    [j.HONDURAS]: "HONDURAS",
    [j.ICELAND]: "ICELAND",
    [j.JAPAN]: "JAPAN",
    [j.LUXEMBOURG]: "LUXEMBOURG",
    [j.MONTENEGRO]: "MONTENEGRO",
    [j.NICARAGUA]: "NICARAGUA",
    [j.SOUTH_KOREA]: "SOUTH_KOREA",
    [j.VENEZUELA]: "VENEZUELA",
    [j.AFGHANISTAN]: "AFGHANISTAN",
    [j.ALAND_ISLANDS]: "ALAND_ISLANDS",
    [j.AMERICAN_SAMOA]: "AMERICAN_SAMOA",
    [j.ANDORRA]: "ANDORRA",
    [j.ANGOLA]: "ANGOLA",
    [j.ANGUILLA]: "ANGUILLA",
    [j.ANTARCTICA]: "ANTARCTICA",
    [j.ANTIGUA_AND_BARBUDA]: "ANTIGUA_AND_BARBUDA",
    [j.ARMENIA]: "ARMENIA",
    [j.ARUBA]: "ARUBA",
    [j.BAILIWICK_OF_GUERNSEY]: "BAILIWICK_OF_GUERNSEY",
    [j.BAILIWICK_OF_JERSEY]: "BAILIWICK_OF_JERSEY",
    [j.BARBADOS]: "BARBADOS",
    [j.BELARUS]: "BELARUS",
    [j.BELIZE]: "BELIZE",
    [j.BENIN]: "BENIN",
    [j.BHUTAN]: "BHUTAN",
    [j.BONAIRE_SAINT_EUSTATIUS_AND_SABA]: "BONAIRE_SAINT_EUSTATIUS_AND_SABA",
    [j.BOTSWANA]: "BOTSWANA",
    [j.BOUVET_ISLAND]: "BOUVET_ISLAND",
    [j.BRITISH_INDIAN_OCEAN_TERRITORY]: "BRITISH_INDIAN_OCEAN_TERRITORY",
    [j.BURKINA_FASO]: "BURKINA_FASO",
    [j.BURUNDI]: "BURUNDI",
    [j.CAMEROON]: "CAMEROON",
    [j.CAPE_VERDE]: "CAPE_VERDE",
    [j.CARIBBEAN_NETHERLANDS]: "CARIBBEAN_NETHERLANDS",
    [j.CAYMAN_ISLANDS]: "CAYMAN_ISLANDS",
    [j.CENTRAL_AFRICAN_REPUBLIC]: "CENTRAL_AFRICAN_REPUBLIC",
    [j.CHAD]: "CHAD",
    [j.CHRISTMAS_ISLAND]: "CHRISTMAS_ISLAND",
    [j.COCOS_ISLANDS]: "COCOS_ISLANDS",
    [j.COMOROS]: "COMOROS",
    [j.CONGO]: "CONGO",
    [j.COOK_ISLANDS]: "COOK_ISLANDS",
    [j.CUBA]: "CUBA",
    [j.CURACAO]: "CURACAO",
    [j.DEMOCRATIC_REPUBLIC_OF_THE_CONGO]: "DEMOCRATIC_REPUBLIC_OF_THE_CONGO",
    [j.DJIBOUTI]: "DJIBOUTI",
    [j.DOMINICA]: "DOMINICA",
    [j.EAST_TIMOR]: "EAST_TIMOR",
    [j.EQUATORIAL_GUINEA]: "EQUATORIAL_GUINEA",
    [j.ERITREA]: "ERITREA",
    [j.ESWATINI]: "ESWATINI",
    [j.ETHIOPIA]: "ETHIOPIA",
    [j.FALKLAND_ISLANDS]: "FALKLAND_ISLANDS",
    [j.FAROE_ISLANDS]: "FAROE_ISLANDS",
    [j.FEDERATED_STATES_OF_MICRONESIA]: "FEDERATED_STATES_OF_MICRONESIA",
    [j.FIJI]: "FIJI",
    [j.FRENCH_GUIANA]: "FRENCH_GUIANA",
    [j.FRENCH_POLYNESIA]: "FRENCH_POLYNESIA",
    [j.FRENCH_SOUTHERN_TERRITORIES]: "FRENCH_SOUTHERN_TERRITORIES",
    [j.GABON]: "GABON",
    [j.GAMBIA]: "GAMBIA",
    [j.GIBRALTAR]: "GIBRALTAR",
    [j.GREENLAND]: "GREENLAND",
    [j.GRENADA]: "GRENADA",
    [j.GUADELOUPE]: "GUADELOUPE",
    [j.GUAM]: "GUAM",
    [j.GUINEA]: "GUINEA",
    [j.GUINEA_BISSAU]: "GUINEA_BISSAU",
    [j.GUYANA]: "GUYANA",
    [j.HEARD_ISLAND_AND_MCDONALD_ISLANDS]: "HEARD_ISLAND_AND_MCDONALD_ISLANDS",
    [j.IRAN]: "IRAN",
    [j.IRAQ]: "IRAQ",
    [j.ISLE_OF_MAN]: "ISLE_OF_MAN",
    [j.IVORY_COAST]: "IVORY_COAST",
    [j.JAMAICA]: "JAMAICA",
    [j.KIRIBATI]: "KIRIBATI",
    [j.KYRGYZSTAN]: "KYRGYZSTAN",
    [j.LAOS]: "LAOS",
    [j.LEBANON]: "LEBANON",
    [j.LESOTHO]: "LESOTHO",
    [j.LIBERIA]: "LIBERIA",
    [j.LIBYA]: "LIBYA",
    [j.LIECHTENSTEIN]: "LIECHTENSTEIN",
    [j.MACAU]: "MACAU",
    [j.MADAGASCAR]: "MADAGASCAR",
    [j.MALAWI]: "MALAWI",
    [j.MALI]: "MALI",
    [j.MARSHALL_ISLANDS]: "MARSHALL_ISLANDS",
    [j.MARTINIQUE]: "MARTINIQUE",
    [j.MAURITANIA]: "MAURITANIA",
    [j.MAYOTTE]: "MAYOTTE",
    [j.MOLDOVA]: "MOLDOVA",
    [j.MONACO]: "MONACO",
    [j.MONGOLIA]: "MONGOLIA",
    [j.MONTSERRAT]: "MONTSERRAT",
    [j.MOZAMBIQUE]: "MOZAMBIQUE",
    [j.MYANMAR]: "MYANMAR",
    [j.NAMIBIA]: "NAMIBIA",
    [j.NAURU]: "NAURU",
    [j.NEPAL]: "NEPAL",
    [j.NEW_CALEDONIA]: "NEW_CALEDONIA",
    [j.NIGER]: "NIGER",
    [j.NIUE]: "NIUE",
    [j.NORFOLK_ISLAND]: "NORFOLK_ISLAND",
    [j.NORTHERN_CYPRUS]: "NORTHERN_CYPRUS",
    [j.NORTHERN_MARIANA_ISLANDS]: "NORTHERN_MARIANA_ISLANDS",
    [j.NORTH_KOREA]: "NORTH_KOREA",
    [j.NORTH_MACEDONIA]: "NORTH_MACEDONIA",
    [j.PALAU]: "PALAU",
    [j.PALESTINE]: "PALESTINE",
    [j.PAPUA_NEW_GUINEA]: "PAPUA_NEW_GUINEA",
    [j.PITCAIRN]: "PITCAIRN",
    [j.REUNION]: "REUNION",
    [j.RWANDA]: "RWANDA",
    [j.SAINT_BARTHELEMY]: "SAINT_BARTHELEMY",
    [j.SAINT_HELENA_ASCENSION_AND_TRISTIAN_DA_CUNHA]: "SAINT_HELENA_ASCENSION_AND_TRISTIAN_DA_CUNHA",
    [j.SAINT_KITTS_AND_NEVIS]: "SAINT_KITTS_AND_NEVIS",
    [j.SAINT_LUCIA]: "SAINT_LUCIA",
    [j.SAINT_MARTIN]: "SAINT_MARTIN",
    [j.SAINT_PIERRE_AND_MIQUELON]: "SAINT_PIERRE_AND_MIQUELON",
    [j.SAINT_VINCENT_AND_THE_GRENADINES]: "SAINT_VINCENT_AND_THE_GRENADINES",
    [j.SAMOA]: "SAMOA",
    [j.SAN_MARINO]: "SAN_MARINO",
    [j.SAO_TOME_AND_PRINCIPE]: "SAO_TOME_AND_PRINCIPE",
    [j.SCHENGEN_AREA]: "SCHENGEN_AREA",
    [j.SENEGAL]: "SENEGAL",
    [j.SEYCHELLES]: "SEYCHELLES",
    [j.SIERRA_LEONE]: "SIERRA_LEONE",
    [j.SINT_MAARTEN]: "SINT_MAARTEN",
    [j.SOLOMON_ISLANDS]: "SOLOMON_ISLANDS",
    [j.SOMALIA]: "SOMALIA",
    [j.SOUTH_GEORGIA_AND_THE_SOUTH_SANDWICH_ISLANDS]: "SOUTH_GEORGIA_AND_THE_SOUTH_SANDWICH_ISLANDS",
    [j.SOUTH_SUDAN]: "SOUTH_SUDAN",
    [j.SUDAN]: "SUDAN",
    [j.SURINAME]: "SURINAME",
    [j.SVALBARD_AND_JAN_MAYEN]: "SVALBARD_AND_JAN_MAYEN",
    [j.SYRIA]: "SYRIA",
    [j.TAJIKISTAN]: "TAJIKISTAN",
    [j.TANZANIA]: "TANZANIA",
    [j.TOGO]: "TOGO",
    [j.TOKELAU]: "TOKELAU",
    [j.TONGA]: "TONGA",
    [j.TRINIDAD_AND_TOBAGO]: "TRINIDAD_AND_TOBAGO",
    [j.TURKMENISTAN]: "TURKMENISTAN",
    [j.TURKS_AND_CAICOS_ISLANDS]: "TURKS_AND_CAICOS_ISLANDS",
    [j.TUVALU]: "TUVALU",
    [j.UNITED_STATES_MINOR_OUTLYING_ISLANDS]: "UNITED_STATES_MINOR_OUTLYING_ISLANDS",
    [j.UZBEKISTAN]: "UZBEKISTAN",
    [j.VANUATU]: "VANUATU",
    [j.VATICAN_CITY]: "VATICAN_CITY",
    [j.VIRGIN_ISLANDS_BRITISH]: "VIRGIN_ISLANDS_BRITISH",
    [j.VIRGIN_ISLANDS_US]: "VIRGIN_ISLANDS_US",
    [j.WALLIS_AND_FUTUNA]: "WALLIS_AND_FUTUNA",
    [j.WESTERN_SAHARA]: "WESTERN_SAHARA",
    [j.YEMEN]: "YEMEN",
    [j.YUGOSLAVIA]: "YUGOSLAVIA",
    [j.ZAMBIA]: "ZAMBIA",
    [j.ZIMBABWE]: "ZIMBABWE",
    [j.COUNT]: "???"
}
  , Yg = e => y5[e]
  , w5 = {
    [K.NONE]: "NONE",
    [K.ALABAMA]: "ALABAMA",
    [K.ALASKA]: "ALASKA",
    [K.ALBERTA]: "ALBERTA",
    [K.ARIZONA]: "ARIZONA",
    [K.ARKANSAS]: "ARKANSAS",
    [K.AUSTRALIAN_CAPITAL_TERRITORY]: "AUSTRALIAN_CAPITAL_TERRITORY",
    [K.BRITISH_COLUMBIA]: "BRITISH_COLUMBIA",
    [K.CALIFORNIA]: "CALIFORNIA",
    [K.COLORADO]: "COLORADO",
    [K.CONNECTICUT]: "CONNECTICUT",
    [K.DELAWARE]: "DELAWARE",
    [K.DISTRICT_OF_COLUMBIA]: "DISTRICT_OF_COLUMBIA",
    [K.FLORIDA]: "FLORIDA",
    [K.GEORGIA]: "GEORGIA",
    [K.HAWAII]: "HAWAII",
    [K.IDAHO]: "IDAHO",
    [K.ILLINOIS]: "ILLINOIS",
    [K.INDIANA]: "INDIANA",
    [K.IOWA]: "IOWA",
    [K.KANSAS]: "KANSAS",
    [K.KENTUCKY]: "KENTUCKY",
    [K.LOUISIANA]: "LOUISIANA",
    [K.MAINE]: "MAINE",
    [K.MANITOBA]: "MANITOBA",
    [K.MARYLAND]: "MARYLAND",
    [K.MASSACHUSETTS]: "MASSACHUSETTS",
    [K.MICHIGAN]: "MICHIGAN",
    [K.MINNESOTA]: "MINNESOTA",
    [K.MISSISSIPPI]: "MISSISSIPPI",
    [K.MISSOURI]: "MISSOURI",
    [K.MONTANA]: "MONTANA",
    [K.NEBRASKA]: "NEBRASKA",
    [K.NEVADA]: "NEVADA",
    [K.NEW_BRUNSWICK]: "NEW_BRUNSWICK",
    [K.NEW_HAMPSHIRE]: "NEW_HAMPSHIRE",
    [K.NEW_JERSEY]: "NEW_JERSEY",
    [K.NEW_MEXICO]: "NEW_MEXICO",
    [K.NEW_SOUTH_WALES]: "NEW_SOUTH_WALES",
    [K.NEW_YORK]: "NEW_YORK",
    [K.NORTHERN_TERRITORY]: "NORTHERN_TERRITORY",
    [K.NORTH_CAROLINA]: "NORTH_CAROLINA",
    [K.NORTH_DAKOTA]: "NORTH_DAKOTA",
    [K.NOVA_SCOTIA]: "NOVA_SCOTIA",
    [K.OHIO]: "OHIO",
    [K.OKLAHOMA]: "OKLAHOMA",
    [K.ONTARIO]: "ONTARIO",
    [K.OREGON]: "OREGON",
    [K.PENNSYLVANIA]: "PENNSYLVANIA",
    [K.QUEBEC]: "QUEBEC",
    [K.QUEENSLAND]: "QUEENSLAND",
    [K.RHODE_ISLAND]: "RHODE_ISLAND",
    [K.SASKATCHEWAN]: "SASKATCHEWAN",
    [K.SOUTH_AUSTRALIA]: "SOUTH_AUSTRALIA",
    [K.SOUTH_CAROLINA]: "SOUTH_CAROLINA",
    [K.SOUTH_DAKOTA]: "SOUTH_DAKOTA",
    [K.TASMANIA]: "TASMANIA",
    [K.TENNESSEE]: "TENNESSEE",
    [K.TEXAS]: "TEXAS",
    [K.UTAH]: "UTAH",
    [K.VERMONT]: "VERMONT",
    [K.VICTORIA]: "VICTORIA",
    [K.VIRGINIA]: "VIRGINIA",
    [K.WASHINGTON]: "WASHINGTON",
    [K.WESTERN_AUSTRALIA]: "WESTERN_AUSTRALIA",
    [K.WEST_VIRGINIA]: "WEST_VIRGINIA",
    [K.WISCONSIN]: "WISCONSIN",
    [K.WYOMING]: "WYOMING",
    [K.YUKON]: "YUKON",
    [K.CIUDAD_DE_MEXICO]: "CIUDAD_DE_MEXICO",
    [K.JALISCO]: "JALISCO",
    [K.NEWFOUNDLAND_AND_LABRADOR]: "NEWFOUNDLAND_AND_LABRADOR",
    [K.NUEVO_LEON]: "NUEVO_LEON",
    [K.BAJA_CALIFORNIA]: "BAJA_CALIFORNIA",
    [K.CHIHUAHUA]: "CHIHUAHUA",
    [K.GUANAJUATO]: "GUANAJUATO",
    [K.GUERRERO]: "GUERRERO",
    [K.MEXICO]: "MEXICO",
    [K.MICHOACAN]: "MICHOACAN",
    [K.NEW_YORK_CITY]: "NEW_YORK_CITY",
    [K.TAMAULIPAS]: "TAMAULIPAS",
    [K.VERACRUZ]: "VERACRUZ",
    [K.CHIAPAS]: "CHIAPAS",
    [K.COAHUILA]: "COAHUILA",
    [K.DURANGO]: "DURANGO",
    [K.GUERRERO_COCULA]: "GUERRERO_COCULA",
    [K.GUERRERO_JUCHITAN]: "GUERRERO_JUCHITAN",
    [K.GUERRERO_TEPECOACUILCO]: "GUERRERO_TEPECOACUILCO",
    [K.GUERRERO_TLACOAPA]: "GUERRERO_TLACOAPA",
    [K.GUJARAT]: "GUJARAT",
    [K.HIDALGO]: "HIDALGO",
    [K.KARNATAKA]: "KARNATAKA",
    [K.KERALA]: "KERALA",
    [K.KHYBER_PAKHTUNKHWA]: "KHYBER_PAKHTUNKHWA",
    [K.MADHYA_PRADESH]: "MADHYA_PRADESH",
    [K.MAHARASHTRA]: "MAHARASHTRA",
    [K.MORELOS]: "MORELOS",
    [K.NAYARIT]: "NAYARIT",
    [K.OAXACA]: "OAXACA",
    [K.PUEBLA]: "PUEBLA",
    [K.PUNJAB]: "PUNJAB",
    [K.QUERETARO]: "QUERETARO",
    [K.SAN_LUIS_POTOSI]: "SAN_LUIS_POTOSI",
    [K.SINALOA]: "SINALOA",
    [K.SONORA]: "SONORA",
    [K.TABASCO]: "TABASCO",
    [K.TAMIL_NADU]: "TAMIL_NADU",
    [K.YUCATAN]: "YUCATAN",
    [K.ZACATECAS]: "ZACATECAS",
    [K.AGUASCALIENTES]: "AGUASCALIENTES",
    [K.BAJA_CALIFORNIA_SUR]: "BAJA_CALIFORNIA_SUR",
    [K.CAMPECHE]: "CAMPECHE",
    [K.COLIMA]: "COLIMA",
    [K.QUINTANA_ROO_BENITO_JUAREZ]: "QUINTANA_ROO_BENITO_JUAREZ",
    [K.UINTANA_ROO]: "UINTANA_ROO",
    [K.QUINTANA_ROO_SOLIDARIDAD]: "QUINTANA_ROO_SOLIDARIDAD",
    [K.TLAXCALA]: "TLAXCALA",
    [K.QUINTANA_ROO_COZUMEL]: "QUINTANA_ROO_COZUMEL",
    [K.SAO_PAOLO]: "SAO_PAOLO",
    [K.RIO_DE_JANEIRO]: "RIO_DE_JANEIRO",
    [K.RIO_GRANDE_DO_SUL]: "RIO_GRANDE_DO_SUL",
    [K.NORTHWEST_TERRITORIES]: "NORTHWEST_TERRITORIES",
    [K.NUNAVUT]: "NUNAVUT",
    [K.PRINCE_EDWARD_ISLAND]: "PRINCE_EDWARD_ISLAND",
    [K.DISTRITO_FEDERAL]: "DISTRITO_FEDERAL",
    [K.MARANHAO]: "MARANHAO",
    [K.MATO_GROSSO]: "MATO_GROSSO",
    [K.MINAS_GERAIS]: "MINAS_GERAIS",
    [K.PARA]: "PARA",
    [K.PARANA]: "PARANA",
    [K.PERNAMBUCO]: "PERNAMBUCO",
    [K.SANTA_CATARINA]: "SANTA_CATARINA",
    [K.ANDHRA_PRADESH]: "ANDHRA_PRADESH",
    [K.CEARA]: "CEARA",
    [K.GOIAS]: "GOIAS",
    [K.GUERRERO_ACAPULCO_DE_JUAREZ]: "GUERRERO_ACAPULCO_DE_JUAREZ",
    [K.HARYANA]: "HARYANA",
    [K.SERGIPE]: "SERGIPE",
    [K.COUNT]: "COUNT"
}
  , zg = e => w5[e]
  , _5 = {
    [je.NONE]: "NONE",
    [je.CONSULAR_ID]: "CONSULAR_ID",
    [je.DL]: "DL",
    [je.DL_PUBLIC_SERVICES_CARD]: "DL_PUBLIC_SERVICES_CARD",
    [je.EMPLOYMENT_PASS]: "EMPLOYMENT_PASS",
    [je.FIN_CARD]: "FIN_CARD",
    [je.ID]: "ID",
    [je.MULTIPURPOSE_ID]: "MULTIPURPOSE_ID",
    [je.MYKAD]: "MYKAD",
    [je.MYKID]: "MYKID",
    [je.MYPR]: "MYPR",
    [je.MYTENTERA]: "MYTENTERA",
    [je.PAN_CARD]: "PAN_CARD",
    [je.PROFESSIONAL_ID]: "PROFESSIONAL_ID",
    [je.PUBLIC_SERVICES_CARD]: "PUBLIC_SERVICES_CARD",
    [je.RESIDENCE_PERMIT]: "RESIDENCE_PERMIT",
    [je.RESIDENT_ID]: "RESIDENT_ID",
    [je.TEMPORARY_RESIDENCE_PERMIT]: "TEMPORARY_RESIDENCE_PERMIT",
    [je.VOTER_ID]: "VOTER_ID",
    [je.WORK_PERMIT]: "WORK_PERMIT",
    [je.IKAD]: "IKAD",
    [je.MILITARY_ID]: "MILITARY_ID",
    [je.MYKAS]: "MYKAS",
    [je.SOCIAL_SECURITY_CARD]: "SOCIAL_SECURITY_CARD",
    [je.HEALTH_INSURANCE_CARD]: "HEALTH_INSURANCE_CARD",
    [je.PASSPORT]: "PASSPORT",
    [je.S_PASS]: "S_PASS",
    [je.ADDRESS_CARD]: "ADDRESS_CARD",
    [je.ALIEN_ID]: "ALIEN_ID",
    [je.ALIEN_PASSPORT]: "ALIEN_PASSPORT",
    [je.GREEN_CARD]: "GREEN_CARD",
    [je.MINORS_ID]: "MINORS_ID",
    [je.POSTAL_ID]: "POSTAL_ID",
    [je.PROFESSIONAL_DL]: "PROFESSIONAL_DL",
    [je.TAX_ID]: "TAX_ID",
    [je.WEAPON_PERMIT]: "WEAPON_PERMIT",
    [je.VISA]: "VISA",
    [je.BORDER_CROSSING_CARD]: "BORDER_CROSSING_CARD",
    [je.DRIVER_CARD]: "DRIVER_CARD",
    [je.GLOBAL_ENTRY_CARD]: "GLOBAL_ENTRY_CARD",
    [je.MYPOLIS]: "MYPOLIS",
    [je.NEXUS_CARD]: "NEXUS_CARD",
    [je.PASSPORT_CARD]: "PASSPORT_CARD",
    [je.PROOF_OF_AGE_CARD]: "PROOF_OF_AGE_CARD",
    [je.REFUGEE_ID]: "REFUGEE_ID",
    [je.TRIBAL_ID]: "TRIBAL_ID",
    [je.VETERAN_ID]: "VETERAN_ID",
    [je.CITIZENSHIP_CERTIFICATE]: "CITIZENSHIP_CERTIFICATE",
    [je.MY_NUMBER_CARD]: "MY_NUMBER_CARD",
    [je.CONSULAR_PASSPORT]: "CONSULAR_PASSPORT",
    [je.MINORS_PASSPORT]: "MINORS_PASSPORT",
    [je.MINORS_PUBLIC_SERVICES_CARD]: "MINORS_PUBLIC_SERVICES_CARD",
    [je.DRIVING_PRIVILEGE_CARD]: "DRIVING_PRIVILEGE_CARD",
    [je.ASYLUM_REQUEST]: "ASYLUM_REQUEST",
    [je.DRIVER_QUALIFICATION_CARD]: "DRIVER_QUALIFICATION_CARD",
    [je.PROVISIONAL_DL]: "PROVISIONAL_DL",
    [je.REFUGEE_PASSPORT]: "REFUGEE_PASSPORT",
    [je.SPECIAL_ID]: "SPECIAL_ID",
    [je.UNIFORMED_SERVICES_ID]: "UNIFORMED_SERVICES_ID",
    [je.IMMIGRANT_VISA]: "IMMIGRANT_VISA",
    [je.CONSULAR_VOTER_ID]: "CONSULAR_VOTER_ID",
    [je.TWIC_CARD]: "TWIC_CARD",
    [je.EXIT_ENTRY_PERMIT]: "EXIT_ENTRY_PERMIT",
    [je.MAINLAND_TRAVEL_PERMIT_TAIWAN]: "MAINLAND_TRAVEL_PERMIT_TAIWAN",
    [je.NBI_CLEARANCE]: "NBI_CLEARANCE",
    [je.PROOF_OF_REGISTRATION]: "PROOF_OF_REGISTRATION",
    [je.TEMPORARY_PROTECTION_PERMIT]: "TEMPORARY_PROTECTION_PERMIT",
    [je.COUNT]: "COUNT"
}
  , Kg = e => _5[e]
  , fm = 85.6 / 54
  , gm = e => {
    const t = Math.min(e.topLeft.x, e.bottomLeft.x);
    return Math.max(e.topRight.x, e.bottomRight.x) - t
}
  , za = (e, t) => {
    if (!e || e.detectionStatus === zn.Failed)
        return !1;
    const n = Math.min(e.topLeft.y, e.topRight.y)
      , r = Math.max(e.bottomLeft.y, e.bottomRight.y)
      , o = Math.min(e.topLeft.x, e.bottomLeft.x)
      , a = Math.max(e.topRight.x, e.bottomRight.x)
      , s = (a - o) / (r - n);
    if (!(s > fm * .8 && s < fm * 1.2))
        return !1;
    if (t && t.detectionStatus !== zn.Failed) {
        const l = Math.min(t.topLeft.y, t.topRight.y)
          , d = Math.max(t.bottomLeft.y, t.bottomRight.y)
          , u = Math.min(t.topLeft.x, t.bottomLeft.x)
          , m = Math.max(t.topRight.x, t.bottomRight.x);
        if (!(l > n * .95 && d < r * 1.05 && u > o * .95 && m < a * 1.05))
            return !1
    }
    return !0
}
  , ki = new v5
  , R5 = 100
  , A5 = {
    [B.Front]: .6,
    [B.Back]: .3,
    [B.FrontOrBack]: .6,
    [B.BarcodePdf417]: .4,
    [B.PassportSignature]: .4
}
  , T5 = {
    [B.Front]: .9,
    [B.Back]: .75,
    [B.FrontOrBack]: .9,
    [B.BarcodePdf417]: .9,
    [B.PassportSignature]: .9
}
  , E5 = [{
    type: 0,
    shouldShow: Md,
    showAfterFrames: 3,
    hideAfterFrames: 10,
    getPrompt: ({t: e}) => e("government-id-scanner.hint.detected-glare")
}, {
    type: 3,
    shouldShow: e => ho(B.Front, e),
    showAfterFrames: 3,
    hideAfterFrames: 10,
    getPrompt: ({t: e}) => e("government-id-scanner.hint.move-closer")
}, {
    type: 4,
    shouldShow: e => hc(B.Front, e),
    showAfterFrames: 3,
    hideAfterFrames: 10,
    getPrompt: ({t: e}) => e("government-id-scanner.hint.move-away")
}, {
    type: 5,
    shouldShow: e => Bd(e) && !ho(B.Front, e),
    showAfterFrames: 3,
    hideAfterFrames: 10,
    getPrompt: ({t: e}) => e("government-id-scanner.hint.outside-of-frame")
}, {
    type: 6,
    shouldShow: () => !0,
    showAfterFrames: 0,
    hideAfterFrames: 0,
    getPrompt: () => ""
}]
  , k5 = [{
    type: 0,
    shouldShow: Md,
    showAfterFrames: 3,
    hideAfterFrames: 10,
    getPrompt: ({t: e}) => e("government-id-scanner.hint.detected-glare")
}, {
    type: 3,
    shouldShow: e => ho(B.BarcodePdf417, e),
    showAfterFrames: 3,
    hideAfterFrames: 10,
    getPrompt: ({t: e}) => e("government-id-scanner.hint.move-closer")
}, {
    type: 4,
    shouldShow: e => hc(B.BarcodePdf417, e),
    showAfterFrames: 3,
    hideAfterFrames: 10,
    getPrompt: ({t: e}) => e("government-id-scanner.hint.move-away")
}, {
    type: 6,
    shouldShow: () => !0,
    showAfterFrames: 0,
    hideAfterFrames: 0,
    getPrompt: () => ""
}]
  , N5 = [{
    type: 0,
    shouldShow: Md,
    showAfterFrames: 3,
    hideAfterFrames: 10,
    getPrompt: ({t: e}) => e("government-id-scanner.hint.detected-glare")
}, {
    type: 3,
    shouldShow: e => ho(B.Back, e),
    showAfterFrames: 3,
    hideAfterFrames: 10,
    getPrompt: ({t: e}) => e("government-id-scanner.hint.move-closer")
}, {
    type: 4,
    shouldShow: e => hc(B.Back, e),
    showAfterFrames: 3,
    hideAfterFrames: 10,
    getPrompt: ({t: e}) => e("government-id-scanner.hint.move-away")
}, {
    type: 5,
    shouldShow: e => Bd(e) && !ho(B.Front, e),
    showAfterFrames: 3,
    hideAfterFrames: 10,
    getPrompt: ({t: e}) => e("government-id-scanner.hint.outside-of-frame")
}, {
    type: 6,
    shouldShow: () => !0,
    showAfterFrames: 0,
    hideAfterFrames: 0,
    getPrompt: () => ""
}]
  , j5 = {
    [B.Front]: E5,
    [B.Back]: N5,
    [B.BarcodePdf417]: k5,
    [B.FrontOrBack]: void 0,
    [B.PassportSignature]: void 0
}
  , P5 = new Yn({
    type: 7,
    shouldShow: () => !0,
    showAfterFrames: 0,
    hideAfterFrames: 0,
    getPrompt: ({t: e}) => e("government-id-scanner.hint.processing", {
        defaultValue: e("government-id-scanner.hint.hold-still")
    })
});
function Md(e) {
    return (e.glareRatio > 2e-4 || e.hasGlare) && D5(e)
}
function D5(e) {
    var t;
    return ((t = e.microblinkResult) == null ? void 0 : t.state) === xr.Valid
}
function ho(e, t) {
    var o;
    const n = t.detectedQuad;
    if (!n)
        return !1;
    const r = Math.max(n.topRight.x - n.topLeft.x, n.bottomRight.x - n.bottomLeft.x);
    return r > 0 && r / t.videoWidth < A5[e] ? !0 : ((o = t.detectedQuad) == null ? void 0 : o.detectionStatus) === zn.CameraTooFar
}
function hc(e, t) {
    var o;
    const n = t.detectedQuad;
    if (!n)
        return !1;
    const r = Math.max(n.topRight.x - n.topLeft.x, n.bottomRight.x - n.bottomLeft.x);
    return r > 0 && r / t.videoWidth > T5[e] ? !0 : ((o = t.detectedQuad) == null ? void 0 : o.detectionStatus) === zn.CameraTooClose
}
function Bd(e) {
    var t, n;
    return ((t = e.detectedQuad) == null ? void 0 : t.detectionStatus) != null && [zn.DocumentTooCloseToCameraEdge, zn.DocumentPartiallyVisible].includes((n = e.detectedQuad) == null ? void 0 : n.detectionStatus)
}
function O5(e, t) {
    const n = e !== "pp"
      , r = t.microblinkResult && "mrz"in t.microblinkResult ? t.microblinkResult.mrz.verified === !0 : !1;
    return n || r
}
const L5 = 8e3
  , Rs = ({delayUntilManualCaptureMs: e=L5, handleCapture: t, labelTakePhoto: n, overlay: r, videoConstraints: o, requiresSide: a, governmentIdClass: s, handleError: c, zoomFactor: l}) => {
    let d;
    const u = f.useRef(!1)
      , [m,h] = f.useState(!1);
    va(async () => {
        try {
            const _ = performance.now();
            await ki.initialize(a, s),
            d = performance.now(),
            J.logAmplitude("government-id.microblink.initialization", {
                initializationTime: (d - _) / 1e3,
                side: a,
                idClass: s
            })
        } catch (_) {
            c(_, "load")
        }
    }
    , () => {
        ki.tearDown(),
        d = void 0
    }
    , [a]);
    const p = async (_, R, E, T) => {
        var N, U, V;
        ao({
            source: _,
            precreatedCanvas: R,
            zoomFactor: l
        });
        const F = _.videoWidth / l
          , O = _.videoHeight / l;
        try {
            const ne = R.toDataURL(mo, ws)
              , L = performance.now();
            let H = !0;
            h(!1),
            setTimeout( () => {
                H && h(!0)
            }
            , 1e3);
            const q = await ki.processImage(R, Y => {
                Y && setTimeout( () => {
                    if (H && a === B.Front) {
                        const se = performance.now() - L;
                        v({
                            currentTrigger: T.getTriggered().getType(),
                            detectedQuad: null,
                            microblinkResult: null,
                            glareRatio: eo(R),
                            videoWidth: F,
                            videoHeight: O,
                            imageDataUri: ne,
                            hasGlare: null,
                            processingTime: se
                        }, gt.Auto, null),
                        H = !1
                    }
                }
                , 1e3)
            }
            );
            H = !1;
            const ee = q == null ? void 0 : q.recognizerName;
            if (a === B.Front) {
                const Y = q == null ? void 0 : q.recognitionResult
                  , ae = q == null ? void 0 : q.detectedQuad
                  , se = (N = q == null ? void 0 : q.hasGlare) != null ? N : null
                  , Re = performance.now() - L;
                return {
                    currentTrigger: T.getTriggered().getType(),
                    detectedQuad: ae != null ? ae : null,
                    microblinkResult: Y,
                    microblinkRecognizerName: ee,
                    glareRatio: eo(R),
                    videoWidth: F,
                    videoHeight: O,
                    hasGlare: se,
                    imageDataUri: ne,
                    processingTime: Re
                }
            } else if (a === B.BarcodePdf417 || a === B.Back) {
                const Y = q == null ? void 0 : q.recognitionResult
                  , ae = (U = q == null ? void 0 : q.detectedQuad) != null ? U : null
                  , se = (V = q == null ? void 0 : q.hasGlare) != null ? V : null
                  , Re = performance.now() - L;
                return {
                    currentTrigger: T.getTriggered().getType(),
                    detectedQuad: ae,
                    microblinkResult: Y,
                    microblinkRecognizerName: ee,
                    glareRatio: eo(R),
                    videoWidth: F,
                    videoHeight: O,
                    hasGlare: se,
                    imageDataUri: ne,
                    processingTime: Re
                }
            }
        } catch (ne) {
            c(ne, "capture")
        }
        return {
            currentTrigger: T.getTriggered().getType(),
            glareRatio: eo(R),
            videoWidth: F,
            videoHeight: O,
            microblinkRecognizerName: null,
            detectedQuad: null,
            microblinkResult: null,
            hasGlare: null,
            imageDataUri: null,
            processingTime: null
        }
    }
      , b = (_, R) => {
        var E;
        return ((E = _.microblinkResult) == null ? void 0 : E.state) === xr.Valid && !ho(a, _) && !hc(a, _) && !Bd(_) && O5(s, _)
    }
      , C = (_, R, E) => ({
        x: _.x / R,
        y: _.y / E
    })
      , S = (_, R, E) => ({
        bottomLeft: C(_.bottomLeft, R, E),
        bottomRight: C(_.bottomRight, R, E),
        topLeft: C(_.topLeft, R, E),
        topRight: C(_.topRight, R, E)
    })
      , v = async (_, R, E) => {
        var F;
        if (u.current)
            return;
        const T = [];
        if (a === B.BarcodePdf417 || a === B.Back) {
            const O = _.microblinkResult;
            if (O && (T.push({
                type: "pdf417",
                value: (F = O.barcodeData) == null ? void 0 : F.stringData
            }),
            _.detectedQuad)) {
                const N = S(_.detectedQuad, _.videoWidth, _.videoHeight);
                T.push({
                    type: "card",
                    value: {
                        barcode: {
                            "top-left": N.topLeft,
                            "top-right": N.topRight,
                            "bottom-left": N.bottomLeft,
                            "bottom-right": N.bottomRight
                        }
                    }
                })
            }
        } else if (a === B.Front) {
            const O = _.microblinkResult;
            if (O) {
                if (T.push({
                    type: "viz",
                    value: {
                        "name-first": O.firstName,
                        "name-last": O.lastName,
                        "identification-number": O.documentNumber,
                        address: O.address,
                        birthdate: O.dateOfBirth.originalString,
                        "expiration-date": O.dateOfExpiry.originalString
                    }
                }),
                s === "pp") {
                    const N = O.mrz;
                    T.push({
                        type: "mrz",
                        value: N.rawMRZString
                    })
                }
                if (_.detectedQuad) {
                    const N = S(_.detectedQuad, _.videoWidth, _.videoHeight);
                    T.push({
                        type: "card",
                        value: {
                            front: {
                                "top-left": N == null ? void 0 : N.topLeft,
                                "top-right": N == null ? void 0 : N.topRight,
                                "bottom-left": N == null ? void 0 : N.bottomLeft,
                                "bottom-right": N == null ? void 0 : N.bottomRight
                            }
                        }
                    })
                }
                T.push({
                    type: "classification",
                    value: {
                        type: O.classInfo.documentType ? Kg(O.classInfo.documentType) : null,
                        country: O.classInfo.country ? Yg(O.classInfo.country) : null,
                        region: O.classInfo.region ? zg(O.classInfo.region) : null
                    }
                })
            }
        }
        J.logAmplitude("government-id.microblink.capture", {
            processingTime: _.processingTime / 1e3,
            captureTime: d != null ? (performance.now() - d) / 1e3 : void 0,
            side: a,
            idClass: s,
            captureMethod: R,
            parsedViz: T.find(O => O.type === "viz") != null,
            parsedMrz: T.find(O => O.type === "mrz") != null,
            parsedCard: T.find(O => O.type === "card") != null,
            parsedClassification: T.find(O => O.type === "classification") != null,
            parsedPdf417: T.find(O => O.type === "pdf417") != null
        }),
        await t([_.imageDataUri], R, E, T, _.microblinkRecognizerName),
        u.current = !0
    }
      , x = j5[a];
    return i.jsx(ic, {
        handleCapture: ({captureMethod: _, params: R, cameraInspectionData: E}) => v(R, _, E),
        handleFailed: c,
        detectInterval: R5,
        labelTakePhoto: n,
        videoConstraints: o,
        triggerConfigs: x,
        paramsFromVideoFrame: p,
        shouldSubmit: b,
        overlay: r,
        delayUntilManualCaptureMs: e,
        triggerOverride: m ? P5 : null,
        zoomFactor: l,
        scannerType: "governmentId",
        disableCaptureClient: !0
    })
}
;
var Qg = (e => (e[e.DetectedGlare = 0] = "DetectedGlare",
e[e.Capture = 1] = "Capture",
e[e.HoldStill = 2] = "HoldStill",
e[e.MoveCloser = 3] = "MoveCloser",
e[e.None = 4] = "None",
e))(Qg || {});
const F5 = 100
  , bm = .3
  , M5 = .27
  , B5 = .32
  , V5 = .25
  , U5 = .3
  , H5 = .37
  , q5 = [{
    type: 0,
    shouldShow: $5,
    showAfterFrames: 3,
    hideAfterFrames: 10,
    getPrompt: ({t: e}) => e("government-id-scanner.hint.detected-glare")
}, {
    type: 1,
    shouldShow: e => e.currentTrigger === 2,
    showAfterFrames: 12,
    hideAfterFrames: 999999,
    getPrompt: ({t: e}) => e("government-id-scanner.hint.hold-still")
}, {
    type: 2,
    shouldShow: Vd,
    showAfterFrames: 3,
    hideAfterFrames: 2,
    getPrompt: ({t: e}) => e("government-id-scanner.hint.hold-still")
}, {
    type: 3,
    shouldShow: Zg,
    showAfterFrames: 3,
    hideAfterFrames: 10,
    getPrompt: ({t: e}) => e("government-id-scanner.hint.move-closer")
}, {
    type: 4,
    shouldShow: () => !0,
    showAfterFrames: 0,
    hideAfterFrames: 0,
    getPrompt: () => ""
}];
function $5(e) {
    return e.glareRatio > 2e-4 && (Zg(e) || Vd(e))
}
function Zg(e) {
    const {faceBoundingBox: t} = e;
    if (t == null)
        return !1;
    const n = 1.5
      , r = new wp((t.left - .5) * n + .5,(t.top - .5) * n + .5,(t.right - .5) * n + .5,(t.bottom - .5) * n + .5);
    return Vd({
        ...e,
        faceBoundingBox: r
    })
}
function Vd({isPassport: e, faceBoundingBox: t}) {
    if (t == null)
        return !1;
    if (e)
        return t.left + t.width / 2 < V5 && t.width < U5 + .05 && t.height < H5 + .05;
    {
        const n = t.left + t.width / 2;
        return (n < bm || n > 1 - bm) && t.width < M5 + .05 && t.height < B5 + .05
    }
}
const G5 = .3
  , Jg = ({delayUntilManualCaptureMs: e=0, handleCapture: t, handleError: n, isPassport: r, labelTakePhoto: o, overlay: a, videoConstraints: s, zoomFactor: c}) => {
    const [l,d] = f.useState(!1)
      , u = Mt("inquiry:disable-gov-id-face-api");
    f.useEffect( () => {
        if (!u)
            try {
                kt.loadModels()
            } catch {
                d(!0)
            }
    }
    , []);
    const m = async (p, b, C, S) => {
        ao({
            source: p,
            precreatedCanvas: b,
            zoomFactor: c
        });
        let v = [];
        if (!l && kt.isLoaded() && kt.isMediaLoaded(p))
            try {
                v = await kt.detectFaces(b, {
                    scoreThreshold: G5
                })
            } catch (_) {
                n(_, "capture"),
                d(!0)
            }
        let x;
        return v.length === 1 && (x = v[0].box.rescale({
            width: 1 / b.width,
            height: 1 / b.height
        })),
        {
            currentTrigger: S.getTriggered().getType(),
            faceBoundingBox: x != null ? x : null,
            glareRatio: eo(b),
            isPassport: r
        }
    }
      , h = (p, b) => b.getTriggered().getType() === Qg.Capture;
    return i.jsx(ic, {
        handleCapture: ({imageSrcs: p, captureMethod: b, cameraInspectionData: C}) => t(p, b, C),
        handleFailed: n,
        detectInterval: F5,
        labelTakePhoto: o,
        videoConstraints: s,
        triggerConfigs: q5,
        paramsFromVideoFrame: m,
        shouldSubmit: h,
        overlay: a,
        delayUntilManualCaptureMs: e,
        scannerType: "governmentId",
        zoomFactor: c
    })
}
  , W5 = g("div").withConfig({
    displayName: "InquiryGovernmentIdCaptureView__Header",
    componentId: "sc-1y4wzo1-0"
})(["min-height:", ";margin-bottom:", ";"], We.header, I.Spacing[4])
  , Y5 = ({countryCode: e, governmentIdClass: t, governmentIdSide: n}) => {
    const [r] = G()
      , o = fi(r, ["government-id.capture.title", "government-id.title"], e, t, n);
    return i.jsx(ct, {
        children: i.jsx(X, {
            children: o
        })
    })
}
  , z5 = ({governmentIdClass: e, governmentIdSide: t}) => {
    const [n] = G()
      , r = fi(n, ["government-id.capture.prompt"], null, e, t);
    return i.jsx(ot, {
        children: i.jsx(X, {
            children: r
        })
    })
}
;
function K5({localizations: e, featureFlags: t, governmentIdClass: n, handleCapture: r, handleError: o, requiresSide: a, selectedCountryCode: s, shouldUseMicroblink: c, videoConstraints: l, webCameraManualCaptureDelayMs: d, barcodeCameraManualCaptureDelayMs: u, zoomFactor: m}) {
    const h = i.jsx(qg, {
        governmentIdClass: n,
        requiresSide: a,
        mirrored: l.facingMode === "user",
        hideBackOverlay: (t == null ? void 0 : t["inquiry:remove-back-overlay-for-non-us-govid"]) && s !== "US"
    });
    let p;
    return a === B.BarcodePdf417 ? c ? p = i.jsx(Rs, {
        delayUntilManualCaptureMs: u,
        governmentIdClass: n,
        handleCapture: r,
        handleError: o,
        labelTakePhoto: e["btn-take-photo"],
        overlay: h,
        requiresSide: a,
        videoConstraints: l,
        zoomFactor: m
    }) : p = i.jsx(Gg, {
        delayUntilManualCaptureMs: u,
        handleCapture: r,
        handleError: o,
        labelTakePhoto: e["btn-take-photo"],
        videoConstraints: l,
        requiresSide: a,
        overlay: h,
        zoomFactor: m
    }) : p = c ? i.jsx(Rs, {
        delayUntilManualCaptureMs: d,
        governmentIdClass: n,
        handleCapture: r,
        handleError: o,
        labelTakePhoto: e["btn-take-photo"],
        overlay: h,
        requiresSide: a,
        videoConstraints: l,
        zoomFactor: m
    }) : i.jsx(Jg, {
        delayUntilManualCaptureMs: d,
        handleCapture: r,
        handleError: o,
        isPassport: n === "pp" || n === "ipp",
        labelTakePhoto: e["btn-take-photo"],
        overlay: h,
        videoConstraints: l,
        zoomFactor: m
    }),
    i.jsxs("div", {
        children: [i.jsxs(W5, {
            children: [i.jsx(Y5, {
                countryCode: s,
                governmentIdClass: n,
                governmentIdSide: a
            }), i.jsx(z5, {
                governmentIdClass: n,
                governmentIdSide: a
            })]
        }), p]
    })
}
const Q5 = g(X).withConfig({
    displayName: "GovernmentIdHelpModal__HelpModalPrompt",
    componentId: "sc-72hke3-0"
})(["font-size:14px;line-height:21px;"])
  , Z5 = g(X).withConfig({
    displayName: "GovernmentIdHelpModal__HelpModalWarning",
    componentId: "sc-72hke3-1"
})(["background-color:#fff7de;padding:", " ", ";font-size:14px;line-height:21px;"], I.Spacing[3], I.Spacing[4])
  , J5 = g.div.withConfig({
    displayName: "GovernmentIdHelpModal__HelpModalImageContainer",
    componentId: "sc-72hke3-2"
})(["display:flex;justify-content:space-around;"])
  , X5 = g(X).withConfig({
    displayName: "GovernmentIdHelpModal__HintListMarkdown",
    componentId: "sc-72hke3-3"
})(["font-size:14px;line-height:21px;ul{border-spacing 0 8px;display:table;li{display:table-row;}li::before{display:table-cell;padding-right:12px;}}"])
  , e6 = g(fe).withConfig({
    displayName: "GovernmentIdHelpModal__StickyButton",
    componentId: "sc-72hke3-4"
})(["position:sticky;bottom:0;"])
  , Dc = ({isOpen: e, onClose: t, title: n, prompt: r, warning: o, pictograph: a, hints: s, continueBtnLabel: c, styles: l}) => {
    var d, u, m, h, p, b, C, S, v;
    return i.jsxs(bi, {
        isOpen: e,
        onClose: t,
        styles: (d = l == null ? void 0 : l.base) == null ? void 0 : d.modal,
        "data-test": "help-dialog",
        "aria-labelledby": "help-dialog__title",
        "aria-describedby": "help-dialog__description",
        children: [i.jsx(ct, {
            id: "help-dialog__title",
            styles: (u = l == null ? void 0 : l.base) == null ? void 0 : u.titleStyle,
            children: i.jsx(X, {
                children: n
            })
        }), r && i.jsxs(i.Fragment, {
            children: [i.jsx(ot, {
                id: "help-dialog__description",
                styles: (m = l == null ? void 0 : l.base) == null ? void 0 : m.textStyle,
                children: i.jsx(Q5, {
                    children: r
                })
            }), i.jsx(Xe, {
                height: 2.5
            })]
        }), o && i.jsxs(i.Fragment, {
            children: [i.jsx(ot, {
                id: "help-dialog__warning",
                children: i.jsx(Z5, {
                    children: o
                })
            }), i.jsx(Xe, {
                height: 2.5
            })]
        }), i.jsx(J5, {
            children: i.jsx(pe, {
                $primaryColor: A((p = (h = l == null ? void 0 : l.captureHintIcon) == null ? void 0 : h.fill) == null ? void 0 : p.color),
                $strokeColor: A((C = (b = l == null ? void 0 : l.captureHintIcon) == null ? void 0 : b.stroke) == null ? void 0 : C.color),
                children: a
            })
        }), i.jsx(Xe, {
            height: 2
        }), i.jsx(ot, {
            id: "help-dialog__description",
            styles: (S = l == null ? void 0 : l.base) == null ? void 0 : S.textStyle,
            children: i.jsx(X5, {
                children: s
            })
        }), i.jsx(e6, {
            type: "button",
            id: "help-dialog__btn",
            onClick: t,
            styles: (v = l == null ? void 0 : l.buttons) == null ? void 0 : v.primary,
            children: c
        })]
    })
}
  , pc = 1
  , Ud = 1
  , t6 = 8
  , n6 = 3
  , gr = 14
  , Xg = e => {
    var t, n;
    return (n = k((t = e == null ? void 0 : e.border) == null ? void 0 : t.radius)) != null ? n : `${t6}px`
}
  , mi = e => {
    var t, n, r;
    return (r = k((n = (t = e == null ? void 0 : e.border) == null ? void 0 : t.width) == null ? void 0 : n.top)) != null ? r : `${n6}px`
}
  , i6 = e => {
    var t, n;
    return (n = A((t = e == null ? void 0 : e.border) == null ? void 0 : t.color)) != null ? n : Fe.white
}
  , r6 = e => `calc(${Xg(e)} - ${mi(e)})`
  , o6 = (e, t) => {
    var n, r;
    return (r = A((n = t == null ? void 0 : t.stroke) == null ? void 0 : n.color)) != null ? r : e.iconColorPrimary
}
  , fc = .8
  , no = .8
  , gc = .4247
  , a6 = g("div").withConfig({
    displayName: "ScannerOverlay__CropPositioner",
    componentId: "sc-msiqna-0"
})(["position:absolute;top:0;left:0;right:0;bottom:0;"])
  , s6 = g("div").withConfig({
    displayName: "ScannerOverlay__OverlayCrop",
    componentId: "sc-msiqna-1"
})(["position:relative;height:100%;width:100%;overflow:hidden;display:flex;flex-direction:column;"])
  , eb = e => {
    var r, o, a, s;
    const t = f.useRef()
      , n = A((a = (o = (r = e == null ? void 0 : e.styles) == null ? void 0 : r.captureOverlayHeaderButton) == null ? void 0 : o.stroke) == null ? void 0 : a.color);
    return i.jsxs(i.Fragment, {
        children: [i.jsx(c6, {
            svgColor: n
        }), i.jsx(a6, {
            ref: (s = e.overlayRef) != null ? s : t,
            children: i.jsx(s6, {
                children: i.jsx(_6, {
                    ...e
                })
            })
        })]
    })
}
  , c6 = bo(["nav#", "{background-color:unset;svg{path{", "}}}"], Ld, ({svgColor: e}) => `stroke: ${e != null ? e : Fe.white};`)
  , Cm = g("div").withConfig({
    displayName: "ScannerOverlay__BarcodeImageContainer",
    componentId: "sc-msiqna-2"
})(["position:absolute;margin-left:20%;margin-right:20%;padding-top:17%;width:60%;top:50%;transform:translateY(-50%);"])
  , l6 = Pn(["0%{opacity:0;}100%{opacity:1;}"])
  , d6 = g.div.withConfig({
    displayName: "ScannerOverlay__ImageContainerWrapper",
    componentId: "sc-msiqna-3"
})(["position:relative;overflow:visible;z-index:-1;"])
  , u6 = g("div").withConfig({
    displayName: "ScannerOverlay__ImageContainer",
    componentId: "sc-msiqna-4"
})(["position:relative;overflow:hidden;transition:all ", "s;"], pc)
  , m6 = g("div").withConfig({
    displayName: "ScannerOverlay__Positioner",
    componentId: "sc-msiqna-5"
})(["", ";transform:translate(-50%,-50%) ", ";width:100%;position:absolute;top:50%;left:50%;& > div,& > img{margin:auto;}"], ({mirrored: e}) => e && $(["transform:scale(-1,1);"]), ({mirrored: e}) => e ? "scale(-1, 1)" : "")
  , h6 = g("div").withConfig({
    displayName: "ScannerOverlay__ImageContainerSizer",
    componentId: "sc-msiqna-6"
})(["top:0;left:0;padding-bottom:", ";overflow:hidden;"], ({isShortBarcodeOverlay: e}) => e ? "35%" : "66%")
  , xm = g(Ul).withConfig({
    displayName: "ScannerOverlay__IdBarcodeGenericGuideStyled",
    componentId: "sc-msiqna-7"
})(["top:0;left:0;position:absolute;width:100%;height:100%;"])
  , hr = g("div").withConfig({
    displayName: "ScannerOverlay__SimpleGuide",
    componentId: "sc-msiqna-8"
})(["padding-bottom:65.97%;width:100%;"])
  , vm = g("div").withConfig({
    displayName: "ScannerOverlay__OverlayPortrait",
    componentId: "sc-msiqna-9"
})(["backface-visibility:hidden;height:100%;width:100%;overflow:hidden;transform:", ";position:", ";top:", ";"], ({isReverseSide: e}) => e ? "rotateY(180deg)" : "scale(1)", ({isReverseSide: e}) => e ? "absolute" : null, ({isReverseSide: e}) => e ? 0 : null)
  , p6 = g("div").withConfig({
    displayName: "ScannerOverlay__FlipCard",
    componentId: "sc-msiqna-10"
})(["position:absolute;top:calc( ", " - ", " );background:", ";width:calc(80% + 2 * (", "));margin-left:calc(10% - ", ");margin-right:calc(10% - ", ");perspective:1000px;transition:all ", "s;"], ({collapsed: e, isShortBarcodeOverlay: t}) => e ? "50%" : t ? "35%" : "25%", ({styles: e}) => mi(e), ({collapsed: e}) => e ? "black" : "transparent", ({styles: e}) => mi(e), ({styles: e}) => mi(e), ({styles: e}) => mi(e), pc)
  , f6 = g("div").withConfig({
    displayName: "ScannerOverlay__FlipCardInner",
    componentId: "sc-msiqna-11"
})(["border:", ";border-radius:", ";position:relative;width:100%;height:100%;transform-style:preserve-3d;overflow:", ";transition:transform ", "s;box-shadow:0 0 1px 1000px rgba(0,0,0,1);"], ({styles: e}) => `${mi(e)} solid ${i6(e)}`, ({styles: e}) => Xg(e), ({flipped: e}) => e ? null : "hidden", Ud)
  , g6 = g("div").withConfig({
    displayName: "ScannerOverlay__AboveFrameHintContainer",
    componentId: "sc-msiqna-12"
})(["display:flex;flex-direction:row;justify-content:center;align-items:center;position:absolute;top:-16px;transform:translateY(-100%);border-radius:4px;padding:8px 16px;background-color:rgba(255,255,255,0.15);color:", ";width:100%;text-align:center;font-size:14px;line-height:150%;z-index:1;transition:opacity ", ";opacity:", ";"], Fe.white, tt.Fast, ({visible: e}) => e ? 1 : 0)
  , b6 = g("div").withConfig({
    displayName: "ScannerOverlay__UnderOverlayComponentsWrapper",
    componentId: "sc-msiqna-13"
})(["position:absolute;bottom:-16px;transform:translateY(100%);z-index:1;transition:opacity ", ";opacity:", ";width:100%;"], tt.Fast, ({visible: e}) => e ? 1 : 0)
  , C6 = g("div").withConfig({
    displayName: "ScannerOverlay__NewHintContainer",
    componentId: "sc-msiqna-14"
})(["display:flex;flex-direction:row;justify-content:center;align-items:center;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:", ";text-align:center;font-size:14px;line-height:150%;z-index:1;width:80%;transition:opacity ", ";opacity:", ";"], Fe.white, tt.Fast, ({visible: e}) => e ? 1 : 0)
  , x6 = g("div").withConfig({
    displayName: "ScannerOverlay__NewHintContainerInner",
    componentId: "sc-msiqna-15"
})(["background-color:rgba(0,0,0,0.5);border-radius:4px;padding:8px 16px;min-width:50%;"])
  , Im = g("div").withConfig({
    displayName: "ScannerOverlay__CaptureFrameLabel",
    componentId: "sc-msiqna-16"
})(["align-items:flex-start;background:rgb(230,230,230);color:", ";padding:", "px 12px;display:flex;border-radius:", ";height:100%;width:100%;transition:", ";"], ({styles: e}) => e != null ? A(e == null ? void 0 : e["text-color"].base.base) : I.Color.CoreSlate800, gr, ({innerBorderRadius: e}) => e, ({collapsed: e}) => `height ${Ud}s,
    border-radius ${pc}s steps(1, ${e ? "jump-end" : "jump-start"})`)
  , Sm = g.div.withConfig({
    displayName: "ScannerOverlay__CaptureFrameLabelInner",
    componentId: "sc-msiqna-17"
})(["display:flex;align-items:center;font-size:14px;line-height:150%;img,svg{height:auto !important;width:40px !important;}svg{path{mix-blend-mode:normal !important;}}"])
  , ym = g.span.withConfig({
    displayName: "ScannerOverlay__PictographContainer",
    componentId: "sc-msiqna-18"
})(["flex:1 0 auto;height:auto !important;width:40px !important;"])
  , wm = g("div").withConfig({
    displayName: "ScannerOverlay__CaptureFrameLabelText",
    componentId: "sc-msiqna-19"
})(["align-self:center;margin-left:12px;"])
  , v6 = Pn(["0%{opacity:100;}100%{opacity:0;}"])
  , I6 = Pn(["0%{stroke-dashoffset:400;}100%{stroke-dashoffset:0;}"]);
g.div.withConfig({
    displayName: "ScannerOverlay__ScanSvgWrapper",
    componentId: "sc-msiqna-20"
})(["position:absolute;inset:0;width:100%;height:100%;z-index:9999;"]);
g.rect.withConfig({
    displayName: "ScannerOverlay__AnimatedBorder",
    componentId: "sc-msiqna-21"
})(["width:", ";height:", ";x:", ";y:", ";path-length:400;fill:none;stroke:", ";stroke-width:", ";stroke-linecap:round;stroke-dasharray:100 300;animation:", " 4s ease-in,", " 4s linear infinite;"], ({styles: e}) => `calc(100% - ${mi(e)})`, ({styles: e}) => `calc(100% - ${mi(e)})`, ({styles: e}) => `calc(${mi(e)} / 2)`, ({styles: e}) => `calc(${mi(e)} / 2)`, ({theme: e, styles: t}) => o6(e, t), ({styles: e}) => mi(e), l6, I6);
const S6 = g("div").withConfig({
    displayName: "ScannerOverlay__Flash",
    componentId: "sc-msiqna-22"
})(["position:absolute;top:0;left:0;height:100%;width:100%;background-color:", ";opacity:0;animation:", " 1s;"], Fe.white, v6)
  , y6 = g("img").withConfig({
    displayName: "ScannerOverlay__CapturedImage",
    componentId: "sc-msiqna-23"
})(["width:100%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);"])
  , w6 = g.div.withConfig({
    displayName: "ScannerOverlay__RealCaptureWindow",
    componentId: "sc-msiqna-24"
})(["position:absolute;border-radius:5px 5px 0 0;overflow:hidden;top:", "%;left:", "%;height:", "%;width:", "%;"], ({visibleToRealCaptureWindowHeightRatio: e}) => (100 - 100 / e) / 2, ({visibleToRealCaptureWindowWidthRatio: e}) => (100 - 100 / e) / 2, ({visibleToRealCaptureWindowHeightRatio: e}) => 100 / e, ({visibleToRealCaptureWindowWidthRatio: e}) => 100 / e)
  , Oc = window.requestIdleCallback != null
  , _6 = e => {
    var ye, Pe, Ae, Te, be, re, z;
    const t = f.useRef()
      , [n,r] = f.useState(e.collapsed || e.expandOnMount)
      , [o,a] = f.useState(n ? 0 : "auto")
      , [s,c] = f.useState(!n)
      , [l,d] = f.useState(!n)
      , [u,m] = f.useState(!((ye = e.captureOverlay) != null && ye.overlay))
      , [h] = G()
      , p = f.useRef()
      , b = f.useRef()
      , [C,S] = f.useState(e.flipped)
      , [v,x] = f.useState("auto")
      , [_,R] = f.useState(null)
      , [E,T] = f.useState(e.isCameraReady)
      , F = r6((Pe = e == null ? void 0 : e.styles) == null ? void 0 : Pe.captureBox)
      , [O,N] = f.useState(e.hint)
      , U = e.isShortBarcodeOverlay && e.hint || e.prompt
      , V = e.isShortBarcodeOverlay ? null : e.hint
      , ne = !1;
    f.useEffect( () => {
        var Z;
        ((Z = e.hint) == null ? void 0 : Z.length) > 0 && N(e.hint)
    }
    , [e.hint]),
    f.useEffect( () => {
        var xe, we, Ye, qe, Ce;
        const Z = e.captureOverlay ? (xe = t.current) == null ? void 0 : xe.clientHeight : (Ye = (we = e.previewViewfinderRef) == null ? void 0 : we.current) == null ? void 0 : Ye.scrollHeight;
        L() ? e.collapsed && !n ? (a(Z + "px"),
        Oc ? window.requestIdleCallback( () => {
            var W;
            a(0),
            R(`${-(((W = p.current) == null ? void 0 : W.scrollHeight) + gr * 2) / 2}px`),
            r(!0)
        }
        , {
            timeout: 500
        }) : setTimeout( () => {
            var W;
            a(0),
            R(`${-(((W = p.current) == null ? void 0 : W.scrollHeight) + gr * 2) / 2}px`),
            r(!0)
        }
        , 50)) : (a(e.collapsed ? 0 : Z || "auto"),
        e.collapsed && R(`${-(((qe = p.current) == null ? void 0 : qe.scrollHeight) + gr * 2) / 2}px`),
        r(e.collapsed)) : e.expandOnMount ? (a(Z),
        r(!1)) : (d(!0),
        (Ce = e.onReady) == null || Ce.call(e))
    }
    , [e.collapsed]),
    f.useEffect( () => {
        var Z;
        L() && e.flipped && !C && (x(`${((Z = p.current) == null ? void 0 : Z.scrollHeight) + gr * 2}px`),
        Oc ? window.requestIdleCallback( () => {
            var we;
            const xe = ((we = b.current) == null ? void 0 : we.scrollHeight) + gr * 2;
            x(`${xe}px`),
            R(`-${xe / 2}px`),
            S(!0)
        }
        , {
            timeout: 500
        }) : setTimeout( () => {
            var we;
            const xe = ((we = b.current) == null ? void 0 : we.scrollHeight) + gr * 2;
            x(`${xe}px`),
            R(`-${xe / 2}px`),
            S(!0)
        }
        , 50))
    }
    , [e.flipped]),
    f.useEffect( () => {
        if (Oc) {
            const Z = window.requestIdleCallback( () => {
                T(e.isCameraReady)
            }
            , {
                timeout: 500
            });
            return () => window.cancelIdleCallback(Z)
        } else {
            const Z = setTimeout( () => {
                T(e.isCameraReady)
            }
            , 50);
            return () => window.clearTimeout(Z)
        }
    }
    , [e.isCameraReady]);
    const L = Ki()
      , H = () => {
        if (e.capturing)
            return i.jsx(S6, {})
    }
      , q = !(u && l) || e.capturing || e.hasDetectedQuad || !!V
      , ee = e.isShortBarcodeOverlay
      , Y = () => e.governmentIdClass == null ? i.jsx(hr, {}) : e.requiresSide === B.PassportSignature ? i.jsx(hr, {}) : ["nric"].includes(e.governmentIdClass) ? i.jsx(hr, {}) : ["pp", "visa", "ipp"].includes(e.governmentIdClass) ? i.jsx(wl, {
        mirrored: e.mirrored,
        hideGuide: e.capturing
    }) : e.requiresSide === B.Front ? i.jsx(yl, {
        mirrored: e.mirrored,
        hideGuide: q,
        highlightCorners: e.hasDetectedQuad
    }) : e.requiresSide === B.Back ? i.jsx(Il, {
        mirrored: e.mirrored,
        hideGuide: q,
        highlightCorners: e.hasDetectedQuad
    }) : e.requiresSide === B.BarcodePdf417 ? e.isShortBarcodeOverlay ? i.jsx(Sl, {
        mirrored: e.mirrored,
        hideGuide: q
    }) : (Be("Used full barcode overlay for BarcodePdf417; this should never happen.", "warning"),
    i.jsx(hr, {
        children: e.scanning && i.jsx(Cm, {
            children: i.jsx(xm, {
                preserveAspectRatio: "none"
            })
        })
    })) : i.jsx(hr, {})
      , ae = Z => {
        switch (Z) {
        case xn.Passport:
            return i.jsx(wl, {
                mirrored: !1,
                hideGuide: q
            });
        case xn.IdFront:
            return i.jsx(yl, {
                mirrored: !1,
                hideGuide: q,
                highlightCorners: e.hasDetectedQuad
            });
        case xn.IdFrontRightPortrait:
            return i.jsx(Mg, {
                mirrored: !1,
                hideGuide: q,
                highlightCorners: e.hasDetectedQuad
            });
        case xn.IdBack:
            return i.jsx(Il, {
                mirrored: !1,
                hideGuide: q,
                highlightCorners: e.hasDetectedQuad
            });
        case xn.Barcode:
            return e.isShortBarcodeOverlay ? i.jsx(Sl, {
                mirrored: !1,
                hideGuide: q
            }) : i.jsx(hr, {
                children: e.scanning && i.jsx(Cm, {
                    children: i.jsx(xm, {
                        preserveAspectRatio: "none"
                    })
                })
            });
        case xn.CornersOnly:
            return i.jsx(Fg, {
                mirrored: !1,
                highlightCorners: e.hasDetectedQuad
            });
        case xn.Empty:
        default:
            return i.jsx(hr, {})
        }
    }
      , se = n ? {
        transform: `translate3d(0, ${_ != null ? _ : "-50%"}, 0)`
    } : void 0
      , _e = C ? {
        transform: "rotateY(180deg)"
    } : void 0
      , Re = f.useMemo( () => !R6(e.assets, e.requiresSide, e.governmentIdClass), [e.assets, e.requiresSide, e.governmentIdClass]);
    return i.jsxs(p6, {
        collapsed: n,
        collapsedVerticalOffset: _,
        isShortBarcodeOverlay: e.isShortBarcodeOverlay,
        style: se,
        children: [i.jsx(g6, {
            visible: !!U && !n && l,
            children: i.jsx("div", {
                role: "alert",
                children: e.videoReady ? U || (ee ? O : null) : h("government-id.capture.loading-camera")
            })
        }), ne, i.jsxs(f6, {
            flipped: C,
            styles: (Ae = e.styles) == null ? void 0 : Ae.captureBox,
            style: _e,
            children: [i.jsxs(vm, {
                isReverseSide: !1,
                children: [i.jsxs(d6, {
                    children: [i.jsx(w6, {
                        ref: e.overlayCaptureWindowRef,
                        visibleToRealCaptureWindowWidthRatio: no,
                        visibleToRealCaptureWindowHeightRatio: ee ? gc : fc,
                        children: e.capturedImageUrl && i.jsx(y6, {
                            alt: e.captureFrameLabel,
                            "data-test": "scanner-overlay__captured-image",
                            src: e.capturedImageUrl
                        })
                    }), i.jsxs(u6, {
                        ref: e.previewViewfinderRef,
                        style: {
                            height: o
                        },
                        onTransitionEnd: () => {
                            var Z;
                            a(n ? 0 : "auto"),
                            c(!n),
                            d(!0),
                            (Z = e.onReady) == null || Z.call(e)
                        }
                        ,
                        children: [!ee && i.jsx(C6, {
                            visible: !!V && !n && l,
                            children: i.jsx(x6, {
                                role: "alert",
                                children: V || O
                            })
                        }), e.captureOverlay ? i.jsxs(h6, {
                            isShortBarcodeOverlay: ee,
                            ref: t,
                            children: [i.jsx(m6, {
                                mirrored: e.mirrored,
                                children: i.jsx(Ue, {
                                    customImage: e.captureOverlay.overlay,
                                    onLoad: () => m(!0),
                                    environment: e.environment,
                                    alt: "ID capture overlay",
                                    children: ae(e.captureOverlay["overlay-fallback"])
                                })
                            }), H()]
                        }) : i.jsxs(i.Fragment, {
                            children: [Y(), H()]
                        })]
                    })]
                }), i.jsx(Im, {
                    collapsed: n,
                    style: {
                        height: v
                    },
                    styles: (Te = e.styles) == null ? void 0 : Te.hint,
                    innerBorderRadius: F,
                    children: i.jsxs(Sm, {
                        ref: p,
                        children: [Re && i.jsx(ym, {
                            "aria-hidden": "true",
                            children: i.jsx(_m, {
                                assets: e.assets,
                                currentSide: e.requiresSide,
                                governmentIdClass: e.governmentIdClass,
                                styles: (be = e.styles) == null ? void 0 : be.captureHintIcon
                            })
                        }), i.jsx(wm, {
                            children: e.captureFrameLabel
                        })]
                    })
                })]
            }), i.jsx(vm, {
                isReverseSide: !0,
                "aria-hidden": "true",
                children: i.jsx(Im, {
                    collapsed: n,
                    style: {
                        height: v
                    },
                    styles: (re = e.styles) == null ? void 0 : re.hint,
                    innerBorderRadius: F,
                    children: i.jsxs(Sm, {
                        ref: b,
                        children: [Re && i.jsx(ym, {
                            "aria-hidden": "true",
                            children: i.jsx(_m, {
                                assets: e.assets,
                                currentSide: e.reverseSide,
                                governmentIdClass: e.governmentIdClass,
                                styles: (z = e.styles) == null ? void 0 : z.captureHintIcon
                            })
                        }), i.jsx(wm, {
                            children: e.reverseCaptureFrameLabel
                        })]
                    })
                })
            })]
        }), e.renderUnderOverlayComponents && i.jsx(b6, {
            visible: !n,
            children: e.renderUnderOverlayComponents()
        })]
    })
}
  , _m = ({assets: e, currentSide: t, governmentIdClass: n, styles: r}) => {
    var o, a, s, c;
    if (n === "pp" || n === "ipp")
        switch (t) {
        case B.PassportSignature:
            return i.jsx(Ue, {
                customImage: e["passport-signature-pictograph"],
                alt: "passport signature pictograph",
                children: i.jsx(pe, {
                    style: {
                        lineHeight: 0
                    },
                    $primaryColor: A((o = r == null ? void 0 : r.fill) == null ? void 0 : o.color),
                    $strokeColor: A((a = r == null ? void 0 : r.stroke) == null ? void 0 : a.color),
                    "aria-hidden": "true",
                    children: i.jsx(ls, {})
                })
            });
        default:
            return i.jsx(Ue, {
                customImage: e["passport-front-pictograph"],
                alt: "passport front pictograph",
                children: i.jsx(pe, {
                    style: {
                        lineHeight: 0
                    },
                    $primaryColor: A((s = r == null ? void 0 : r.fill) == null ? void 0 : s.color),
                    $strokeColor: A((c = r == null ? void 0 : r.stroke) == null ? void 0 : c.color),
                    "aria-hidden": "true",
                    children: i.jsx(Gh, {})
                })
            })
        }
    switch (t) {
    case B.Back:
        return i.jsx(Ue, {
            customImage: e["id-back-pictograph"],
            alt: "ID back pictograph",
            children: i.jsx(pe, {
                style: {
                    lineHeight: 0
                },
                $primaryColor: A(r == null ? void 0 : r.fill.color),
                $strokeColor: A(r == null ? void 0 : r.stroke.color),
                "aria-hidden": "true",
                children: i.jsx(zh, {
                    style: {
                        height: "46px",
                        width: "74px"
                    }
                })
            })
        });
    case B.BarcodePdf417:
        return i.jsx(Ue, {
            customImage: e["barcode-pdf417-pictograph"],
            alt: "Barcode PDF417 pictograph",
            children: i.jsx(pe, {
                style: {
                    lineHeight: 0
                },
                $primaryColor: A(r == null ? void 0 : r.fill.color),
                $strokeColor: A(r == null ? void 0 : r.stroke.color),
                "aria-hidden": "true",
                children: i.jsx(Yh, {
                    style: {
                        height: "46px",
                        width: "74px"
                    }
                })
            })
        });
    case B.Front:
    case B.FrontOrBack:
        return i.jsx(Ue, {
            customImage: e["id-front-pictograph"],
            alt: "ID front pictograph",
            children: i.jsx(pe, {
                style: {
                    lineHeight: 0
                },
                $primaryColor: A(r == null ? void 0 : r.fill.color),
                $strokeColor: A(r == null ? void 0 : r.stroke.color),
                "aria-hidden": "true",
                children: i.jsx(Wh, {
                    style: {
                        height: "46px",
                        width: "74px"
                    }
                })
            })
        });
    case B.PassportSignature:
        return i.jsx(Ue, {
            customImage: e["passport-signature-pictograph"],
            alt: "passport signature pictograph",
            children: i.jsx(pe, {
                style: {
                    lineHeight: 0
                },
                $primaryColor: A(r == null ? void 0 : r.fill.color),
                $strokeColor: A(r == null ? void 0 : r.stroke.color),
                "aria-hidden": "true",
                children: i.jsx(ls, {})
            })
        });
    default:
        return null
    }
}
  , R6 = (e, t, n) => {
    var o, a, s, c, l;
    let r;
    return n === "pp" || n === "ipp" ? t === B.PassportSignature ? r = e["passport-signature-pictograph"] : r = e["passport-front-pictograph"] : t === B.Back ? r = e["id-back-pictograph"] : t === B.BarcodePdf417 ? r = e["barcode-pdf417-pictograph"] : t === B.Front || t === B.FrontOrBack ? r = e["id-front-pictograph"] : t === B.PassportSignature && (r = e["passport-signature-pictograph"]),
    ((c = (s = (a = (o = r == null ? void 0 : r.styles) == null ? void 0 : o.width) == null ? void 0 : a.base) == null ? void 0 : s.base) == null ? void 0 : c.value) === 0 || ((l = r == null ? void 0 : r.attributes) == null ? void 0 : l.width) === "0px"
}
;
var tb = (e => (e[e.FrontSide = 0] = "FrontSide",
e[e.Capture = 1] = "Capture",
e[e.HoldStill = 2] = "HoldStill",
e[e.DetectedLowLight = 3] = "DetectedLowLight",
e[e.None = 4] = "None",
e))(tb || {});
const A6 = 300
  , Rm = .3
  , T6 = .27
  , E6 = .32
  , k6 = [{
    type: 0,
    shouldShow: j6,
    showAfterFrames: 2,
    hideAfterFrames: 4,
    getPrompt: ({t: e}) => e("barcode-scanner.hint.back-side")
}, {
    type: 1,
    shouldShow: e => e.requiresSide === B.BarcodePdf417 ? e.detectedGuards >= 2 : e.detectedGuards >= 1,
    showAfterFrames: 3,
    hideAfterFrames: 4,
    getPrompt: ({t: e}) => e("barcode-scanner.hint.hold-still")
}, {
    type: 2,
    shouldShow: e => e.detectedGuards >= 1,
    showAfterFrames: 1,
    hideAfterFrames: 4,
    getPrompt: ({t: e}) => e("barcode-scanner.hint.hold-still")
}, {
    type: 3,
    shouldShow: N6,
    showAfterFrames: 3,
    hideAfterFrames: 10,
    getPrompt: ({t: e}) => e("government-id-scanner.hint.detected-low-light")
}, {
    type: 4,
    shouldShow: () => !0,
    showAfterFrames: 0,
    hideAfterFrames: 0,
    getPrompt: () => ""
}];
function N6(e) {
    return rc(e.luminosityData)
}
function j6(e) {
    if (e.faceBoundingBox == null)
        return !1;
    const t = e.faceBoundingBox.left + e.faceBoundingBox.width / 2;
    return (t < Rm || t > 1 - Rm) && e.faceBoundingBox.width < T6 + .05 && e.faceBoundingBox.height < E6 + .05
}
async function P6(e, t, n={
    x: 0,
    y: 0,
    width: e.width,
    height: e.height
}) {
    const r = e.getContext("2d", {
        willReadFrequently: !0
    });
    if (r == null || n.width <= 0 || n.height <= 0)
        return {
            detectedGuards: 0
        };
    const o = r == null ? void 0 : r.getImageData(n.x, n.y, n.width, n.height)
      , a = window.ZXing;
    if (o && a) {
        const s = new a.BitmapLuminanceSource(o)
          , c = new a.Common.HybridBinarizer(s)
          , l = new a.BinaryBitmap(c);
        return D6(e, l, t)
    } else
        return {
            detectedGuards: 0
        }
}
function D6(e, t, n) {
    const r = window.ZXing;
    for (const o of n) {
        switch (o) {
        case 90:
            t = t.rotateCounterClockwise();
            break;
        case 180:
            t = t.rotateCounterClockwise().rotateCounterClockwise();
            break
        }
        const a = r.PDF417.Internal.Detector.detectSingle(t, null, !1);
        if (a.Points.length > 0) {
            const s = r.PDF417.PDF417Reader.decode(t, null, !1);
            return {
                decodedResult: s.length > 0 && s[0].Text,
                detectedGuards: a.Points[0].filter(Boolean).length / 4,
                scannedImage: e.toDataURL("image/jpeg")
            }
        }
    }
    return {
        detectedGuards: 0
    }
}
function O6(e) {
    const t = /\d{6}(\d{2})\w+/.exec(e)
      , n = t && t[1]
      , r = {
        firstName: ["02", "03"].indexOf(n) !== -1 ? "DCT" : "DAC",
        lastName: n === "01" ? "DAB" : "DCS",
        middleName: "DAD",
        dateOfBirth: "DBB",
        street1: "DAG",
        street2: "DAH",
        city: "DAI",
        state: "DAJ",
        postalCode: "DAK",
        issuingCountry: "DCG"
    }
      , o = {};
    for (const a of Object.keys(r)) {
        const s = r[a]
          , c = new RegExp(`\\s*${s}(.+)(\\n|$)`).exec(e);
        o[a] = c && c[1].trim()
    }
    return o
}
const nb = {
    default: $(["cursor:pointer;color:", ";", " ", ""], ({theme: e, variant: t="basic"}) => ["basic", "primary"].includes(t) ? e.color.text.primary : e.color.variants[t].default, ({theme: e}) => $(["background-color:", ";border-radius:", ";"], e.color.background.primary, e.element.borderRadius), ({theme: e, disabled: t}) => t && $(["background-color:", ";color:", ";cursor:default;svg *{stroke:", ";}svg.pds-icon{*{stroke:unset;}*[stroke]{stroke:currentColor;}}"], e.color.background.primary, e.color.text.disabled, e.color.text.disabled)),
    hover: $(["transition-duration:", ";color:", ";background-color:", ";", ""], tt.Fast, ({theme: e, variant: t="basic"}) => t === "basic" ? e.color.text.primary : e.color.variants[t].default, ({theme: e, variant: t="basic"}) => t === "basic" ? e.color.background.secondary : e.color.variants[t].highlightLight, ({theme: e, disabled: t, variant: n="basic"}) => !t && $(["svg *{stroke:", ";}svg.pds-icon{*{stroke:unset;}*[stroke]{stroke:currentColor;}}"], n === "basic" ? e.color.text.primary : e.color.variants[n].default)),
    active: $(["transition-duration:", ";color:", ";background-color:", ";", ""], tt.Fast, ({theme: e, variant: t="basic"}) => t === "basic" ? e.color.text.inverse : e.color.variants[t].default, ({theme: e, variant: t="basic"}) => t === "basic" ? e.color.primary.brand : e.color.variants[t].highlightLight, ({theme: e, disabled: t, variant: n="basic"}) => !t && $(["svg *{stroke:", ";}svg.pds-icon{*{stroke:unset;}*[stroke]{stroke:currentColor;}}"], n === "basic" ? e.color.text.primary : e.color.variants[n].default))
};
var Oa = (e => (e[e.Light = 300] = "Light",
e[e.Regular = 400] = "Regular",
e[e.Medium = 500] = "Medium",
e[e.Bold = 700] = "Bold",
e))(Oa || {});
const L6 = g("div").withConfig({
    displayName: "ClickableItem__Container",
    componentId: "sc-1fytc0l-0"
})(["", ";", ";transition-duration:", ";box-sizing:border-box;width:100%;display:flex;align-items:center;justify-content:space-between;font-weight:", ";"], Ni.lgBold, nb.default, tt.Fast, Oa.Medium)
  , F6 = g("div").withConfig({
    displayName: "ClickableItem__PrefixAndLabelContainer",
    componentId: "sc-1fytc0l-1"
})(["display:flex;flex-wrap:none;align-items:center;"])
  , M6 = g("div").withConfig({
    displayName: "ClickableItem__PrefixIconContainer",
    componentId: "sc-1fytc0l-2"
})(["display:flex;align-items:center;svg{height:20px;width:20px;color:", ";& *[stroke]{stroke:", ";}}margin-right:", ";"], I.Color.CoreSlate1000, I.Color.CoreSlate1000, I.Spacing[2])
  , B6 = g("div").withConfig({
    displayName: "ClickableItem__SuffixIconContainer",
    componentId: "sc-1fytc0l-3"
})(["display:flex;align-items:center;svg{height:16px;width:16px;color:", ";& *[stroke]{stroke:", ";}}margin-left:", ";"], I.Color.CoreSlate1000, I.Color.CoreSlate1000, I.Spacing[3])
  , V6 = ({isVisible: e=!0, prefixIcon: t, suffixIcon: n, children: r, routeTo: o, ...a}) => {
    const s = e ? i.jsxs(L6, {
        ...a,
        children: [i.jsxs(F6, {
            children: [t != null && i.jsx(M6, {
                children: t
            }), r]
        }), n != null && i.jsx(B6, {
            children: n
        })]
    }) : null;
    return o ? i.jsx(kl, {
        to: o,
        children: s
    }) : s
}
  , Hd = {
    withShadow: 1,
    loadingOverlays: 5,
    tooltip: 10,
    floatingBar: 100,
    topNav: 1e3,
    dropdown: 1001,
    layeredDropdown: 1002,
    banner: 2e3,
    sideNav: 3e3,
    topNavTooltip: 3001,
    modal: 1e4,
    modalElevated: 10001,
    modalDropdown: 10010,
    toast: 1e5
}
  , U6 = g("div").withConfig({
    displayName: "Tooltip__Popover",
    componentId: "sc-1gu1o1j-0"
})(["box-shadow:", " !important;border:0 !important;border-radius:", ";padding:", ";background-color:", ";z-index:", " !important;pointer-events:", ";"], Di.High, ({theme: e}) => e.element.borderRadius, I.Spacing[2], ({theme: e}) => e.color.background.primary, Hd.toast, ({noPointerEvents: e}) => e ? "none" : "unset")
  , H6 = ({children: e, tooltip: t, hideArrow: n, className: r, disabled: o, trigger: a, enablePopoverClickEvents: s, ...c}) => o || !t ? i.jsx(i.Fragment, {
    children: e
}) : i.jsx(E0, {
    trigger: a,
    ...c,
    tooltip: ({arrowRef: l, tooltipRef: d, getArrowProps: u, getTooltipProps: m, placement: h}) => i.jsxs(U6, {
        id: "dashboard__popover",
        className: `tooltip-container ${r != null ? r : ""}`,
        noPointerEvents: a === "hover",
        ...m({
            ref: d
        }),
        onClick: p => {
            s || (p.preventDefault(),
            p.stopPropagation())
        }
        ,
        children: [!n && i.jsx("div", {
            className: "tooltip-arrow",
            ...u({
                ref: l,
                "data-placement": h
            })
        }), t]
    }),
    children: ({getTriggerProps: l, triggerRef: d}) => i.jsx("span", {
        ...l({
            ref: d,
            className: "trigger"
        }),
        children: e
    })
})
  , q6 = g(H6).withConfig({
    displayName: "Dropdown__DropdownTooltip",
    componentId: "sc-1xz1m7n-0"
})(["padding:", ";margin-left:", "px;z-index:", ";border-radius:", ";"], I.Spacing[2], Cn * -1, ({elevation: e}) => e != null ? e : Hd.dropdown, ({theme: e}) => e.element.borderRadius)
  , $6 = g("div").attrs( () => ({
    role: "dropdown"
})).withConfig({
    displayName: "Dropdown__DropdownContainer",
    componentId: "sc-1xz1m7n-1"
})(["min-width:", "px;display:flex;flex-direction:column;"], Cn * 10)
  , ib = g(V6).attrs( () => ({
    tabIndex: 0
})).withConfig({
    displayName: "Dropdown__DropdownItem",
    componentId: "sc-1xz1m7n-2"
})(["height:", ";padding:0 ", " 0 ", ";min-width:120px;font-weight:", ";:hover,:focus{", ";}"], ({theme: e}) => e.element.height.md, I.Spacing[6], I.Spacing[2], Oa.Medium, nb.hover);
ib.defaultProps = {
    variant: "primary"
};
const qd = ({className: e, children: t, items: n, placement: r="right-end", renderItem: o, triggerOnHover: a, elevation: s=Hd.dropdown}) => {
    const [c,l] = f.useState(!1)
      , d = f.useRef(null)
      , u = f.useCallback( () => {
        d.current != null && (clearTimeout(d.current),
        d.current = null),
        l(!0)
    }
    , [])
      , m = f.useCallback( () => {
        d.current = window.setTimeout( () => l(!1), 75)
    }
    , []);
    gd(m);
    const h = n.filter(p => !p.hidden);
    return h.length === 0 ? null : i.jsx(q6, {
        elevation: s,
        className: e,
        placement: r,
        hideArrow: !0,
        tooltipShown: c,
        tooltip: i.jsx($6, {
            onMouseOver: a ? u : void 0,
            onMouseOut: a ? m : void 0,
            children: h.map(o)
        }),
        children: t({
            isOpen: c,
            openDropdown: u,
            closeDropdown: m
        })
    })
}
;
qd.Item = ib;
const G6 = 5e3
  , W6 = 100
  , Y6 = 1e3
  , z6 = "https://t.withpersona.com";
class Un {
    constructor() {
        this.queue = []
    }
    static getInstance() {
        return Un.instance || (Un.instance = new Un),
        Un.instance
    }
    static isFeatureEnabled(t) {
        return (t == null ? void 0 : t["inquiry:enable-te"]) && (t == null ? void 0 : t["inquiry:enable-te-percentage"])
    }
    static isCloudRunEnabled(t) {
        return t == null ? void 0 : t["inquiry:enable-te-cloud-run"]
    }
    static track(t, n) {
        if (this.getInstance().featureFlags = n,
        !Un.isFeatureEnabled(n))
            return;
        let r = K6(t.pathName, t.stepName);
        "data"in t && (r = {
            ...r,
            ...t.data
        });
        const o = {
            type: t.type,
            data: r,
            created_at: new Date().toISOString()
        };
        this.getInstance().enqueueEvents([o])
    }
    updateQueue(t) {
        return this.queue.length >= G6 ? (he(new Error("TrackingEventsClient: Cannot enqueue anymore TrackingEvents"), "info"),
        !1) : (this.queue.push(...t),
        !0)
    }
    enqueueEvents(t) {
        this.updateQueue(t) && (this.throttled || (this.throttled = IC(async () => {
            if (!this.isAuthenticated())
                return;
            const n = [...this.queue];
            this.queue = [];
            const r = await this.sendAllEvents(n);
            r.length > 0 && this.updateQueue(r)
        }
        , Y6)),
        this.throttled())
    }
    async sendAllEvents(t) {
        if (t.length <= 0)
            return [];
        const n = SC(t, W6)
          , r = await Promise.allSettled(n.map(a => this.sendBatch(a)))
          , o = r.map( (a, s) => a.status === "rejected" ? n[s] : []).filter(a => a.length > 0);
        if (o.length > 0) {
            const a = r.filter(s => s.status === "rejected").map(s => {
                var c;
                return (c = s.reason) == null ? void 0 : c.message
            }
            );
            he(new Error(`Promises were rejected - ${a.join(", ")}`), "warning")
        }
        return ya(o)
    }
    async sendBatch(t) {
        const n = await eC(JSON.stringify({
            events: t
        }));
        return Un.isCloudRunEnabled(this.featureFlags) && oi.post(`${z6}/t`, {
            access_token: te == null ? void 0 : te.accessToken,
            data: {
                attributes: {
                    e: n
                }
            }
        }),
        te.postResourceSingletonActionNew(y.CurrentInquirySession, "t", {
            attributes: {
                e: n
            }
        })
    }
    isAuthenticated() {
        return te.accessToken != null
    }
}
function K6(e, t) {
    const n = e.split("/");
    return {
        step_name: t,
        page_name: n.slice(2).map(r => yC(r)).join(".")
    }
}
const Q6 = [Ge.Document, Ge.Integration, Ge.GovernmentId, Ge.Selfie, Ge.VerifyWithPersona];
function Z6(e, t) {
    return e === "/verify" || e === "/inquiry/ui" && t && Q6.includes(t) && t !== Ge.Ui
}
const rb = () => {
    var a;
    const {pathname: e} = Nr()
      , t = st(s => s.inquiry.inquiry)
      , n = st(s => s.inquiry.featureFlags)
      , r = (a = t == null ? void 0 : t.attributes) == null ? void 0 : a["next-step"]
      , o = f.useRef({
        width: 0,
        height: 0
    });
    return {
        videoDimensionsUpdated: (s, c) => {
            s != null && c != null && (o.current.width !== s || o.current.height !== c) && (Un.track({
                type: "inquiry.camera.dimensions",
                data: {
                    old_width: o.current.width,
                    old_height: o.current.height,
                    new_width: s,
                    new_height: c
                },
                stepName: r == null ? void 0 : r.name,
                pathName: e
            }, n),
            o.current = {
                width: s,
                height: c
            })
        }
    }
}
  , J6 = g.button.withConfig({
    displayName: "BaseScanner__TorchButton",
    componentId: "sc-16dj2ru-0"
})(["background:none;cursor:pointer;display:flex;align-items:center;justify-content:center;height:40px;width:40px;svg{height:100%;width:100%;}", ""], ({active: e}) => e && $(["svg path{fill:white;}"]))
  , Am = g.button.withConfig({
    displayName: "BaseScanner__HelpButton",
    componentId: "sc-16dj2ru-1"
})(["background:none;color:white;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:14px;height:40px;svg{margin-right:4px;height:16px;width:16px;}"])
  , Tm = g.div.withConfig({
    displayName: "BaseScanner__ButtonRowHelp",
    componentId: "sc-16dj2ru-2"
})(["display:flex;align-items:center;justify-content:space-around;button:disabled{display:none;}z-index:", ";"], wt.footer)
  , X6 = 720
  , eE = g("div").withConfig({
    displayName: "BaseScanner__VideoWrapper",
    componentId: "sc-16dj2ru-3"
})(["background:", ";overflow:hidden;position:relative;min-height:", "px;display:flex;justify-content:center;", ";", ";"], Fe.black, Ra, ({flowType: e}) => e === Tt.Inline ? `
      height: ${X6}px;
    ` : `
      @media ${jt.isMobile} {
        height: 100%;
        min-height: 140vw;
      }
    `, D.isDashboardFLE && "height: 100%;")
  , tE = 450
  , nE = g.div.withConfig({
    displayName: "BaseScanner__VideoWrapperColumnSizer",
    componentId: "sc-16dj2ru-4"
})(["position:relative;width:100%;max-width:", ";"], ({restrictInlineColumnWidth: e}) => e ? `${tE}px` : null)
  , iE = ({isShortBarcodeOverlay: e}) => e ? "35%" : "25%"
  , rE = g("div").withConfig({
    displayName: "BaseScanner__VideoWrapperInner",
    componentId: "sc-16dj2ru-5"
})(["background:", ";border-radius:8px 8px 0 0;overflow:hidden;position:absolute;top:", ";width:100%;padding-bottom:", ";margin-top:", ";video{position:absolute;transform:scaleX(", ");object-fit:cover;height:100%;width:100%;}"], Fe.black, e => iE(e), e => `${1 / e.overlayAspectRatio * 100}%`, e => `${-(1 / e.overlayAspectRatio * (1 - e.visibleToRealCaptureWindowHeightRatio) / 2) * 100}%`, e => e.mirrored ? -1 : 1)
  , oE = g.div.withConfig({
    displayName: "BaseScanner__ButtonsArea",
    componentId: "sc-16dj2ru-6"
})(["position:absolute;bottom:40px;width:100%;display:flex;flex-direction:column;z-index:", ";"], wt.footer)
  , aE = g.div.withConfig({
    displayName: "BaseScanner__ButtonRowMobile",
    componentId: "sc-16dj2ru-7"
})(["width:100%;display:flex;align-items:center;justify-content:space-between;"])
  , sE = g.div.withConfig({
    displayName: "BaseScanner__ButtonRowDesktop",
    componentId: "sc-16dj2ru-8"
})(["margin-left:10%;margin-right:10%;width:80%;display:flex;align-items:center;justify-content:space-between;z-index:", ";"], wt.footer)
  , cE = g.div.withConfig({
    displayName: "BaseScanner__AuxButtons",
    componentId: "sc-16dj2ru-9"
})(["position:absolute;align-items:center;display:flex;right:10%;line-height:1;"])
  , lE = g.button.withConfig({
    displayName: "BaseScanner__CircleCaptureButton",
    componentId: "sc-16dj2ru-10"
})(["background:none;cursor:pointer;margin-left:auto;margin-right:auto;circle{transition-duration:", ";}visibility:", ";:hover:not(:disabled){#btn-outer{stroke:", ";}#btn-inner{fill:", ";}}:active:not(:disabled){#btn-outer{stroke:", ";}#btn-inner{fill:", ";}}:disabled circle{#btn-outer{stroke:", ";}#btn-inner{fill:", ";}}"], tt.Fast, ({manualCaptureEnabled: e}) => e ? "visibile" : "hidden", I.Color.CoreSlate100, I.Color.CoreSlate100, I.Color.CoreSlate300, I.Color.CoreSlate300, I.Color.CoreSlate500, I.Color.CoreSlate500)
  , dE = g.button.withConfig({
    displayName: "BaseScanner__SwitchCameraButton",
    componentId: "sc-16dj2ru-11"
})(["background:transparent;cursor:pointer;margin-left:10px;line-height:1;", ""], ({open: e}) => e ? $(["path{stroke:", ";}rect{fill-opacity:1;}"], ({theme: t}) => t.colorPrimary) : $([":hover:not(:disabled){rect{fill-opacity:0.3;}}:active:not(:disabled){rect{fill-opacity:0.4;}}"]))
  , uE = g(qd.Item).withConfig({
    displayName: "BaseScanner__DropdownItem",
    componentId: "sc-16dj2ru-12"
})(["font-weight:", ";"], ({selected: e}) => e ? 600 : 500)
  , mE = i.jsxs("svg", {
    role: "img",
    width: "62",
    height: "62",
    viewBox: "0 0 62 62",
    fill: "none",
    xmlns: "http://www.w3.org/2000/svg",
    children: [i.jsx("circle", {
        id: "btn-outer",
        cx: "31",
        cy: "31",
        r: "29.5",
        stroke: "white",
        strokeWidth: "3"
    }), i.jsx("circle", {
        id: "btn-inner",
        cx: "31",
        cy: "31",
        r: "26",
        fill: "white"
    })]
})
  , hE = {
    ...Fr,
    colorButtonPrimary: Fe.white,
    colorFontButtonPrimary: Fe.black,
    colorButtonSecondary: Fe.white,
    colorFontButtonSecondary: Fe.white,
    colorButtonSecondaryFill: Fe.black,
    borderWidth: "1.5px",
    borderRadius: "24px"
}
  , pE = g(fe).withConfig({
    displayName: "BaseScanner__ThemedButton",
    componentId: "sc-16dj2ru-13"
})(["visibility:", ";"], ({manualCaptureEnabled: e}) => e ? "visible" : "hidden")
  , fE = g.div.withConfig({
    displayName: "BaseScanner__AutoCapturePillPositioner",
    componentId: "sc-16dj2ru-14"
})(["position:absolute;top:36px;display:flex;justify-content:center;width:100%;transform:translateY(-50%);z-index:", ";"], wt.navbar - 1);
function $d(e) {
    var yt, Hr, mr, qr, Kd, Qd, Zd, Jd;
    const t = Kn()
      , n = Mt("inquiry:show-camera-error-dialog-on-unavailable-video-stream")
      , r = Mt("inquiry:enable-new-govid-buffer-image-method")
      , o = Mt("inquiry:enable-experimental-govid-perf-improvements")
      , a = Mt("inquiry:enable-experimental-govid-perf-improvements-percentage")
      , s = o && a
      , [c] = G()
      , {base: l, captureFeedBox: d, captureHint: u, captureOverlayHeaderButton: m} = Sn()
      , h = r ? Os : Ls
      , p = f.useRef(void 0)
      , b = f.useRef(void 0)
      , C = f.useRef(!1)
      , S = f.useRef()
      , v = f.useRef();
    f.useEffect( () => {
        const [at,pt] = hi();
        return v.current = at,
        e.disableCaptureClient || (ae.current = new Cl({
            canvasBuffer: v.current
        })),
        pt
    }
    , []);
    const {logCameraInspectionFromStream: x, logCameraInspectionSnapshot: _, getCameraInspectionData: R} = kd()
      , E = f.useRef(new Ed(e.triggerConfigs.map(at => new Yn(at))))
      , T = f.useCallback(at => {
        var pt;
        (pt = e.handleTrigger) == null || pt.call(e, at)
    }
    , [e.handleTrigger])
      , [F,O] = f.useState(!1)
      , [N,U] = f.useState(!1)
      , V = f.useRef(!1)
      , ne = at => {
        U(at),
        V.current = at
    }
      , [L,{enable: H, disable: q}] = rt(!1)
      , [ee,Y] = Qf(q, 500, {
        maxWait: 500
    })
      , ae = f.useRef(null)
      , se = f.useRef()
      , [_e,Re] = f.useState(null)
      , [ye,Pe] = f.useState(null)
      , [Ae,{toggle: Te}] = rt()
      , [be,re] = f.useState(!1)
      , [z,Z] = f.useState(!1)
      , [xe,we] = f.useState(e.delayUntilManualCaptureMs === 0 || In())
      , Ye = Ki()
      , [qe,{enable: Ce, disable: W}] = rt()
      , oe = (yt = ye == null ? void 0 : ye.facingMode) != null ? yt : e.videoConstraints.facingMode
      , de = f.useRef()
      , De = f.useRef()
      , Ve = f.useRef(e.delayUntilManualCaptureMs)
      , {videoDimensionsUpdated: ve} = rb()
      , Le = f.useCallback( () => {
        Ve.current > 0 && !de.current && (De.current = Date.now(),
        de.current = window.setTimeout( () => we(!0), Ve.current))
    }
    , [])
      , me = f.useCallback( () => {
        de.current && (clearTimeout(de.current),
        Ve.current -= Date.now() - De.current,
        de.current = null)
    }
    , []);
    f.useEffect( () => {
        if (e.overlayReady)
            return e.delayUntilManualCaptureMs > 0 && Le(),
            () => {
                me()
            }
    }
    , [e.overlayReady]);
    const Ne = f.useCallback( () => {
        C.current = !0,
        Ce(),
        me()
    }
    , [Ce, me])
      , bt = f.useCallback( () => {
        W(),
        Le(),
        C.current = !1
    }
    , [W, Le])
      , St = () => {
        var at, pt, At;
        if (b.current) {
            if (((pt = (at = S.current) == null ? void 0 : at.video) == null ? void 0 : pt.videoWidth) > 0 && e.overlayRef.current.clientWidth > 0 && e.overlayCaptureWindowRef.current.clientWidth > 0 && v.current != null && !C.current && !V.current && e.uiReady)
                try {
                    h({
                        source: S.current.video,
                        overlayCaptureWindowElement: e.overlayCaptureWindowRef.current,
                        canvasBuffer: v.current
                    }),
                    (At = ae.current) == null || At.capture()
                } catch (Ht) {
                    Ht.name !== "NS_ERROR_NOT_AVAILABLE" && e.handleFailed(Ht, "capture")
                }
            b.current != null && (b.current = window.setTimeout(St, ys))
        }
    }
      , On = async (at, pt) => {
        var At, Ht, Mi;
        if (!(!e.uiReady || N)) {
            ne(!0);
            try {
                ((At = S.current) == null ? void 0 : At.video) != null && v.current != null && (h({
                    source: S.current.video,
                    overlayCaptureWindowElement: e.overlayCaptureWindowRef.current,
                    canvasBuffer: v.current
                }),
                (Ht = ae.current) == null || Ht.capture(),
                pt || (pt = await e.paramsFromVideoFrame(S.current.video, v.current, ae.current, E.current, lu(S.current.video, e.overlayCaptureWindowRef.current, e.previewViewfinderRef.current))),
                await e.handleCapture({
                    imageSrcs: (Mi = ae.current) == null ? void 0 : Mi.leastBlurryImages(),
                    captureMethod: at,
                    params: pt,
                    cameraInspectionData: R({
                        includeSmallImages: !1
                    })
                }))
            } finally {
                Ye() && ne(!1)
            }
        }
    }
      , Ci = async () => {
        var pt, At, Ht, Mi, Fa, Ma, Ba, Va, Xn, Xd, eu, tu;
        if (!p.current)
            return;
        const at = new Date().getTime();
        if (((Ht = (At = (pt = S.current) == null ? void 0 : pt.video) == null ? void 0 : At.videoWidth) != null ? Ht : 0) > 0 && ((Fa = (Mi = e.overlayRef.current) == null ? void 0 : Mi.clientWidth) != null ? Fa : 0) > 0 && ((Ba = (Ma = e.overlayCaptureWindowRef.current) == null ? void 0 : Ma.clientWidth) != null ? Ba : 0) > 0 && v.current != null && !C.current && !V.current && e.uiReady) {
            const $r = await e.paramsFromVideoFrame(S.current.video, v.current, ae.current, E.current, lu(S.current.video, e.overlayCaptureWindowRef.current, e.previewViewfinderRef.current));
            if (_(v.current),
            ve((Xn = (Va = S.current) == null ? void 0 : Va.video) == null ? void 0 : Xn.videoWidth, (eu = (Xd = S.current) == null ? void 0 : Xd.video) == null ? void 0 : eu.videoHeight),
            E.current.runTick($r),
            T(E.current.getTriggered()),
            (tu = e.hasValidQuad) != null && tu.call(e, $r) ? (Y(),
            H()) : ee(),
            !C.current && e.shouldSubmit($r, E.current)) {
                On(gt.Auto, $r);
                return
            }
        }
        if (p.current != null) {
            const $r = Math.max(0, e.detectInterval - (new Date().getTime() - at));
            p.current = window.setTimeout(Ci, $r)
        }
    }
    ;
    f.useEffect( () => () => {
        Nn.dispose()
    }
    , []),
    f.useEffect( () => (ye && e.videoReady && (p.current = window.setTimeout(Ci, e.detectInterval),
    e.disableCaptureClient || (b.current = window.setTimeout(St, ys))),
    () => {
        clearTimeout(p.current),
        p.current = null,
        clearTimeout(b.current),
        b.current = null
    }
    ), [ye, e.videoReady]),
    f.useEffect( () => {
        var at;
        try {
            if (((at = se.current) == null ? void 0 : at.readyState) === "live" && be) {
                const pt = {
                    torch: Ae
                };
                z && (pt.focusMode = "continuous"),
                se.current.applyConstraints({
                    advanced: [pt]
                })
            }
        } catch (pt) {
            Be("Failed to enable torch", "warning", {
                error: pt
            })
        }
    }
    , [Ae]),
    f.useEffect( () => {
        const at = window.setInterval( () => {
            var pt;
            try {
                if (!Ye())
                    return;
                const At = (pt = S.current) == null ? void 0 : pt.stream;
                if (At == null)
                    return;
                const Ht = At == null ? void 0 : At.getVideoTracks()[0];
                if (!At.active || Ht == null || !(Ht != null && Ht.enabled) || (Ht == null ? void 0 : Ht.readyState) !== "live") {
                    const Mi = "Video stream is not available after webcam mount";
                    n ? e.handleFailed(Mi, "load") : Be(Mi, "warning", {
                        streamActive: At.active,
                        trackEnabled: Ht == null ? void 0 : Ht.enabled,
                        trackReadyState: Ht == null ? void 0 : Ht.readyState,
                        scannerType: e.scannerType,
                        ...e.videoConstraints
                    }),
                    window.clearInterval(at)
                }
            } catch (At) {
                he(At, "warning")
            }
        }
        , 1e3);
        return () => {
            window.clearInterval(at)
        }
    }
    , []);
    const Ln = at => {
        at && (S.current = at,
        S.current.video.defaultMuted = !0,
        S.current.video.muted = !0,
        S.current.video.addEventListener("loadedmetadata", async () => {
            const pt = S.current.stream;
            if (pt == null) {
                const Xn = "Video stream is not available on webcam mount";
                n ? e.handleFailed(new Error(Xn), "load") : Be(Xn, "warning", {
                    scannerType: e.scannerType,
                    ...e.videoConstraints
                });
                return
            }
            const At = pt.getVideoTracks()[0];
            if (At == null) {
                e.handleFailed("Video track is null", "load");
                return
            }
            const [Ht,Mi] = hi();
            v.current = Ht,
            e.disableCaptureClient || (ae.current = new Cl({
                canvasBuffer: v.current
            }));
            const {deviceId: Fa, height: Ma, width: Ba, facingMode: Va} = At.getSettings();
            if (Re(Fa),
            Pe({
                height: Ma,
                width: Ba,
                facingMode: Va
            }),
            !(At.readyState !== "live" || typeof ImageCapture > "u"))
                try {
                    if (await new ImageCapture(At).getPhotoCapabilities(),
                    At.readyState !== "live")
                        return;
                    const Xn = At.getCapabilities();
                    At.applyConstraints.toString().includes("function") && (Xn.focusMode != null && At.applyConstraints({
                        advanced: [{
                            focusMode: "continuous"
                        }]
                    }),
                    se.current = At,
                    re(Xn.torch != null),
                    Z(Xn.focusMode != null))
                } catch (Xn) {
                    Xn.name !== "OperationError" && he(Xn, "warning")
                }
        }
        ),
        S.current.video.addEventListener("canplay", async () => {
            if (S.current.video && (O(!0),
            S.current.video.paused))
                try {
                    await S.current.video.play()
                } catch (pt) {
                    e.handleFailed(pt, "load")
                }
        }
        ))
    }
      , Jn = (Hr = e.cameraSelectOptions) == null ? void 0 : Hr.map( (at, pt) => ({
        id: at.deviceId,
        label: `Camera ${pt + 1}`,
        onClick: () => e.handleCameraChange(at)
    }))
      , yn = e.overlayCaptureWindowRef.current && ((mr = e.overlayCaptureWindowRef.current) == null ? void 0 : mr.clientHeight) > 0 ? e.overlayCaptureWindowRef.current.clientWidth / e.overlayCaptureWindowRef.current.clientHeight : 1.5158097997
      , Mo = e.showHelpButton && ((qr = e.renderHelpModal) == null ? void 0 : qr.call(e, {
        isOpen: qe,
        onClose: bt
    }));
    return i.jsxs(eE, {
        flowType: D.flowType,
        "data-test": `scanner__${e.scannerType}`,
        "data-scanner-type": e.scannerType,
        children: [i.jsxs(nE, {
            restrictInlineColumnWidth: D.isInline,
            children: [i.jsx(fE, {
                children: (Kd = e.renderAutoCapturePill) == null ? void 0 : Kd.call(e, {
                    isCameraReady: F && e.videoReady
                })
            }), i.jsx(rE, {
                mirrored: oe === "user",
                overlayAspectRatio: yn,
                isShortBarcodeOverlay: e.isShortBarcodeOverlay,
                visibleToRealCaptureWindowHeightRatio: e.isShortBarcodeOverlay ? gc : fc,
                children: !s && e.overlayReady && i.jsx(sa, {
                    audio: !1,
                    width: "100%",
                    height: "initial",
                    ref: Ln,
                    videoConstraints: e.videoConstraints,
                    onUserMedia: x,
                    onUserMediaError: at => e.handleFailed(at, "load")
                })
            }), !s && ((Qd = e.renderOverlay) == null ? void 0 : Qd.call(e, {
                isCameraReady: F,
                hasDetectedQuad: L,
                mirrored: oe === "user",
                renderUnderOverlayComponents: () => !!Mo && i.jsx(Tm, {
                    children: i.jsxs(Am, {
                        id: "scanner__button--help",
                        onClick: Ne,
                        children: [i.jsx(pe, {
                            $primaryColor: e.helpButtonIconColor,
                            $strokeColor: e.helpButtonIconColor,
                            children: i.jsx(ru, {
                                "aria-hidden": !0
                            })
                        }), i.jsx("span", {
                            children: e.helpButtonLabel
                        })]
                    })
                })
            })), s && i.jsx(Fd, {
                assets: e.assets,
                hasDetectedQuad: L,
                styles: {
                    base: l,
                    captureBox: d,
                    captureOverlayHeaderButton: m,
                    hint: u == null ? void 0 : u.textStyle
                },
                isAnimated: !1,
                collapsed: !1,
                flipped: !1,
                renderCaptureWindowContents: () => i.jsx(sa, {
                    audio: !1,
                    width: "100%",
                    height: "initial",
                    ref: Ln,
                    videoConstraints: e.videoConstraints,
                    onUserMedia: x,
                    onUserMediaError: at => e.handleFailed(at, "load")
                }),
                renderUnderOverlayComponents: () => !!Mo && i.jsx(Tm, {
                    children: i.jsxs(Am, {
                        id: "scanner__button--help",
                        onClick: Ne,
                        children: [i.jsx(pe, {
                            $primaryColor: e.helpButtonIconColor,
                            $strokeColor: e.helpButtonIconColor,
                            children: i.jsx(ru, {
                                "aria-hidden": !0
                            })
                        }), i.jsx("span", {
                            children: e.helpButtonLabel
                        })]
                    })
                }),
                isShortBarcodeOverlay: e.isShortBarcodeOverlay,
                governmentIdClass: e.governmentIdClass,
                requiresSide: e.requiresSide,
                captureOverlay: e.captureOverlay,
                mirrored: oe === "user",
                captureFrameLabel: e.captureFrameLabel,
                prompt: e.videoReady ? e.prompt : c("government-id.capture.loading-camera"),
                hint: e.hint,
                overlayRef: e.overlayRef,
                overlayCaptureWindowRef: e.overlayCaptureWindowRef,
                previewViewfinderRef: e.previewViewfinderRef
            }), i.jsx(oE, {
                children: t || be || e.shouldDisplayCameraSelector && ((Zd = e.cameraSelectOptions) == null ? void 0 : Zd.length) > 1 ? i.jsxs(aE, {
                    children: [i.jsx(lE, {
                        disabled: !e.uiReady || N || !F || !xe || !e.videoReady,
                        manualCaptureEnabled: F && xe,
                        id: "scanner__button--capture-circle",
                        "data-test": "scanner__button--capture",
                        onClick: On.bind(null, gt.Manual, null),
                        children: mE
                    }), i.jsxs(cE, {
                        children: [be ? i.jsx(J6, {
                            id: "scanner__button--torch",
                            onClick: Te,
                            active: Ae,
                            title: Ae ? "Flash ON" : "Flash OFF",
                            children: i.jsx(yp, {})
                        }) : i.jsx(Xe, {
                            height: 1
                        }), e.shouldDisplayCameraSelector && ((Jd = e.cameraSelectOptions) == null ? void 0 : Jd.length) > 1 && i.jsx(qd, {
                            items: Jn,
                            placement: "top-end",
                            renderItem: at => i.jsx(uE, {
                                id: at.id,
                                onClick: pt => {
                                    pt.preventDefault(),
                                    pt.stopPropagation(),
                                    at.onClick()
                                }
                                ,
                                selected: (e.selectedCamera || _e) === at.id,
                                children: at.label
                            }, at.id),
                            children: ({isOpen: at, openDropdown: pt, closeDropdown: At}) => i.jsx(k0, {
                                onOutsideClick: At,
                                children: i.jsx(dE, {
                                    open: at,
                                    id: "scanner__button--switch-camera",
                                    "data-test": "scanner__button--switch-camera",
                                    onClick: () => pt(),
                                    title: "Select Camera",
                                    "aria-label": "Select Camera",
                                    children: i.jsx(B1, {})
                                })
                            })
                        })]
                    })]
                }) : i.jsx(sE, {
                    children: i.jsx(pE, {
                        disabled: !e.uiReady || N || !F || !xe || !e.videoReady,
                        id: "scanner__button--capture-full",
                        isPending: !e.uiReady || N,
                        "data-test": "scanner__button--capture",
                        manualCaptureEnabled: F && xe,
                        onClick: On.bind(null, gt.Manual, null),
                        theme: hE,
                        styles: e.submitButtonStyles,
                        children: e.labelTakePhoto
                    })
                })
            })]
        }), Mo]
    })
}
const gE = 8e3
  , bE = .3
  , CE = ({setAutoCaptureReady: e, delayUntilManualCaptureMs: t=gE, handleCapture: n, handleError: r, labelTakePhoto: o, renderOverlay: a, requiresSide: s, videoConstraints: c, handleTrigger: l, handleCameraChange: d, selectedCamera: u, cameraSelectOptions: m, shouldDisplayCameraSelector: h, overlayReady: p, overlayRef: b, overlayCaptureWindowRef: C, previewViewfinderRef: S, isShortBarcodeOverlay: v, submitButtonStyles: x, showHelpButton: _, helpButtonIconColor: R, helpButtonLabel: E, renderAutoCapturePill: T, renderHelpModal: F, uiReady: O, videoReady: N, assets: U, governmentIdClass: V, captureOverlay: ne, captureFrameLabel: L, hint: H, prompt: q}) => {
    const [ee,Y] = f.useState(!1)
      , ae = Mt("inquiry:enable-low-light-detection-web")
      , _e = Mt("inquiry:enable-new-govid-buffer-image-method") ? Os : Ls;
    f.useEffect( () => {
        try {
            kt.loadModels().then(e)
        } catch {
            Y(!0)
        }
    }
    , []);
    const Re = f.useRef([])
      , ye = async (Ae, Te, be, re, z) => {
        _e({
            source: Ae,
            overlayCaptureWindowElement: C.current,
            canvasBuffer: Te
        });
        const Z = gc / fc * Te.height
          , xe = v ? {
            x: 0,
            y: (Te.height - Z) / 2,
            width: Te.width,
            height: Z
        } : {
            x: 0,
            y: 0,
            width: Te.width,
            height: Te.height
        }
          , we = await P6(Te, [0], xe);
        let Ye = !1;
        if (we.decodedResult && we.scannedImage) {
            const W = O6(we.decodedResult);
            if (W.firstName && W.lastName && W.middleName && W.dateOfBirth) {
                const oe = JSON.stringify({
                    firstName: W.firstName,
                    lastName: W.lastName,
                    middleName: W.middleName,
                    dateOfBirth: W.dateOfBirth
                });
                Ye = Re.current.includes(oe),
                Ye ? be == null || be.manualCapture(we.scannedImage) : Re.current = [...Re.current, oe]
            }
        }
        let qe = [];
        if (!ee && !Ye)
            try {
                qe = await kt.detectFaces(Te, {
                    scoreThreshold: bE
                })
            } catch (W) {
                r(W, "capture"),
                Y(!0)
            }
        let Ce;
        return qe.length === 1 && (Ce = qe[0].box.rescale({
            width: 1 / Te.width,
            height: 1 / Te.height
        })),
        {
            successfullyScanned: Ye,
            detectedGuards: we.detectedGuards,
            requiresSide: s,
            faceBoundingBox: Ce,
            luminosityData: ae ? Cr(Te, z) : null
        }
    }
      , Pe = (Ae, Te) => Ae.successfullyScanned || Te.getTriggered().getType() === tb.Capture;
    return i.jsx($d, {
        handleCapture: ({imageSrcs: Ae, captureMethod: Te}) => n(Ae, Te),
        handleFailed: r,
        detectInterval: A6,
        labelTakePhoto: o,
        videoConstraints: c,
        triggerConfigs: k6,
        paramsFromVideoFrame: ye,
        shouldSubmit: Pe,
        renderOverlay: a,
        delayUntilManualCaptureMs: t,
        handleTrigger: l,
        shouldDisplayCameraSelector: h,
        cameraSelectOptions: m,
        selectedCamera: u,
        handleCameraChange: d,
        overlayReady: p,
        overlayRef: b,
        overlayCaptureWindowRef: C,
        previewViewfinderRef: S,
        isShortBarcodeOverlay: v,
        submitButtonStyles: x,
        showHelpButton: _,
        helpButtonIconColor: R,
        helpButtonLabel: E,
        renderAutoCapturePill: T,
        renderHelpModal: F,
        scannerType: "barcode",
        uiReady: O,
        videoReady: N,
        assets: U,
        governmentIdClass: V,
        captureOverlay: ne,
        requiresSide: s,
        captureFrameLabel: L,
        hint: H,
        prompt: q
    })
}
  , xE = 250
  , Em = {
    [B.Front]: .6,
    [B.Back]: .3,
    [B.FrontOrBack]: .6,
    [B.BarcodePdf417]: .4,
    [B.PassportSignature]: .4
}
  , km = {
    [B.Front]: no + .02,
    [B.Back]: .68,
    [B.FrontOrBack]: no + .02,
    [B.BarcodePdf417]: no + .02,
    [B.PassportSignature]: no + .02
}
  , vE = [{
    type: 0,
    shouldShow: po,
    showAfterFrames: 2,
    hideAfterFrames: 4,
    getPrompt: ({t: e}) => e("government-id-scanner.hint.detected-glare")
}, {
    type: 5,
    shouldShow: e => gi(B.Front, e),
    showAfterFrames: 2,
    hideAfterFrames: 4,
    getPrompt: ({t: e}) => e("government-id-scanner.hint.move-closer")
}, {
    type: 6,
    shouldShow: e => Ar(B.Front, e),
    showAfterFrames: 2,
    hideAfterFrames: 4,
    getPrompt: ({t: e}) => e("government-id-scanner.hint.move-away")
}, {
    type: 7,
    shouldShow: e => Tr(e) && !gi(B.Front, e),
    showAfterFrames: 2,
    hideAfterFrames: 4,
    getPrompt: ({t: e}) => e("government-id-scanner.hint.outside-of-frame")
}, {
    type: 1,
    shouldShow: bc,
    showAfterFrames: 2,
    hideAfterFrames: 4,
    getPrompt: ({t: e}) => e("government-id-scanner.hint.detected-low-light")
}, {
    type: 8,
    shouldShow: () => !0,
    showAfterFrames: 0,
    hideAfterFrames: 0,
    getPrompt: () => ""
}]
  , IE = [{
    type: 0,
    shouldShow: po,
    showAfterFrames: 2,
    hideAfterFrames: 4,
    getPrompt: ({t: e}) => e("government-id-scanner.hint.detected-glare")
}, {
    type: 5,
    shouldShow: e => gi(B.BarcodePdf417, e),
    showAfterFrames: 2,
    hideAfterFrames: 4,
    getPrompt: ({t: e}) => e("government-id-scanner.hint.move-closer")
}, {
    type: 6,
    shouldShow: e => Ar(B.BarcodePdf417, e),
    showAfterFrames: 2,
    hideAfterFrames: 4,
    getPrompt: ({t: e}) => e("government-id-scanner.hint.move-away")
}, {
    type: 7,
    shouldShow: e => !!e.isShortBarcodeOverlay && Tr(e) && !gi(B.BarcodePdf417, e),
    showAfterFrames: 2,
    hideAfterFrames: 4,
    getPrompt: ({t: e}) => e("government-id-scanner.hint.barcode-outside-of-frame")
}, {
    type: 1,
    shouldShow: bc,
    showAfterFrames: 2,
    hideAfterFrames: 4,
    getPrompt: ({t: e}) => e("government-id-scanner.hint.detected-low-light")
}, {
    type: 8,
    shouldShow: () => !0,
    showAfterFrames: 0,
    hideAfterFrames: 0,
    getPrompt: () => ""
}]
  , SE = [{
    type: 0,
    shouldShow: po,
    showAfterFrames: 2,
    hideAfterFrames: 4,
    getPrompt: ({t: e}) => e("government-id-scanner.hint.detected-glare")
}, {
    type: 5,
    shouldShow: e => gi(B.Back, e),
    showAfterFrames: 2,
    hideAfterFrames: 4,
    getPrompt: ({t: e}) => e("government-id-scanner.hint.move-closer")
}, {
    type: 6,
    shouldShow: e => Ar(B.Back, e),
    showAfterFrames: 2,
    hideAfterFrames: 4,
    getPrompt: ({t: e}) => e("government-id-scanner.hint.move-away")
}, {
    type: 7,
    shouldShow: e => Tr(e) && !gi(B.Front, e),
    showAfterFrames: 2,
    hideAfterFrames: 4,
    getPrompt: ({t: e}) => e("government-id-scanner.hint.outside-of-frame")
}, {
    type: 1,
    shouldShow: bc,
    showAfterFrames: 2,
    hideAfterFrames: 4,
    getPrompt: ({t: e}) => e("government-id-scanner.hint.detected-low-light")
}, {
    type: 8,
    shouldShow: () => !0,
    showAfterFrames: 0,
    hideAfterFrames: 0,
    getPrompt: () => ""
}]
  , yE = [{
    type: 0,
    shouldShow: po,
    showAfterFrames: 2,
    hideAfterFrames: 4,
    getPrompt: ({t: e}) => e("government-id-scanner.hint.detected-glare")
}, {
    type: 5,
    shouldShow: e => gi(B.Back, e, !0),
    showAfterFrames: 2,
    hideAfterFrames: 4,
    getPrompt: ({t: e}) => e("government-id-scanner.hint.move-closer")
}, {
    type: 6,
    shouldShow: e => Ar(B.Back, e, !0),
    showAfterFrames: 2,
    hideAfterFrames: 4,
    getPrompt: ({t: e}) => e("government-id-scanner.hint.move-away")
}, {
    type: 7,
    shouldShow: e => Tr(e) && !gi(B.Back, e, !0),
    showAfterFrames: 2,
    hideAfterFrames: 4,
    getPrompt: ({t: e}) => e("government-id-scanner.hint.outside-of-frame")
}, {
    type: 3,
    shouldShow: e => Rl(B.Back, e, !0),
    showAfterFrames: 2,
    hideAfterFrames: 4,
    getPrompt: ({t: e}) => e("government-id-scanner.hint.incomplete-back")
}, {
    type: 1,
    shouldShow: bc,
    showAfterFrames: 2,
    hideAfterFrames: 4,
    getPrompt: ({t: e}) => e("government-id-scanner.hint.detected-low-light")
}, {
    type: 8,
    shouldShow: () => !0,
    showAfterFrames: 0,
    hideAfterFrames: 0,
    getPrompt: () => ""
}]
  , Nm = {
    [B.Front]: vE,
    [B.Back]: SE,
    [B.BarcodePdf417]: IE,
    [B.FrontOrBack]: void 0,
    [B.PassportSignature]: void 0
}
  , wE = new Yn({
    type: 9,
    shouldShow: () => !0,
    showAfterFrames: 0,
    hideAfterFrames: 0,
    getPrompt: ({t: e}) => e("government-id-scanner.hint.processing", {
        defaultValue: e("government-id-scanner.hint.hold-still")
    })
});
function po(e) {
    return !!e.hasGlare && e.detectedQuad != null && e.detectedQuad.detectionStatus !== zn.Failed
}
function bc(e) {
    return rc(e.luminosityData)
}
function gi(e, t, n) {
    var s;
    const r = t.detectedQuad;
    if (!r || r.detectionStatus === zn.Failed)
        return !1;
    const o = Math.max(r.topRight.x - r.topLeft.x, r.bottomRight.x - r.bottomLeft.x)
      , a = e === B.Back && n ? Em[B.Front] : Em[e];
    return o > 0 && o / t.videoWidth < a ? !0 : ((s = t.detectedQuad) == null ? void 0 : s.detectionStatus) === zn.CameraTooFar
}
function Ar(e, t, n) {
    var s;
    const r = t.detectedQuad;
    if (!r || r.detectionStatus === zn.Failed)
        return !1;
    const o = Math.max(r.topRight.x - r.topLeft.x, r.bottomRight.x - r.bottomLeft.x)
      , a = e === B.Back && n ? km[B.Front] : km[e];
    return o > 0 && o / t.videoWidth > a ? !0 : ((s = t.detectedQuad) == null ? void 0 : s.detectionStatus) === zn.CameraTooClose
}
function Tr(e) {
    const t = e.detectedQuad;
    if (!t || t.detectionStatus === zn.Failed)
        return !1;
    const n = Math.min(t.topLeft.y, t.topRight.y)
      , r = Math.max(t.bottomLeft.y, t.bottomRight.y)
      , o = Math.min(t.topLeft.x, t.bottomLeft.x)
      , a = Math.max(t.topRight.x, t.bottomRight.x)
      , s = (1 - no) / 2 - .02
      , c = (1 - (e.isShortBarcodeOverlay ? gc : fc)) / 2 - .02;
    return r > 0 && a > 0 && (n < e.videoHeight * c || r > e.videoHeight * (1 - c) || o < e.videoWidth * s || a > e.videoWidth * (1 - s))
}
function Rl(e, t, n) {
    return !n || e !== B.Back ? !1 : !!t.hasIncompleteBack
}
function _E(e) {
    var t;
    return ((t = e.detectedQuad) == null ? void 0 : t.detectionStatus) === zn.Success
}
function jm(e, t) {
    const n = e !== "pp"
      , r = t.microblinkResult && "mrz"in t.microblinkResult ? t.microblinkResult.mrz.verified === !0 : !1;
    return n || r
}
function RE(e, t, n) {
    return _E(t) && !gi(e, t, n) && !Ar(e, t, n) && !Tr(t)
}
class AE {
    constructor() {
        this.loadPercentage = 0,
        this.initializingRunner = !1,
        this.currentInstanceNumber = 0
    }
    async preload(t="advanced", n=null) {
        if (!In() && !this.isLoaded()) {
            if (this.model = t,
            this.loadSDKPromise == null) {
                const r = new N0(EE(window.location.host));
                r.engineLocation = oo(t === "advanced" ? "microblink-6-0-1" : "microblink-6-0-1-lightweight"),
                r.workerLocation = t === "advanced" ? `${lo}/microblink/worker-script-6-0-1` : `${lo}/microblink/worker-script-6-0-1-lightweight`,
                r.loadProgressCallback = o => this.loadPercentage = o,
                r.allowHelloMessage = !1,
                r.wasmType = n,
                this.loadSDKPromise = mc(async () => j0(r).then(o => (this.wasmSDK = o,
                this.wasmSDK)).catch(o => {
                    throw this.loadSDKPromise = null,
                    typeof o == "string" ? Xt.fromString(o) : new Xt(o)
                }
                ))
            }
            await this.loadSDKPromise
        }
    }
    isLoaded() {
        return this.wasmSDK != null
    }
    async initialize(t, n=void 0, r={}) {
        const {requireFullBack: o=!1, allowIncompleteBarcode: a=!1, fallbackToFaceApi: s=!1} = r;
        return In() ? -1 : (this.currentQuad = null,
        this.hasGlare = null,
        this.attemptedReset = !1,
        this.onClassifiedCallback = null,
        this.recognizer && this.recognizerRunner && this.captureSide === t && this.idClass === n ? this.currentInstanceNumber : (this.currentInstanceNumber++,
        this.captureSide = t,
        this.idClass = n,
        this.requireFullBack = t === B.Back && o,
        this.allowIncompleteBarcode = t === B.Back && a,
        new Promise( (c, l) => {
            s && (this.faceApiFallbackTimeout = setTimeout( () => {
                kt.loadModels(),
                this.faceApiFallbackTimeout = setTimeout( () => {
                    this.loadPercentage < 50 && (J.logAmplitude("government-id.microblink.load-timeout", {
                        model: this.model
                    }),
                    l(Xt.fromString("[IGNORED] Microblink initialization took longer than 5000ms, likely due to a slow network connection. Falling back to FaceApi.")))
                }
                , 2500)
            }
            , 2500)),
            this.preload().then( () => clearTimeout(this.faceApiFallbackTimeout)).then( () => this.startRunner()).then( () => c(this.currentInstanceNumber)).catch(d => typeof d == "string" ? Xt.fromString(d) : new Xt(d))
        }
        )))
    }
    async startRunner() {
        var n, r, o;
        if (!this.captureSide || this.initializingRunner)
            return;
        this.initializingRunner = !0;
        const t = performance.now();
        if (await this.tearDown(!1),
        !!this.captureSide) {
            if (this.captureSide === B.Back && this.allowIncompleteBarcode) {
                this.recognizer = await vc(this.wasmSDK);
                const a = await this.recognizer.currentSettings();
                a.recognitionModeFilter.enableBarcodeId = !0,
                a.recognitionModeFilter.enableMrzPassport = !1,
                a.recognitionModeFilter.enableMrzVisa = !1,
                a.recognitionModeFilter.enableMrzId = !1,
                a.recognitionModeFilter.enablePhotoId = !1,
                a.recognitionModeFilter.enableFullDocumentRecognition = !0,
                await ((n = this.recognizer) == null ? void 0 : n.updateSettings(a))
            } else if (this.captureSide === B.BarcodePdf417 || this.captureSide === B.Back)
                this.recognizer = await P0(this.wasmSDK);
            else if (this.captureSide === B.Front) {
                this.recognizer = await vc(this.wasmSDK);
                const a = await this.recognizer.currentSettings();
                a.recognitionModeFilter.enableBarcodeId = !1,
                a.recognitionModeFilter.enableMrzPassport = this.idClass === "pp",
                a.recognitionModeFilter.enableMrzVisa = !1,
                a.recognitionModeFilter.enableMrzId = !1,
                a.classifierCallback = s => {
                    var c;
                    return (c = this.onClassifiedCallback) == null ? void 0 : c.call(this, s)
                }
                ,
                await ((r = this.recognizer) == null ? void 0 : r.updateSettings(a))
            } else
                Be(`Unsupported side for Microblink Client: ${this.captureSide}`, "warning");
            if (this.requireFullBack) {
                this.fullDocumentRecognizer = await vc(this.wasmSDK);
                const a = await this.fullDocumentRecognizer.currentSettings();
                a.recognitionModeFilter.enableBarcodeId = !1,
                a.recognitionModeFilter.enableMrzPassport = !1,
                a.recognitionModeFilter.enableMrzVisa = !1,
                a.recognitionModeFilter.enableMrzId = !1,
                a.recognitionModeFilter.enablePhotoId = !1,
                a.recognitionModeFilter.enableFullDocumentRecognition = !0,
                await ((o = this.fullDocumentRecognizer) == null ? void 0 : o.updateSettings(a))
            }
            if (this.requireFullBack || this.allowIncompleteBarcode) {
                const a = {
                    onQuadDetection: s => {
                        this.currentQuad ? Dm(s) > Dm(this.currentQuad) ? this.currentFullDocumentQuad = s : (this.currentFullDocumentQuad = this.currentQuad,
                        this.currentQuad = s) : this.currentQuad = s
                    }
                    ,
                    onGlare: s => {
                        this.hasGlare = s
                    }
                };
                this.recognizerRunner = await ou(this.wasmSDK, this.requireFullBack ? [this.recognizer, this.fullDocumentRecognizer] : [this.recognizer], !0, a)
            } else {
                const a = {
                    onQuadDetection: s => {
                        (this.captureSide === B.Front || !this.currentQuad) && (this.currentQuad = s)
                    }
                    ,
                    onGlare: s => {
                        this.hasGlare = s
                    }
                };
                this.recognizerRunner = await ou(this.wasmSDK, [this.recognizer], !1, a)
            }
            this.initializingRunner = !1,
            J.logAmplitude("government-id.microblink.initialize-runners", {
                durationSeconds: (performance.now() - t) / 1e3,
                side: this.captureSide,
                idClass: this.idClass
            })
        }
    }
    async extractTextFromImage(t) {
        if (!this.recognizerRunner || !this.recognizer)
            return null;
        const n = new Image;
        n.src = t,
        await n.decode();
        const r = D0(n)
          , o = await this.recognizerRunner.processImage(r);
        let a = null;
        return o !== Bo.Empty && (a = await this.recognizer.getResult()),
        {
            recognitionResult: a,
            recognizerName: this.recognizer.recognizerName,
            detectedQuad: null,
            hasGlare: null,
            hasIncompleteBack: null
        }
    }
    async processImage(t, n) {
        var c, l, d, u, m;
        if (!this.recognizerRunner || !this.recognizer)
            return null;
        this.currentQuad = null,
        this.currentFullDocumentQuad = null,
        this.hasGlare = null,
        this.onClassifiedCallback = n;
        const r = t.getContext("2d", {
            willReadFrequently: !0
        })
          , o = new O0(r == null ? void 0 : r.getImageData(0, 0, t.width, t.height),L0.NoRotation,!0);
        if (!o.imageData)
            return null;
        const a = await this.recognizerRunner.processImage(o).catch(async h => {
            const p = typeof h == "string" ? h : h.message;
            if ((p.indexOf(au.WORKER_IMAGE_PROCESS_FAILURE) !== -1 || p.indexOf(au.WORKER_RUNNER_DELETED) !== -1) && !this.attemptedReset)
                return this.attemptedReset = !0,
                await this.tearDown(!1),
                await this.startRunner(),
                null;
            throw typeof h == "string" ? Xt.fromString(h) : new Xt(h)
        }
        )
          , s = (l = (c = this.recognizer) == null ? void 0 : c.recognizerName) != null ? l : "MicroblinkUnknown";
        if (this.requireFullBack) {
            const h = await ((d = this.recognizer) == null ? void 0 : d.getResult())
              , p = (h == null ? void 0 : h.state) !== Bo.Empty ? h : null
              , b = await ((u = this.fullDocumentRecognizer) == null ? void 0 : u.getResult());
            !this.currentFullDocumentQuad && this.currentQuad && (h == null ? void 0 : h.state) === Bo.Empty && (b == null ? void 0 : b.state) !== Bo.Empty && Ka(this.currentQuad, null) && (this.currentFullDocumentQuad = this.currentQuad,
            this.currentQuad = null);
            const C = Ka(this.currentFullDocumentQuad, this.currentQuad) ? this.currentFullDocumentQuad : null
              , S = !!p && !C;
            return {
                recognitionResult: p,
                detectedQuad: C,
                hasGlare: this.hasGlare,
                hasIncompleteBack: S,
                recognizerName: s
            }
        } else {
            const h = a !== Bo.Empty ? await ((m = this.recognizer) == null ? void 0 : m.getResult()) : null;
            let p = this.currentQuad;
            return this.allowIncompleteBarcode && (p = Ka(this.currentFullDocumentQuad, null) ? this.currentFullDocumentQuad : Ka(this.currentQuad, null) ? this.currentQuad : null),
            {
                recognitionResult: h,
                detectedQuad: p,
                hasGlare: this.hasGlare,
                hasIncompleteBack: null,
                recognizerName: s
            }
        }
    }
    needsTeardown() {
        return this.recognizerRunner != null || this.recognizer != null || this.fullDocumentRecognizer != null
    }
    async tearDownInstance(t) {
        t === this.currentInstanceNumber && this.tearDown()
    }
    async tearDown(t=!0) {
        const n = this.recognizerRunner
          , r = this.recognizer
          , o = this.fullDocumentRecognizer;
        this.recognizer = void 0,
        this.recognizerRunner = void 0,
        this.fullDocumentRecognizer = void 0,
        t && (this.captureSide = void 0,
        this.requireFullBack = void 0,
        this.allowIncompleteBarcode = void 0),
        this.currentQuad = void 0,
        this.currentFullDocumentQuad = void 0,
        this.hasGlare = void 0;
        try {
            await Promise.allSettled([n == null ? void 0 : n.delete(), r == null ? void 0 : r.delete(), o == null ? void 0 : o.delete()])
        } catch {}
    }
}
B.Front,
B.Back,
B.BarcodePdf417;
let ob = {
    "withpersona.com": {
        key: null,
        expiresAt: null
    },
    "withpersona-staging.com": {
        key: null,
        expiresAt: null
    },
    "*.withpersona.com": {
        key: null,
        expiresAt: null
    },
    "*.withpersona-staging.com": {
        key: null,
        expiresAt: null
    }
};
try {
    ob = JSON.parse('{"withpersona.com":{"key":"sRwAAAYPd2l0aHBlcnNvbmEuY29thpUVKHnfmIvdibPDhhXCoq2b8v+l6XteggRLjtZIG/6cdFhQRDWSyQMJRKt1/uBjdWqzh/PNxJcDgpcA2RFxOI9hwsswppr0QJ0qsM6uReNIId3InngR4q4jn15UA/P7MT2okOJg6lnf/0BETmwtliRLI1uKsm8fC5XxxaBvvfVQYV0nBQW/GPGY9KpRJvmYFrfaL0Z6bvowFBV1ivKyK2RY6jnKEA==","expiresAt":"2025-07-30"},"*.withpersona.com":{"key":"sRwAAAYRKi53aXRocGVyc29uYS5jb22q2VqlctXIE+DL6va9pIVBYDMqJu6BCIKcb7LD9fSCMztfF8rD802Ra+xNfBeJB7yxKb+9he18NtOAtgW17bg3CWIZ2D0Nn2sKcL2xwAce1UeeUBQ5OUdK4Bsw6gHFBd3pr5XtoN41zv7rCHSqlJLHQSlLNNLoXEys7lCOGTQTtMZEkRFxJ1B8RKX+mvMvvvPPzmaC+dEbyjvElNxRQhpR1TYZVqQIY+B1","expiresAt":"2025-07-30"},"withpersona-staging.com":{"key":"sRwAAAYXd2l0aHBlcnNvbmEtc3RhZ2luZy5jb22+UDZGEA8YgF3AvK+ukP5gRK2kh/9OnwsB/7ccb2Mlhs6WRQ8osyJdKur51WsEPnrP4blrooTXiF6uLpF6wHfU/sw/4PVFa0wKd4exHBPevosZj7RHxE3y/VRgm/aTBF+Ko8yA+uX6+b/fV5WNt4bnB7conG7Eh3QCsSIWdrkTPz3Od3U6Yg1t+J45HNJk1dm30tdGYWxt32oeEgDUL4n1Fs0h1rMUBJo=","expiresAt":"2025-07-30"},"*.withpersona-staging.com":{"key":"sRwAAAYZKi53aXRocGVyc29uYS1zdGFnaW5nLmNvbd8DgK6h/E1CelG5jE9+jT5ixlAs4qF2PbdWLdXdFMRGFltKBhys2Yb72m6qK9+4JKD+dHQrL8zeFgn3gaTQKWMp0pDoLqsL2THeMDS9nejFY1yuBdOmvibRoCV+YKNRNvDj/cISQfgWvXZJ73ZepsTdPrhApEB6ryabBYJhsceeHp9KL+U5LsVzGBzfNMrVT4jR0u9eSF2dDAUHV+EIDdVZgejZTsxg1w==","expiresAt":"2025-07-30"}}')
} catch {}
const TE = 14 * 24 * 60 * 60 * 1e3
  , EE = e => {
    var o;
    let t = e.split(":")[0];
    if (t.split(".").length === 3) {
        const a = t.split(".");
        a[0] = "*",
        t = a.join(".")
    }
    const {key: n, expiresAt: r} = (o = ob[t]) != null ? o : {};
    try {
        r != null && (t === "withpersona.com" || t === "*.withpersona.com") && new Date(r).getTime() - new Date().getTime() < TE && Be("Microblink license key is expiring in less than 14 days. Request a renewal in #microblink-persona and update MICROBLINK_LICENSES in config/webpack/production.js.", "error", {
            expiresAt: r,
            domain: t
        })
    } catch (a) {
        he(a)
    }
    return n
}
;
P.NONE + "",
P.ALBANIA + "",
P.ALGERIA + "",
P.ARGENTINA + "",
P.AUSTRALIA + "",
P.AUSTRIA + "",
P.AZERBAIJAN + "",
P.BAHRAIN + "",
P.BANGLADESH + "",
P.BELGIUM + "",
P.BOSNIA_AND_HERZEGOVINA + "",
P.BRUNEI + "",
P.BULGARIA + "",
P.CAMBODIA + "",
P.CANADA + "",
P.CHILE + "",
P.COLOMBIA + "",
P.COSTA_RICA + "",
P.CROATIA + "",
P.CYPRUS + "",
P.CZECHIA + "",
P.DENMARK + "",
P.DOMINICAN_REPUBLIC + "",
P.EGYPT + "",
P.ESTONIA + "",
P.FINLAND + "",
P.FRANCE + "",
P.GEORGIA + "",
P.GERMANY + "",
P.GHANA + "",
P.GREECE + "",
P.GUATEMALA + "",
P.HONG_KONG + "",
P.HUNGARY + "",
P.INDIA + "",
P.INDONESIA + "",
P.IRELAND + "",
P.ISRAEL + "",
P.ITALY + "",
P.JORDAN + "",
P.KAZAKHSTAN + "",
P.KENYA + "",
P.KOSOVO + "",
P.KUWAIT + "",
P.LATVIA + "",
P.LITHUANIA + "",
P.MALAYSIA + "",
P.MALDIVES + "",
P.MALTA + "",
P.MAURITIUS + "",
P.MEXICO + "",
P.MOROCCO + "",
P.NETHERLANDS + "",
P.NEW_ZEALAND + "",
P.NIGERIA + "",
P.PAKISTAN + "",
P.PANAMA + "",
P.PARAGUAY + "",
P.PHILIPPINES + "",
P.POLAND + "",
P.PORTUGAL + "",
P.PUERTO_RICO + "",
P.QATAR + "",
P.ROMANIA + "",
P.RUSSIA + "",
P.SAUDI_ARABIA + "",
P.SERBIA + "",
P.SINGAPORE + "",
P.SLOVAKIA + "",
P.SLOVENIA + "",
P.SOUTH_AFRICA + "",
P.SPAIN + "",
P.SWEDEN + "",
P.SWITZERLAND + "",
P.TAIWAN + "",
P.THAILAND + "",
P.TUNISIA + "",
P.TURKEY + "",
P.UAE + "",
P.UGANDA + "",
P.UK + "",
P.UKRAINE + "",
P.USA + "",
P.VIETNAM + "",
P.BRAZIL + "",
P.NORWAY + "",
P.OMAN + "",
P.ECUADOR + "",
P.EL_SALVADOR + "",
P.SRI_LANKA + "",
P.PERU + "",
P.URUGUAY + "",
P.BAHAMAS + "",
P.BERMUDA + "",
P.BOLIVIA + "",
P.CHINA + "",
P.EUROPEAN_UNION + "",
P.HAITI + "",
P.HONDURAS + "",
P.ICELAND + "",
P.JAPAN + "",
P.LUXEMBOURG + "",
P.MONTENEGRO + "",
P.NICARAGUA + "",
P.SOUTH_KOREA + "",
P.VENEZUELA + "",
P.AFGHANISTAN + "",
P.ALAND_ISLANDS + "",
P.AMERICAN_SAMOA + "",
P.ANDORRA + "",
P.ANGOLA + "",
P.ANGUILLA + "",
P.ANTARCTICA + "",
P.ANTIGUA_AND_BARBUDA + "",
P.ARMENIA + "",
P.ARUBA + "",
P.BAILIWICK_OF_GUERNSEY + "",
P.BAILIWICK_OF_JERSEY + "",
P.BARBADOS + "",
P.BELARUS + "",
P.BELIZE + "",
P.BENIN + "",
P.BHUTAN + "",
P.BONAIRE_SAINT_EUSTATIUS_AND_SABA + "",
P.BOTSWANA + "",
P.BOUVET_ISLAND + "",
P.BRITISH_INDIAN_OCEAN_TERRITORY + "",
P.BURKINA_FASO + "",
P.BURUNDI + "",
P.CAMEROON + "",
P.CAPE_VERDE + "",
P.CARIBBEAN_NETHERLANDS + "",
P.CAYMAN_ISLANDS + "",
P.CENTRAL_AFRICAN_REPUBLIC + "",
P.CHAD + "",
P.CHRISTMAS_ISLAND + "",
P.COCOS_ISLANDS + "",
P.COMOROS + "",
P.CONGO + "",
P.COOK_ISLANDS + "",
P.CUBA + "",
P.CURACAO + "",
P.DEMOCRATIC_REPUBLIC_OF_THE_CONGO + "",
P.DJIBOUTI + "",
P.DOMINICA + "",
P.EAST_TIMOR + "",
P.EQUATORIAL_GUINEA + "",
P.ERITREA + "",
P.ESWATINI + "",
P.ETHIOPIA + "",
P.FALKLAND_ISLANDS + "",
P.FAROE_ISLANDS + "",
P.FEDERATED_STATES_OF_MICRONESIA + "",
P.FIJI + "",
P.FRENCH_GUIANA + "",
P.FRENCH_POLYNESIA + "",
P.FRENCH_SOUTHERN_TERRITORIES + "",
P.GABON + "",
P.GAMBIA + "",
P.GIBRALTAR + "",
P.GREENLAND + "",
P.GRENADA + "",
P.GUADELOUPE + "",
P.GUAM + "",
P.GUINEA + "",
P.GUINEA_BISSAU + "",
P.GUYANA + "",
P.HEARD_ISLAND_AND_MCDONALD_ISLANDS + "",
P.IRAN + "",
P.IRAQ + "",
P.ISLE_OF_MAN + "",
P.IVORY_COAST + "",
P.JAMAICA + "",
P.KIRIBATI + "",
P.KYRGYZSTAN + "",
P.LAOS + "",
P.LEBANON + "",
P.LESOTHO + "",
P.LIBERIA + "",
P.LIBYA + "",
P.LIECHTENSTEIN + "",
P.MACAU + "",
P.MADAGASCAR + "",
P.MALAWI + "",
P.MALI + "",
P.MARSHALL_ISLANDS + "",
P.MARTINIQUE + "",
P.MAURITANIA + "",
P.MAYOTTE + "",
P.MOLDOVA + "",
P.MONACO + "",
P.MONGOLIA + "",
P.MONTSERRAT + "",
P.MOZAMBIQUE + "",
P.MYANMAR + "",
P.NAMIBIA + "",
P.NAURU + "",
P.NEPAL + "",
P.NEW_CALEDONIA + "",
P.NIGER + "",
P.NIUE + "",
P.NORFOLK_ISLAND + "",
P.NORTHERN_CYPRUS + "",
P.NORTHERN_MARIANA_ISLANDS + "",
P.NORTH_KOREA + "",
P.NORTH_MACEDONIA + "",
P.PALAU + "",
P.PALESTINE + "",
P.PAPUA_NEW_GUINEA + "",
P.PITCAIRN + "",
P.REUNION + "",
P.RWANDA + "",
P.SAINT_BARTHELEMY + "",
P.SAINT_HELENA_ASCENSION_AND_TRISTIAN_DA_CUNHA + "",
P.SAINT_KITTS_AND_NEVIS + "",
P.SAINT_LUCIA + "",
P.SAINT_MARTIN + "",
P.SAINT_PIERRE_AND_MIQUELON + "",
P.SAINT_VINCENT_AND_THE_GRENADINES + "",
P.SAMOA + "",
P.SAN_MARINO + "",
P.SAO_TOME_AND_PRINCIPE + "",
P.SENEGAL + "",
P.SEYCHELLES + "",
P.SIERRA_LEONE + "",
P.SINT_MAARTEN + "",
P.SOLOMON_ISLANDS + "",
P.SOMALIA + "",
P.SOUTH_GEORGIA_AND_THE_SOUTH_SANDWICH_ISLANDS + "",
P.SOUTH_SUDAN + "",
P.SUDAN + "",
P.SURINAME + "",
P.SVALBARD_AND_JAN_MAYEN + "",
P.SYRIA + "",
P.TAJIKISTAN + "",
P.TANZANIA + "",
P.TOGO + "",
P.TOKELAU + "",
P.TONGA + "",
P.TRINIDAD_AND_TOBAGO + "",
P.TURKMENISTAN + "",
P.TURKS_AND_CAICOS_ISLANDS + "",
P.TUVALU + "",
P.UNITED_STATES_MINOR_OUTLYING_ISLANDS + "",
P.UZBEKISTAN + "",
P.VANUATU + "",
P.VATICAN_CITY + "",
P.VIRGIN_ISLANDS_BRITISH + "",
P.VIRGIN_ISLANDS_US + "",
P.WALLIS_AND_FUTUNA + "",
P.WESTERN_SAHARA + "",
P.YEMEN + "",
P.YUGOSLAVIA + "",
P.ZAMBIA + "",
P.ZIMBABWE + "",
P.COUNT + "";
ie.NONE + "",
ie.ALABAMA + "",
ie.ALASKA + "",
ie.ALBERTA + "",
ie.ARIZONA + "",
ie.ARKANSAS + "",
ie.AUSTRALIAN_CAPITAL_TERRITORY + "",
ie.BRITISH_COLUMBIA + "",
ie.CALIFORNIA + "",
ie.COLORADO + "",
ie.CONNECTICUT + "",
ie.DELAWARE + "",
ie.DISTRICT_OF_COLUMBIA + "",
ie.FLORIDA + "",
ie.GEORGIA + "",
ie.HAWAII + "",
ie.IDAHO + "",
ie.ILLINOIS + "",
ie.INDIANA + "",
ie.IOWA + "",
ie.KANSAS + "",
ie.KENTUCKY + "",
ie.LOUISIANA + "",
ie.MAINE + "",
ie.MANITOBA + "",
ie.MARYLAND + "",
ie.MASSACHUSETTS + "",
ie.MICHIGAN + "",
ie.MINNESOTA + "",
ie.MISSISSIPPI + "",
ie.MISSOURI + "",
ie.MONTANA + "",
ie.NEBRASKA + "",
ie.NEVADA + "",
ie.NEW_BRUNSWICK + "",
ie.NEW_HAMPSHIRE + "",
ie.NEW_JERSEY + "",
ie.NEW_MEXICO + "",
ie.NEW_SOUTH_WALES + "",
ie.NEW_YORK + "",
ie.NORTHERN_TERRITORY + "",
ie.NORTH_CAROLINA + "",
ie.NORTH_DAKOTA + "",
ie.NOVA_SCOTIA + "",
ie.OHIO + "",
ie.OKLAHOMA + "",
ie.ONTARIO + "",
ie.OREGON + "",
ie.PENNSYLVANIA + "",
ie.QUEBEC + "",
ie.QUEENSLAND + "",
ie.RHODE_ISLAND + "",
ie.SASKATCHEWAN + "",
ie.SOUTH_AUSTRALIA + "",
ie.SOUTH_CAROLINA + "",
ie.SOUTH_DAKOTA + "",
ie.TASMANIA + "",
ie.TENNESSEE + "",
ie.TEXAS + "",
ie.UTAH + "",
ie.VERMONT + "",
ie.VICTORIA + "",
ie.VIRGINIA + "",
ie.WASHINGTON + "",
ie.WESTERN_AUSTRALIA + "",
ie.WEST_VIRGINIA + "",
ie.WISCONSIN + "",
ie.WYOMING + "",
ie.YUKON + "",
ie.CIUDAD_DE_MEXICO + "",
ie.JALISCO + "",
ie.NEWFOUNDLAND_AND_LABRADOR + "",
ie.NUEVO_LEON + "",
ie.BAJA_CALIFORNIA + "",
ie.CHIHUAHUA + "",
ie.GUANAJUATO + "",
ie.GUERRERO + "",
ie.MEXICO + "",
ie.MICHOACAN + "",
ie.NEW_YORK_CITY + "",
ie.TAMAULIPAS + "",
ie.VERACRUZ + "",
ie.CHIAPAS + "",
ie.COAHUILA + "",
ie.DURANGO + "",
ie.GUERRERO_COCULA + "",
ie.GUERRERO_JUCHITAN + "",
ie.GUERRERO_TEPECOACUILCO + "",
ie.GUERRERO_TLACOAPA + "",
ie.GUJARAT + "",
ie.HIDALGO + "",
ie.KARNATAKA + "",
ie.KERALA + "",
ie.KHYBER_PAKHTUNKHWA + "",
ie.MADHYA_PRADESH + "",
ie.MAHARASHTRA + "",
ie.MORELOS + "",
ie.NAYARIT + "",
ie.OAXACA + "",
ie.PUEBLA + "",
ie.PUNJAB + "",
ie.QUERETARO + "",
ie.SAN_LUIS_POTOSI + "",
ie.SINALOA + "",
ie.SONORA + "",
ie.TABASCO + "",
ie.TAMIL_NADU + "",
ie.YUCATAN + "",
ie.ZACATECAS + "",
ie.AGUASCALIENTES + "",
ie.BAJA_CALIFORNIA_SUR + "",
ie.CAMPECHE + "",
ie.COLIMA + "",
ie.QUINTANA_ROO_BENITO_JUAREZ + "",
ie.UINTANA_ROO + "",
ie.QUINTANA_ROO_SOLIDARIDAD + "",
ie.TLAXCALA + "",
ie.QUINTANA_ROO_COZUMEL + "",
ie.SAO_PAOLO + "",
ie.COUNT + "";
ze.NONE + "",
ze.CONSULAR_ID + "",
ze.DL + "",
ze.DL_PUBLIC_SERVICES_CARD + "",
ze.EMPLOYMENT_PASS + "",
ze.FIN_CARD + "",
ze.ID + "",
ze.MULTIPURPOSE_ID + "",
ze.MyKad + "",
ze.MyKid + "",
ze.MyPR + "",
ze.MyTentera + "",
ze.PAN_CARD + "",
ze.PROFESSIONAL_ID + "",
ze.PUBLIC_SERVICES_CARD + "",
ze.RESIDENCE_PERMIT + "",
ze.RESIDENT_ID + "",
ze.TEMPORARY_RESIDENCE_PERMIT + "",
ze.VOTER_ID + "",
ze.WORK_PERMIT + "",
ze.iKAD + "",
ze.MILITARY_ID + "",
ze.MyKAS + "",
ze.SOCIAL_SECURITY_CARD + "",
ze.HEALTH_INSURANCE_CARD + "",
ze.PASSPORT + "",
ze.S_PASS + "",
ze.ADDRESS_CARD + "",
ze.ALIEN_ID + "",
ze.ALIEN_PASSPORT + "",
ze.GREEN_CARD + "",
ze.MINORS_ID + "",
ze.POSTAL_ID + "",
ze.PROFESSIONAL_DL + "",
ze.TAX_ID + "",
ze.WEAPON_PERMIT + "",
ze.VISA + "",
ze.BORDER_CROSSING_CARD + "",
ze.DRIVER_CARD + "",
ze.GLOBAL_ENTRY_CARD + "",
ze.MyPolis + "",
ze.NEXUS_CARD + "",
ze.PASSPORT_CARD + "",
ze.PROOF_OF_AGE_CARD + "",
ze.REFUGEE_ID + "",
ze.TRIBAL_ID + "",
ze.VETERAN_ID + "",
ze.CITIZENSHIP_CERTIFICATE + "",
ze.MY_NUMBER_CARD + "",
ze.CONSULAR_PASSPORT + "",
ze.MINORS_PASSPORT + "",
ze.MINORS_PUBLIC_SERVICES_CARD + "",
ze.COUNT + "";
const Pm = 85.6 / 54
  , Dm = e => {
    const t = Math.min(e.topLeft.x, e.bottomLeft.x);
    return Math.max(e.topRight.x, e.bottomRight.x) - t
}
  , Ka = (e, t) => {
    if (!e || e.detectionStatus === su.Fail)
        return !1;
    const n = Math.min(e.topLeft.y, e.topRight.y)
      , r = Math.max(e.bottomLeft.y, e.bottomRight.y)
      , o = Math.min(e.topLeft.x, e.bottomLeft.x)
      , a = Math.max(e.topRight.x, e.bottomRight.x)
      , s = (a - o) / (r - n);
    if (!(s > Pm * .8 && s < Pm * 1.2))
        return !1;
    if (t && t.detectionStatus !== su.Fail) {
        const l = Math.min(t.topLeft.y, t.topRight.y)
          , d = Math.max(t.bottomLeft.y, t.bottomRight.y)
          , u = Math.min(t.topLeft.x, t.bottomLeft.x)
          , m = Math.max(t.topRight.x, t.bottomRight.x);
        if (!(l > n * .95 && d < r * 1.05 && u > o * .95 && m < a * 1.05))
            return !1
    }
    return !0
}
  , kE = new AE
  , NE = 8e3
  , jE = 1e3
  , PE = ({setAutoCaptureReady: e, delayUntilManualCaptureMs: t=NE, handleCapture: n, labelTakePhoto: r, renderOverlay: o, videoConstraints: a, requiresSide: s, governmentIdClass: c, handleError: l, reportDebugMetrics: d=!1, handleTrigger: u, handleCameraChange: m, selectedCamera: h, cameraSelectOptions: p, shouldDisplayCameraSelector: b, overlayReady: C, overlayRef: S, overlayCaptureWindowRef: v, previewViewfinderRef: x, requireFullBack: _=!1, allowIncompleteBarcode: R=!1, isShortBarcodeOverlay: E, submitButtonStyles: T, showHelpButton: F, helpButtonIconColor: O, helpButtonLabel: N, renderAutoCapturePill: U, renderHelpModal: V, uiReady: ne, videoReady: L, assets: H, captureOverlay: q, captureFrameLabel: ee, hint: Y, prompt: ae}) => {
    let se;
    const _e = f.useRef(!1)
      , Re = f.useRef(void 0)
      , [ye,Pe] = f.useState(!1)
      , Ae = Mt("inquiry:enable-low-light-detection-web")
      , Te = Mt("inquiry:enable-new-govid-buffer-image-method")
      , re = Mt("inquiry:use-old-microblink") ? kE : ki
      , z = Te ? Os : Ls;
    va(async W => {
        try {
            const oe = performance.now();
            if (Re.current = await re.initialize(s, c, {
                requireFullBack: _,
                allowIncompleteBarcode: R
            }),
            se = performance.now(),
            d && J.logAmplitude("government-id.microblink.initialization", {
                initializationTime: (se - oe) / 1e3,
                side: s,
                idClass: c
            }),
            W())
                e();
            else {
                await re.tearDownInstance(Re.current);
                return
            }
        } catch (oe) {
            l(oe, "load")
        }
    }
    , () => {
        re.tearDownInstance(Re.current),
        se = void 0
    }
    , [s, _]);
    const Z = async (W, oe, de, De, Ve) => {
        var Ne, bt, St, On, Ci;
        z({
            source: W,
            overlayCaptureWindowElement: v.current,
            canvasBuffer: oe
        });
        const ve = oe.width
          , Le = oe.height;
        try {
            const Ln = oe.toDataURL(mo, ws)
              , Jn = performance.now();
            let yn = !0;
            Pe(!1),
            setTimeout( () => {
                yn && Pe(!0)
            }
            , 1e3);
            const Mo = Hr => {
                Hr && setTimeout( () => {
                    if (yn && s === B.Front) {
                        const qr = performance.now() - Jn;
                        qe({
                            currentTrigger: De.getTriggered().getType(),
                            detectedQuad: null,
                            microblinkResult: null,
                            luminosityData: Ae ? Cr(oe, Ve) : null,
                            videoWidth: ve,
                            videoHeight: Le,
                            imageDataUri: Ln,
                            hasGlare: null,
                            processingTime: qr,
                            isShortBarcodeOverlay: E
                        }, gt.Auto, null),
                        yn = !1
                    }
                }
                , jE)
            }
              , yt = await re.processImage(oe, Mo);
            if (yn = !1,
            s === B.Front) {
                const mr = performance.now() - Jn;
                return {
                    currentTrigger: De.getTriggered().getType(),
                    detectedQuad: (Ne = yt == null ? void 0 : yt.detectedQuad) != null ? Ne : null,
                    hasGlare: (bt = yt == null ? void 0 : yt.hasGlare) != null ? bt : null,
                    microblinkRecognizerName: yt == null ? void 0 : yt.recognizerName,
                    microblinkResult: yt == null ? void 0 : yt.recognitionResult,
                    luminosityData: Ae ? Cr(oe, Ve) : null,
                    videoWidth: ve,
                    videoHeight: Le,
                    imageDataUri: Ln,
                    processingTime: mr,
                    isShortBarcodeOverlay: E
                }
            } else if (s === B.BarcodePdf417 || s === B.Back) {
                const mr = performance.now() - Jn;
                return {
                    currentTrigger: De.getTriggered().getType(),
                    detectedQuad: (St = yt == null ? void 0 : yt.detectedQuad) != null ? St : null,
                    microblinkRecognizerName: yt == null ? void 0 : yt.recognizerName,
                    microblinkResult: yt == null ? void 0 : yt.recognitionResult,
                    luminosityData: Ae ? Cr(oe, Ve) : null,
                    videoWidth: ve,
                    videoHeight: Le,
                    hasGlare: (On = yt == null ? void 0 : yt.hasGlare) != null ? On : null,
                    imageDataUri: Ln,
                    processingTime: mr,
                    hasIncompleteBack: (Ci = yt == null ? void 0 : yt.hasIncompleteBack) != null ? Ci : !1,
                    isShortBarcodeOverlay: E
                }
            }
        } catch (Ln) {
            l(Ln, "capture")
        }
        return {
            currentTrigger: De.getTriggered().getType(),
            luminosityData: Ae ? Cr(oe, Ve) : null,
            videoWidth: ve,
            videoHeight: Le,
            microblinkRecognizerName: null,
            detectedQuad: null,
            microblinkResult: null,
            hasGlare: null,
            imageDataUri: null,
            processingTime: null,
            isShortBarcodeOverlay: E
        }
    }
      , xe = (W, oe) => {
        var Le, me, Ne, bt;
        const de = ((Le = W.microblinkResult) == null ? void 0 : Le.state) === xr.Valid || s === B.Back && R && ((me = W.microblinkResult) == null ? void 0 : me.state) === xr.Uncertain && ((Ne = W.microblinkResult.imageAnalysisResult) == null ? void 0 : Ne.barcodeDetectionStatus) === F0.Detected
          , De = (bt = W.microblinkResult) == null ? void 0 : bt.processingStatus
          , Ve = De !== cu.ImagePreprocessingFailed && De !== cu.StabilityTestFailed
          , ve = de && Ve && !gi(s, W, _) && !Ar(s, W, _) && !Tr(W) && !Rl(s, W, _) && !po(W) && jm(c, W);
        if (!ve)
            if ((W == null ? void 0 : W.detectedQuad) == null)
                console.info("Autocapture failed: no ID detected");
            else {
                const St = [(!de || !Ve) && "Failed to recognize ID", gi(s, W, _) && "ID too far", Ar(s, W, _) && "ID too close", Tr(W) && "ID not centered", Rl(s, W, _) && "Back is incomplete", po(W) && "Has glare", !jm(c, W) && "Missing MRZ"].filter(Boolean);
                console.info(`Autocapture failed: ${St.join(", ") || "Reason unknown"}`)
            }
        return ve
    }
      , we = (W, oe, de) => ({
        x: W.x / oe,
        y: W.y / de
    })
      , Ye = (W, oe, de) => ({
        bottomLeft: we(W.bottomLeft, oe, de),
        bottomRight: we(W.bottomRight, oe, de),
        topLeft: we(W.topLeft, oe, de),
        topRight: we(W.topRight, oe, de)
    })
      , qe = async (W, oe, de) => {
        var Ve, ve, Le;
        if (_e.current)
            return;
        const De = [];
        if (s === B.Back && R) {
            const me = W.microblinkResult;
            if (me && (De.push({
                type: "pdf417",
                value: (ve = (Ve = me.barcode) == null ? void 0 : Ve.barcodeData) == null ? void 0 : ve.stringData
            }),
            W.detectedQuad)) {
                const Ne = Ye(W.detectedQuad, W.videoWidth, W.videoHeight);
                De.push({
                    type: "card",
                    value: {
                        back: {
                            "top-left": Ne.topLeft,
                            "top-right": Ne.topRight,
                            "bottom-left": Ne.bottomLeft,
                            "bottom-right": Ne.bottomRight
                        }
                    }
                })
            }
        } else if (s === B.BarcodePdf417 || s === B.Back) {
            const me = W.microblinkResult;
            if (me && (De.push({
                type: "pdf417",
                value: (Le = me.barcodeData) == null ? void 0 : Le.stringData
            }),
            W.detectedQuad)) {
                const Ne = Ye(W.detectedQuad, W.videoWidth, W.videoHeight);
                De.push({
                    type: "card",
                    value: {
                        [s === B.Back && _ ? "back" : "barcode"]: {
                            "top-left": Ne.topLeft,
                            "top-right": Ne.topRight,
                            "bottom-left": Ne.bottomLeft,
                            "bottom-right": Ne.bottomRight
                        }
                    }
                })
            }
        } else if (s === B.Front) {
            const me = W.microblinkResult;
            if (me) {
                if (De.push({
                    type: "viz",
                    value: {
                        "name-first": me.firstName,
                        "name-last": me.lastName,
                        "identification-number": me.documentNumber,
                        address: me.address,
                        birthdate: me.dateOfBirth.originalString,
                        "expiration-date": me.dateOfExpiry.originalString
                    }
                }),
                c === "pp") {
                    const Ne = me.mrz;
                    De.push({
                        type: "mrz",
                        value: Ne.rawMRZString
                    })
                }
                if (W.detectedQuad) {
                    const Ne = Ye(W.detectedQuad, W.videoWidth, W.videoHeight);
                    De.push({
                        type: "card",
                        value: {
                            front: {
                                "top-left": Ne == null ? void 0 : Ne.topLeft,
                                "top-right": Ne == null ? void 0 : Ne.topRight,
                                "bottom-left": Ne == null ? void 0 : Ne.bottomLeft,
                                "bottom-right": Ne == null ? void 0 : Ne.bottomRight
                            }
                        }
                    })
                }
                De.push({
                    type: "classification",
                    value: {
                        type: me.classInfo.documentType ? Kg(me.classInfo.documentType) : null,
                        country: me.classInfo.country ? Yg(me.classInfo.country) : null,
                        region: me.classInfo.region ? zg(me.classInfo.region) : null
                    }
                })
            }
        }
        d && J.logAmplitude("government-id.microblink.capture", {
            processingTime: W.processingTime / 1e3,
            captureTime: se != null ? (performance.now() - se) / 1e3 : void 0,
            side: s,
            idClass: c,
            captureMethod: oe,
            parsedViz: De.find(me => me.type === "viz") != null,
            parsedMrz: De.find(me => me.type === "mrz") != null,
            parsedCard: De.find(me => me.type === "card") != null,
            parsedClassification: De.find(me => me.type === "classification") != null,
            parsedPdf417: De.find(me => me.type === "pdf417") != null
        }),
        await n([W.imageDataUri], oe, de, De, W.microblinkRecognizerName),
        _e.current = !0
    }
      , Ce = s === B.Back && R ? Nm[B.Front] : s === B.Back && _ ? yE : Nm[s];
    return i.jsx($d, {
        handleCapture: ({captureMethod: W, params: oe, cameraInspectionData: de}) => qe(oe, W, de),
        handleFailed: l,
        detectInterval: xE,
        labelTakePhoto: r,
        videoConstraints: a,
        triggerConfigs: Ce,
        paramsFromVideoFrame: Z,
        shouldSubmit: xe,
        hasValidQuad: W => RE(s, W, _),
        renderOverlay: o,
        handleTrigger: u,
        delayUntilManualCaptureMs: t,
        triggerOverride: ye ? wE : null,
        shouldDisplayCameraSelector: b,
        cameraSelectOptions: p,
        selectedCamera: h,
        handleCameraChange: m,
        overlayReady: C,
        overlayRef: S,
        overlayCaptureWindowRef: v,
        previewViewfinderRef: x,
        isShortBarcodeOverlay: E,
        submitButtonStyles: T,
        showHelpButton: F,
        helpButtonIconColor: O,
        helpButtonLabel: N,
        renderAutoCapturePill: U,
        renderHelpModal: V,
        scannerType: "microblink",
        uiReady: ne,
        videoReady: L,
        disableCaptureClient: !0,
        assets: H,
        captureOverlay: q,
        captureFrameLabel: ee,
        hint: Y,
        prompt: ae,
        requiresSide: s,
        governmentIdClass: c
    })
}
;
var Al = (e => (e[e.DetectedGlare = 0] = "DetectedGlare",
e[e.DetectedLowLight = 1] = "DetectedLowLight",
e[e.Capture = 2] = "Capture",
e[e.HoldStill = 3] = "HoldStill",
e[e.MoveCloser = 4] = "MoveCloser",
e[e.None = 5] = "None",
e))(Al || {});
const DE = 250
  , Om = .3
  , OE = .27
  , LE = .32
  , FE = .25
  , ME = .3
  , BE = .37
  , VE = [{
    type: 5,
    shouldShow: () => !0,
    showAfterFrames: 0,
    hideAfterFrames: 0,
    getPrompt: () => ""
}]
  , UE = [{
    type: 0,
    shouldShow: HE,
    showAfterFrames: 2,
    hideAfterFrames: 4,
    getPrompt: ({t: e}) => e("government-id-scanner.hint.detected-glare")
}, {
    type: 2,
    shouldShow: e => e.currentTrigger === 3,
    showAfterFrames: 5,
    hideAfterFrames: 999999,
    getPrompt: ({t: e}) => e("government-id-scanner.hint.hold-still")
}, {
    type: 3,
    shouldShow: Gd,
    showAfterFrames: 2,
    hideAfterFrames: 2,
    getPrompt: ({t: e}) => e("government-id-scanner.hint.hold-still")
}, {
    type: 4,
    shouldShow: ab,
    showAfterFrames: 2,
    hideAfterFrames: 4,
    getPrompt: ({t: e}) => e("government-id-scanner.hint.move-closer")
}, {
    type: 1,
    shouldShow: qE,
    showAfterFrames: 2,
    hideAfterFrames: 4,
    getPrompt: ({t: e}) => e("government-id-scanner.hint.detected-low-light")
}, {
    type: 5,
    shouldShow: () => !0,
    showAfterFrames: 0,
    hideAfterFrames: 0,
    getPrompt: () => ""
}];
function HE(e) {
    return e.glareRatio > 2e-4 && (ab(e) || Gd(e))
}
function qE(e) {
    return rc(e.luminosityData)
}
function ab(e) {
    const {faceBoundingBox: t} = e;
    if (t == null)
        return !1;
    const n = 1.5
      , r = new wp((t.left - .5) * n + .5,(t.top - .5) * n + .5,(t.right - .5) * n + .5,(t.bottom - .5) * n + .5);
    return Gd({
        ...e,
        faceBoundingBox: r
    })
}
function Gd({isPassport: e, faceBoundingBox: t}) {
    if (t == null)
        return !1;
    if (e)
        return t.left + t.width / 2 < FE && t.width < ME + .05 && t.height < BE + .05;
    {
        const n = t.left + t.width / 2;
        return (n < Om || n > 1 - Om) && t.width < OE + .05 && t.height < LE + .05
    }
}
const $E = .3
  , GE = ({delayUntilManualCaptureMs: e=0, autoCaptureEnabled: t, setAutoCaptureReady: n, handleCapture: r, handleError: o, isPassport: a, labelTakePhoto: s, renderOverlay: c, videoConstraints: l, handleTrigger: d, handleCameraChange: u, selectedCamera: m, cameraSelectOptions: h, shouldDisplayCameraSelector: p, overlayReady: b, overlayRef: C, overlayCaptureWindowRef: S, previewViewfinderRef: v, submitButtonStyles: x, showHelpButton: _, helpButtonIconColor: R, helpButtonLabel: E, enableGlareDetection: T, renderAutoCapturePill: F, renderHelpModal: O, uiReady: N, videoReady: U, assets: V, governmentIdClass: ne, requiresSide: L, captureOverlay: H, captureFrameLabel: q, hint: ee, prompt: Y}) => {
    const [ae,se] = f.useState(!1)
      , _e = Mt("inquiry:enable-low-light-detection-web")
      , Re = Mt("inquiry:disable-gov-id-face-api")
      , Pe = Mt("inquiry:enable-new-govid-buffer-image-method") ? Os : Ls;
    f.useEffect( () => {
        if (!Re)
            try {
                kt.loadModels().then(n)
            } catch {
                se(!0)
            }
    }
    , []);
    const Ae = async (be, re, z, Z, xe) => {
        let we = [];
        if (!ae && kt.isLoaded() && kt.isMediaLoaded(be)) {
            Pe({
                source: be,
                overlayCaptureWindowElement: S.current,
                canvasBuffer: re
            });
            try {
                we = await kt.detectFaces(re, {
                    scoreThreshold: $E
                })
            } catch (qe) {
                o(qe, "capture"),
                se(!0)
            }
        }
        let Ye;
        return we.length === 1 && (Ye = we[0].box.rescale({
            width: 1 / re.width,
            height: 1 / re.height
        })),
        {
            currentTrigger: Z.getTriggered().getType(),
            faceBoundingBox: Ye,
            glareRatio: T ? eo(re) : 0,
            luminosityData: _e ? Cr(re, xe) : null,
            isPassport: a
        }
    }
      , Te = (be, re) => re.getTriggered().getType() === Al.Capture;
    return i.jsx($d, {
        handleCapture: ({imageSrcs: be, captureMethod: re, cameraInspectionData: z}) => r(be, re, z),
        handleFailed: o,
        detectInterval: DE,
        labelTakePhoto: s,
        videoConstraints: l,
        triggerConfigs: t ? UE : VE,
        paramsFromVideoFrame: Ae,
        shouldSubmit: Te,
        hasValidQuad: be => be.currentTrigger === Al.HoldStill,
        renderOverlay: c,
        handleTrigger: d,
        delayUntilManualCaptureMs: t ? e : 0,
        shouldDisplayCameraSelector: p,
        cameraSelectOptions: h,
        selectedCamera: m,
        handleCameraChange: u,
        overlayReady: b,
        overlayRef: C,
        overlayCaptureWindowRef: S,
        previewViewfinderRef: v,
        submitButtonStyles: x,
        showHelpButton: _,
        helpButtonIconColor: R,
        helpButtonLabel: E,
        renderAutoCapturePill: F,
        renderHelpModal: O,
        scannerType: "governmentId",
        uiReady: N,
        videoReady: U,
        assets: V,
        governmentIdClass: ne,
        captureOverlay: H,
        captureFrameLabel: q,
        hint: ee,
        prompt: Y,
        requiresSide: L
    })
}
  , WE = g.div.withConfig({
    displayName: "InquiryGovernmentIdCaptureViewRedesign__AutoCaptureCircle",
    componentId: "sc-whyqox-0"
})(["width:6px;height:6px;border-radius:3px;background-color:currentcolor;margin-right:4px;"])
  , YE = g.div.withConfig({
    displayName: "InquiryGovernmentIdCaptureViewRedesign__AutoCapturePill",
    componentId: "sc-whyqox-1"
})(["background-color:rgba(255,255,255,0.15);border-radius:1000px;color:", ";display:flex;align-items:center;justify-content:center;font-size:12px;line-height:150%;max-width:50%;opacity:", ";padding:4px 8px;text-align:center;transition:opacity ", ";z-index:", ";"], ({enabled: e}) => e ? I.Color.PrimaryWhite : I.Color.CoreSlate500, ({visible: e}) => e ? 1 : 0, wa.fast, wt.footer)
  , zE = 450
  , KE = g.div.withConfig({
    displayName: "InquiryGovernmentIdCaptureViewRedesign__TitleCenterer",
    componentId: "sc-whyqox-2"
})(["display:flex;justify-content:center;"])
  , QE = g.div.withConfig({
    displayName: "InquiryGovernmentIdCaptureViewRedesign__VideoWrapperColumnSizer",
    componentId: "sc-whyqox-3"
})(["position:relative;width:100%;max-width:", ";"], ({restrictInlineColumnWidth: e}) => e ? `${zE}px` : null)
  , ZE = g.div.withConfig({
    displayName: "InquiryGovernmentIdCaptureViewRedesign__TitlePositioner",
    componentId: "sc-whyqox-4"
})(["position:absolute;top:72px;left:10%;right:10%;*{color:", " !important;}z-index:", ";"], I.Color.PrimaryWhite, wt.navbar);
function JE({assets: e, localizations: t, featureFlags: n, governmentIdClass: r, autoCaptureConfig: o, handleCapture: a, handleError: s, requiresSide: c, captureOverlay: l, shouldUseMicroblink: d, videoConstraints: u, webCameraManualCaptureDelayMs: m, barcodeCameraManualCaptureDelayMs: h, isRetake: p, handleCameraChange: b, selectedCamera: C, cameraSelectOptions: S, shouldDisplayCameraSelector: v, requireFullBack: x, allowIncompleteBarcode: _, uiReady: R, videoReady: E}) {
    var Ve, ve, Le;
    const [T] = G()
      , F = t.title ? null : t["prompt-override"] || fi(T, ["government-id.capture.prompt"], null, r, c)
      , [O,N] = f.useState(null)
      , U = f.useCallback(me => {
        const Ne = me.getPrompt({
            t: T,
            localizations: t
        });
        N(Ne)
    }
    , [T, t])
      , [V,{enable: ne}] = rt(n["inquiry:enable-experimental-govid-perf-improvements"] && n["inquiry:enable-experimental-govid-perf-improvements-percentage"])
      , {base: L, buttons: H, captureFeedBox: q, captureHint: ee, captureHintIcon: Y, captureButtons: ae, captureHelpButtonIcon: se, captureOverlayHeaderButton: _e} = Sn()
      , Re = (ve = A((Ve = se == null ? void 0 : se.stroke) == null ? void 0 : Ve.color)) != null ? ve : I.Color.PrimaryWhite
      , ye = f.useRef()
      , Pe = f.useRef()
      , Ae = f.useRef()
      , Te = ((Le = o == null ? void 0 : o["rule-sets"]) == null ? void 0 : Le.length) > 0
      , be = (o == null || Te) && (d || ![B.Back, B.PassportSignature].includes(c))
      , [re,{enable: z}] = rt(!1)
      , Z = c === B.BarcodePdf417
      , xe = c === B.Front
      , we = c === B.Back
      , Ye = Z || xe || we
      , qe = Kn()
      , Ce = ({hasDetectedQuad: me, isCameraReady: Ne, renderUnderOverlayComponents: bt, mirrored: St}) => i.jsx(eb, {
        styles: {
            base: L,
            captureBox: q,
            captureHintIcon: Y,
            captureOverlayHeaderButton: _e,
            hint: ee == null ? void 0 : ee.textStyle
        },
        assets: e,
        hasDetectedQuad: me,
        isCameraReady: Ne,
        isShortBarcodeOverlay: Z,
        governmentIdClass: r,
        requiresSide: c,
        captureOverlay: l,
        mirrored: St,
        captureFrameLabel: _i(t, r, c),
        prompt: F,
        hint: O,
        scanning: be && re,
        collapsed: !1,
        expandOnMount: !p && !V,
        onReady: ne,
        overlayRef: ye,
        overlayCaptureWindowRef: Pe,
        previewViewfinderRef: Ae,
        renderUnderOverlayComponents: bt,
        videoReady: E
    })
      , W = () => t.title ? i.jsx(KE, {
        children: i.jsx(QE, {
            restrictInlineColumnWidth: D.isInline,
            children: i.jsx(ZE, {
                children: i.jsx(ct, {
                    styles: L == null ? void 0 : L.titleStyle,
                    children: t.title
                })
            })
        })
    }) : null
      , oe = ({isCameraReady: me}) => i.jsxs(YE, {
        enabled: be && re,
        visible: me,
        children: [i.jsx(WE, {}), i.jsx("span", {
            children: be && re ? t["auto-capture-on"] : t["auto-capture-off"]
        })]
    })
      , de = ({isOpen: me, onClose: Ne}) => {
        if (Z)
            return i.jsx(Dc, {
                isOpen: me,
                onClose: Ne,
                title: t["barcode-help-modal-title"],
                prompt: "",
                warning: t["barcode-help-modal-warning"],
                pictograph: i.jsx(Ue, {
                    customImage: e["barcode-help-modal-pictograph"],
                    alt: "barcode help modal pictograph",
                    children: i.jsx(V1, {})
                }),
                hints: t["barcode-help-modal-hints"],
                continueBtnLabel: t["barcode-help-modal-continue-btn"],
                styles: {
                    base: L,
                    buttons: H,
                    captureHintIcon: Y
                }
            });
        if (xe)
            return i.jsx(Dc, {
                isOpen: me,
                onClose: Ne,
                title: t["id-front-help-modal-title"],
                prompt: t["id-front-help-modal-prompt"],
                pictograph: i.jsx(Ue, {
                    customImage: e["id-front-help-modal-pictograph"],
                    alt: "ID front help modal pictograph",
                    children: i.jsx(U1, {})
                }),
                hints: qe ? t["id-front-help-modal-hints-mobile"] : t["id-front-help-modal-hints-desktop"],
                continueBtnLabel: t["id-front-help-modal-continue-btn"],
                styles: {
                    base: L,
                    buttons: H,
                    captureHintIcon: Y
                }
            });
        if (we)
            return i.jsx(Dc, {
                isOpen: me,
                onClose: Ne,
                title: t["id-back-help-modal-title"],
                prompt: t["id-back-help-modal-prompt"],
                pictograph: i.jsx(Ue, {
                    customImage: e["id-back-help-modal-pictograph"],
                    alt: "ID back help modal pictograph",
                    children: i.jsx(H1, {})
                }),
                hints: qe ? t["id-back-help-modal-hints-mobile"] : t["id-back-help-modal-hints-desktop"],
                continueBtnLabel: t["id-back-help-modal-continue-btn"],
                styles: {
                    base: L,
                    buttons: H,
                    captureHintIcon: Y
                }
            })
    }
      , De = () => {
        if (be && d) {
            const me = c === B.BarcodePdf417 ? h : m;
            return i.jsx(PE, {
                setAutoCaptureReady: z,
                delayUntilManualCaptureMs: me,
                handleCapture: a,
                handleError: s,
                handleTrigger: U,
                labelTakePhoto: T("government-id.capture.btn-take-photo"),
                renderOverlay: Ce,
                requiresSide: c,
                governmentIdClass: r,
                videoConstraints: u,
                shouldDisplayCameraSelector: v,
                cameraSelectOptions: S,
                selectedCamera: C,
                handleCameraChange: b,
                overlayReady: V,
                overlayRef: ye,
                overlayCaptureWindowRef: Pe,
                previewViewfinderRef: Ae,
                requireFullBack: x,
                allowIncompleteBarcode: _,
                isShortBarcodeOverlay: Z,
                submitButtonStyles: ae == null ? void 0 : ae.submit,
                showHelpButton: Ye,
                helpButtonIconColor: Re,
                helpButtonLabel: t["btn-help"],
                renderAutoCapturePill: oe,
                renderHelpModal: de,
                uiReady: R,
                videoReady: E,
                assets: e,
                captureOverlay: l,
                captureFrameLabel: _i(t, r, c),
                hint: O,
                prompt: F
            })
        } else
            return c === B.BarcodePdf417 ? i.jsx(CE, {
                setAutoCaptureReady: z,
                delayUntilManualCaptureMs: h,
                handleCapture: a,
                handleError: s,
                handleTrigger: U,
                labelTakePhoto: T("government-id.capture.btn-take-photo"),
                renderOverlay: Ce,
                requiresSide: c,
                videoConstraints: u,
                shouldDisplayCameraSelector: v,
                cameraSelectOptions: S,
                selectedCamera: C,
                handleCameraChange: b,
                overlayReady: V,
                overlayRef: ye,
                overlayCaptureWindowRef: Pe,
                previewViewfinderRef: Ae,
                isShortBarcodeOverlay: Z,
                submitButtonStyles: ae == null ? void 0 : ae.submit,
                showHelpButton: Ye,
                helpButtonIconColor: Re,
                helpButtonLabel: t["btn-help"],
                renderAutoCapturePill: oe,
                renderHelpModal: de,
                uiReady: R,
                videoReady: E,
                assets: e,
                governmentIdClass: r,
                captureOverlay: l,
                captureFrameLabel: _i(t, r, c),
                hint: O,
                prompt: F
            }) : i.jsx(GE, {
                autoCaptureEnabled: be,
                setAutoCaptureReady: z,
                delayUntilManualCaptureMs: m,
                handleCapture: a,
                handleTrigger: U,
                handleError: s,
                isPassport: r === "pp" || r === "ipp",
                labelTakePhoto: t["btn-take-photo"],
                renderOverlay: Ce,
                requiresSide: c,
                videoConstraints: u,
                shouldDisplayCameraSelector: v,
                cameraSelectOptions: S,
                selectedCamera: C,
                handleCameraChange: b,
                overlayReady: V,
                overlayRef: ye,
                overlayCaptureWindowRef: Pe,
                previewViewfinderRef: Ae,
                submitButtonStyles: ae == null ? void 0 : ae.submit,
                showHelpButton: Ye,
                helpButtonIconColor: Re,
                helpButtonLabel: t["btn-help"],
                renderAutoCapturePill: oe,
                renderHelpModal: de,
                uiReady: R,
                videoReady: E,
                assets: e,
                governmentIdClass: r,
                captureOverlay: l,
                captureFrameLabel: _i(t, r, c),
                hint: O,
                prompt: F
            })
    }
    ;
    return i.jsxs(i.Fragment, {
        children: [W(), De()]
    })
}
function sb(e, t, n=.92) {
    return new Promise( (r, o) => {
        const a = document.createElement("img");
        a.src = e,
        a.onload = () => {
            a.onload = void 0,
            a.onerror = void 0;
            const [s,c] = hi();
            a.width > a.height ? (s.width = t,
            s.height = s.width / a.width * a.height) : (s.height = t,
            s.width = s.height / a.height * a.width);
            const l = s.getContext("2d");
            l.drawImage(a, 0, 0, s.width, s.height);
            const d = s.toDataURL("image/jpeg", n);
            l == null || l.clearRect(0, 0, s.width, s.height),
            c(),
            r(d)
        }
        ,
        a.onerror = () => {
            a.onload = void 0,
            a.onerror = void 0,
            o()
        }
    }
    )
}
function cb(e, t, n) {
    e.width > e.height ? (t.width = n,
    t.height = t.width / e.width * e.height) : (t.height = n,
    t.width = t.height / e.height * e.width);
    const r = t.getContext("2d");
    r == null || r.clearRect(0, 0, t.width, t.height),
    r == null || r.drawImage(e, 0, 0, t.width, t.height)
}
const XE = 1e6
  , ek = 2e3
  , tk = 12e4
  , nk = e => {
    var we, Ye, qe, Ce, W, oe;
    const {config: t, featureFlags: n, inquiry: r, match: o, governmentIdClass: a, autoclassificationCountryCode: s, didAutoclassificationIdSelection: c, idClassesByCountries: l, videoConstraints: d, history: u, cameraOptions: m, styles: h, saveVideoCaptureEnabled: p} = e
      , b = parseInt(o.params.step, 10)
      , C = Mt("inquiry:auto-classification")
      , {governmentIdClass: S, selectedCountryCode: v, autoclassificationIdClassesConfig: x} = cc(t, b, c, a, s, l, C)
      , [_] = G()
      , [R,E] = f.useState(!1)
      , T = f.useRef(void 0)
      , F = Ki()
      , O = Od()
      , N = f.useRef(!1)
      , U = Mt("inquiry:increase-video-recording-time")
      , V = f.useMemo( () => b === 0 ? $e.shouldInitializeVideo(t == null ? void 0 : t["enabled-capture-file-types"]) : e.videoCaptureEnabled, [])
      , [ne,L] = f.useState(!V);
    let H = [];
    m != null && (m.backCameras.length > 0 ? H = m.backCameras : H = m.frontCameras);
    const q = d.deviceId
      , ee = navigator.userAgent.includes("Android") && n["verify:android-select-camera"]
      , Y = pa(t, S, b, c, x)
      , ae = de => {
        var Le;
        const De = de.deviceId
          , Ve = de.label;
        J.logAmplitude("government-id.camera.changed", {
            deviceId: De,
            cameraName: Ve
        }),
        Nn.dispose();
        const ve = {
            ...d,
            deviceId: {
                exact: De
            }
        };
        Nn.prepare({
            video: ve,
            audio: V && Ui(t)
        }, n),
        e.setVideoConstraints(ve),
        (Le = $e.currentClient) == null || Le.destroy()
    }
    ;
    f.useEffect( () => {
        if (e.inquiry == null) {
            D.redirectToStart();
            return
        }
        ee && e.loadCameraOptions()
    }
    , []),
    f.useEffect( () => {
        const de = Y ? e.uploads[Y] != null : !1;
        V && Y === "front" && de && ($e.destroy("government-id", !0),
        $e.decrementAttempts());
        const De = V ? async () => {
            const Ve = {
                onTimeExceeded: () => {
                    var Le;
                    const ve = Y ? e.uploads[Y] : null;
                    ve && (ve == null ? void 0 : ve.length) > 0 ? (Le = $e.currentClient) == null || Le.stopRecording() : (e.history.replace(Ut(0, Ke.Prompt)),
                    e.showMessage(_("government-id.capture.recording-timeout")))
                }
                ,
                onError: ve => {
                    J.logAmplitude("government-id.video.errored", {
                        pageType: "capture",
                        message: `${veinstanceof Error ? ve == null ? void 0 : ve.message : JSON.stringify(ve)}`
                    }),
                    $e.shouldReinitializeWithUpload(ve, t == null ? void 0 : t["video-capture-methods"]) ? ($e.destroy("government-id"),
                    De == null || De()) : (u.replace(Ut(0, Ke.Prompt)),
                    e.showMessage(_("errors.network")),
                    Be(`MediaRecorder error ${veinstanceof Error ? ve.message : JSON.stringify(ve)}`))
                }
                ,
                onStart: ve => {
                    var Le;
                    L(!0),
                    J.logAmplitude("government-id.video.start", {
                        isRestart: ve,
                        type: (Le = $e.currentClient) == null ? void 0 : Le.type
                    })
                }
            };
            if (b === 0) {
                const ve = $e.getNewClient(t == null ? void 0 : t["video-capture-methods"])
                  , Le = await navigator.mediaDevices.getUserMedia({
                    video: d != null ? d : !0,
                    audio: Ui(t)
                });
                if (F()) {
                    const me = ve.init({
                        stream: Le,
                        bitRate: Ig(ve.type, n),
                        maxRecordingTime: tk,
                        minRecordingTime: U ? 1e4 : void 0,
                        jwt: t == null ? void 0 : t["video-session-jwt"],
                        ...Ve
                    });
                    T.current = me,
                    ve.startRecording(),
                    $e.recordVideoAttempt(),
                    J.logAmplitude("government-id.video.initialized", {
                        type: ve.type,
                        attempt: $e.videoAttempts
                    })
                }
            } else {
                const ve = $e.currentClient
                  , Le = ve == null ? void 0 : ve.subscribe(Ve);
                L(!0),
                T.current = Le
            }
        }
        : void 0;
        return De == null || De(),
        () => {
            var Ve;
            (Ve = $e.currentClient) == null || Ve.unsubscribe(T.current)
        }
    }
    , []),
    f.useEffect( () => {
        b === 0 && p(V)
    }
    , [V, b, p]),
    f.useEffect( () => {
        try {
            n != null && n["inquiry:enable-amplitude-logging-on-combined-step-page-enter"] && J.logAmplitude("government-id.capture-page.entered", {
                currentSide: Y,
                selectedCountryCode: v,
                governmentIdClass: S
            })
        } catch {}
    }
    , []);
    const se = !In() && ba(window.location.host) && !R && Ca(Y, v, S, n)
      , _e = (t == null ? void 0 : t["govid-design-version"]) === _o.V1
      , Re = Kn()
      , ye = async (de, De, Ve, ve, Le) => {
        if (e.uiStatus === tn.Ready)
            try {
                if (_n(),
                de = de.filter(Ne => Ne != null),
                e.updateCameraInspectionData(Ve),
                e.saveCaptureMethod(De),
                J.logAmplitude("government-id.camera.capture", {
                    imageSizes: de.map(Ne => Ne.length),
                    currentSide: Y,
                    captureMethod: De
                }),
                de.some(Ne => Ne.length > XE)) {
                    const Ne = [];
                    for (const bt of de)
                        Ne.push(await sb(bt, ek, void 0));
                    de = Ne
                }
                const me = de.map( (Ne, bt) => ({
                    filename: `photo${bt + 1}.jpg`,
                    fileType: mo,
                    dataUrl: Ne,
                    captureMethod: De,
                    captureFlow: Io.Guided
                }));
                e.uploadFiles(Y, me, ve, Le),
                D.onEvent(Oe.DocumentCameraCapture),
                _e ? (e.history.entries[e.history.entries.length - 1].state = {
                    retake: !0
                },
                e.history.push(Ut(b, Ke.Check))) : e.history.index > 0 ? e.history.replace(Ut(b, Ke.CheckUpload)) : e.history.push(Ut(b, Ke.CheckUpload)),
                N.current = !0
            } catch (me) {
                Pe(me, "capture")
            } finally {}
    }
      , Pe = (de, De) => {
        var Ve, ve, Le, me;
        N.current || (De === "capture" && e.showMessage(_("government-id.capture.failed-screenshot")),
        de instanceof Xt ? (he(de, "warning", {
            ...de.originalError,
            state: De
        }, {
            jira: "PER-10182",
            videoEnabled: V.toString(),
            videoCaptureMethod: (Ve = $e.currentClient) == null ? void 0 : Ve.type
        }),
        De === "load" ? D.onEvent(Oe.LoadCameraFailed, {
            error: de.name,
            message: de.message
        }) : D.onEvent(Oe.CameraCaptureFailed, {
            error: de.name,
            message: de.message
        })) : de instanceof Error ? (he(de, "error", {
            state: De
        }, {
            jira: "PER-10182",
            videoEnabled: V.toString(),
            videoCaptureMethod: (ve = $e.currentClient) == null ? void 0 : ve.type
        }),
        De === "load" ? (D.onEvent(Oe.LoadCameraFailed, {
            error: de.name,
            message: de.message
        }),
        u.push(Ui(t) ? "verify/support/camera-microphone" : "/verify/support/camera")) : D.onEvent(Oe.CameraCaptureFailed, {
            error: de.name,
            message: de.message
        })) : (typeof de == "object" && Object.prototype.hasOwnProperty.call(de, "message") ? Be(de.message, "error", {
            ...de,
            state: De
        }, {
            jira: "PER-10182",
            videoEnabled: V.toString(),
            videoCaptureMethod: (Le = $e.currentClient) == null ? void 0 : Le.type
        }) : Be(de, "error", {
            state: De
        }, {
            jira: "PER-10182",
            videoEnabled: V.toString(),
            videoCaptureMethod: (me = $e.currentClient) == null ? void 0 : me.type
        }),
        De === "load" ? (D.onEvent(Oe.LoadCameraFailed, {
            message: de
        }),
        u.push(Ui(t) ? "verify/support/camera-microphone" : "/verify/support/camera")) : D.onEvent(Oe.CameraCaptureFailed, {
            message: de
        })),
        se && E(!0))
    }
    ;
    if (r == null || r.attributes["next-step"].type !== Ge.GovernmentId)
        return null;
    const Ae = Wi(t, "capture-page", {
        idClass: S,
        side: Y
    })
      , Te = (we = t == null ? void 0 : t.idclasses) == null ? void 0 : we.find(de => de.class === S)
      , be = (Ye = Te == null ? void 0 : Te["capture-page-configs"]) == null ? void 0 : Ye[b]
      , re = (qe = be == null ? void 0 : be["manual-capture-config"]["delay-ms"]) != null ? qe : t["web-camera-manual-capture-delay-ms"]
      , z = (Ce = be == null ? void 0 : be["manual-capture-config"]["delay-ms"]) != null ? Ce : t["barcode-camera-manual-capture-delay-ms"]
      , Z = be == null ? void 0 : be.overlay
      , xe = be == null ? void 0 : be["auto-capture-config"];
    return _e ? i.jsx(Rr, {
        value: h,
        children: i.jsx(JE, {
            assets: t.assets["capture-page"],
            localizations: Ae,
            requiresSide: Y,
            shouldUseMicroblink: se,
            featureFlags: n,
            governmentIdClass: S,
            captureOverlay: Z,
            autoCaptureConfig: xe,
            handleCapture: ye,
            handleError: Pe,
            webCameraManualCaptureDelayMs: re,
            barcodeCameraManualCaptureDelayMs: z,
            videoConstraints: d,
            isRetake: (W = e.history.location.state) == null ? void 0 : W.retake,
            shouldDisplayCameraSelector: ee,
            cameraSelectOptions: H,
            selectedCamera: (oe = q == null ? void 0 : q.exact) != null ? oe : "",
            handleCameraChange: ae,
            requireFullBack: Y === B.Back && (Re ? n["inquiry:enable-microblink-full-back-detection-mobile"] : n["inquiry:enable-microblink-full-back-detection-desktop"]),
            allowIncompleteBarcode: Y === B.Back && !Re && n["inquiry:enable-microblink-incomplete-barcode-detection-desktop"],
            uiReady: e.uiStatus === tn.Ready,
            videoReady: ne
        })
    }) : i.jsx(K5, {
        localizations: Ae,
        featureFlags: n,
        requiresSide: Y,
        shouldUseMicroblink: se,
        selectedCountryCode: v,
        governmentIdClass: S,
        handleCapture: ye,
        handleError: Pe,
        webCameraManualCaptureDelayMs: re,
        barcodeCameraManualCaptureDelayMs: z,
        videoConstraints: d,
        zoomFactor: O
    })
}
;
function ik(e) {
    return {
        styles: zi(e.inquiry),
        inquiry: e.inquiry.inquiry,
        config: dr(e),
        featureFlags: e.inquiry.featureFlags,
        governmentIdClass: e.verification.governmentIdClass,
        autoclassificationCountryCode: e.verification.autoclassificationCountryCode,
        didAutoclassificationIdSelection: !!e.verification.didAutoclassificationIdSelection,
        idClassesByCountries: e.verification.idClassesByCountries,
        videoConstraints: e.verification.videoConstraints,
        uploads: e.verification.uploads,
        cameraOptions: e.ui.cameraOptions,
        uiStatus: e.ui.status,
        videoCaptureEnabled: e.verification.videoCaptureEnabled
    }
}
const rk = {
    updateCameraInspectionData: ef,
    saveCaptureMethod: lr,
    saveVideoCaptureEnabled: mv,
    showMessage: ce,
    uploadFiles: $s,
    loadCameraOptions: ql,
    setVideoConstraints: So,
    setTransitionStart: _n,
    setUiReady: ut
}
  , ok = ke(ik, rk)(nk)
  , ak = g.div.withConfig({
    displayName: "InquiryGovernmentIdCheckView__Container",
    componentId: "sc-1i77ehf-0"
})(["display:flex;flex-direction:column;"])
  , sk = g("div").withConfig({
    displayName: "InquiryGovernmentIdCheckView__Header",
    componentId: "sc-1i77ehf-1"
})(["min-height:", ";margin-bottom:", "px;"], We.header, M.base * 4)
  , ck = g("div").withConfig({
    displayName: "InquiryGovernmentIdCheckView__ImagePositioner",
    componentId: "sc-1i77ehf-2"
})(["img{display:block;margin-left:auto;margin-right:auto;max-width:100%;max-height:320px;margin-bottom:", "px;}"], M.base * 2)
  , lk = g("div").withConfig({
    displayName: "InquiryGovernmentIdCheckView__Minify",
    componentId: "sc-1i77ehf-3"
})(["display:inline;img{height:12px;margin-bottom:4px;}"]);
function dk(e) {
    const {assets: t, currentUpload: n, localizations: r, handleContinue: o, handleRetry: a, isProcessing: s} = e
      , {base: c, buttons: l} = Sn();
    return ["image/jpeg", "image/png"].includes(n.fileType) ? i.jsxs(ak, {
        children: [i.jsxs(sk, {
            children: [i.jsx(ct, {
                styles: c == null ? void 0 : c.titleStyle,
                children: i.jsx(X, {
                    children: r.title
                })
            }), i.jsx(ot, {
                styles: c == null ? void 0 : c.textStyle,
                children: i.jsx(X, {
                    children: r.prompt
                })
            })]
        }), i.jsx(ck, {
            children: i.jsx(Ag, {
                src: n.dataUrl,
                alt: "upload preview"
            })
        }), i.jsxs(mt, {
            children: [i.jsx(fe, {
                id: "government_id__use-image",
                buttonType: Q.Primary,
                styles: l == null ? void 0 : l[Q.Primary],
                disabled: s,
                onClick: o,
                "data-test": "government-id-check__continue",
                children: s ? i.jsxs("span", {
                    children: [r.uploading, i.jsx(lk, {
                        children: i.jsx(Qi, {})
                    })]
                }) : r["btn-submit"]
            }), l == null && i.jsx(Xe, {
                height: 2
            }), i.jsx(fe, {
                id: "government_id__retake",
                buttonType: Q.Secondary,
                styles: l == null ? void 0 : l[Q.Secondary],
                disabled: s,
                onClick: a,
                "data-test": "government-id-check__retake",
                children: r["btn-retake"]
            })]
        })]
    }) : i.jsx(Rg, {
        customFileIcon: t["icon-file"],
        fileName: n.filename,
        isProcessing: s,
        handleContinue: o,
        handleRetry: a,
        title: r["confirm-title"],
        prompt: r["confirm-prompt"],
        uploading: r["confirm-uploading"],
        btnSubmit: r["confirm-btn-submit"],
        btnRetake: r["confirm-btn-retake"],
        titleStyles: c == null ? void 0 : c.titleStyle,
        textStyles: c == null ? void 0 : c.textStyle,
        buttonStyles: l
    })
}
const uk = g("h1").withConfig({
    displayName: "ThemedTitle__Title",
    componentId: "sc-1dzwaci-0"
})(["font-family:", ";color:", ";font-size:", ";font-weight:", ";line-height:", ";margin-bottom:", ";text-align:", ";"], ({theme: {fontFamilyTitle: e}}) => Gt(e), ({theme: e}) => e.colorFontTitle, ({theme: e}) => e.fontSizeHeader, ({theme: e}) => e.headerFontWeight, ({theme: e}) => e.lineHeightHeader, ({theme: e}) => e.headerMarginBottom, ({theme: e}) => e.textAlign)
  , et = ({styles: e, ...t}) => i.jsx(i.Fragment, {
    children: e != null ? i.jsx(Sd, {
        ...t,
        styles: e
    }) : i.jsx(uk, {
        ...t,
        tabIndex: -1
    })
})
  , mk = 720
  , hk = g("div").withConfig({
    displayName: "InquiryGovernmentIdCheckViewRedesign__VideoWrapperFullscreen",
    componentId: "sc-1y4imlj-0"
})(["background:", ";overflow:hidden;position:relative;min-height:", "px;display:flex;justify-content:center;", ";", ";"], Fe.black, Ra, ({flowType: e}) => e === Tt.Inline ? `
      height: ${mk}px;
    ` : `
      @media ${jt.isMobile} {
        height: 100%;
        min-height: 140vw;
      }
    `, D.isDashboardFLE && "height: 100%;")
  , pk = 450
  , fk = g.div.withConfig({
    displayName: "InquiryGovernmentIdCheckViewRedesign__VideoWrapperColumnSizer",
    componentId: "sc-1y4imlj-1"
})(["position:relative;width:100%;max-width:", ";"], ({restrictInlineColumnWidth: e}) => e ? `${pk}px` : null)
  , gk = g.div.withConfig({
    displayName: "InquiryGovernmentIdCheckViewRedesign__ButtonRowFullscreen",
    componentId: "sc-1y4imlj-2"
})(["width:100%;position:absolute;bottom:", ";display:flex;flex-direction:column;z-index:", ";"], I.Spacing[5], wt.footer)
  , Lm = g.div.withConfig({
    displayName: "InquiryGovernmentIdCheckViewRedesign__ButtonWrapper",
    componentId: "sc-1y4imlj-3"
})(["margin-bottom:", ";margin-left:10%;margin-right:10%;"], I.Spacing[4])
  , Fm = {
    ...Fr,
    colorButtonPrimary: Fe.white,
    colorFontButtonPrimary: Fe.black,
    colorButtonSecondary: Fe.white,
    colorFontButtonSecondary: Fe.white,
    colorButtonSecondaryFill: Fe.black,
    borderWidth: "1.5px",
    borderRadius: "24px"
}
  , Mm = g(ua).withConfig({
    displayName: "InquiryGovernmentIdCheckViewRedesign__ThemedButton",
    componentId: "sc-1y4imlj-4"
})([""])
  , bk = g.div.withConfig({
    displayName: "InquiryGovernmentIdCheckViewRedesign__TitlePositioner",
    componentId: "sc-1y4imlj-5"
})(["position:absolute;top:72px;left:10%;right:10%;*{color:", " !important;}z-index:", ";"], I.Color.PrimaryWhite, wt.navbar)
  , Ck = g("img").withConfig({
    displayName: "InquiryGovernmentIdCheckViewRedesign__CapturedImage",
    componentId: "sc-1y4imlj-6"
})(["width:100%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);"]);
function xk(e) {
    const {assets: t, requiresSide: n, governmentIdClass: r, captureOverlay: o, currentUpload: a, localizations: s, handleContinue: c, handleRetry: l, reverseSide: d, collapsed: u, flipped: m, isProcessing: h, featureFlags: p, uploadProgress: b} = e
      , {base: C, reviewImageBox: S, captureOverlayHeaderButton: v, captureHint: x, captureHintIcon: _, captureButtons: R} = Sn()
      , E = n === B.BarcodePdf417
      , T = p["inquiry:enable-experimental-govid-perf-improvements"] && p["inquiry:enable-experimental-govid-perf-improvements-percentage"]
      , F = f.useRef()
      , O = s["title-confirm-capture"] ? null : s.prompt;
    return i.jsx(i.Fragment, {
        children: i.jsx(hk, {
            flowType: D.flowType,
            children: i.jsxs(fk, {
                restrictInlineColumnWidth: D.isInline,
                children: [s["title-confirm-capture"] ? i.jsx(bk, {
                    children: i.jsx(et, {
                        styles: C == null ? void 0 : C.titleStyle,
                        children: s["title-confirm-capture"]
                    })
                }) : null, T ? i.jsx(Fd, {
                    assets: t,
                    styles: {
                        base: C,
                        captureBox: S,
                        captureOverlayHeaderButton: v,
                        hint: x == null ? void 0 : x.textStyle
                    },
                    governmentIdClass: r,
                    requiresSide: n,
                    captureOverlay: o,
                    captureFrameLabel: _i(s, r, n),
                    reverseCaptureFrameLabel: _i(s, r, d),
                    prompt: O,
                    reverseSide: d,
                    collapsed: u,
                    flipped: m,
                    capturing: !0,
                    renderCaptureWindowContents: () => i.jsx(Ck, {
                        alt: _i(s, r, n),
                        "data-test": "scanner-overlay__captured-image",
                        src: a.dataUrl
                    }),
                    isShortBarcodeOverlay: E,
                    isAnimated: !0
                }) : i.jsx(eb, {
                    assets: t,
                    styles: {
                        base: C,
                        captureBox: S,
                        captureHintIcon: _,
                        captureOverlayHeaderButton: v,
                        hint: x == null ? void 0 : x.textStyle
                    },
                    governmentIdClass: r,
                    requiresSide: n,
                    captureOverlay: o,
                    captureFrameLabel: _i(s, r, n),
                    reverseCaptureFrameLabel: _i(s, r, d),
                    prompt: O,
                    reverseSide: d,
                    collapsed: u,
                    flipped: m,
                    capturing: !0,
                    capturedImageUrl: a.dataUrl,
                    isShortBarcodeOverlay: E,
                    previewViewfinderRef: F,
                    videoReady: !0
                }), !u && i.jsxs(gk, {
                    children: [i.jsx(Lm, {
                        children: i.jsx(Mm, {
                            buttonType: Q.Primary,
                            theme: Fm,
                            disabled: h,
                            styles: R == null ? void 0 : R.submit,
                            id: "government_id__check__continue",
                            onClick: c,
                            "data-test": "government-id-check__continue",
                            isPending: h,
                            uploadProgress: h && b ? Math.round(b * 100) : null,
                            pendingContent: s.uploading,
                            children: s["btn-submit"]
                        })
                    }), i.jsx(Lm, {
                        children: i.jsx(Mm, {
                            buttonType: Q.Secondary,
                            styles: R == null ? void 0 : R.retake,
                            theme: Fm,
                            disabled: h,
                            id: "government_id__retake",
                            onClick: l,
                            "data-test": "government-id-check__retake",
                            children: s["btn-retake"]
                        })
                    })]
                })]
            })
        })
    })
}
const Cc = si([e => e.inquiry.featureFlags], e => ({
    featureFlags: e
}));
function vk(e) {
    var Ye;
    const {clientExtractions: t, clientExtractionSource: n, config: r, featureFlags: o, governmentIdClass: a, idClassesByCountries: s, autoclassificationCountryCode: c, didAutoclassificationIdSelection: l, inquiry: d, routingInputs: u, uploads: m, cameraInspectionData: h, status: p, styles: b, uploadProgress: C} = e
      , S = Vt()
      , v = M0()
      , x = parseInt(v.params.step, 10)
      , _ = Mt("inquiry:auto-classification")
      , {governmentIdClass: R, selectedCountryCode: E, autoclassificationIdClassesConfigState: T} = cc(r, x, l, a, c, s, _)
      , [F] = G()
      , [O,N] = f.useState(!1)
      , [U,V] = f.useState(!1)
      , [ne] = f.useState( () => pa(r, R, x, l, T))
      , L = f.useRef(null)
      , H = f.useRef(null)
      , q = m[ne]
      , ee = tl(q)
      , Y = UR(r, R, x + 1, T)
      , ae = f.useMemo( () => !vl(m) && e.videoCaptureEnabled, []);
    f.useEffect( () => {
        const {inquiry: qe} = e;
        if (qe == null) {
            D.redirectToStart();
            return
        }
        if (ne == null) {
            D.redirectToStart();
            return
        }
        (q == null || q.length === 0 || !ee) && (e.showMessage(F("errors.network")),
        S.goBack())
    }
    , []),
    f.useEffect( () => {
        var qe;
        return ae && ($e.currentClient == null && he(new Error("MediaRecorder: client is undefined")),
        H.current = (qe = $e.currentClient) == null ? void 0 : qe.subscribe({
            onRecordingComplete: (Ce, W) => {
                var oe, de;
                L.current || (L.current = Ce,
                Ae(),
                J.logAmplitude("government-id.video.stop", {
                    elapsedTime: W,
                    type: (oe = $e.currentClient) == null ? void 0 : oe.type,
                    chunksLength: Ce.type === "upload" ? (de = Ce.chunks) == null ? void 0 : de.length : 0
                }))
            }
            ,
            onError: Ce => {
                J.logAmplitude("government-id.video.errored", {
                    pageType: "check",
                    message: `${Ceinstanceof Error ? Ce == null ? void 0 : Ce.message : JSON.stringify(Ce)}`
                }),
                Be(`MediaRecorder error ${Ceinstanceof Error ? Ce == null ? void 0 : Ce.message : JSON.stringify(Ce)}`),
                (!Y || !L.current) && (S.replace(Ut(0, Ke.Prompt)),
                e.showMessage(F("errors.network")))
            }
            ,
            onTimeExceeded: () => {
                var Ce;
                Y && !L.current ? (Ce = $e.currentClient) == null || Ce.stopRecording() : (S.replace(Ut(0, Ke.Prompt)),
                e.showMessage(F("government-id.capture.recording-timeout")))
            }
        })),
        () => {
            var Ce;
            (Ce = $e.currentClient) == null || Ce.unsubscribe(H.current)
        }
    }
    , []),
    f.useEffect( () => {
        try {
            o != null && o["inquiry:enable-amplitude-logging-on-combined-step-page-enter"] && J.logAmplitude("government-id.check-page.entered", {
                currentSide: ne,
                selectedCountryCode: E,
                governmentIdClass: R,
                captureFlow: ee == null ? void 0 : ee.captureFlow,
                captureMethod: ee == null ? void 0 : ee.captureMethod
            })
        } catch {}
    }
    , []);
    let se = null;
    const _e = (r == null ? void 0 : r["govid-design-version"]) === _o.V1 && (ee == null ? void 0 : ee.captureFlow) === Io.Guided;
    _e && (se = pa(r, a, x + 1, l, T));
    const Re = qe => {
        N(!0),
        setTimeout( () => {
            V(!0),
            setTimeout( () => {
                qe()
            }
            , Ud * 1e3 + 100)
        }
        , pc * 1e3 + 100)
    }
      , {error: ye, loading: Pe, callback: Ae} = vt(async () => {
        var W;
        if (e.clearMessages(),
        ya(Object.values(m)).map(oe => oe.dataUrl.length).reduce( (oe, de) => oe + de, 0) > Gs && e.showMessage(r.localizations["check-page"]["large-upload"]),
        _ && Dd(r, x, l)) {
            const oe = await e.governmentIdAutoclassification({
                inquiry: d,
                uploads: m,
                history: S,
                t: F,
                debugForcedStatus: e.debugForcedStatus
            });
            if (oe["response-type"] === aa.ACCEPTED) {
                const de = oa(oe["country-code"])
                  , De = oa(oe["id-class"])
                  , Ve = oa(oe["id-config"]);
                if (Ve["capture-page-configs"] && Ve["capture-page-configs"].length > 1) {
                    const ve = [{
                        "country-code": de,
                        "country-name": Cs[de],
                        "id-configs": [Ve]
                    }];
                    e.saveAutoclassificationSuccessIdDetails(de, De, ve),
                    vl(m) ? S.push(Ut(x + 1, Ke.Prompt)) : Re( () => {
                        S.replace(Ut(x + 1, o["inquiry:enable-experimental-govid-perf-improvements"] && o["inquiry:enable-experimental-govid-perf-improvements-percentage"] ? Ke.CaptureLeadInAnimation : Ke.TakePhoto))
                    }
                    )
                } else
                    await e.submitGovernmentId({
                        inquiry: d,
                        config: r,
                        governmentIdClass: De,
                        uploads: m,
                        clientExtractionRaws: t,
                        clientExtractionSource: n,
                        cameraInspectionData: h,
                        videoData: L == null ? void 0 : L.current,
                        t: F,
                        history: S,
                        debugForcedStatus: e.debugForcedStatus,
                        opts: _e ? {
                            transition: wi.Fade
                        } : {},
                        featureFlags: o
                    }),
                    $e.currentClient && $e.destroy("government-id", !0)
            } else if (oe["response-type"] === aa.REJECTED || oe["response-type"] === aa.FAILED)
                e.saveAutoclassificationFailureResult(oe["response-type"], oe["id-classes-by-countries"] || []),
                S.push(Ut(x, Ke.AutoclassificationFailure));
            else
                throw he(new Error(`Unexpected autoclassification response type ${oe["response-type"]}`), "warning"),
                new vn({
                    method: "POST"
                });
            return
        }
        const Ce = !ae || ae && L.current != null;
        Y && Ce ? (await e.submitGovernmentId({
            inquiry: d,
            config: r,
            governmentIdClass: R,
            uploads: m,
            clientExtractionRaws: t,
            clientExtractionSource: n,
            cameraInspectionData: h,
            videoData: L == null ? void 0 : L.current,
            t: F,
            history: S,
            debugForcedStatus: e.debugForcedStatus,
            opts: _e ? {
                transition: wi.Fade
            } : {},
            featureFlags: o
        }),
        $e.currentClient && $e.destroy("government-id", !0)) : ae && Y && L.current == null ? (S.replace(Ut(0, Ke.Prompt)),
        J.logAmplitude("government-id.video.reprompt", {
            type: (W = $e.currentClient) == null ? void 0 : W.type,
            attempt: $e.videoAttempts
        })) : _e ? Re( () => {
            S.replace(Ut(x + 1, o["inquiry:enable-experimental-govid-perf-improvements"] && o["inquiry:enable-experimental-govid-perf-improvements-percentage"] ? Ke.CaptureLeadInAnimation : Ke.TakePhoto))
        }
        ) : S.push(Ut(x + 1, Ke.Prompt))
    }
    , [m, d, R, x, u, e.debugForcedStatus, L, ae])
      , Te = f.useRef(Date.now())
      , be = () => {
        var qe;
        Date.now() - Te.current < 100 || (ae && Y && L.current == null ? (qe = $e.currentClient) == null || qe.stopRecording() : Ae())
    }
    ;
    _t({
        error: ye,
        onError: () => e.showMessage(F("errors.network")),
        onNetworkError: () => e.showMessage(F("errors.network"))
    });
    const re = () => {
        Date.now() - Te.current < 100 || Pe || S.goBack()
    }
    ;
    if (d == null || d.attributes["next-step"].type !== Ge.GovernmentId || q == null || q.length === 0 || !ee)
        return null;
    const z = Wi(r, "check-page", {
        idClass: R,
        side: ne
    })
      , Z = r.idclasses.find(qe => qe.class === R)
      , xe = (Ye = Z == null ? void 0 : Z["capture-page-configs"]) == null ? void 0 : Ye[x]
      , we = xe == null ? void 0 : xe.overlay;
    if (_e) {
        const qe = Pe || p !== tn.Ready;
        return i.jsx(Rr, {
            value: b,
            children: i.jsx(xk, {
                assets: r.assets["capture-page"],
                requiresSide: ne,
                localizations: z,
                currentUpload: ee,
                handleContinue: be,
                handleRetry: re,
                isProcessing: qe,
                governmentIdClass: R,
                captureOverlay: we,
                reverseSide: se,
                collapsed: O,
                flipped: U,
                featureFlags: o,
                uploadProgress: ae ? C : null
            })
        })
    }
    return i.jsx(Rr, {
        value: b,
        children: i.jsx(dk, {
            assets: r.assets["check-page"],
            localizations: z,
            currentUpload: ee,
            handleContinue: be,
            handleRetry: re,
            isProcessing: Pe
        })
    })
}
function Ik(e) {
    return {
        clientExtractions: e.verification.clientExtractions,
        clientExtractionSource: e.verification.clientExtractionSource,
        config: dr(e),
        debugForcedStatus: e.test.forcedStatus,
        featureFlags: e.inquiry.featureFlags,
        governmentIdClass: e.verification.governmentIdClass,
        idClassesByCountries: e.verification.idClassesByCountries,
        autoclassificationCountryCode: e.verification.autoclassificationCountryCode,
        didAutoclassificationIdSelection: !!e.verification.didAutoclassificationIdSelection,
        inquiry: e.inquiry.inquiry,
        routingInputs: Cc(e),
        uploads: e.verification.uploads,
        videoData: e.verification.videoData,
        cameraInspectionData: e.verification.cameraInspectionData,
        status: e.ui.status,
        styles: zi(e.inquiry),
        uploadProgress: e.verification.uploadProgress,
        videoCaptureEnabled: e.verification.videoCaptureEnabled
    }
}
const Sk = {
    clearMessages: Lt,
    showMessage: ce,
    submitGovernmentId: tA,
    governmentIdAutoclassification: nA,
    saveAutoclassificationSuccessIdDetails: hv,
    saveAutoclassificationFailureResult: pv
}
  , yk = ke(Ik, Sk)
  , Bm = yk(vk)
  , wk = g.div.withConfig({
    displayName: "InquiryGovernmentIdPendingView__Container",
    componentId: "sc-gjlu0y-0"
})(["display:flex;flex-direction:column;"])
  , _k = g("div").withConfig({
    displayName: "InquiryGovernmentIdPendingView__Header",
    componentId: "sc-gjlu0y-1"
})(["min-height:", ";margin-bottom:", "px;"], We.header, M.base * 4)
  , Rk = g("div").withConfig({
    displayName: "InquiryGovernmentIdPendingView__AnimationContainer",
    componentId: "sc-gjlu0y-2"
})(["display:flex;justify-content:center;align-items:center;height:200px;margin-top:", ";"], M.base * 8);
function Ak({assets: e, localizations: t, textVerticalPosition: n}) {
    const {base: r, processingPage: o} = Sn()
      , a = i.jsxs(_k, {
        children: [i.jsx(ct, {
            styles: o == null ? void 0 : o.titleStyle,
            children: i.jsx(X, {
                children: t.title
            })
        }), i.jsx(ot, {
            styles: o == null ? void 0 : o.textStyle,
            children: i.jsx(X, {
                children: t.description
            })
        })]
    });
    return i.jsx(Fh, {
        autoFocus: !0,
        children: i.jsxs(wk, {
            children: [i.jsx(Ue, {
                customImage: e["header-pictograph"],
                alt: "header pictograph"
            }), n !== "end" && a, i.jsx(Rk, {
                children: i.jsx(Ue, {
                    customImage: e["loading-pictograph"],
                    alt: "loading pictograph",
                    children: i.jsx(Lo, {
                        icon: "verification",
                        $primaryColor: A(r == null ? void 0 : r.fill.color),
                        $strokeColor: A(r == null ? void 0 : r.stroke.color)
                    })
                })
            }), n === "end" && a]
        })
    })
}
const Tk = e => {
    const {inquiry: t, config: n, styles: r, governmentIdClass: o, featureFlags: a} = e
      , [s] = G()
      , c = Vt();
    if (f.useEffect( () => {
        if (t == null) {
            D.redirectToStart();
            return
        }
    }
    , []),
    f.useEffect( () => {
        ki.needsTeardown() && ki.tearDown().catch( () => null)
    }
    , []),
    va(async () => {
        t != null && e.pollInquiry(t, {
            historyToClear: c
        }).catch( () => {
            e.showMessage(s("errors.network"), !0),
            c.goBack()
        }
        )
    }
    , []),
    f.useEffect( () => {
        try {
            a != null && a["inquiry:enable-amplitude-logging-on-combined-step-page-enter"] && J.logAmplitude("government-id.pending-page.entered", {})
        } catch {}
    }
    , []),
    t == null || n == null)
        return null;
    const l = Wi(n, "pending-page", {
        idClass: o
    });
    return i.jsx(Rr, {
        value: r,
        children: i.jsx(Ak, {
            assets: n.assets["pending-page"],
            localizations: l,
            textVerticalPosition: n["pending-page-text-vertical-position"]
        })
    })
}
;
function Ek(e) {
    return {
        inquiry: e.inquiry.inquiry,
        governmentIdClass: e.verification.governmentIdClass,
        config: dr(e),
        styles: zi(e.inquiry),
        featureFlags: e.inquiry.featureFlags
    }
}
const kk = {
    showMessage: ce,
    pollInquiry: Gn
}
  , Nk = ke(Ek, kk)
  , jk = Nk(Tk);
var lb = (e => (e[e.BackFacingCamera = 0] = "BackFacingCamera",
e[e.FrontFacingCamera = 1] = "FrontFacingCamera",
e))(lb || {});
const Pk = ["rear", "back", "rck", "arrire", "trasera", "trs", "traseira", "posteriore", "", "", "", "", "", "", "", "", "", "arka", "achterzijde", "", "baksidan", "bagside", "sau", "bak", "tylny", "takakamera", "belakang", "", "", "spate", "hts", "zadn", "darrere", "zadn", "", "stranja", "belakang", ""];
function Dk(e) {
    const t = e.toLowerCase();
    return Pk.some(n => t.includes(n))
}
class Vm {
    constructor(t, n) {
        this.deviceId = t.deviceId,
        this.facing = n,
        this.groupId = t.groupId,
        this.label = t.label
    }
}
async function Ok() {
    const e = []
      , t = [];
    {
        let n = await navigator.mediaDevices.enumerateDevices();
        if (n.filter(o => o.kind === "videoinput").every(o => o.label === "")) {
            const o = await navigator.mediaDevices.getUserMedia({
                video: {
                    facingMode: {
                        ideal: "environment"
                    }
                },
                audio: !1
            });
            n = await navigator.mediaDevices.enumerateDevices(),
            o.getTracks().forEach(a => a.stop())
        }
        const r = n.filter(o => o.kind === "videoinput");
        for (const o of r)
            Dk(o.label) ? t.push(new Vm(o,0)) : e.push(new Vm(o,1))
    }
    return {
        frontCameras: e,
        backCameras: t
    }
}
async function Lk(e, t) {
    const {frontCameras: n, backCameras: r} = await Ok();
    if (n.length > 0 || r.length > 0) {
        let o = r.length > 0 ? r : n;
        if (t === 0 && r.length > 0 && (o = r),
        t === 1 && n.length > 0 && (o = n),
        o.find(a => a.label === ""))
            return o[t === 1 ? 0 : o.length - 1];
        o = o.sort( (a, s) => a.label.localeCompare(s.label));
        {
            let a = 0;
            const s = o.map(c => {
                const d = RegExp(/\b([0-9]+)MP?\b/, "i").exec(c.label);
                return d != null ? parseInt(d[1], 10) : NaN
            }
            );
            return s.some(c => isNaN(c)) || (a = s.lastIndexOf(Math.max(...s))),
            o[a]
        }
    } else
        return null
}
const Fk = ({allowedCaptureOptions: e, allowedFileTypes: t, enableVideoRecording: n, assets: r, currentSide: o, governmentIdClass: a, handleDeviceHandoff: s, handleDrop: c, handleInputCapture: l, handleSelectCamera: d, hideCameraPermissionsDialog: u, isProcessing: m, localizations: h, openCameraPermissionsDialog: p, selectedCountryCode: b, showCameraPermissionsDialog: C, skipPromptPage: S}) => {
    const {governmentIdPictographPosition: v} = f.useContext(Je)
      , {base: x, buttons: _} = Sn()
      , R = f.useCallback(async () => {
        try {
            await d()
        } catch {
            p()
        }
    }
    , [d, p]);
    if (S && e.length === 0)
        return i.jsx(Tn, {});
    const E = i.jsx(Qe, {
        height: null,
        width: null,
        role: null,
        "aria-label": null,
        children: i.jsx($k, {
            assets: r,
            currentSide: o,
            governmentIdClass: a
        })
    });
    return i.jsxs(i.Fragment, {
        children: [i.jsxs(bi, {
            isOpen: C,
            onClose: u,
            styles: x == null ? void 0 : x.modal,
            "data-test": "camera-permissions-dialog",
            "aria-labelledby": "camera-permissions-dialog__title",
            "aria-describedby": "camer-permissions-dialog__description",
            children: [i.jsx(ct, {
                id: "camera-permissions-dialog__title",
                styles: x == null ? void 0 : x.titleStyle,
                children: i.jsx(X, {
                    children: n ? h["camera-and-mic-permissions-title"] : h["camera-permissions-title"]
                })
            }), i.jsx(ot, {
                id: "camera-permissions-dialog__description",
                styles: x == null ? void 0 : x.textStyle,
                children: i.jsx(X, {
                    children: n ? h["camera-and-mic-permissions-prompt"] : h["camera-permissions-prompt"]
                })
            }), i.jsx(Xe, {
                height: 2
            }), i.jsx(fe, {
                type: "button",
                id: "camera-permissions-dialog__btn",
                buttonType: Q.Primary,
                styles: _ == null ? void 0 : _[Q.Primary],
                onClick: u,
                children: n ? h["camera-and-mic-permissions-btn-continue-web"] : h["camera-permissions-btn-continue-web"]
            })]
        }), i.jsxs(Mk, {
            children: [i.jsx(Ue, {
                customImage: r["header-pictograph"],
                alt: "header pictograph"
            }), v === $t.Start && E, i.jsxs(Bk, {
                children: [i.jsx(Gk, {
                    currentSide: o,
                    governmentIdClass: a,
                    override: h["title-override"],
                    selectedCountryCode: b,
                    styles: x == null ? void 0 : x.titleStyle
                }), i.jsx(Wk, {
                    currentSide: o,
                    governmentIdClass: a,
                    override: e.length === 0 ? h["no-capture-options-prompt"] : h["prompt-override"],
                    styles: x == null ? void 0 : x.textStyle
                })]
            }), v === $t.Center && E, i.jsx(mt, {
                children: i.jsx(Hk, {
                    allowedCaptureOptions: e,
                    allowedFileTypes: t,
                    handleDeviceHandoff: s,
                    handleDrop: c,
                    handleInputCapture: l,
                    handleSelectCamera: R,
                    isProcessing: m,
                    localizations: h
                })
            })]
        })]
    })
}
  , Mk = g.div.withConfig({
    displayName: "InquiryGovernmentIdPromptView__Container",
    componentId: "sc-nqsebi-0"
})(["display:flex;flex-direction:column;"])
  , Bk = g("div").withConfig({
    displayName: "InquiryGovernmentIdPromptView__Header",
    componentId: "sc-nqsebi-1"
})(["min-height:", ";margin-bottom:", ";"], We.header, I.Spacing[4])
  , Vk = g.div.withConfig({
    displayName: "InquiryGovernmentIdPromptView__CaptureOptionsContainer",
    componentId: "sc-nqsebi-2"
})(["width:100%;"])
  , Lc = g(fe).withConfig({
    displayName: "InquiryGovernmentIdPromptView__OptionButton",
    componentId: "sc-nqsebi-3"
})(["margin-bottom:", ";:last-of-type{margin-bottom:0;}"], I.Spacing[4])
  , Uk = g(Dr).withConfig({
    displayName: "InquiryGovernmentIdPromptView__ImgCamera",
    componentId: "sc-nqsebi-4"
})(["vertical-align:bottom;path[stroke]{stroke:", ";}"], e => {
    var t, n, r, o;
    return (o = A((r = (n = (t = e.styles) == null ? void 0 : t["text-color"]) == null ? void 0 : n.base) == null ? void 0 : r.base)) != null ? o : e.theme.colorFontButtonPrimary
}
);
function Hk({allowedCaptureOptions: e, allowedFileTypes: t, handleDeviceHandoff: n, handleDrop: r, handleInputCapture: o, handleSelectCamera: a, isProcessing: s, localizations: c}) {
    return i.jsx(Vk, {
        id: "government-id-prompt__view",
        children: e.map( (l, d) => i.jsx(qk, {
            isPrimary: d === 0,
            option: l,
            handleDeviceHandoff: n,
            handleDrop: r,
            handleInputCapture: o,
            handleSelectCamera: a,
            isProcessing: s,
            localizations: c,
            allowedFileTypes: t
        }, l))
    })
}
function qk({allowedFileTypes: e, handleDeviceHandoff: t, handleDrop: n, handleInputCapture: r, handleSelectCamera: o, isPrimary: a, isProcessing: s, localizations: c, option: l}) {
    const {getRootProps: d, getInputProps: u} = Ia({
        onDrop: n,
        multiple: !1,
        accept: e
    })
      , {buttons: m} = Sn()
      , h = a ? Q.Primary : Q.Secondary
      , [p] = G()
      , b = s != null;
    switch (l) {
    case "web_camera":
        return i.jsx(Lc, {
            id: "government-id-prompt__button--web-camera",
            buttonType: Q.Primary,
            disabled: b,
            styles: m == null ? void 0 : m[Q.Primary],
            onClick: o,
            isPending: s === nt.SelectCamera,
            "aria-label": c["btn-capture"] || p("government-id.prompt.btn-take-photo-label"),
            children: i.jsx(Um, {
                styles: m == null ? void 0 : m[Q.Primary],
                children: c["btn-capture"]
            })
        });
    case "mobile_camera":
        return i.jsx(Fo, {
            buttonType: Q.Primary,
            disabled: b,
            id: "government-id-prompt__button--mobile-camera",
            handleSelectImage: r,
            isPending: s === nt.UploadImage,
            styles: m == null ? void 0 : m[Q.Primary],
            "aria-label": c["btn-capture-mobile-camera"] || c["btn-capture"] || p("government-id.prompt.btn-take-photo-label"),
            children: i.jsx(Um, {
                styles: m == null ? void 0 : m[Q.Primary],
                children: c["btn-capture-mobile-camera"] || c["btn-capture"]
            })
        });
    case "upload":
        return i.jsxs(Lc, {
            buttonType: a ? Q.Primary : Q.Secondary,
            disabled: b,
            styles: m == null ? void 0 : m[h],
            ...d(),
            children: [i.jsx("input", {
                ...u(),
                "data-test": "file-upload",
                "data-cy": "file-upload"
            }), c["btn-upload"]]
        });
    case "device_handoff":
        return i.jsx(Lc, {
            id: "government-id-prompt__button--device-handoff",
            "data-test": "government-id-prompt__button--device-handoff",
            buttonType: a ? Q.Primary : Q.Secondary,
            disabled: b,
            styles: m == null ? void 0 : m[h],
            onClick: t,
            isPending: s === nt.DeviceHandoff,
            children: c["btn-device-handoff"]
        });
    default:
        lt(l)
    }
}
const Um = ({children: e, styles: t}) => e ? i.jsx("span", {
    children: e
}) : i.jsx(Uk, {
    "data-test": "government-id-prompt__image--camera",
    styles: t
})
  , pr = g(Kt).withConfig({
    displayName: "InquiryGovernmentIdPromptView__StyledCustomizablePictograph",
    componentId: "sc-nqsebi-5"
})(["width:100%;"])
  , $k = ({assets: e, currentSide: t, governmentIdClass: n}) => {
    const {base: r} = Sn();
    if (n === "pp" || n === "ipp")
        switch (t) {
        case B.PassportSignature:
            return i.jsx(Ue, {
                customImage: e["passport-signature-pictograph"],
                alt: "passport signature pictograph",
                children: i.jsx(pr, {
                    url: "passportSignaturePictographUrl",
                    height: "passportSignaturePictographHeight",
                    "aria-label": "passport signature",
                    vectorEffect: "initial",
                    primaryColor: A(r == null ? void 0 : r.fill.color),
                    highlightColor: A(r == null ? void 0 : r.fill.highlightColor),
                    backgroundColor: A(r == null ? void 0 : r.fill.backgroundColor),
                    strokeColor: A(r == null ? void 0 : r.stroke.color),
                    children: i.jsx(hn, {
                        backgroundColor: A(r == null ? void 0 : r.fill.highlightColor),
                        children: i.jsx(ds, {
                            height: 64,
                            width: "100%"
                        })
                    })
                })
            });
        default:
            return i.jsx(Ue, {
                customImage: e["passport-front-pictograph"],
                alt: "passport front pictograph",
                children: i.jsx(pr, {
                    url: "passportFrontPictographUrl",
                    height: "passportFrontPictographHeight",
                    "aria-label": "passport front",
                    vectorEffect: "initial",
                    primaryColor: A(r == null ? void 0 : r.fill.color),
                    highlightColor: A(r == null ? void 0 : r.fill.highlightColor),
                    backgroundColor: A(r == null ? void 0 : r.fill.backgroundColor),
                    strokeColor: A(r == null ? void 0 : r.stroke.color),
                    children: i.jsx(hn, {
                        backgroundColor: A(r == null ? void 0 : r.fill.highlightColor),
                        children: i.jsx(Jh, {
                            height: 80,
                            width: "100%"
                        })
                    })
                })
            })
        }
    switch (t) {
    case B.Back:
        return i.jsx(Ue, {
            customImage: e["id-back-pictograph"],
            alt: "ID back pictograph",
            children: i.jsx(pr, {
                url: "idBackPictographUrl",
                height: "idBackPictographHeight",
                "aria-label": "id back",
                vectorEffect: "initial",
                primaryColor: A(r == null ? void 0 : r.fill.color),
                highlightColor: A(r == null ? void 0 : r.fill.highlightColor),
                backgroundColor: A(r == null ? void 0 : r.fill.backgroundColor),
                strokeColor: A(r == null ? void 0 : r.stroke.color),
                children: i.jsx(hn, {
                    backgroundColor: A(r == null ? void 0 : r.fill.highlightColor),
                    children: i.jsx(vr, {
                        height: 64,
                        width: "100%"
                    })
                })
            })
        });
    case B.BarcodePdf417:
        return i.jsx(Ue, {
            customImage: e["id-back-pictograph"],
            alt: "ID back pictograph",
            children: i.jsx(pr, {
                url: "idBackPictographUrl",
                height: "idBackPictographHeight",
                "aria-label": "id back",
                vectorEffect: "initial",
                primaryColor: A(r == null ? void 0 : r.fill.color),
                highlightColor: A(r == null ? void 0 : r.fill.highlightColor),
                backgroundColor: A(r == null ? void 0 : r.fill.backgroundColor),
                strokeColor: A(r == null ? void 0 : r.stroke.color),
                children: i.jsx(hn, {
                    backgroundColor: A(r == null ? void 0 : r.fill.highlightColor),
                    children: i.jsx(q1, {
                        height: 64,
                        width: "100%"
                    })
                })
            })
        });
    case B.Front:
        return i.jsx(Ue, {
            customImage: e["id-front-pictograph"],
            alt: "ID front pictograph",
            children: i.jsx(pr, {
                url: "idFrontPictographUrl",
                height: "idFrontPictographHeight",
                "aria-label": "id front",
                vectorEffect: "initial",
                primaryColor: A(r == null ? void 0 : r.fill.color),
                highlightColor: A(r == null ? void 0 : r.fill.highlightColor),
                backgroundColor: A(r == null ? void 0 : r.fill.backgroundColor),
                strokeColor: A(r == null ? void 0 : r.stroke.color),
                children: i.jsx(hn, {
                    backgroundColor: A(r == null ? void 0 : r.fill.highlightColor),
                    children: i.jsx(Ii, {
                        height: 64,
                        width: "100%"
                    })
                })
            })
        });
    case B.FrontOrBack:
        return i.jsx(Ue, {
            customImage: e["id-front-pictograph"],
            alt: "ID front pictograph",
            children: i.jsx(pr, {
                url: "idFrontPictographUrl",
                height: "idFrontPictographHeight",
                "aria-label": "id front",
                vectorEffect: "initial",
                primaryColor: A(r == null ? void 0 : r.fill.color),
                highlightColor: A(r == null ? void 0 : r.fill.highlightColor),
                backgroundColor: A(r == null ? void 0 : r.fill.backgroundColor),
                strokeColor: A(r == null ? void 0 : r.stroke.color),
                children: i.jsxs(hn, {
                    backgroundColor: A(r == null ? void 0 : r.fill.highlightColor),
                    children: [i.jsx(Ii, {
                        height: 48,
                        width: "100%"
                    }), i.jsx(vr, {
                        height: 48,
                        width: "100%"
                    })]
                })
            })
        });
    case B.PassportSignature:
        return i.jsx(Ue, {
            customImage: e["passport-signature-pictograph"],
            alt: "passport signature pictograph",
            children: i.jsx(pr, {
                url: "passportSignaturePictographUrl",
                height: "passportSignaturePictographHeight",
                "aria-label": "passport signature",
                vectorEffect: "initial",
                primaryColor: A(r == null ? void 0 : r.fill.color),
                highlightColor: A(r == null ? void 0 : r.fill.highlightColor),
                backgroundColor: A(r == null ? void 0 : r.fill.backgroundColor),
                strokeColor: A(r == null ? void 0 : r.stroke.color),
                children: i.jsx(hn, {
                    backgroundColor: A(r == null ? void 0 : r.fill.highlightColor),
                    children: i.jsx(ds, {
                        height: 64,
                        width: "100%"
                    })
                })
            })
        });
    default:
        lt(t)
    }
}
  , Gk = ({selectedCountryCode: e, governmentIdClass: t, currentSide: n, override: r="", styles: o}) => {
    const [a] = G();
    return i.jsx(ct, {
        "data-test": "government-id-prompt__title",
        styles: o,
        children: i.jsx(X, {
            children: r.length > 0 ? r : fi(a, ["government-id.prompt.title", "government-id.title"], e, t, n)
        })
    })
}
  , Wk = ({governmentIdClass: e, currentSide: t, override: n="", styles: r}) => {
    const [o] = G();
    return i.jsx(ot, {
        "data-test": "government-id-prompt__prompt",
        styles: r,
        children: i.jsx(X, {
            children: n.length > 0 ? n : fi(o, ["government-id.prompt.prompt"], null, e, t)
        })
    })
}
  , Yk = e => {
    var be;
    const {config: t, featureFlags: n, governmentIdClass: r, autoclassificationCountryCode: o, didAutoclassificationIdSelection: a, idClassesByCountries: s, hasCamera: c, inquiry: l, styles: d} = e
      , [u,m] = f.useState(void 0)
      , [h,p] = f.useState([])
      , [b,{enable: C, disable: S}] = rt()
      , [v,{enable: x}] = rt(!1)
      , {t: _} = G()
      , R = Vt()
      , E = Mh()
      , T = parseInt(E.step, 10)
      , F = Mt("inquiry:auto-classification")
      , {governmentIdClass: O, selectedCountryCode: N, autoclassificationIdClassesConfig: U} = cc(t, T, a, r, o, s, F)
      , V = f.useMemo( () => pa(t, O, T, a, U), [t, O, T, a, U])
      , ne = Mt("inquiry:disable-gov-id-face-api")
      , L = !In() && c && h.includes(fn.WebCamera)
      , H = L && ba(window.location.host) && Ca(V, N, O, n)
      , q = !ne && L && !H
      , ee = (be = t == null ? void 0 : t["enabled-capture-file-types"]) == null ? void 0 : be.includes("video")
      , Y = Kn() ? "basic" : "advanced";
    f.useEffect( () => {
        l == null && D.redirectToStart()
    }
    , []),
    f.useEffect( () => {
        if (t != null)
            if (c == null)
                e.checkCamera();
            else {
                const re = Qv(t, O, c);
                re.length === 1 ? Ae(re[0]) : p(re)
            }
    }
    , [c, t]),
    f.useEffect( () => {
        if (H && !ki.isLoaded()) {
            const re = performance.now();
            ki.preload(Y).then( () => {
                J.logAmplitude("government-id.microblink.preload", {
                    durationSeconds: (performance.now() - re) / 1e3,
                    side: V,
                    idClass: O,
                    microblinkModel: Y
                })
            }
            ).catch(z => {
                z instanceof Xt ? he(z, "warning", {
                    ...z.originalError,
                    state: "preload"
                }, {
                    jira: "PER-10182"
                }) : z instanceof Error ? he(z, "warning", {
                    state: "preload"
                }, {
                    jira: "PER-10182"
                }) : Be(z, "warning", {
                    state: "preload"
                }, {
                    jira: "PER-10182"
                })
            }
            )
        }
    }
    , [H]),
    f.useEffect( () => {
        q && kt.loadModels()
    }
    , [q]),
    f.useEffect( () => {
        try {
            n != null && n["inquiry:enable-amplitude-logging-on-combined-step-page-enter"] && J.logAmplitude("government-id.prompt-page.entered", {
                currentSide: V,
                selectedCountryCode: N,
                governmentIdClass: O
            })
        } catch {}
    }
    , []);
    const ae = async (re=R.push) => {
        e.clearMessages(),
        m(nt.SelectCamera),
        e.saveCaptureMethod(gt.Auto);
        const z = (t == null ? void 0 : t["govid-design-version"]) === _o.V1;
        try {
            const Z = Ng({
                currentSide: V,
                facingMode: Ds(),
                isMicroblink: H,
                isGovidRedesign: z,
                enableVideoRecording: ee,
                featureFlags: n
            });
            if (navigator.userAgent.includes("Android")) {
                const xe = await Lk(null, lb.BackFacingCamera);
                xe && (Z.deviceId = {
                    exact: xe.deviceId
                })
            }
            try {
                e.setVideoConstraints(Z),
                await Nn.prepare({
                    video: Z,
                    audio: ee && Ui(t)
                }, n)
            } catch (xe) {
                if (z && xe instanceof OverconstrainedError) {
                    const we = {
                        ...Z,
                        width: 2160,
                        height: 1350
                    };
                    e.setVideoConstraints(we),
                    await Nn.prepare({
                        video: we,
                        audio: ee && Ui(t)
                    }, n)
                } else
                    throw xe
            }
            D.onEvent(Oe.DocumentCameraSelect),
            re(Ut(T, n["inquiry:enable-experimental-govid-perf-improvements"] && n["inquiry:enable-experimental-govid-perf-improvements-percentage"] ? Ke.CaptureLeadInAnimation : Ke.TakePhoto))
        } catch (Z) {
            throw J.logAmplitude("government-id.camera.errored", {
                error: {
                    name: Z.name,
                    message: Z.message
                }
            }),
            D.onEvent(Oe.LoadCameraFailed, {
                error: Z.name,
                message: Z.message
            }),
            ee && he(Z, "error"),
            m(void 0),
            Z
        }
    }
      , se = re => {
        e.clearMessages(),
        m(nt.UploadImage),
        J.logAmplitude("government-id.upload", {
            method: "drop",
            files: re.map(z => ({
                name: z == null ? void 0 : z.name,
                type: z == null ? void 0 : z.type,
                size: z == null ? void 0 : z.size
            }))
        }),
        _e(re) ? (D.onEvent(Oe.DocumentUpload),
        ye(re[0], gt.Upload)) : m(void 0)
    }
      , _e = re => {
        if (re.length !== 1)
            return J.logAmplitude("government-id.upload.invalid", {
                detail: "wrong number of files"
            }),
            e.showMessage(_("government-id.prompt.failed-select-image")),
            !1;
        const z = t == null ? void 0 : t["enabled-file-types"];
        return z && !z.includes(re[0].type) ? (J.logAmplitude("government-id.upload.invalid", {
            detail: "wrong file type"
        }),
        e.showMessage(_("government-id.prompt.failed-invalid-type")),
        !1) : !0
    }
      , Re = re => {
        e.clearMessages(),
        m(nt.UploadImage),
        J.logAmplitude("government-id.upload", {
            method: "input_capture",
            files: [{
                name: re == null ? void 0 : re.name,
                type: re == null ? void 0 : re.type,
                size: re == null ? void 0 : re.size
            }]
        }),
        ye(re, tC() ? gt.Upload : gt.Manual)
    }
      , ye = async (re, z) => {
        e.saveCaptureMethod(z);
        try {
            const Z = await yo(re);
            e.uploadFiles(V, [{
                filename: re.name,
                fileType: re.type,
                dataUrl: Z,
                captureMethod: z,
                captureFlow: Io.Unguided
            }]),
            R.push(Ut(T, Ke.CheckUpload))
        } catch (Z) {
            switch (J.logAmplitude("government-id.upload.errored", {
                file: {
                    type: re == null ? void 0 : re.type
                }
            }),
            Z.name) {
            case "NotReadableError":
                e.showMessage(_("government-id.prompt.failed-select-image-permissions"));
                break;
            case "SecurityError":
                e.showMessage(_("government-id.prompt.failed-select-image"));
                break;
            case "NotFoundError":
            case "ReferenceError":
            default:
                he(Z, "warning", {
                    filename: re == null ? void 0 : re.name,
                    fileType: re == null ? void 0 : re.type,
                    captureMethod: z,
                    currentSide: V
                }),
                e.showMessage(_("government-id.prompt.failed-select-image"))
            }
            m(void 0)
        }
    }
      , Pe = re => {
        u == null && (e.clearMessages(),
        m(nt.DeviceHandoff),
        re("/inquiry/device-handoff/prompt"))
    }
      , Ae = async re => {
        const {featureFlags: z} = e;
        switch (re) {
        case "web_camera":
            if (z["verify:skip-gov-id-prompt-web-camera-only-by-org"])
                try {
                    x(),
                    await ae(R.replace)
                } catch {
                    p([re]),
                    R.replace("/verify/support/camera")
                }
            else
                p([re]);
            break;
        case "device_handoff":
            Pe(R.replace);
            break;
        case "mobile_camera":
        case "upload":
            p([re]);
            break;
        default:
            lt(re)
        }
    }
    ;
    if (l == null || l.attributes["next-step"].type !== Ge.GovernmentId || c == null || V == null)
        return null;
    const Te = Wi(t, "prompt-page", {
        idClass: O,
        side: V
    });
    return i.jsx(Rr, {
        value: d,
        children: i.jsx(Fk, {
            assets: t.assets["prompt-page"],
            localizations: Te,
            selectedCountryCode: N,
            currentSide: V,
            handleDrop: se,
            handleSelectCamera: () => ae(R.push),
            handleInputCapture: Re,
            handleDeviceHandoff: () => Pe(R.push),
            isProcessing: u,
            governmentIdClass: O,
            allowedCaptureOptions: h,
            allowedFileTypes: t["enabled-file-types"],
            showCameraPermissionsDialog: b,
            openCameraPermissionsDialog: C,
            hideCameraPermissionsDialog: S,
            skipPromptPage: v,
            enableVideoRecording: ee
        })
    })
}
;
function zk(e) {
    return {
        config: dr(e),
        featureFlags: e.inquiry.featureFlags,
        governmentIdClass: e.verification.governmentIdClass,
        autoclassificationCountryCode: e.verification.autoclassificationCountryCode,
        didAutoclassificationIdSelection: !!e.verification.didAutoclassificationIdSelection,
        idClassesByCountries: e.verification.idClassesByCountries,
        inquiry: e.inquiry.inquiry,
        currentSession: e.inquiry.currentSession,
        hasCamera: e.ui.hasCamera,
        styles: zi(e.inquiry)
    }
}
const Kk = {
    clearMessages: Lt,
    saveCaptureMethod: lr,
    setVideoConstraints: So,
    showMessage: ce,
    uploadFiles: $s,
    checkCamera: Or
}
  , Qk = ke(zk, Kk)
  , Zk = Qk(Yk)
  , Jk = g("span").withConfig({
    displayName: "OptionVertical__ThemedIcon",
    componentId: "sc-1gomrr7-0"
})(["rect[fill]:not([fill='none']){fill:", ";}path[fill]:not([fill='none']){fill:", ";}height:32px;margin-right:", ";"], ({theme: e}) => e.iconColorGovernmentIdType, ({theme: e}) => e.colorModalBackground, I.Spacing[4])
  , Xk = g(fe).withConfig({
    displayName: "OptionVertical__OptionVerticalButton",
    componentId: "sc-1gomrr7-1"
})(["width:100%;& + &{margin-top:", ";}"], I.Spacing[5]);
function e2({buttonType: e, countryCode: t, handleSelectType: n, governmentIdClass: r, localizations: o}) {
    const {iconStyle: a} = f.useContext(Je)
      , {buttons: s} = Sn()
      , c = {
        id: `select__option--${r}`,
        "data-test": "option-block",
        onClick: () => n(r)
    };
    return e === "button" ? i.jsx(Xk, {
        ...c,
        styles: s == null ? void 0 : s[Q.Primary],
        type: "button",
        children: Hm(o, t, r)
    }) : i.jsx(_d, {
        ...c,
        buttonType: e,
        icon: a !== Lr.None && i.jsx(Jk, {
            "data-test": "option-vertical__pictograph",
            "aria-hidden": !0,
            children: i.jsx(t2, {
                governmentIdClass: r
            })
        }),
        children: Hm(o, t, r)
    })
}
const t2 = ({governmentIdClass: e}) => {
    switch (e) {
    case "dl":
        return i.jsx(np, {});
    case "ofw":
    case "pp":
    case "ppc":
    case "visa":
        return i.jsx(tp, {});
    case "id":
        return i.jsx(ep, {});
    case "rp":
    case "pr":
    default:
        return i.jsx(Xh, {})
    }
}
;
function Hm(e, t=void 0, n) {
    const r = e[n];
    if (t == null)
        return r;
    {
        const o = e[`${t.toLowerCase()}-${n}`];
        return o != null ? o : r
    }
}
const n2 = g("span").withConfig({
    displayName: "OptionVerticalRedesign__ThemedIcon",
    componentId: "sc-6t3cbp-0"
})(["rect[fill]:not([fill='none']){fill:", ";}path[fill]:not([fill='none']){stroke:", ";}height:32px;"], ({theme: e}) => e.colorPrimary, ({theme: e}) => e.iconColorBackground)
  , i2 = g("span").withConfig({
    displayName: "OptionVerticalRedesign__SSTThemedIcon",
    componentId: "sc-6t3cbp-1"
})(["rect[fill]:not([fill='none']){fill:", ";}path[stroke]:not([stroke='none']){stroke:", ";}height:32px;"], ({styles: e}) => A(e.fill.color), ({styles: e}) => A(e.stroke.color))
  , r2 = ({styles: e, children: t, "data-test": n}) => i.jsx(i.Fragment, {
    children: e != null ? i.jsx(i2, {
        "data-test": n,
        styles: e,
        "aria-hidden": !0,
        children: t
    }) : i.jsx(n2, {
        "data-test": n,
        "aria-hidden": !0,
        children: t
    })
})
  , o2 = g(fe).withConfig({
    displayName: "OptionVerticalRedesign__OptionVerticalButton",
    componentId: "sc-6t3cbp-2"
})(["width:100%;& + &{margin-top:", ";}"], I.Spacing[5])
  , a2 = g("span").withConfig({
    displayName: "OptionVerticalRedesign__IconContainer",
    componentId: "sc-6t3cbp-3"
})(["line-height:0;margin-right:10px;"]);
function s2({assets: e, buttonType: t, countryCode: n, handleSelectType: r, governmentIdClass: o, icon: a, localizations: s, styles: c}) {
    const {iconStyle: l} = f.useContext(Je)
      , {buttons: d} = Sn()
      , u = {
        id: `select__option--${o}`,
        "data-test": "option-block",
        onClick: () => r(o)
    };
    return t === "button" ? i.jsx(o2, {
        ...u,
        styles: d == null ? void 0 : d[Q.Primary],
        type: "button",
        children: hl(s, n, o)
    }) : i.jsx(_d, {
        ...u,
        buttonType: t,
        styles: c,
        icon: l !== Lr.None && i.jsx(a2, {
            "data-test": "option-vertical__pictograph",
            children: i.jsx(c2, {
                governmentIdClass: o,
                assets: e,
                icon: a,
                styles: c == null ? void 0 : c.icon
            })
        }),
        children: hl(s, n, o)
    })
}
const c2 = ({assets: e, governmentIdClass: t, icon: n, styles: r}) => {
    const o = n == null ? void 0 : n["custom-icon"]
      , a = l2(e, t)
      , s = u2(n == null ? void 0 : n["icon-fallback"])
      , c = d2(t)
      , l = o != null ? o : a
      , d = s != null ? s : c;
    return i.jsx(Ue, {
        customImage: l,
        alt: "government id icon",
        children: i.jsx(r2, {
            "data-test": "option-vertical-icon__fallback",
            styles: r,
            children: d
        })
    })
}
;
function l2(e, t) {
    var n;
    switch (t) {
    case "dl":
    case "id":
        return e["icon-drivers-license"];
    case "ofw":
    case "pp":
    case "ppc":
    case "visa":
        return e["icon-passport"];
    case "rp":
    case "pr":
        return (n = e["icon-permanent-residence-id"]) != null ? n : e["icon-government-id"];
    default:
        return e["icon-government-id"]
    }
}
function d2(e) {
    switch (e) {
    case "dl":
    case "id":
        return i.jsx(Ll, {});
    case "ofw":
    case "pp":
    case "ppc":
    case "visa":
        return i.jsx(Ml, {});
    case "rp":
    case "pr":
    default:
        return i.jsx(Fl, {})
    }
}
function u2(e) {
    switch (e) {
    case Zo.Flag:
        return i.jsx(Uh, {});
    case Zo.World:
        return i.jsx(Ml, {});
    case Zo.House:
        return i.jsx(Fl, {});
    case Zo.Card:
        return i.jsx(Ll, {});
    default:
        return null
    }
}
const m2 = g("div").withConfig({
    displayName: "GovernmentIdOptions__ChooseOptionNotice",
    componentId: "sc-1jec9sb-0"
})(["", ";"], ({styles: e}) => e != null ? $(["color:", ";font-weight:", ";text-align:", ";"], A(e["text-color"].base.base), Qn(e["font-weight"].base.base), e.justify.base.base) : $(["color:", ";font-weight:", ";"], ({theme: t}) => t.colorFontTitle, on.medium));
function h2({assets: e, idClasses: t, idClassListStyle: n, localizations: r, selectedCountryCode: o, handleSelectType: a, enableRedesign: s, styles: c, optionStyles: l}) {
    return i.jsxs(i.Fragment, {
        children: [n !== "button" && !!r["option-notice"] && i.jsxs(i.Fragment, {
            children: [i.jsx(m2, {
                styles: c,
                children: r["option-notice"]
            }), i.jsx(Xe, {
                height: 1
            })]
        }), t.map(d => s ? i.jsx(s2, {
            assets: e,
            buttonType: n,
            countryCode: o,
            handleSelectType: a,
            governmentIdClass: d.class,
            icon: d.icon,
            localizations: r,
            styles: l
        }, d.class) : i.jsx(e2, {
            buttonType: n,
            countryCode: o,
            handleSelectType: a,
            governmentIdClass: d.class,
            localizations: r
        }, d.class)), i.jsx(Xe, {
            height: 4
        })]
    })
}
const p2 = g.div.withConfig({
    displayName: "Checkbox__Container",
    componentId: "sc-wj665q-0"
})(["cursor:pointer;display:flex;align-items:center;flex-wrap:none;cursor:pointer;"])
  , f2 = g.input.withConfig({
    displayName: "Checkbox__HiddenInput",
    componentId: "sc-wj665q-1"
})(["height:1px;width:1px;margin:-1px;border:0;overflow:hidden;clip:rect(0,0,0,0);position:absolute;"])
  , g2 = g.div.withConfig({
    displayName: "Checkbox__IconContainer",
    componentId: "sc-wj665q-2"
})(["display:flex;align-items:center;transition:box-shadow ", ";", ""], tt.Fast, ({theme: e}) => $(["svg{.checkbox__border--empty{fill:none;stroke:", ";}.checkbox__border{fill:", ";stroke:", ";}.checkbox__check{stroke:", ";}}&", "", "{box-shadow:0 0 0 3px transparent,", ";}&", "", "{svg{.checkbox__border--empty{stroke:", ";}}}&", "{cursor:not-allowed;svg{.checkbox__border--empty{fill:none;stroke:", ";}.checkbox__border{fill:", ";stroke:", ";}.checkbox__check{stroke:", ";}}}"], e.colorFont, e.colorButtonPrimary || e.colorPrimary, e.colorButtonPrimary || e.colorPrimary, e.colorFontButtonPrimary, so, Rn, Di.Mid, Hi, Rn, e.colorButtonPrimary || e.colorPrimary, zl, Fe.gray20, Fe.gray20, Fe.gray20, e.colorFontButtonPrimary))
  , b2 = g(X).withConfig({
    displayName: "Checkbox__StyledMarkdown",
    componentId: "sc-wj665q-3"
})(["cursor:inherit;padding:0 ", ";", ""], I.Spacing[2], ({theme: e, disabled: t}) => t && $(["color:", ";"], e.color.text.disabled))
  , C2 = ({className: e, disabled: t, indeterminate: n, onChange: r, onFocus: o, onBlur: a, value: s, id: c, label: l, autoFocus: d, "data-test": u}) => {
    const [m,{enable: h, disable: p}] = rt()
      , b = f.useCallback( () => {
        var S;
        r(!s),
        (S = C.current) == null || S.focus()
    }
    , [r, s])
      , C = f.useRef();
    return f.useEffect( () => {
        C.current && (C.current.indeterminate = n)
    }
    , [n]),
    i.jsxs(p2, {
        id: c,
        className: e,
        onClick: t ? void 0 : b,
        "data-test": u,
        role: "checkbox",
        "aria-checked": !!s,
        "aria-readonly": t,
        children: [i.jsx(f2, {
            ref: C,
            "data-test-toggle-status": s ? "on" : "off",
            disabled: t,
            type: "checkbox",
            checked: !!s,
            readOnly: !0,
            onChange: () => null,
            autoFocus: d,
            onFocus: S => {
                h(),
                o == null || o(S)
            }
            ,
            onBlur: S => {
                p(),
                a == null || a(S)
            }
        }), i.jsx(g2, {
            focused: m,
            disabled: t,
            children: n ? i.jsx(xp, {}) : s ? i.jsx(vp, {}) : i.jsx(Ip, {})
        }), i.jsx(b2, {
            wrapper: "label",
            wrapperProps: {
                htmlFor: c
            },
            disabled: t,
            children: l
        })]
    })
}
  , x2 = g(He).attrs( () => ({
    as: "small"
})).withConfig({
    displayName: "Disclaimer__TermsNoticeStyled",
    componentId: "sc-80ibwq-0"
})(["", ""], ({styles: e}) => {
    const t = e;
    return {
        display: "block",
        marginTop: `${M.base}px`,
        marginBottom: `${M.base * 2}px`,
        color: A(t["text-color"].base.base),
        fontSize: k(t["font-size"].base.base),
        lineHeight: k(t["line-height"].base.base),
        "& , a": {
            fontSize: k(t["font-size"].base.base),
            lineHeight: k(t["line-height"].base.base)
        }
    }
}
)
  , v2 = g(He).attrs( () => ({
    as: "small"
})).withConfig({
    displayName: "Disclaimer__TermsNotice",
    componentId: "sc-80ibwq-1"
})(["display:block;margin-top:", "px;margin-bottom:", "px;", ""], M.base, M.base * 2, ({theme: e}) => ({
    color: e.colorFontSmall,
    fontSize: e.fontSizeSmall,
    lineHeight: e.lineHeightSmall,
    "&, a": {
        fontSize: e.fontSizeSmall,
        lineHeight: e.lineHeightSmall
    }
}))
  , As = ({useBipaTranslation: e=!1, styles: t}) => {
    const {t: n} = G()
      , r = n(e ? "intro.biometric-agree-to-policy" : "intro.agree-to-policy");
    return i.jsx(i.Fragment, {
        children: t != null ? i.jsx(x2, {
            styles: t,
            children: i.jsx(X, {
                children: r
            })
        }) : i.jsx(v2, {
            children: i.jsx(X, {
                children: r
            })
        })
    })
}
  , I2 = g(He).attrs( () => ({
    as: "div"
})).withConfig({
    displayName: "Disclaimer__TermsNoticeCheckboxContainer",
    componentId: "sc-80ibwq-2"
})(["display:flex;border-top:1px solid ", ";margin-top:", "px;padding-top:", "px;margin-bottom:", "px;font-size:", ";line-height:", ";&,a{font-size:", ";line-height:", ";}"], Fe.gray20, M.base * -1, M.base * 3, M.base * 5, ({theme: e}) => e.fontSizeSmall, ({theme: e}) => e.lineHeightSmall, ({theme: e}) => e.fontSizeSmall, ({theme: e}) => e.lineHeightSmall)
  , S2 = g(C2).withConfig({
    displayName: "Disclaimer__TermsNoticeCheckbox",
    componentId: "sc-80ibwq-3"
})(["align-items:flex-start;"])
  , y2 = ({checked: e, onChange: t}) => {
    const {t: n} = G();
    return i.jsx(I2, {
        children: i.jsx(S2, {
            id: "agree-to-policy-checkbox",
            "data-test": "agree-to-policy-checkbox",
            value: e,
            onChange: t,
            label: n("intro.agree-to-policy")
        })
    })
}
  , qm = g.div.withConfig({
    displayName: "InquiryGovernmentIdSelectView__Container",
    componentId: "sc-g8v5bg-0"
})(["display:flex;flex-direction:column;"])
  , $m = g.div.withConfig({
    displayName: "InquiryGovernmentIdSelectView__Header",
    componentId: "sc-g8v5bg-1"
})(["margin-bottom:", "px;", ""], M.base * 4, ({idClassListStyle: e, reduceMinHeight: t}) => {
    switch (e) {
    case "outline":
        return $(["min-height:", ";"], t ? "max-content" : We.header);
    case "outline_light":
        return
    }
}
);
function w2({assets: e, disclaimer: t, handleSelectType: n, idClasses: r, idClassListStyle: o, localizations: a, selectedCountryCode: s, enableRedesign: c}) {
    var p, b, C, S;
    const {governmentIdPictographPosition: l, governmentIdSelectPictographUrl: d} = f.useContext(Je)
      , {base: u, selectOption: m} = Sn()
      , h = d ? i.jsx(Qe, {
        "aria-label": "government id prompt",
        children: i.jsx(Kt, {
            url: "governmentIdSelectPictographUrl",
            height: "governmentIdSelectPictographHeight",
            "aria-label": "government id prompt picture"
        })
    }) : null;
    if (r.length > 0) {
        const v = a.prompt !== "";
        return i.jsxs(qm, {
            children: [i.jsx(Ue, {
                customImage: e["header-pictograph"],
                alt: "header pictograph"
            }), l === $t.Start && h, i.jsxs($m, {
                idClassListStyle: o,
                reduceMinHeight: !v,
                children: [i.jsx(ct, {
                    styles: u == null ? void 0 : u.titleStyle,
                    children: i.jsx(X, {
                        children: a.title
                    })
                }), v && i.jsx(ot, {
                    styles: u == null ? void 0 : u.textStyle,
                    children: i.jsx(X, {
                        children: a.prompt
                    })
                })]
            }), l === $t.Center && h, i.jsx(h2, {
                assets: e,
                styles: u == null ? void 0 : u.textStyle,
                optionStyles: m,
                idClasses: r,
                idClassListStyle: o,
                localizations: a,
                selectedCountryCode: s,
                handleSelectType: n,
                enableRedesign: c
            }), t !== Tp.None && i.jsx(As, {
                styles: u == null ? void 0 : u.disclaimerStyle
            })]
        })
    } else {
        const v = a.prompt !== "";
        return i.jsxs(qm, {
            children: [i.jsx(Ue, {
                customImage: e["header-pictograph"],
                alt: "header pictograph"
            }), i.jsxs($m, {
                idClassListStyle: o,
                reduceMinHeight: !v,
                children: [i.jsx(ct, {
                    styles: u == null ? void 0 : u.titleStyle,
                    children: i.jsx(X, {
                        children: a["unsupported-title"]
                    })
                }), v && i.jsx(ot, {
                    styles: u == null ? void 0 : u.textStyle,
                    children: i.jsx(X, {
                        children: a["unsupported-prompt"]
                    })
                })]
            }), i.jsx(Qe, {
                "aria-label": "pictograph indicating no available ID types",
                children: i.jsx(pe, {
                    $primaryColor: A((p = u == null ? void 0 : u.fill) == null ? void 0 : p.color),
                    $highlightColor: A((b = u == null ? void 0 : u.fill) == null ? void 0 : b.highlightColor),
                    $backgroundColor: A((C = u == null ? void 0 : u.fill) == null ? void 0 : C.backgroundColor),
                    $strokeColor: A((S = u == null ? void 0 : u.stroke) == null ? void 0 : S.color),
                    children: i.jsx(ai, {})
                })
            })]
        })
    }
}
function _2(e) {
    var d;
    const {inquiry: t, config: n, styles: r, featureFlags: o} = e
      , a = Mt("inquiry:auto-classification") && n && ((d = n == null ? void 0 : n["auto-classification-config"]) == null ? void 0 : d["is-enabled"]);
    if (f.useEffect( () => {
        var u, m;
        if (t == null) {
            D.redirectToStart();
            return
        }
        a ? (e.clearAutoclassificationIdSelection(),
        e.history.replace(Ut(0, Ke.Prompt))) : n != null && !n["enabled-skip-unknown"] && n.idclasses.length === 1 && c((m = (u = n.idclasses) == null ? void 0 : u[0]) == null ? void 0 : m.class, !0)
    }
    , []),
    f.useEffect( () => {
        try {
            o != null && o["inquiry:enable-amplitude-logging-on-combined-step-page-enter"] && J.logAmplitude("government-id.select-page.entered", {})
        } catch {}
    }
    , []),
    t == null || t.attributes["next-step"].type !== Ge.GovernmentId)
        return null;
    const s = Wi(n, "select-page");
    function c(u, m=!1) {
        e.selectGovernmentIdClass(u),
        m ? e.history.replace(Ut(0, Ke.Prompt)) : e.history.push(Ut(0, Ke.Prompt))
    }
    if (t == null || t.attributes["next-step"].type !== Ge.GovernmentId)
        return null;
    const l = (n == null ? void 0 : n["govid-design-version"]) === _o.V1;
    return i.jsx(Rr, {
        value: r,
        children: i.jsx(w2, {
            assets: n.assets["select-page"],
            disclaimer: n.disclaimer,
            idClasses: n.idclasses,
            idClassListStyle: n["idclass-list-style"],
            localizations: s,
            selectedCountryCode: n["selected-country-code"],
            handleSelectType: c,
            enableRedesign: l
        })
    })
}
function R2(e) {
    return {
        inquiry: e.inquiry.inquiry,
        config: dr(e),
        featureFlags: e.inquiry.featureFlags,
        theme: e.inquiry.theme,
        styles: zi(e.inquiry)
    }
}
const A2 = {
    selectGovernmentIdClass: ad,
    clearAutoclassificationIdSelection: tf
}
  , T2 = ke(R2, A2)(_2)
  , E2 = g("div").withConfig({
    displayName: "InquiryInactiveView__Header",
    componentId: "sc-acmeo6-0"
})(["min-height:", ";margin-bottom:", "px;"], We.header, M.base * 4);
function k2() {
    return i.jsxs("div", {
        children: [i.jsxs(E2, {
            children: [i.jsx(ct, {
                children: "This template is inactive"
            }), i.jsx(ot, {
                children: "If you are a user, please contact the organization that sent you here."
            }), i.jsx(Xe, {
                height: 1
            }), i.jsx(ot, {
                children: "If you are a developer, please check the dashboard and make sure the template is active."
            })]
        }), i.jsx(Qe, {
            "aria-label": "pictograph showing application error",
            children: i.jsx(pe, {
                children: i.jsx(ai, {})
            })
        })]
    })
}
function N2() {
    return i.jsx(k2, {})
}
const j2 = "modulepreload"
  , P2 = function(e) {
    return "//cdn.withpersona.com/vite/" + e
}
  , Gm = {}
  , it = function(t, n, r) {
    let o = Promise.resolve();
    if (n && n.length > 0) {
        document.getElementsByTagName("link");
        const s = document.querySelector("meta[property=csp-nonce]")
          , c = (s == null ? void 0 : s.nonce) || (s == null ? void 0 : s.getAttribute("nonce"));
        o = Promise.allSettled(n.map(l => {
            if (l = P2(l),
            l in Gm)
                return;
            Gm[l] = !0;
            const d = l.endsWith(".css")
              , u = d ? '[rel="stylesheet"]' : "";
            if (document.querySelector(`link[href="${l}"]${u}`))
                return;
            const m = document.createElement("link");
            if (m.rel = d ? "stylesheet" : j2,
            d || (m.as = "script"),
            m.crossOrigin = "",
            m.href = l,
            c && m.setAttribute("nonce", c),
            document.head.appendChild(m),
            d)
                return new Promise( (h, p) => {
                    m.addEventListener("load", h),
                    m.addEventListener("error", () => p(new Error(`Unable to preload CSS for ${l}`)))
                }
                )
        }
        ))
    }
    function a(s) {
        const c = new Event("vite:preloadError",{
            cancelable: !0
        });
        if (c.payload = s,
        window.dispatchEvent(c),
        !c.defaultPrevented)
            throw s
    }
    return o.then(s => {
        for (const c of s || [])
            c.status === "rejected" && a(c.reason);
        return t().catch(a)
    }
    )
}
  , D2 = ({config: e, handleContinue: t, previewMode: n=!1}) => {
    const r = f.useMemo( () => {
        const c = e.type;
        switch (c) {
        case "mx_bank":
            return {
                type: c,
                component: f.lazy( () => it( () => import("./index-C8sM59xG.js"), __vite__mapDeps([0, 1, 2, 3, 4, 5, 6, 7]))),
                integrationConfig: e
            };
        case "kica":
            return {
                type: c,
                component: f.lazy( () => it( () => import("./index-ByxvDNK7.js"), __vite__mapDeps([8, 1, 2, 3, 4, 5, 6, 7]))),
                integrationConfig: e
            };
        case "aadhaar":
            return {
                type: c,
                component: f.lazy( () => it( () => import("./index-PtT9EKb8.js"), __vite__mapDeps([9, 1, 2, 3, 4, 5, 6, 7]))),
                integrationConfig: e
            };
        default:
            return {
                type: c,
                component: null,
                integrationConfig: e
            }
        }
    }
    , [e]);
    if (n)
        switch (r.type) {
        case "mx_bank":
            return i.jsxs(i.Fragment, {
                children: [i.jsx("h1", {
                    children: "MX Bank Integration"
                }), i.jsx("p", {
                    children: "This is a placeholder for the MX Bank step. The real widget cannot load in FLE previews."
                })]
            });
        case "kica":
            {
                const c = r.component;
                return i.jsx(c, {
                    flowUrl: null,
                    onComplete: null
                })
            }
        case "aadhaar":
            {
                const c = r.component;
                return i.jsx(c, {
                    flowUrl: null,
                    onComplete: null
                })
            }
        default:
            return null
        }
    const {type: o, component: a, integrationConfig: s} = r;
    switch (o) {
    case "mx_bank":
        return i.jsx(f.Suspense, {
            fallback: i.jsx(Tn, {}),
            children: i.jsx(a, {
                widgetUrl: s["widget-url"],
                memberConnected: c => t({
                    "mx-bank-member-guid": c
                }),
                microdepositCreated: c => t({
                    "mx-bank-microdeposit-guid": c
                }),
                microdepositVerificationSubmitted: t
            })
        });
    case "kica":
        return i.jsx(f.Suspense, {
            fallback: i.jsx(Tn, {}),
            children: i.jsx(a, {
                flowUrl: s["flow-url"],
                onComplete: t
            })
        });
    case "aadhaar":
        return i.jsx(f.Suspense, {
            fallback: i.jsx(Tn, {}),
            children: i.jsx(a, {
                flowUrl: s["flow-url"],
                onComplete: t
            })
        });
    default:
        return i.jsxs("p", {
            children: ["Integration type ", o, " not found."]
        })
    }
}
  , O2 = ({inquiry: e, config: t, debugForcedStatus: n, clearMessages: r, showMessage: o, transitionInquiryFromIntegrationStep: a}) => {
    const {t: s} = G();
    f.useEffect( () => {
        if (e == null || (t == null ? void 0 : t.type) == null) {
            D.redirectToStart();
            return
        }
    }
    , []);
    const {error: c, loading: l, callback: d} = vt(async u => {
        r(),
        await a(e, u || {}, e.attributes["next-step"].name, {
            "debug-forced-status": n
        })
    }
    , []);
    return _t({
        error: c,
        onError: () => o(s("errors.network")),
        onNetworkError: () => o(s("errors.network"))
    }),
    e == null || (t == null ? void 0 : t.type) == null ? null : l ? i.jsx(Tn, {}) : i.jsx(D2, {
        config: t,
        handleContinue: d
    })
}
;
function L2(e) {
    return {
        inquiry: e.inquiry.inquiry,
        config: qv(e),
        debugForcedStatus: e.test.forcedStatus
    }
}
const F2 = {
    clearMessages: Lt,
    showMessage: ce,
    transitionInquiryFromIntegrationStep: kv
}
  , M2 = ke(L2, F2)
  , B2 = M2(O2)
  , db = f.createContext(vf())
  , ci = () => f.useContext(db)
  , ub = ({children: e, value: t}) => {
    const n = f.useMemo( () => vf(t), [t]);
    return i.jsx(db.Provider, {
        value: n,
        children: i.jsx(Pa.Provider, {
            value: n.buttons,
            children: e
        })
    })
}
;
function as(e) {
    return (e.attributes["next-step"].config || {})["selfie-type"] || rn.ProfileAndCenter
}
const V2 = () => {
    var a, s, c, l, d, u, m;
    const {startIcon: e} = (a = ci()) != null ? a : {}
      , t = f.useContext(Je)
      , n = (c = A((s = e == null ? void 0 : e["fill-color"]) == null ? void 0 : s.base.base)) != null ? c : t.iconColorPrimary
      , r = (d = A((l = e == null ? void 0 : e["fill-color"]) == null ? void 0 : l.highlight.base)) != null ? d : t.iconColorHighlight
      , o = (m = A((u = e == null ? void 0 : e["stroke-color"]) == null ? void 0 : u.base.base)) != null ? m : t.iconColorStroke;
    return i.jsxs("svg", {
        role: "img",
        xmlns: "http://www.w3.org/2000/svg",
        viewBox: "0 0 227.3 227.3",
        "aria-label": "center",
        children: [i.jsx("path", {
            fill: "none",
            d: "M-3-3h233.3v233.3H-3z"
        }), i.jsx("path", {
            d: "M143.1 187.4c-.2.1-.3.3-.5.4 1.4-5.6 1.1-14.1.9-14.4l11.2-7.6s7.8-1 12.6-2.3c4.8-1.3 10.1-3.1 10.1-3.1v-34.2c1.5-7.6-.7-26.7-.7-28.7.1-9.4-4.8-27.9-8.7-34.8-.8-18.1-10.3-29.8-28.6-35.2C127.6-.9 79.8 8.9 60.8 38.7c-4.3 5-9.9 16.5-11 30.4-2.5 31.5-2.3 76-1.1 92.5 0 0 12.2 4.4 25 4.4 1.7 0 10.6 7.6 10.6 7.6 0-.1-.9 5.1-1.1 9.9-13.7.1-46.4 9.3-46.4 9.3 13.6 13.2 45.2 31.1 77.3 31.1 27.3 0 51.8-7.9 69.5-23.4.1-.1-26.8-11.5-40.5-13.1z",
            fill: n
        }), i.jsx("path", {
            d: "M183.7 103c-3.7-5.4-10-2.3-12.5-.3L167.4 78c-1.1-7.1-4.5-13.7-9.8-18.8-5.2-5.1-12.1-8.5-19.4-9.6l-.6-.1-6.8 7.2c-5 5.3-11.6 8.9-18.8 10.4-7.3 1.5-14.8.7-21.6-2.2l-1.7-.7c-3-1.3-6.2-1.9-9.4-1.7-3.2.1-6.4.9-9.2 2.4s-5.3 3.5-7.2 6.1c-1.9 2.5-3.1 5.4-3.7 8.5l-4 22.9c-2.1-1.7-7.1-4.9-11.7-1.4-4 3.9-2.9 7.7-2.9 10.3s3.1 8 4.7 10.1c1.5 1.9 6.2 6.3 9 7.6.8 7.3 3.2 14.3 6.8 20.7 4.9 8.6 12.1 15.8 20.8 20.9l1.5.9v15.3l1.1 1.2c9.5 8.1 18.8 11.3 29.7 11 10.9-.2 21.4-2.7 29.3-12.3v-15.1l.1-.1 1.5-.9c8.7-5.1 15.9-12.3 20.8-20.9 4-7 6.4-14.7 7-22.6 1.7-1.2 6.7-5 8.1-6.5 1.5-1.9 3.5-5.6 4-8.1 1.1-6.1.3-7.6-1.3-9.5z",
            fill: r
        }), i.jsx("path", {
            d: "M83.4 173.1v14.6l1.1.9c8.3 6.9 19 10.6 30 10.4 11-.2 21.6-4.2 29.6-11.3v-15.3m-60.7 11c-13.3 0-26.5 1.9-39.2 5.6L30 193.1m114.2-9.6c13.3 0 25.8 1.8 38.5 5.5l14.2 4.1m-24-70.4c.2 9.8-2.3 19.5-7.2 28-4.9 8.6-12.1 15.8-20.8 20.9l-8 4.7c-7.1 4.2-15.3 6.4-23.6 6.4s-16.5-2.2-23.6-6.4l-8-4.7c-8.7-5.1-15.9-12.3-20.8-20.9-4.9-8.6-7.2-18.3-7-28m119 0l-1.1-17.9m-117.9 0v17.9m117.8-18.4l-4.4-25.4c-1.1-7.1-4.5-13.7-9.8-18.8-5.2-5.1-12.1-8.5-19.4-9.6l-.6-.1-6.8 7.2c-5 5.3-11.6 8.9-18.8 10.4-7.3 1.5-14.8.7-21.6-2.2l-1.7-.7c-3-1.3-6.2-1.9-9.4-1.7-3.2.1-6.4.9-9.2 2.4-2.8 1.5-5.3 3.5-7.2 6.1-1.9 2.5-3.1 5.4-3.7 8.5l-5.2 24.4m-5-5.4c-3.1-32.9 2.5-47.8 14.9-65C82.4 8.6 127-.7 138.7 27.8c19.2 6.4 29.2 18.6 30.1 36.7 6.3 11 8.8 27.4 8.6 34.9m-38.7-71.6c1.5 5 2.2 9.4 2.2 13l-2.2-13zM98.6 146.6c9.4 2.8 19.5 2.8 29 0M112.8 108v23.3m60.1-2.8c5.2-2.5 8.5-6.4 11.1-11.5 1.8-3.5 2.8-7.6 1.6-11.3-1.1-3.7-4.9-6.8-8.8-6.3-2.2.3-5.5 2.7-5 5.4m-117.9 0c.5-2.7-2.8-5.1-5-5.4-3.9-.5-7.7 2.6-8.8 6.3-1.2 3.7-.2 7.8 1.6 11.3 2.6 5.1 5.9 9 11.1 11.5m-4-2.3c-.4 12.4 0 25.1-.2 36.1 8 3 15.1 3.3 24.4 3.7m105-40.9c-.3 11.5-.3 23.8-.6 35.3-8 3.1-15 4.2-24.5 5.6",
            fill: "none",
            stroke: o,
            strokeWidth: "6",
            strokeLinecap: "round",
            strokeLinejoin: "round"
        }), i.jsxs("linearGradient", {
            id: "center_svg__a",
            gradientUnits: "userSpaceOnUse",
            x1: "113.65",
            y1: "4512.4",
            x2: "113.65",
            y2: "4530.077",
            gradientTransform: "translate(0 -4400.8)",
            children: [i.jsx("stop", {
                offset: ".52",
                stopColor: o,
                stopOpacity: "0"
            }), i.jsx("stop", {
                offset: "1",
                stopColor: o,
                stopOpacity: ".3"
            })]
        }), i.jsx("path", {
            d: "M227.3 118.3s-55-6.7-113.6-6.7S0 119 0 119s28.3 10.3 113.9 10.3c78.6 0 113.4-11 113.4-11",
            fill: "url(#center_svg__a)"
        }), i.jsxs("linearGradient", {
            id: "center_svg__b",
            gradientUnits: "userSpaceOnUse",
            x1: "2699.752",
            y1: "-1652.34",
            x2: "2699.752",
            y2: "-1646.687",
            gradientTransform: "rotate(90 525.181 -2060.92)",
            children: [i.jsx("stop", {
                offset: ".001",
                stopColor: o,
                stopOpacity: "0"
            }), i.jsx("stop", {
                offset: "1",
                stopColor: o,
                stopOpacity: ".3"
            })]
        }), i.jsx("path", {
            d: "M114.5 227.3s2.1-55 2.1-113.6S114.2 0 114.2 0s-3.3 28.3-3.3 113.9c0 78.6 3.6 113.4 3.6 113.4",
            fill: "url(#center_svg__b)"
        })]
    })
}
  , U2 = () => {
    var a, s, c, l, d, u, m;
    const {startIcon: e} = (a = ci()) != null ? a : {}
      , t = f.useContext(Je)
      , n = (c = A((s = e == null ? void 0 : e["fill-color"]) == null ? void 0 : s.base.base)) != null ? c : t.iconColorPrimary
      , r = (d = A((l = e == null ? void 0 : e["fill-color"]) == null ? void 0 : l.highlight.base)) != null ? d : t.iconColorHighlight
      , o = (m = A((u = e == null ? void 0 : e["stroke-color"]) == null ? void 0 : u.base.base)) != null ? m : t.iconColorStroke;
    return i.jsxs("svg", {
        role: "img",
        xmlns: "http://www.w3.org/2000/svg",
        viewBox: "0 0 227.3 227.3",
        "aria-label": "left",
        children: [i.jsx("path", {
            fill: "none",
            d: "M-2.2-2.7h233.3v233.3H-2.2z"
        }), i.jsx("path", {
            d: "M144.5 166.6c2.8.3 38.1-4.2 39-6.9 3.6-10.5 8-74.1-7.7-92.5-1.2-12.9-9-33.9-27.3-38.1-2.2-4.8-3.5-5.2-7.4-9.8-3.4-4-8.1-6.6-12.9-8.5C108.5 2.9 80.5 8.3 65 23.1c-6.5 6.3-11 15-10.8 24.1.2 6.3-2.4 8.4-4.2 14.1-1 3.2-2.6 10.8-2.6 17.2.1 7.4 3.5 18.6 4.3 18.1.2-.1 2.6 25.8 1.4 41.9L52 164l17.4 1.7s3.2 5.1 13.5 11.1l.3 6.9c-14.1.5-45.6 9.3-45.6 9.3 13.6 13.2 45.2 31.1 77.3 31.1 27.3 0 51.8-7.9 69.5-23.4 0 0-26.9-11.4-40.6-13 1.2-9.5.9-15.7.7-21.1z",
            fill: n
        }), i.jsx("path", {
            d: "M156.8 71.8c-2.2-5.4-11.9-19.4-16.3-14.6-6.2 6.8-24.6 12.6-28.7 13-19.6 1.8-41.2-16-52.8 0-7.1 9.8-5.6 26.9-5.5 31.8.1 5.7 0 11.4-.4 17-.7 11.9 1.2 26.8 8.6 36.7 4.9 6.5 14.8 16.7 22.8 22l-.5 3.7v4.5c16.7 15.4 42.3 15.8 59.5 1l1.1-1v-19.4c5.7-5.2 11.4-12.7 15.4-18.5 5.7-8.2 7-18 7.5-27.2.2-3.8 13.1-14 3.9-22.4-7.3-6.5-11.6 0-11.6 0 .8-1.8-2.2-24.7-3-26.6z",
            fill: r
        }), i.jsx("path", {
            d: "M159.8 98.4c.1-8 .9-14-1.9-23.4-3.3-11.5-8.3-15.8-15.5-19.5-.4-.2-.9-.4-1.4-.4-.6.1-1.1.6-1.5 1-8 8.5-21.3 13.5-32.9 13.1-8.4-.3-16.6-2.1-24.6-4.5-7.2-2.1-14.4-4.8-20.3 1.4-10.7 11.3-8.5 30.2-9 30.4-.8.4-4.2-10.7-4.2-18.2 0-6.4 1.5-14 2.6-17.2 1.8-5.7 4.3-7.9 4.2-14.1-.3-9.1 4.2-17.8 10.8-24.1 15.3-14.8 43.2-20.1 63-12.2 4.8 1.9 9.6 4.5 12.9 8.5 4.4 5.1 8.1 15.5 4.3 21.7M52.6 96.5s.8 11.7-.1 25.5c-.7 12 2.3 25.6 9.8 35.6 6.5 8.7 19.1 19.2 28.8 24 23.3 10.8 53.5-10.5 68.5-32.1 5.9-9.6 7.9-30 7.9-30m-7.3 5.2c5.2-2.5 9.6-6.8 12.2-11.9 1.8-3.5 2.8-7.6 1.6-11.3-1.1-3.7-4.9-6.8-8.8-6.3-2.2.3-4.1 1.7-5.5 3.4s-2.4 3.7-3.3 5.7m-11.9 62.3c9.7 1 36.5-4.2 39-6.9 3.9-4.3 5.6-53.1-.3-77.5-1.1-4.6-3.4-11.9-7.4-14.9 0-14.3-12.1-35.6-28.9-38.6M77.3 149.8c2.5 1.4 5.2 2.3 8.1 2.6 2.8.3 5.7 0 8.4-.8l5.9-1.8m-18-22.5c1.2-8.3 1.6-16.7 1.1-25m1.4 75.2l.1 10.5 1.1.9c8.3 6.9 19 10.6 30 10.4 11-.2 21.6-4.2 29.6-11.3l-.4-21.4M84 183.8c-13.3 0-26.3 1.9-39 5.6l-14.2 4.1m114.2-9.6c13.3 0 25.8 1.8 38.5 5.5l14.2 4.1m-144.9-61c-.4 10-.5 20.6-.9 30.6 0 .3 0 .6.1.8.2.3.6.5.9.5 5.7 1.5 11.3 2.2 17.2 1.9",
            fill: "none",
            stroke: o,
            strokeWidth: "6",
            strokeLinecap: "round",
            strokeLinejoin: "round"
        }), i.jsxs("linearGradient", {
            id: "left1_svg__a",
            gradientUnits: "userSpaceOnUse",
            x1: "4015.933",
            y1: "-2536.982",
            x2: "4015.933",
            y2: "-2506.921",
            gradientTransform: "rotate(90 738.4 -3163.533)",
            children: [i.jsx("stop", {
                offset: ".001",
                stopColor: o,
                stopOpacity: "0"
            }), i.jsx("stop", {
                offset: "1",
                stopColor: o,
                stopOpacity: ".3"
            })]
        }), i.jsx("path", {
            d: "M110 227.6s1.8-55 1.8-113.6-2-113.7-2-113.7-28.1 28.4-28.1 114c.1 78.6 28.3 113.3 28.3 113.3",
            fill: "url(#left1_svg__a)"
        }), i.jsxs("linearGradient", {
            id: "left1_svg__b",
            gradientUnits: "userSpaceOnUse",
            x1: "114.5",
            y1: "-4293.173",
            x2: "114.5",
            y2: "-4310.85",
            gradientTransform: "matrix(1 0 0 -1 0 -4181.223)",
            children: [i.jsx("stop", {
                offset: ".52",
                stopColor: o,
                stopOpacity: "0"
            }), i.jsx("stop", {
                offset: "1",
                stopColor: o,
                stopOpacity: ".3"
            })]
        }), i.jsx("path", {
            d: "M228.1 118.7s-55-6.7-113.6-6.7S.8 119.3.8 119.3s28.3 10.3 113.9 10.3c78.7 0 113.4-10.9 113.4-10.9",
            fill: "url(#left1_svg__b)"
        })]
    })
}
  , H2 = () => {
    var a, s, c, l, d, u, m;
    const {startIcon: e} = (a = ci()) != null ? a : {}
      , t = f.useContext(Je)
      , n = (c = A((s = e == null ? void 0 : e["fill-color"]) == null ? void 0 : s.base.base)) != null ? c : t.iconColorPrimary
      , r = (d = A((l = e == null ? void 0 : e["fill-color"]) == null ? void 0 : l.highlight.base)) != null ? d : t.iconColorHighlight
      , o = (m = A((u = e == null ? void 0 : e["stroke-color"]) == null ? void 0 : u.base.base)) != null ? m : t.iconColorStroke;
    return i.jsxs("svg", {
        role: "img",
        xmlns: "http://www.w3.org/2000/svg",
        viewBox: "0 0 227.3 227.3",
        "aria-label": "left",
        children: [i.jsx("path", {
            fill: "none",
            d: "M-2.2-2.7h233.3v233.3H-2.2z"
        }), i.jsx("path", {
            d: "M144 166.4c6.3.7 37.7-4.1 39.1-6.4 3.5-5.5 5.9-63.7-5.9-88.2 0 0 4.9-30.9-28.6-43C135.7 8.4 128 7.4 94.2 8.6 67 9.4 51 38.7 56.6 57c-.4 1.8-2.1 10.8-2.5 15.8-.6 5.6 2.3 14.4 2.3 14.4l-.9 77.5 9.9 1.4 17.5 15.7.4 1.9c-14.1.4-45.6 9.3-45.6 9.3 13.6 13.2 45.2 31.1 77.3 31.1 27.3 0 51.8-7.9 69.5-23.4 0 0-25.6-10.9-39.6-12.9l-.9-21.4z",
            fill: n
        }), i.jsx("path", {
            d: "M144.8 175.9v12.4l-1.1 1c-17.2 14.8-42.8 14.4-59.5-1v-7c-2.6-1.4-10.1-6.7-12.4-8.6-6-4.8-16.1-19-18.9-26.1-2.8-7.1 1.4-39.3 3.4-51.2.6-3.9 1.2-7.8 1.7-11.7.4-3 1.8-12.5 2.4-15.4.8-4.4 6.6 2.9 17.3 5.2 15.7 3.3 27.9-4.1 36.9-5.7 3.2-.6 8.3 1.6 17.2 15.7.9 1.4 3.6 13.3 3.7 21.8 0 1.1 5.5-8.8 13.2-2 9.7 8.6-6.7 24.4-6.6 25.8.2 3.8-.4 15.4-1.4 19-1.6 5.6-.9 11.1-2.1 16.8-.8 3.8 6.3-.8 6.3 3.1l-.1 7.9z",
            fill: r
        }), i.jsx("path", {
            d: "M142.1 127.2c.5 12.3-4.1 38.6-3.5 38.9 3.4 2 29.7-1.5 44.6-6.2 2.8-11.1 3.8-24.6 3.2-48.2-.6-20.3-4-27.5-5.4-32.2-1.2-4-3.6-7.9-3.7-7.7 2.4-5.3-4.8-40.9-28.6-43m-6.6 138.1c-17.7 11.2-42.5 16.6-58 14.4-7.6-1.8-27.4-22.3-30.6-32.8-2.8-7.1-2.3-17.2-1.6-25.7l8.8-57.1M145 43.8c2.5-3.1 8.4-15.4-3-25.6-4.6-4.2-10.4-6.9-16.4-8.5-12.7-3.4-23.1-2.8-33.1-.9C59.3 15.2 43.1 54 63.2 67.5c13.5 9 32.9 6.1 52.4-.6 15 6.7 20.5 21.8 19.8 39.5m-66.5-4.2c.2 3.1-1.7 20.5-4 25m-2.6 19.3c2.7 1.4 3.8 2.2 6.8 2.7s7.9.8 10.7-.2m57.8-19c5.2-2.5 9.6-6.8 12.2-11.9 1.8-3.5 2.8-7.6 1.6-11.3-1.1-3.7-4.9-6.8-8.8-6.3-2.2.3-4.1 1.7-5.5 3.4s-2.4 3.7-3.3 5.7M56.2 59.2c-2.7 9.5-3.7 21.6.2 33.6M84 181.2l.1 6.8 1.1.9c8.3 6.9 19 10.6 30 10.4 11-.2 21.6-4.2 29.6-11.3v-21.1m-60.9 16.9c-13.3 0-26.3 1.9-39 5.6l-14.2 4.1m114.3-9.6c13.3 0 25.8 1.8 38.5 5.5l14.2 4.1m-142.4-41c0 3.6 0 11.9.1 12.1.1.3 7.2 1.8 9.9 1.4",
            fill: "none",
            stroke: o,
            strokeWidth: "6",
            strokeLinecap: "round",
            strokeLinejoin: "round"
        }), i.jsxs("linearGradient", {
            id: "left2_svg__a",
            gradientUnits: "userSpaceOnUse",
            x1: "4670.821",
            y1: "4319.57",
            x2: "4670.821",
            y2: "4271.634",
            gradientTransform: "matrix(0 1 1 0 -4207.72 -4556.822)",
            children: [i.jsx("stop", {
                offset: ".001",
                stopColor: o,
                stopOpacity: "0"
            }), i.jsx("stop", {
                offset: "1",
                stopColor: o,
                stopOpacity: ".3"
            })]
        }), i.jsx("path", {
            d: "M108.9 227.6s2.9-55 2.9-113.6S108.7.3 108.7.3s-44.8 28.4-44.8 114c-.1 78.6 45 113.3 45 113.3",
            fill: "url(#left2_svg__a)"
        }), i.jsxs("linearGradient", {
            id: "left2_svg__b",
            gradientUnits: "userSpaceOnUse",
            x1: "114.6",
            y1: "6730.506",
            x2: "114.6",
            y2: "6748.182",
            gradientTransform: "translate(0 -6618.7)",
            children: [i.jsx("stop", {
                offset: ".52",
                stopColor: o,
                stopOpacity: "0"
            }), i.jsx("stop", {
                offset: "1",
                stopColor: o,
                stopOpacity: ".3"
            })]
        }), i.jsx("path", {
            d: "M228.2 118.5s-55-6.7-113.6-6.7S.9 119.2.9 119.2s28.3 10.3 113.9 10.3c78.7 0 113.4-11 113.4-11",
            fill: "url(#left2_svg__b)"
        })]
    })
}
  , q2 = () => {
    var a, s, c, l, d, u, m;
    const {startIcon: e} = (a = ci()) != null ? a : {}
      , t = f.useContext(Je)
      , n = (c = A((s = e == null ? void 0 : e["fill-color"]) == null ? void 0 : s.base.base)) != null ? c : t.iconColorPrimary
      , r = (d = A((l = e == null ? void 0 : e["fill-color"]) == null ? void 0 : l.highlight.base)) != null ? d : t.iconColorHighlight
      , o = (m = A((u = e == null ? void 0 : e["stroke-color"]) == null ? void 0 : u.base.base)) != null ? m : t.iconColorStroke;
    return i.jsxs("svg", {
        role: "img",
        xmlns: "http://www.w3.org/2000/svg",
        viewBox: "0 0 227.3 227.3",
        "aria-label": "left",
        children: [i.jsx("path", {
            fill: "none",
            d: "M-3-3h233.3v233.3H-3z"
        }), i.jsx("path", {
            d: "M142.5 187.7c2.1-3.8.9-8.6 1-12.7 0-1.8 0-5.3 1.6-6.6 1.5-1.2 5.6-.8 7.5-1 8.8-1.1 22.6-1.6 29.7-7.7 4-3.5 3.8-29.9 2.1-52-1.1-14.6-2.8-27.3-4.2-30 0 0 12.8-36.1-28-48.4-6.4-19.1-25.6-25-58.8-21.1-23 .8-48.9 36.6-36.6 51.2 7.8 9.2.3 27.8.1 35.3-.2 10.1-10.9 29.4-10.7 30.1.1.4 6 3.8 6.3 4.4.4.8-3.8 16.7 6.8 33 9.4 14.4 23.9 13.6 23.3 18.2 0 .2-.3 2.7-.3 2.9-14.2.5-45.4 9.3-45.4 9.3 13.6 13.2 45.2 31.1 77.3 31.1 27.3 0 51.8-7.9 69.5-23.4 0 0-26.9-11.4-40.6-13-.2.1-.4.3-.6.4z",
            fill: n
        }), i.jsx("path", {
            d: "M143.5 169c.9.4.4 18.9.4 18.9l-1.1 1c-17.2 14.8-42.8 14.4-59.5-1v-7c-2.6-1.4-10.1-6.7-12.4-8.6-6-4.8-17.3-13.1-18.9-26.1-.7-5.7-.8-12.2-.9-17.8-1.9-.7-5.7-3.4-5.8-3.7-.1-.4 5.4-11.1 7.7-16.2 1.3-3 5.1-34.4 7.1-41.6 6.1 2.6 12.3 4.9 18.8 6 6.5 1.1 25.2-4.2 28.3-4.3 3.8-.2 9.8 2.4 12.4 5.2s5.6 13.7 5.4 16.1c-1 11.9-2.2 10.2-4.8 14.2 2-1.7 6 0 7.8 1.8 2.5 2.4 3 7.5 2 10.8-1.1 3.6-5.6 10.2-7.7 13.3-2.3 3.4-3.4 16.7-4.1 21.3-.4 2.8-2.1 16.8-.4 18.8 2.3 2.5 25.6-1.2 25.7-1.1z",
            fill: r
        }), i.jsx("path", {
            d: "M121.6 129.7c.3-.3-6.2 39.3-4.1 40.2 2 .9 18.3.1 36.2-2.7 15.2-2.4 28.7-7.4 28.7-7.4 4.9-15.6 4.8-67.2-2.1-82 5.5-17.8-8.5-46.9-28-48.4m-17 140c-13.7 7.5-33.1 12.7-50.9 10.2-7.6-1.8-26.5-14.5-29.7-25-1.7-4.4-2.8-15.9-2.5-20.5.2-2.4.3-5.6.3-5.6-1.7-.4-5.4-2.3-7.1-3.9 3-6.9 7.5-15.1 10-22.2 1.5-4.1 2.7-19.6 3.2-23.8.5-4.5 1-8.9 1.4-13.4m87.8-18.8c6.1-7.8 7.7-20.3-3.7-30.5-4.6-4.2-12.7-8-18.5-8.7-12.6-1.6-24-.6-34 1.3-33.1 6.4-49.3 45.2-29.2 58.7 13.5 9 28.4 6.5 47.9-.2 15 6.7 19.5 23.1 11.5 36.2m-69.1 39.6c2.7 1.4 2.6 1.6 5.6 2.1s7.8.8 10.7-.2m47.8-12c5.2-2.5 9.6-6.8 12.2-11.9 1.8-3.5 2.8-7.6 1.6-11.3-1.1-3.7-4.9-6.8-8.8-6.3-2.2.3-4.1 1.7-5.5 3.4s-2.4 3.7-3.3 5.7m-29.7 68.6l.1 6.8 1.1.9c8.3 6.9 19 10.6 30 10.4 11-.2 21.6-4.2 29.6-11.3l.1-19.2m-61 14.9c-13.3 0-26.3 1.9-39 5.6L30 193.1m114.2-9.6c13.3 0 25.8 1.8 38.5 5.5l14.2 4.1",
            fill: "none",
            stroke: o,
            strokeWidth: "6",
            strokeLinecap: "round",
            strokeLinejoin: "round"
        }), i.jsxs("linearGradient", {
            id: "left3_svg__a",
            gradientUnits: "userSpaceOnUse",
            x1: "4670.472",
            y1: "4318.721",
            x2: "4670.472",
            y2: "4252.791",
            gradientTransform: "matrix(0 1 1 0 -4207.72 -4556.822)",
            children: [i.jsx("stop", {
                offset: ".001",
                stopColor: o,
                stopOpacity: "0"
            }), i.jsx("stop", {
                offset: "1",
                stopColor: o,
                stopOpacity: ".3"
            })]
        }), i.jsx("path", {
            d: "M107 227.3s4-55 4-113.6S106.7 0 106.7 0 45 28.4 45 114c0 78.5 62 113.3 62 113.3",
            fill: "url(#left3_svg__a)"
        }), i.jsxs("linearGradient", {
            id: "left3_svg__b",
            gradientUnits: "userSpaceOnUse",
            x1: "113.75",
            y1: "6730.156",
            x2: "113.75",
            y2: "6747.832",
            gradientTransform: "translate(0 -6618.7)",
            children: [i.jsx("stop", {
                offset: ".52",
                stopColor: o,
                stopOpacity: "0"
            }), i.jsx("stop", {
                offset: "1",
                stopColor: o,
                stopOpacity: ".3"
            })]
        }), i.jsx("path", {
            d: "M227.4 118.2s-55-6.7-113.6-6.7S.1 118.9.1 118.9s28.3 10.3 113.9 10.3c78.6 0 113.4-11 113.4-11",
            fill: "url(#left3_svg__b)"
        })]
    })
}
  , $2 = () => {
    var a, s, c, l, d, u, m;
    const {startIcon: e} = (a = ci()) != null ? a : {}
      , t = f.useContext(Je)
      , n = (c = A((s = e == null ? void 0 : e["fill-color"]) == null ? void 0 : s.base.base)) != null ? c : t.iconColorPrimary
      , r = (d = A((l = e == null ? void 0 : e["fill-color"]) == null ? void 0 : l.highlight.base)) != null ? d : t.iconColorHighlight
      , o = (m = A((u = e == null ? void 0 : e["stroke-color"]) == null ? void 0 : u.base.base)) != null ? m : t.iconColorStroke;
    return i.jsxs("svg", {
        role: "img",
        xmlns: "http://www.w3.org/2000/svg",
        viewBox: "0 0 227.3 227.3",
        "aria-label": "right",
        children: [i.jsx("path", {
            fill: "none",
            d: "M-3-3h233.3v233.3H-3z"
        }), i.jsx("path", {
            d: "M143.9 187.5c.6-7.6-1.7-18.7 9.1-21.7 0 .1-.1.1-.1.1l15-2.7v-18.6c.5-20.9 1.2-52.1 1.2-52.1s1.9-11.2.9-22.8c-.9-11-6.7-20.7-6.7-20.7-.4-9.3-2.2-16.3-10-24.9-7.6-8.3-17.8-11.4-28.8-13.5-12-2.3-22.9-.8-34.3 3.4-9.5 3.5-17.1 8-24 15.4-5.8 6.3-13 21-13 21v.2c-9 9.5-13.8 27.6-13.7 41.6.2 13.8-.3 64.2 3.1 70.9 2 3.9 35.2 4 36.5 3.8 5.1 2.1 5.3 6.6 3.8 16.7-14 .4-45.8 9.3-45.8 9.3 13.6 13.2 45.2 31.1 77.3 31.1 27.3 0 51.8-7.9 69.5-23.4 0-.2-26.2-11.3-40-13.1z",
            fill: n
        }), i.jsx("path", {
            d: "M99.4 58.9c-9.2.1-18.5 2.5-25.4 8.5-7.7 6.6-11.9 17-11.4 27.1-5.3-.4-9.8 4.9-10 10.3-.3 11.3 8.5 17 8.9 17.9.5 1 3.9 20.3 8.8 31.3 2.4 5.3 7.3 15 12.5 17.1l.6 15.6 1.1 1c17.2 14.8 42.8 14.4 59.5-1v-14c4.5-3.5 8.8-7.5 16.7-17.2 4.6-5.6 7.8-20.2 7.6-27.5-.2-7.2-.2-15.2-.4-22.4-.4-14.9.7-32.1-8-45-3.6 3.3-11.6 9.9-22.6 10.4-15.6.7-31.2-12.1-37.9-12.1z",
            fill: r
        }), i.jsx("path", {
            d: "M121.7 149.4l5.9 1.8c2.7.8 5.6 1.1 8.4.8s5.6-1.2 8.1-2.6m-5.5-21.8c-1.2-8.3-1.6-16.7-1.1-25m-75.1-6.4c-2.1-15 9.5-27.6 17.4-32.4 7.3-4.4 18.6-6.6 26.8-3.6 5.3 1.9 9.8 5.6 15 7.6 9.3 3.7 20.5 3.4 29.8-.4 10.4-4.3 13.2-18.5 11.7-24.7-2.3-9.5-6.2-15.4-11.5-20.2-7.8-7.1-16.3-10-27-11.9-11.6-2.1-23.2-.5-34.3 3.4-9.2 3.2-17.6 8.3-24 15.4-10.3 11.3-14 23.5-13.9 35.5m116.3 33.8s-.6 9.5.3 23.3c.7 12-2.3 25.6-9.8 35.6-6.5 8.7-16.3 17.7-26.1 22.5-17.8 8.8-40.4-.7-56.9-14.8M55.6 46.4c-9.1 9.5-16.4 32.2-16.2 48.5-1 30.6 1.9 63.9 3.2 68.1 4.3 1.8 24.4 4.8 35 3.4-11.5-15.8-16-44.2-15.9-44m8.6-17.3c-1-2-1.9-4-3.3-5.7s-3.3-3.1-5.5-3.4c-3.9-.6-7.6 2.5-8.8 6.3-1.1 3.7-.2 7.9 1.6 11.3 2.6 5.2 7 9.4 12.2 11.9m93.6-66.3c6.2 9.2 9.1 29.5 8.6 39.5 5.2-14.2 1.3-38.1-5-51.9M83.4 171.6v16.2l1.1.9c8.3 6.9 19 10.6 30 10.4 11-.2 21.6-4.2 29.6-11.3v-14.9m-60.7 10.5c-13.3 0-26.5 1.9-39.2 5.6L30 193.1m114.2-9.6c13.3 0 25.8 1.8 38.5 5.5l14.2 4.1m-27.8-63.8c-.2 11.2 0 33.4-.3 33.9s-11.8 2.8-16.5 2.6",
            fill: "none",
            stroke: o,
            strokeWidth: "6",
            strokeLinecap: "round",
            strokeLinejoin: "round"
        }), i.jsxs("linearGradient", {
            id: "right1_svg__a",
            gradientUnits: "userSpaceOnUse",
            x1: "113.65",
            y1: "6732.6",
            x2: "113.65",
            y2: "6750.276",
            gradientTransform: "translate(0 -6621)",
            children: [i.jsx("stop", {
                offset: ".52",
                stopColor: o,
                stopOpacity: "0"
            }), i.jsx("stop", {
                offset: "1",
                stopColor: o,
                stopOpacity: ".3"
            })]
        }), i.jsx("path", {
            d: "M227.3 118.3s-55-6.7-113.6-6.7S0 119 0 119s28.3 10.3 113.9 10.3c78.6 0 113.4-11 113.4-11",
            fill: "url(#right1_svg__a)"
        }), i.jsxs("linearGradient", {
            id: "right1_svg__b",
            gradientUnits: "userSpaceOnUse",
            x1: "4672.472",
            y1: "-188.98",
            x2: "4672.472",
            y2: "-219.041",
            gradientTransform: "rotate(90 2239.37 -2319.45)",
            children: [i.jsx("stop", {
                offset: ".001",
                stopColor: o,
                stopOpacity: "0"
            }), i.jsx("stop", {
                offset: "1",
                stopColor: o,
                stopOpacity: ".3"
            })]
        }), i.jsx("path", {
            d: "M110.7 227.3S139 192.5 139 114c0-85.6-28.1-114-28.1-114s-2 55.1-2 113.7 1.8 113.6 1.8 113.6",
            fill: "url(#right1_svg__b)"
        })]
    })
}
  , G2 = () => {
    var a, s, c, l, d, u, m;
    const {startIcon: e} = (a = ci()) != null ? a : {}
      , t = f.useContext(Je)
      , n = (c = A((s = e == null ? void 0 : e["fill-color"]) == null ? void 0 : s.base.base)) != null ? c : t.iconColorPrimary
      , r = (d = A((l = e == null ? void 0 : e["fill-color"]) == null ? void 0 : l.highlight.base)) != null ? d : t.iconColorHighlight
      , o = (m = A((u = e == null ? void 0 : e["stroke-color"]) == null ? void 0 : u.base.base)) != null ? m : t.iconColorStroke;
    return i.jsxs("svg", {
        role: "img",
        xmlns: "http://www.w3.org/2000/svg",
        viewBox: "0 0 227.3 227.3",
        "aria-label": "right",
        children: [i.jsx("path", {
            fill: "none",
            d: "M-3-3h233.3v233.3H-3z"
        }), i.jsx("path", {
            d: "M183.7 200.3c-5.5-2.3-11-4.4-16.6-6.4-4.2-1.5-8.5-2.9-12.8-4.1-2-.6-4-1.1-6.1-1.5-2.1-.5-4.1-.5-4.1-3.3 0-3.4-1.1-6.3.5-9.4 1.7-3.2 4.5-5.7 7.3-7.8l2.1-1.5 14.7-4.6-1.4-12.1c.7-2.5 1.1-5.1 1.3-7.7 2-20.6-3.3-41.3-2.6-62 .2-5.1.7-10.4-.9-15.3-.2-.5-.4-1.1-.6-1.6 19.6-13.6 2.9-50.8-30.5-52.9C95.7 7.7 67 22 58.7 48.3c-31.2 20.2-20 96-13.1 114.4 10.3 5.3 28 5.2 37 4 .1.9.1 1.8.3 2.6.8 4.9 2.8 8.8-1.4 13-3.2 3.2-6.6 2.4-10.5 2.5-4.7.2-9.6 1.9-14.2 2.9-6.7 1.5-13.3 3.2-19.9 5 13.6 13.2 45.2 31.1 77.3 31.1 27.3 0 51.8-7.9 69.5-23.4.1 0 0-.1 0-.1z",
            fill: n
        }), i.jsx("path", {
            d: "M165.9 64.1c-3.5 2.6-15.7 8.6-27 5.8-9.7-2.3-15.9-6.7-22.9-7.9-9.9-1.7-18.5.8-25.3 8.1-6.9 7.3-10.7 20.1-8.4 29.8-4.6-2.3-8.3.8-10.6 4-3.4 4.7 2.2 16.4 8.7 21.2 1.6 1.2 3.3 30.1 7.9 39.6-2.2.5-3.5 1.1-5.7 1.6 1.9 2.8.5 21.6.5 21.6s11 8.4 25.3 10.1c11.9 1.4 26.7-3.1 34.3-10.1l.2-10.3c-.4.2 14.1-13.1 19.5-22.3 6-10.1 8.6-22.2 7-33.9-.6-4-3.1-18.6-3.4-22-.1-2.6-1.5-26.2-.1-35.3z",
            fill: r
        }), i.jsx("path", {
            d: "M80.8 125.7c-.3 12.5 7.6 39 7.6 39-16.3 3.6-33.4 2.1-42.6-2.1-3.3-1.5-10.3-50.9-6-76.7C41.5 68 48.4 55.1 59 47.8c8.1-19 29.7-38.7 70.6-38.2 41.3 1.9 53.7 42.4 33.5 55.9-28.3 14.3-37.6-7-58.3-2.7-18.1 1.8-27.2 27.1-21.3 36.8m83.3-37s-.7 23.3-.3 31.9 3.7 27.1 3.8 30.7c.2 3.6-1.8 19.3-5.1 26.2-4 10.2-19.5 26.4-30.5 29.9-14.8 5.9-36.3-.2-53.2-14.1m76-40.9c-2.3-4.5-4.2-21.9-4-25m-10.9 47.8c2.9 1 7.7.8 10.7.2s4.1-1.3 6.8-2.7m-71.5-38.8c-.9-2-1.9-4-3.3-5.7S82 99 79.8 98.7c-3.9-.5-7.7 2.6-8.8 6.3-1.2 3.7-.2 7.8 1.6 11.3 2.6 5.1 7 9.4 12.2 11.9M58.9 47.8c-1.9 5.6-3.3 16-3.1 22.1m27.6 99.3v18.5l1.1.9c8.3 6.9 19 10.6 30 10.4 11-.2 21.6-4.2 29.6-11.3v-10.8m-60.7 6.5c-13.3 0-26.5 1.9-39.2 5.6L30 193.1m114.2-9.6c13.3 0 25.8 1.8 38.5 5.5l14.2 4.1m-40.7-28.2c4.1 0 12.3-2.9 12.5-3.3.2-.2-1.2-14.5-.9-18.5",
            fill: "none",
            stroke: o,
            strokeWidth: "6",
            strokeLinecap: "round",
            strokeLinejoin: "round"
        }), i.jsxs("linearGradient", {
            id: "right2_svg__a",
            gradientUnits: "userSpaceOnUse",
            x1: "113.65",
            y1: "6730.3",
            x2: "113.65",
            y2: "6747.977",
            gradientTransform: "translate(0 -6618.7)",
            children: [i.jsx("stop", {
                offset: ".52",
                stopColor: o,
                stopOpacity: "0"
            }), i.jsx("stop", {
                offset: "1",
                stopColor: o,
                stopOpacity: ".3"
            })]
        }), i.jsx("path", {
            d: "M227.3 118.3s-55-6.7-113.6-6.7S0 119 0 119s28.3 10.3 113.9 10.3c78.6 0 113.4-11 113.4-11",
            fill: "url(#right2_svg__a)"
        }), i.jsxs("linearGradient", {
            id: "right2_svg__b",
            gradientUnits: "userSpaceOnUse",
            x1: "4670.472",
            y1: "-207.178",
            x2: "4670.472",
            y2: "-256.777",
            gradientTransform: "rotate(90 2229.272 -2327.55)",
            children: [i.jsx("stop", {
                offset: ".001",
                stopColor: o,
                stopOpacity: "0"
            }), i.jsx("stop", {
                offset: "1",
                stopColor: o,
                stopOpacity: ".3"
            })]
        }), i.jsx("path", {
            d: "M111.9 227.3s46.7-34.8 46.7-113.3c0-85.6-46.4-114-46.4-114s-3.3 55.1-3.3 113.7 3 113.6 3 113.6",
            fill: "url(#right2_svg__b)"
        })]
    })
}
  , W2 = () => {
    var a, s, c, l, d, u, m;
    const {startIcon: e} = (a = ci()) != null ? a : {}
      , t = f.useContext(Je)
      , n = (c = A((s = e == null ? void 0 : e["fill-color"]) == null ? void 0 : s.base.base)) != null ? c : t.iconColorPrimary
      , r = (d = A((l = e == null ? void 0 : e["fill-color"]) == null ? void 0 : l.highlight.base)) != null ? d : t.iconColorHighlight
      , o = (m = A((u = e == null ? void 0 : e["stroke-color"]) == null ? void 0 : u.base.base)) != null ? m : t.iconColorStroke;
    return i.jsxs("svg", {
        role: "img",
        xmlns: "http://www.w3.org/2000/svg",
        viewBox: "0 0 227.3 227.3",
        "aria-label": "right",
        children: [i.jsx("path", {
            fill: "none",
            d: "M-2.2-2.7h233.3v233.3H-2.2z"
        }), i.jsx("path", {
            d: "M144.7 187.8c0-.1 0-.2.1-.3 1-4.8-1.4-10.8 2.1-14.3 1.1-1.1 9.9-7.1 12.1-10.1 6.4-8.8 10.4-19.3 11.5-30.1.1-1 .2-2 .5-2.9 1-2.8 4.1-4.3 6.9-5.4-.9-.5-10.8-27.2-11.7-38-.4-5.5-1.7-20.3-3.1-21.9.6-.4 1.3-.9 1.9-1.4 20.2-13.4 3.5-51.1-30.1-53.2-38.3-2.4-71 10.2-79.1 41.2-29.8 23.6-12.5 87-8.3 109.7 5.8 1.9 34.5 5.5 35.7 9.6.8 2.7.6 11.4.2 13-14.2.5-45.5 9.3-45.5 9.3 13.6 13.2 45.2 31.1 77.3 31.1 27.3 0 51.8-7.9 69.5-23.4.1.1-26.1-11-40-12.9zm-41.5-45c.1.3.3.6.4.9l-.1.1c-.2-.3-.3-.6-.3-1z",
            fill: n
        }), i.jsx("path", {
            d: "M167.8 96.4c-1.7-4.4-2.5-25.1-3.7-30.4-12.6 6.5-24.4 7.1-36.7 4.1-6.5-1.6-13.6-2.6-19.9-.3-5.4 2-9.6 6.8-11.3 12.4-1.7 5.5-1.1 11.6 1 17 0 0-7.5 1.2-7.1 10.9.3 7.9 10.1 14.1 10.6 18.4 1.1 9.3 8.1 34.7 7.9 36.5-4.7 2.3-24.5 1.8-24.5 4.4 0 4.5.3 18.6.3 18.6s31.6 24.9 60.7 0l-.7-12.5c6.2-3.8 13.8-11 15.4-12.9 5.8-7.1 10-13.2 11.5-33l7.7-4.5c-.2.1-11.2-28.7-11.2-28.7z",
            fill: r
        }), i.jsx("path", {
            d: "M99.8 125.5c.8 9.7 7.4 36.1 9.4 39.9-12.8 3.6-26.4 2.3-39.6 1-9-.9-20.6-3.8-21-4.3s-10.7-40.3-9.1-69.2c-.1-18.4 5.8-34.2 16.4-41.5 8.3-26.2 33.6-42 74.5-41.5 41.3 1.9 53.7 42.4 33.5 55.9-28.3 14.3-40-2-55.9 4C97 74 91 89.5 96.9 99.2m53.6 47.3c2.9 1 7.7.8 10.7.2s4.1-1.3 6.8-2.7m-59.6-35.8c-.9-2-1.9-4-3.3-5.7s-3.3-3.1-5.5-3.4c-3.9-.5-7.7 2.6-8.8 6.3-1.2 3.7-.2 7.8 1.6 11.3 2.6 5.1 7 9.4 12.2 11.9M55.8 51.4c-1.9 5.6-2.7 23.9-.3 30.3m108.4-15.9c.8 6.3 1.6 12.7 2.4 19 .7 5.3.8 10.9 2.7 15.9 2.1 5.4 3.1 9.1 5.5 14.3.7 1.6 3.7 8.5 4.4 10.1-2.2 2.2-5.4 3-8.1 4.2 1.5 3.3-3.1 18.7-4.9 22.6-5 12.5-19.5 24.1-30.5 27.6-17.9 6.9-41 .8-56.8-12.1m5.6 5.8V188l1.1.9c8.3 6.9 19 10.6 30 10.4 11-.2 21.6-4.2 29.6-11.3v-10.8m-60.7 6.6c-13.3 0-26.5 1.9-39.2 5.6l-14.2 4.1m114.2-9.6c13.3 0 25.8 1.8 38.5 5.5l14.2 4.1",
            fill: "none",
            stroke: o,
            strokeWidth: "6",
            strokeLinecap: "round",
            strokeLinejoin: "round"
        }), i.jsxs("linearGradient", {
            id: "right3_svg__a",
            gradientUnits: "userSpaceOnUse",
            x1: "114.5",
            y1: "8936.65",
            x2: "114.5",
            y2: "8954.326",
            gradientTransform: "translate(0 -8824.7)",
            children: [i.jsx("stop", {
                offset: ".52",
                stopColor: o,
                stopOpacity: "0"
            }), i.jsx("stop", {
                offset: "1",
                stopColor: o,
                stopOpacity: ".3"
            })]
        }), i.jsx("path", {
            d: "M228.1 118.7s-55-6.7-113.6-6.7S.8 119.3.8 119.3s28.3 10.3 113.9 10.3c78.7 0 113.4-10.9 113.4-10.9",
            fill: "url(#right3_svg__a)"
        }), i.jsxs("linearGradient", {
            id: "right3_svg__b",
            gradientUnits: "userSpaceOnUse",
            x1: "5980.821",
            y1: "-1104.028",
            x2: "5980.821",
            y2: "-1174.186",
            gradientTransform: "rotate(90 2436.272 -3430.55)",
            children: [i.jsx("stop", {
                offset: ".001",
                stopColor: o,
                stopOpacity: "0"
            }), i.jsx("stop", {
                offset: "1",
                stopColor: o,
                stopOpacity: ".3"
            })]
        }), i.jsx("path", {
            d: "M113.9 227.6S180 192.8 180 114.3c0-85.6-65.6-114-65.6-114s-4.7 55.1-4.7 113.7 4.2 113.6 4.2 113.6",
            fill: "url(#right3_svg__b)"
        })]
    })
}
  , Ze = ({children: e, frameDuration: t}) => f.Children.count(e) > 1 ? i.jsx(z2, {
    frameDuration: t,
    children: e
}) : i.jsx(i.Fragment, {
    children: e
});
Ze.Center = V2;
Ze.Left1 = U2;
Ze.Left2 = H2;
Ze.Left3 = q2;
Ze.Right1 = $2;
Ze.Right2 = G2;
Ze.Right3 = W2;
const Y2 = g.div.withConfig({
    displayName: "SelfiePictograph__SlidesContainer",
    componentId: "sc-1yjms2j-0"
})(["position:relative;"])
  , z2 = f.memo(function({children: t, frameDuration: n}) {
    const r = f.useRef(f.Children.toArray(t).flatMap( (s, c) => {
        var l;
        return new Array((l = s.props.frames) != null ? l : 1).fill(c)
    }
    ))
      , [o,a] = f.useState(0);
    return f.useEffect( () => {
        const s = setTimeout( () => a(c => (c + 1) % r.current.length), n);
        return () => clearTimeout(s)
    }
    ),
    i.jsx(Y2, {
        children: f.Children.toArray(t)[r.current[o]]
    })
}, () => !0)
  , K2 = g.div.withConfig({
    displayName: "InquirySelfiePromptView__Container",
    componentId: "sc-1duq5j2-0"
})(["display:flex;flex-direction:column;"])
  , mb = g("div").withConfig({
    displayName: "InquirySelfiePromptView__Header",
    componentId: "sc-1duq5j2-1"
})(["min-height:", ";margin-bottom:", ";"], We.header, I.Spacing[6])
  , Q2 = g("div").withConfig({
    displayName: "InquirySelfiePromptView__OptionPrimary",
    componentId: "sc-1duq5j2-2"
})(["margin-bottom:", ";"], I.Spacing[4])
  , Z2 = g(Dr).withConfig({
    displayName: "InquirySelfiePromptView__IconCameraStyled",
    componentId: "sc-1duq5j2-3"
})(["path[stroke]{stroke:", ";}"], e => e.theme.colorFontButtonPrimary)
  , hb = g.div.withConfig({
    displayName: "InquirySelfiePromptView__CaptureOptionsContainer",
    componentId: "sc-1duq5j2-4"
})(["width:100%;"]);
function J2(e) {
    const {enabledCaptureOptions: t, allowStillfieFallback: n} = e
      , [r,o] = G();
    return e.skipPromptPage && t.length === 0 ? i.jsx(Tn, {}) : t.includes("web_camera") ? i.jsx(X2, {
        ...e,
        t: r,
        i18n: o
    }) : n || D.isDashboard ? i.jsx(e7, {
        ...e,
        t: r,
        i18n: o
    }) : i.jsx(er, {
        to: "/verify/support/camera"
    })
}
function pb(e) {
    const {handleDeviceHandoff: t, isProcessing: n, localizations: r, uiReady: o} = e
      , {buttons: a} = ci();
    return i.jsx(fe, {
        id: "selfie-prompt__button--to-mobile",
        "data-test": "selfie-prompt__button--to-mobile",
        buttonType: Q.Secondary,
        disabled: !!n || !o,
        isPending: n === nt.DeviceHandoff,
        onClick: t,
        styles: a == null ? void 0 : a[Q.Secondary],
        children: r["btn-device-handoff"]
    })
}
function X2({assets: e, localizations: t, enabledCaptureOptions: n, handleDeviceHandoff: r, isProcessing: o, requireSelfieMatch: a, handleStartRecording: s, uiReady: c}) {
    const {base: l, buttons: d} = ci();
    let u, m;
    switch (a) {
    case rn.ProfileAndCenter:
    case rn.ConfigurablePoses:
        u = t["selfie-prompt"],
        m = i.jsx(Qe, {
            height: 120,
            width: 120,
            "aria-label": "selfie pictograph",
            children: i.jsx(Ue, {
                customImage: e["selfie-pictograph"],
                alt: "selfie pictograph",
                children: i.jsx(Kt, {
                    url: "selfiePictographUrl",
                    height: "selfiePictographHeight",
                    "aria-label": "selfie pictograph",
                    themed: !1,
                    children: i.jsxs(Ze, {
                        frameDuration: 100,
                        children: [i.jsx(Ze.Center, {
                            frames: 8
                        }), i.jsx(Ze.Left1, {}), i.jsx(Ze.Left2, {
                            frames: 8
                        }), i.jsx(Ze.Left1, {}), i.jsx(Ze.Center, {}), i.jsx(Ze.Right1, {}), i.jsx(Ze.Right2, {
                            frames: 8
                        }), i.jsx(Ze.Right1, {})]
                    })
                })
            })
        });
        break;
    case rn.OnlyCenter:
        u = t["selfie-prompt-center"],
        m = i.jsx(Qe, {
            height: 120,
            width: 120,
            "aria-label": "selfie pictograph",
            children: i.jsx(Ue, {
                customImage: e["selfie-center-pictograph"],
                alt: "selfie center pictograph",
                children: i.jsx(Kt, {
                    url: "selfieCenterPictographUrl",
                    height: "selfieCenterPictographHeight",
                    "aria-label": "selfie center pictograph",
                    themed: !1,
                    children: i.jsx(Ze, {
                        children: i.jsx(Ze.Center, {})
                    })
                })
            })
        });
        break;
    default:
        Be("Invalid selfie match requirement");
        break
    }
    return i.jsxs(K2, {
        children: [i.jsx(Ue, {
            customImage: e["header-pictograph"],
            alt: "header pictograph"
        }), i.jsxs(mb, {
            children: [i.jsx(ct, {
                styles: l == null ? void 0 : l.titleStyle,
                children: i.jsx(X, {
                    children: t["selfie-title"]
                })
            }), i.jsx(ot, {
                styles: l == null ? void 0 : l.textStyle,
                children: i.jsx(X, {
                    children: u
                })
            })]
        }), m, i.jsx(mt, {
            children: i.jsxs(hb, {
                children: [i.jsx(Q2, {
                    children: i.jsx(fe, {
                        id: "selfie-prompt__button--camera",
                        "data-test": "selfie-prompt__button--camera",
                        buttonType: Q.Primary,
                        disabled: !!o || !c,
                        isPending: o === nt.SelectCamera,
                        onClick: s,
                        styles: d == null ? void 0 : d[Q.Primary],
                        children: t["btn-submit"]
                    })
                }), n.includes("device_handoff") && i.jsx(pb, {
                    localizations: t,
                    handleDeviceHandoff: r,
                    isProcessing: o,
                    uiReady: c
                })]
            })
        })]
    })
}
const Fc = g.div.withConfig({
    displayName: "InquirySelfiePromptView__StillfieHint",
    componentId: "sc-1duq5j2-5"
})(["display:flex;justify-content:center;"])
  , Yo = g.div.withConfig({
    displayName: "InquirySelfiePromptView__StillfieHintColumn",
    componentId: "sc-1duq5j2-6"
})(["display:flex;flex-direction:column;align-items:center;position:relative;width:145px;font-size:", ";line-height:", ";"], ({theme: e}) => e.fontSizeSmall, ({theme: e}) => e.lineHeightSmall)
  , Qa = g.div.withConfig({
    displayName: "InquirySelfiePromptView__StillfieHintIconContainer",
    componentId: "sc-1duq5j2-7"
})(["position:absolute;top:108px;right:-4px;"])
  , Za = g.p.withConfig({
    displayName: "InquirySelfiePromptView__StillfieHintText",
    componentId: "sc-1duq5j2-8"
})(["width:100px;"]);
function e7({assets: e, localizations: t, enabledCaptureOptions: n, isProcessing: r, currentStep: o, handleDeviceHandoff: a, handleSelectImage: s, uiReady: c}) {
    f.useEffect( () => {
        J.logAmplitude("selfie.stillfie", {
            currentStep: o
        })
    }
    , [o]);
    const {base: l, buttons: d} = ci();
    let u, m;
    switch (o) {
    case ue.Center:
        u = t["selfie-prompt-center"],
        m = i.jsx(Qe, {
            height: 120,
            width: 120,
            "aria-label": "stillfie center pictograph",
            children: i.jsx(Ue, {
                customImage: e["selfie-center-pictograph"],
                alt: "stillfie center pictograph",
                children: i.jsx(Kt, {
                    url: "selfieCenterPictographUrl",
                    height: "selfieCenterPictographHeight",
                    "aria-label": "stillfie center pictograph",
                    themed: !1,
                    children: i.jsx(Fc, {
                        children: i.jsx(Yo, {
                            children: i.jsx(Ze, {
                                children: i.jsx(Ze.Center, {})
                            })
                        })
                    })
                })
            })
        });
        break;
    case ue.Left:
        u = t["selfie-prompt-left"],
        m = i.jsx(Qe, {
            height: null,
            width: null,
            "aria-label": "stillfie left pictograph",
            children: i.jsx(Ue, {
                customImage: e["selfie-left-pictograph"],
                alt: "stillfie left pictograph",
                children: i.jsx(Kt, {
                    url: "selfieLeftPictographUrl",
                    height: "selfieLeftPictographHeight",
                    "aria-label": "stillfie left pictograph",
                    themed: !1,
                    children: i.jsxs(Fc, {
                        children: [i.jsxs(Yo, {
                            children: [i.jsx(Ze, {
                                children: i.jsx(Ze.Left1, {})
                            }), i.jsx(Qa, {
                                children: i.jsx(ms, {})
                            }), i.jsx(Za, {
                                children: t["stillfie-hint-left"]
                            })]
                        }), i.jsx(Xe, {
                            width: 3
                        }), i.jsxs(Yo, {
                            children: [i.jsx(Ze, {
                                children: i.jsx(Ze.Left3, {})
                            }), i.jsx(Qa, {
                                children: i.jsx(hs, {})
                            }), i.jsx(Za, {
                                children: t["stillfie-hint-wrong"]
                            })]
                        })]
                    })
                })
            })
        });
        break;
    case ue.Right:
        u = t["selfie-prompt-right"],
        m = i.jsx(Qe, {
            height: null,
            width: null,
            "aria-label": "stillfie right pictograph",
            children: i.jsx(Ue, {
                customImage: e["selfie-right-pictograph"],
                alt: "stillfie right pictograph",
                children: i.jsx(Kt, {
                    url: "selfieRightPictographUrl",
                    height: "selfieRightPictographHeight",
                    "aria-label": "stillfie right pictograph",
                    themed: !1,
                    children: i.jsxs(Fc, {
                        children: [i.jsxs(Yo, {
                            children: [i.jsx(Ze, {
                                children: i.jsx(Ze.Right1, {})
                            }), i.jsx(Qa, {
                                children: i.jsx(ms, {})
                            }), i.jsx(Za, {
                                children: t["stillfie-hint-right"]
                            })]
                        }), i.jsx(Xe, {
                            width: 3
                        }), i.jsxs(Yo, {
                            children: [i.jsx(Ze, {
                                children: i.jsx(Ze.Right3, {})
                            }), i.jsx(Qa, {
                                children: i.jsx(hs, {})
                            }), i.jsx(Za, {
                                children: t["stillfie-hint-wrong"]
                            })]
                        })]
                    })
                })
            })
        });
        break
    }
    return i.jsxs(i.Fragment, {
        children: [i.jsx(Ue, {
            customImage: e["header-pictograph"],
            alt: "header pictograph"
        }), i.jsxs(mb, {
            children: [i.jsx(ct, {
                styles: l == null ? void 0 : l.titleStyle,
                children: i.jsx(X, {
                    children: t["stillfie-title"]
                })
            }), i.jsx(ot, {
                styles: l == null ? void 0 : l.textStyle,
                children: i.jsx(X, {
                    children: u
                })
            })]
        }), m, i.jsx(Xe, {
            height: 3
        }), i.jsx(mt, {
            children: i.jsxs(hb, {
                children: [i.jsx(Fo, {
                    id: "selfie-prompt__button--stillfie",
                    "data-test": "selfie-prompt__button--stillfie",
                    buttonType: Q.Primary,
                    capture: "user",
                    disabled: r != null || !c,
                    isPending: r === nt.UploadImage,
                    handleSelectImage: s,
                    styles: d == null ? void 0 : d[Q.Primary],
                    children: i.jsx(Z2, {})
                }), n.includes("device_handoff") && i.jsx(pb, {
                    localizations: t,
                    handleDeviceHandoff: a,
                    isProcessing: r,
                    uiReady: c
                })]
            })
        })]
    })
}
const t7 = e => {
    const {inquiry: t, config: n, capturedSelfies: r, isWebGLIncompatible: o, featureFlags: a, hasCamera: s, styles: c, uiStatus: l, setTransitionStart: d, setUiReady: u} = e
      , m = Vt()
      , {t: h} = G()
      , p = f.useRef();
    f.useEffect( () => {
        const [O,N] = hi();
        return p.current = O,
        N
    }
    , []);
    const [b,C] = f.useState(void 0)
      , [S,v] = f.useState(void 0);
    f.useEffect( () => {
        if (e.inquiry == null) {
            D.redirectToStart();
            return
        }
    }
    , []),
    f.useEffect( () => {
        x()
    }
    , []),
    f.useEffect( () => {
        if (n == null)
            return;
        if (e.match.params.step === da([], as(t)) && e.verificationSelfieStart(),
        s == null)
            e.checkCamera();
        else {
            const N = Zv({
                config: n,
                isWebGLIncompatible: o,
                hasCamera: s
            });
            if (n["skip-prompt-page"])
                return N.includes("web_camera") ? (v([]),
                _(m.replace)) : N.includes("device_handoff") ? e.history.replace("/inquiry/device-handoff/prompt") : e.history.push("/verify/support/camera");
            N.length === 1 && N[0] === "device_handoff" ? e.history.replace("/inquiry/device-handoff/prompt") : v(N)
        }
    }
    , [s]),
    f.useEffect( () => {
        try {
            a != null && a["inquiry:enable-amplitude-logging-on-combined-step-page-enter"] && J.logAmplitude("selfie.prompt-page.entered", {})
        } catch {}
    }
    , []);
    const x = async () => {
        try {
            await kt.loadModels()
        } catch {}
    }
      , _ = async (O=m.push) => {
        e.clearMessages(),
        C(nt.SelectCamera),
        d();
        try {
            const N = Hs(t)
              , U = Pg({
                highResolution: N
            });
            e.setVideoConstraints(U),
            await Promise.all([Nn.prepare({
                video: U,
                audio: Ui(n)
            }, a), kt.loadModels()]),
            D.onEvent(Oe.SelfieCameraSelect),
            O("/inquiry/selfie/record")
        } catch (N) {
            he(N, "warning"),
            J.logAmplitude("selfie.record.errored", {
                error: {
                    name: N.name,
                    message: N.message
                }
            }),
            D.onEvent(Oe.LoadCameraFailed, {
                error: N.name,
                message: N.message
            }),
            O(Ui(n) ? "/verify/support/camera-microphone" : "/verify/support/camera")
        } finally {
            u()
        }
    }
      , R = async O => {
        if (e.clearMessages(),
        window.FileReader == null) {
            e.showMessage(h("government-id.prompt.failed-select-image"));
            return
        }
        C(nt.UploadImage),
        D.onEvent(Oe.SelfieRecordUpload);
        const N = document.createElement("img");
        N.onload = async () => {
            const V = Math.min(1e3, Math.max(N.width, N.height));
            cb(N, p.current, V);
            const ne = p.current.toDataURL("image/jpeg");
            if (ne == null) {
                e.showMessage(h("government-id.prompt.failed-select-image")),
                Be("Stillfie canvas is empty", "error", {
                    fileSize: O == null ? void 0 : O.size,
                    fileName: O == null ? void 0 : O.name,
                    img: N.src
                });
                return
            }
            J.logAmplitude("selfie.upload", {
                fileSize: O == null ? void 0 : O.size,
                fileName: O == null ? void 0 : O.name,
                imgSize: N.src.length,
                canvasSize: ne.length
            });
            let L;
            if (ne.length < N.src.length && ne.length !== 0 ? L = ne : L = N.src,
            L == null) {
                E();
                return
            }
            const H = e.match.params.step;
            e.saveCapturedSelfie(H, L, gt.Upload);
            const q = rd(r, H, L, gt.Upload)
              , ee = as(t)
              , Y = da(q, ee, n["ordered-poses"]);
            if (Y == null)
                try {
                    await e.selfieSubmit({
                        inquiry: t,
                        config: n,
                        capturedSelfiesSubmitData: {
                            capturedSelfies: q,
                            cameraInspectionData: null
                        },
                        debugForcedStatus: e.debugForcedStatus,
                        history: m,
                        t: h,
                        featureFlags: a
                    })
                } finally {
                    C(void 0)
                }
            else
                m.push(`/inquiry/selfie/${Y}/prompt`)
        }
        ,
        N.onerror = E;
        const U = await yo(O);
        N.src = U
    }
      , E = () => {
        C(void 0),
        e.showMessage(h("government-id.prompt.failed-select-image"))
    }
      , T = () => {
        b == null && (e.clearMessages(),
        C(nt.DeviceHandoff),
        e.history.push("/inquiry/device-handoff/prompt"))
    }
    ;
    if (t == null || n == null || S == null || S.length === 1 && S[0] === "device_handoff")
        return null;
    const F = as(t);
    return i.jsx(ub, {
        value: c,
        children: i.jsx(J2, {
            assets: n.assets["prompt-page"],
            localizations: n.localizations["prompt-page"],
            handleSelectImage: R,
            handleStartRecording: () => _(m.push),
            handleDeviceHandoff: T,
            enabledCaptureOptions: S,
            allowStillfieFallback: n["web-camera-allow-stillfie-fallback"],
            isProcessing: b,
            currentStep: e.match.params.step,
            requireSelfieMatch: F,
            skipPromptPage: n["skip-prompt-page"],
            uiReady: l === tn.Ready
        })
    })
}
  , n7 = e => ({
    capturedSelfies: e.verification.capturedSelfies,
    config: pf(e),
    styles: pd(e.inquiry),
    debugForcedStatus: e.test.forcedStatus,
    featureFlags: e.inquiry.featureFlags,
    inquiry: e.inquiry.inquiry,
    isWebGLIncompatible: e.inquiry.isWebGLIncompatible,
    hasCamera: e.ui.hasCamera,
    uiStatus: e.ui.status
})
  , i7 = {
    clearMessages: Lt,
    saveCapturedSelfie: qs,
    setVideoConstraints: So,
    verificationSelfieStart: ug,
    selfieSubmit: yg,
    showMessage: ce,
    checkCamera: Or,
    setTransitionStart: _n,
    setUiReady: ut
}
  , r7 = ke(n7, i7)
  , o7 = r7(t7);
class a7 {
    constructor(t) {
        this.configs = t,
        this.currentState = {
            currentPose: t.poseOrder[0],
            hasFace: !1,
            invalidReasons: null,
            poseIndex: 0
        }
    }
    getNextPoseState({canvas: t, forceCapture: n, poseData: r}) {
        let {currentPose: o, poseIndex: a} = this.currentState;
        if (o === "done" || r == null && !n)
            return this.currentState;
        let s;
        if (r && (s = this.getInvalidReasons(r, o)),
        n || !s && r != null && this.canCapture(r, o)) {
            const {poseOrder: c, onCapture: l} = this.configs;
            l(o, t, n),
            a = a + 1,
            s = null,
            o = a > c.length - 1 ? "done" : c[a]
        }
        return this.currentState = {
            currentPose: o,
            hasFace: n ? !0 : r != null && r.faceCount >= 1,
            invalidReasons: s,
            poseIndex: a
        }
    }
    getInvalidReasons(t, n) {
        const r = [];
        for (const o in Bc) {
            const a = o;
            Bc[a].isEnabled(t) && Bc[a].isTriggered(t, n, this.configs.requireHigherAccuracyCapture) && r.push(a)
        }
        return r.length > 0 ? r : null
    }
    canCapture(t, n) {
        return s7[n](t)
    }
}
const Wm = 5
  , Ym = 20
  , Mc = (e, t) => e > fb ? t >= 1 : t === 1
  , s7 = {
    [ue.Left]: e => Mc(e.elapsedTime, e.faceCount) && e.horizontalAngle < -Ym,
    [ue.Right]: e => Mc(e.elapsedTime, e.faceCount) && e.horizontalAngle > Ym,
    [ue.Center]: e => Mc(e.elapsedTime, e.faceCount) && -Wm < e.horizontalAngle && e.horizontalAngle < Wm
}
  , fb = 1e4;
var Zr = (e => (e.MultipleFaces = "multiple_faces",
e.TooFar = "too_far",
e.TooClose = "too_close",
e.NotCentered = "not_centered",
e.NoFace = "no_face",
e))(Zr || {});
const c7 = .35
  , l7 = .45
  , d7 = .8
  , u7 = 3
  , Bc = {
    multiple_faces: {
        isTriggered: e => e.faceCount > 1,
        isEnabled: e => e.elapsedTime <= fb
    },
    too_far: {
        isTriggered: (e, t, n=!1) => {
            const r = Math.max(e.faceDimensions.width, e.faceDimensions.width)
              , o = Math.min(e.videoDimensions.width, e.videoDimensions.height)
              , a = n && t === ue.Center ? l7 : c7;
            return e.faceCount > 0 && r < o * a
        }
        ,
        isEnabled: () => !0
    },
    too_close: {
        isTriggered: e => {
            const t = Math.max(e.faceDimensions.width, e.faceDimensions.width)
              , n = Math.min(e.videoDimensions.width, e.videoDimensions.height);
            return e.faceCount > 0 && t > n * d7
        }
        ,
        isEnabled: () => !0
    },
    not_centered: {
        isTriggered: (e, t, n=!1) => {
            const {faceBox: r, videoDimensions: o, faceCount: a, landmarks: s} = e;
            if (!n || r == null || a === 0)
                return !1;
            if (r.top < 0 || r.bottom > o.height)
                return !0;
            if (s != null && (s == null ? void 0 : s.getNose().length) > 2 && t === ue.Center) {
                const u = s.getNose()[3]
                  , m = u.x + r.x
                  , h = u.y + r.y
                  , p = Math.min(o.width, o.height) * .4
                  , b = o.width / 2 - p / 2
                  , C = o.width / 2 + p / 2
                  , S = o.height / 2 - p / 2
                  , v = o.height / 2 + p / 2;
                if (m < b || m > C || h < S || h > v)
                    return !0
            }
            const c = Math.max(o.width - r.right, 1)
              , l = Math.max(r.left, 1);
            return Math.max(l, c) / Math.min(l, c) > u7
        }
        ,
        isEnabled: () => !0
    },
    no_face: {
        isTriggered: e => e.faceCount <= 0,
        isEnabled: () => !0
    }
};
function m7(e, t) {
    const n = f.useRef(t);
    return f.useEffect( () => {
        n.current = e
    }
    , [e]),
    n.current
}
const gb = g("div").withConfig({
    displayName: "HintPrompt__BaseWrapper",
    componentId: "sc-r1ya50-0"
})(["text-align:center;display:flex;align-items:center;justify-content:space-around;padding-left:", ";padding-right:", ";", ";"], I.Spacing[6], I.Spacing[6], ({styles: e}) => {
    var n;
    const t = (n = e == null ? void 0 : e["line-height"]) == null ? void 0 : n.base.base;
    if (t != null)
        return $(["min-height:", ";"], k({
            ...t,
            value: t.value * 2
        }))
}
)
  , h7 = g(gb).withConfig({
    displayName: "HintPrompt__Wrapper",
    componentId: "sc-r1ya50-1"
})(["color:", ";font-size:", ";height:", "px;@media ", "{font-size:", ";height:", "px;}"], ({color: e, theme: t}) => e != null ? e : t.colorFont, qt.h3, Cn * 7.5, jt.isMobile, qt.h2, Cn * 12.5);
function p7({activeTrigger: e, color: t, styles: n, localizations: r}) {
    const [o] = G();
    return i.jsx(Wd, {
        color: t,
        styles: n,
        hintText: e.getPrompt({
            t: o,
            localizations: r
        })
    })
}
function Wd({color: e, styles: t, hintText: n}) {
    return i.jsx(i.Fragment, {
        children: t != null ? i.jsx(gb, {
            styles: t,
            children: i.jsx(He, {
                role: "alert",
                styles: t,
                children: n
            })
        }) : i.jsx(h7, {
            color: e,
            children: i.jsx("p", {
                role: "alert",
                children: n
            })
        })
    })
}
const bb = g(Vn).withConfig({
    displayName: "ThemedLottie",
    componentId: "sc-mvd4j1-0"
})(["circle[stroke]:not(.no-theme),rect[stroke]:not(.no-theme),path[stroke]:not(.no-theme),g[stroke]:not(.no-theme),g:not(.no-theme) circle[stroke],g:not(.no-theme) rect[stroke],g:not(.no-theme) path[stroke]{stroke:", ";}circle[fill]:not([fill='none']):not(.no-theme),rect[fill]:not([fill='none']):not(.no-theme),path[fill]:not([fill='none']):not(.no-theme),g[fill]:not([fill='none']):not(.no-theme),g:not(.no-theme) circle[fill],g:not(.no-theme) rect[fill],g:not(.no-theme) path[fill]{fill:", ";}circle[fill].icon-color-highlight,rect[fill].icon-color-highlight,path[fill].icon-color-highlight,g[fill].icon-color-highlight,g.icon-color-highlight circle[fill],g.icon-color-highlight rect[fill],g.icon-color-highlight path[fill]{fill:", " !important;}circle[fill].icon-color-background,rect[fill].icon-color-background,path[fill].icon-color-background,g[fill].icon-color-background,g.icon-color-background circle[fill],g.icon-color-background rect[fill],g.icon-color-background path[fill]{fill:", " !important;}circle[fill].icon-color-stroke,rect[fill].icon-color-stroke,path[fill].icon-color-stroke,g[fill].icon-color-stroke,g.icon-color-stroke circle[fill],g.icon-color-stroke rect[fill],g.icon-color-stroke path[fill]{fill:", " !important;}line-height:0;"], ({$strokeColor: e, theme: t}) => e != null ? e : t.iconColorStroke, ({$primaryColor: e, theme: t}) => e != null ? e : t.iconColorPrimary, ({$highlightColor: e, theme: t}) => e != null ? e : t.iconColorHighlight, ({$backgroundColor: e, theme: t}) => e != null ? e : t.iconColorBackground, ({$strokeColor: e, theme: t}) => e != null ? e : t.iconColorStroke)
  , f7 = g("div").withConfig({
    displayName: "DirectionalHint__Positioner",
    componentId: "sc-wdhwga-0"
})(["position:absolute;left:0;right:0;top:0;bottom:0;display:flex;align-items:center;justify-content:center;"])
  , g7 = g("div").withConfig({
    displayName: "DirectionalHint__Wrapper",
    componentId: "sc-wdhwga-1"
})(["display:flex;align-items:center;justify-content:center;width:", "px;height:", "px;"], ({profileSize: e}) => e, ({profileSize: e}) => e)
  , zm = g(bb).withConfig({
    displayName: "DirectionalHint__StyledThemedLottie",
    componentId: "sc-wdhwga-2"
})(["svg{width:", "px !important;height:", "px !important;}"], ({$profileSize: e}) => e, ({$profileSize: e}) => e);
function b7({assets: e, isActive: t, profileSize: n, currentStep: r, styles: o}) {
    var c, l, d, u, m, h;
    const a = t && !!r;
    let s;
    switch (r) {
    case ue.Left:
        s = i.jsx(Ue, {
            customImage: e == null ? void 0 : e["selfie-left-pictograph"],
            alt: "look left",
            children: i.jsx(zm, {
                role: "img",
                "aria-label": "look left",
                animationData: G1,
                loop: !1,
                $profileSize: n,
                $primaryColor: A((c = o == null ? void 0 : o.fill) == null ? void 0 : c.color),
                $highlightColor: A((l = o == null ? void 0 : o.background) == null ? void 0 : l.color),
                $strokeColor: A((d = o == null ? void 0 : o.stroke) == null ? void 0 : d.color)
            })
        });
        break;
    case ue.Right:
        s = i.jsx(Ue, {
            customImage: e == null ? void 0 : e["selfie-right-pictograph"],
            alt: "look right",
            children: i.jsx(zm, {
                role: "img",
                "aria-label": "look right",
                animationData: $1,
                loop: !1,
                $profileSize: n,
                $primaryColor: A((u = o == null ? void 0 : o.fill) == null ? void 0 : u.color),
                $highlightColor: A((m = o == null ? void 0 : o.background) == null ? void 0 : m.color),
                $strokeColor: A((h = o == null ? void 0 : o.stroke) == null ? void 0 : h.color)
            })
        });
        break;
    case ue.Center:
        break;
    case void 0:
        break;
    default:
        lt(r)
    }
    return i.jsx(f7, {
        children: i.jsx(g7, {
            isVisible: a,
            profileSize: n,
            children: s
        })
    })
}
const C7 = g("circle").withConfig({
    displayName: "LoadingCircle__LoadingBar",
    componentId: "sc-quy236-0"
})(["", ";"], e => e.useTransition ? "transition: stroke-dashoffset .5s ease-in" : "")
  , x7 = g.div.withConfig({
    displayName: "LoadingCircle__RotatedGroup",
    componentId: "sc-quy236-1"
})(["transform:rotate(90deg);"]);
function v7({width: e, strokeWidth: t, percent: n, color: r}) {
    const [o,a] = f.useState(!1);
    f.useEffect( () => {
        a(!0);
        const d = setTimeout( () => {
            a(!1)
        }
        , 500);
        return () => clearTimeout(d)
    }
    , [n]);
    const s = e / 2 - t * 2
      , c = Math.PI * s * 2
      , l = c - n / 100 * c;
    return i.jsx(x7, {
        role: "img",
        "aria-label": "loading circle",
        children: i.jsx("svg", {
            width: e,
            height: e,
            children: i.jsx(C7, {
                cx: e / 2,
                cy: e / 2,
                r: s,
                fill: "none",
                stroke: r,
                strokeWidth: `${t}px`,
                strokeDasharray: `${c} ${c}`,
                strokeDashoffset: l,
                useTransition: o
            })
        })
    })
}
const I7 = g("div").withConfig({
    displayName: "ProgressOverlay__Container",
    componentId: "sc-1tn3hsu-0"
})(["position:relative;height:100%;"])
  , S7 = g("div").withConfig({
    displayName: "ProgressOverlay__OverlayCrop",
    componentId: "sc-1tn3hsu-1"
})(["position:relative;height:100%;width:100%;overflow-y:hidden;"])
  , y7 = g("div").withConfig({
    displayName: "ProgressOverlay__Overlay",
    componentId: "sc-1tn3hsu-2"
})(["position:absolute;box-shadow:0 0 1px 750px ", ";height:100%;width:100%;left:50%;top:50%;transform:translate(-50%,-50%);margin-left:-1px;margin-right:-1px;background-color:rgba(255,255,255,0);transition:0.7s;", ";", ";"], ({styles: e, theme: t}) => {
    var n, r;
    return (r = A((n = e == null ? void 0 : e.base) == null ? void 0 : n.backgroundColor)) != null ? r : t.colorModalBackground
}
, ({isNarrowed: e, profileSize: t}) => e && $(["border-radius:49.9%;height:", "px;width:", "px;"], t, t), ({isComplete: e, hasCustomAsset: t, styles: n, theme: r}) => {
    var o, a;
    return e && t && $(["background-color:", ";"], (a = A((o = n == null ? void 0 : n.base) == null ? void 0 : o.backgroundColor)) != null ? a : r.colorModalBackground)
}
)
  , Km = g("div").withConfig({
    displayName: "ProgressOverlay__HudPositioner",
    componentId: "sc-1tn3hsu-3"
})(["position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);opacity:", ";transition:opacity 1s ease-in-out;"], ({isVisible: e}) => e ? 1 : 0);
function w7(e, t) {
    let n = 100;
    const r = t.findIndex(o => o === e);
    return e == null ? n = 100 : r === 0 || r === 1 ? n = 0 : r === 2 ? n = 50 : he(new TypeError(`currentStep is unrecognizable type: ${JSON.stringify(e)}`)),
    n
}
function Cb({assets: e, showDelayedHint: t, isNarrowed: n, profileSize: r, currentStep: o, poseOrder: a, styles: s, uploadProgress: c, showLoadingCircle: l}) {
    var p, b, C, S, v, x, _, R, E, T, F;
    const d = f.useContext(Je)
      , u = l ? w7(o, a) : 100
      , m = ((v = (S = (C = (b = (p = s == null ? void 0 : s.captureFeedbox) == null ? void 0 : p.border) == null ? void 0 : b.width) == null ? void 0 : C.top) == null ? void 0 : S.value) != null ? v : 5) * 2
      , h = r - 2 + m * 4;
    return i.jsxs(I7, {
        children: [i.jsxs(S7, {
            children: [i.jsx(y7, {
                isComplete: o == null,
                isNarrowed: n,
                profileSize: r,
                styles: s,
                hasCustomAsset: (e == null ? void 0 : e["loading-pictograph"]) != null
            }), l && i.jsx(Km, {
                isVisible: !!o,
                children: i.jsx(v7, {
                    width: h,
                    strokeWidth: m,
                    percent: u,
                    color: (R = A((_ = (x = s == null ? void 0 : s.captureFeedbox) == null ? void 0 : x.border) == null ? void 0 : _.color)) != null ? R : d.colorPrimary
                })
            }), i.jsx(Km, {
                isVisible: !o,
                children: i.jsx(Ue, {
                    customImage: (E = e == null ? void 0 : e["loading-pictograph"]) != null ? E : void 0,
                    alt: "loading pictograph",
                    children: !o && i.jsx(A7, {
                        strokeColor: (F = A((T = s == null ? void 0 : s.captureCompleteIcon) == null ? void 0 : T.stroke.color)) != null ? F : d.colorPrimary,
                        uploadProgress: c
                    })
                })
            })]
        }), i.jsx(b7, {
            assets: e,
            isActive: t,
            profileSize: r,
            currentStep: o,
            styles: s == null ? void 0 : s.captureIcon
        })]
    })
}
const _7 = g.span.withConfig({
    displayName: "ProgressOverlay__ProgressNumber",
    componentId: "sc-1tn3hsu-4"
})(["color:", ";position:absolute;left:0;top:0;right:0;bottom:0;font-weight:", ";display:flex;justify-content:center;align-items:center;"], ({color: e}) => e, Oa.Medium)
  , R7 = g.div.withConfig({
    displayName: "ProgressOverlay__LoadingPositioner",
    componentId: "sc-1tn3hsu-5"
})(["position:relative;"])
  , A7 = ({strokeColor: e, uploadProgress: t}) => {
    const [n,{enable: r}] = rt(!1)
      , [o,{enable: a}] = rt(!1)
      , s = Ki()
      , c = () => {
        setTimeout( () => {
            s && r()
        }
        , 3e3),
        setTimeout( () => {
            s && a()
        }
        , 1e4)
    }
    ;
    return e == null && Be(`unexpected ${e} strokeColor`, "warning"),
    i.jsxs(R7, {
        children: [i.jsx(bb, {
            "aria-busy": !0,
            "aria-live": "polite",
            role: "alert",
            animationData: n ? W1 : Y1,
            onComplete: c,
            loop: n,
            $strokeColor: e
        }), o && t != null && t > 0 && i.jsxs(_7, {
            color: e,
            children: [Math.round(t * 100), "%"]
        })]
    })
}
  , T7 = 300
  , E7 = ({assets: e, children: t, delayUntilManualCaptureMs: n, localizations: r, poseOrder: o, poseState: a, profileSize: s, showLoadingSpinner: c, styles: l, videoHeight: d, handleManualCapture: u}) => {
    var U, V, ne;
    const [m,h] = f.useState(!1)
      , [p,b] = f.useState(!!(n === 0 || In()))
      , [C,S] = f.useState(ue.Center)
      , v = Ki()
      , x = m7(a)
      , _ = f.useCallback(L => {
        wC(T7, H => {
            v && S(H)
        }
        )(L)
    }
    , [S, v])
      , [R] = G();
    f.useEffect( () => {
        a && (x != null && x.currentPose !== a.currentPose ? S(Qm(a)) : _(Qm(a)),
        h(a.hasFace))
    }
    , [a, x]),
    f.useEffect( () => {
        n != null && n > 0 && setTimeout( () => {
            b(!0)
        }
        , n)
    }
    , [n]);
    const E = a == null ? void 0 : a.currentPose
      , T = E == null || E === "done"
      , F = E != null && E !== ue.Center && m
      , O = C != null ? F7[C]({
        localizations: r,
        t: R
    }) : void 0
      , N = m ? E === "done" ? void 0 : E != null ? E : o[0] : ue.Center;
    return i.jsxs(k7, {
        children: [i.jsx(Wd, {
            styles: l == null ? void 0 : l.captureHintText,
            hintText: c ? R("selfie-scanner.hint.loading-camera") : O
        }), c && i.jsx(L7, {
            backgroundColor: (U = l == null ? void 0 : l.base) == null ? void 0 : U.backgroundColor,
            children: i.jsx(Tn, {})
        }), i.jsxs(N7, {
            style: d ? {
                maxHeight: d
            } : void 0,
            children: [i.jsx(O7, {
                isActive: F && !up(),
                backgroundColor: (V = l == null ? void 0 : l.base) == null ? void 0 : V.backgroundColor,
                children: t
            }), i.jsx(j7, {
                children: i.jsx(Cb, {
                    assets: e,
                    showDelayedHint: !0,
                    isNarrowed: m,
                    profileSize: s,
                    currentStep: N,
                    poseOrder: o,
                    styles: l,
                    showLoadingCircle: !1
                })
            })]
        }), p && E !== "done" && i.jsx(mt, {
            children: i.jsx(P7, {
                id: "configurable_poses_scanner__capture--manual",
                "data-test": "configurable_poses_scanner__capture--manual",
                onClick: u,
                disabled: T,
                styles: (ne = l == null ? void 0 : l.buttons) == null ? void 0 : ne[Vp.Primary],
                children: R("selfie-scanner.prompt.btn-capture-manual")
            })
        })]
    })
}
  , k7 = g.div.withConfig({
    displayName: "ConfigurablePosesScannerView__Container",
    componentId: "sc-1cqrhgs-0"
})(["position:relative;max-width:100%;margin:0 auto;"])
  , N7 = g.div.withConfig({
    displayName: "ConfigurablePosesScannerView__VideoWrapper",
    componentId: "sc-1cqrhgs-1"
})(["position:relative;width:100%;overflow:hidden;display:flex;justify-content:center;align-items:center;video{transform:scaleX(-1);flex:0 1 auto;}"])
  , j7 = g("div").withConfig({
    displayName: "ConfigurablePosesScannerView__OverlayPositioner",
    componentId: "sc-1cqrhgs-2"
})(["position:absolute;top:0;left:0;width:100%;height:100%;"])
  , P7 = g(fe).withConfig({
    displayName: "ConfigurablePosesScannerView__ButtonStyled",
    componentId: "sc-1cqrhgs-3"
})(["margin-top:", ";margin-bottom:", ";"], I.Spacing[4], I.Spacing[5])
  , D7 = 5
  , O7 = g("div").withConfig({
    displayName: "ConfigurablePosesScannerView__VideoBlurrer",
    componentId: "sc-1cqrhgs-4"
})(["line-height:0;transition:filter 0.5s;filter:", ";border-width:", "px;border-style:solid;border-color:", ";"], e => e.isActive ? "blur(5px)" : "", D7, ({isActive: e, backgroundColor: t, theme: n}) => {
    var r;
    return e ? `${(r = A(t)) != null ? r : n.colorModalBackground}` : "transparent"
}
)
  , L7 = g.div.withConfig({
    displayName: "ConfigurablePosesScannerView__LoadingSpinnerWrapper",
    componentId: "sc-1cqrhgs-5"
})(["background-color:", ";position:absolute;width:100%;padding-bottom:100%;z-index:1;"], ({backgroundColor: e, theme: t}) => {
    var n;
    return `${(n = A(e)) != null ? n : t.colorModalBackground}`
}
)
  , Qm = e => {
    var n;
    const t = (n = e.invalidReasons) == null ? void 0 : n[0];
    return t && e.currentPose !== "done" ? t : e.currentPose
}
  , F7 = {
    [ue.Center]: ({localizations: e, t}) => {
        var n;
        return (n = e == null ? void 0 : e["selfie-hint-center-face"]) != null ? n : t("selfie-scanner.hint.center")
    }
    ,
    [ue.Left]: ({localizations: e, t}) => {
        var n;
        return (n = e == null ? void 0 : e["selfie-hint-look-left"]) != null ? n : t("selfie-scanner.hint.left")
    }
    ,
    [ue.Right]: ({localizations: e, t}) => {
        var n;
        return (n = e == null ? void 0 : e["selfie-hint-look-right"]) != null ? n : t("selfie-scanner.hint.right")
    }
    ,
    [Zr.MultipleFaces]: ({localizations: e, t}) => {
        var n;
        return (n = e == null ? void 0 : e["selfie-hint-multiple-faces"]) != null ? n : t("selfie-scanner.hint.multiple-faces")
    }
    ,
    [Zr.NotCentered]: ({localizations: e, t}) => {
        var n;
        return (n = e == null ? void 0 : e["selfie-hint-pose-not-center"]) != null ? n : t("selfie-scanner.hint.not-centered")
    }
    ,
    [Zr.TooFar]: ({localizations: e, t}) => {
        var n;
        return (n = e == null ? void 0 : e["selfie-hint-face-too-far"]) != null ? n : t("selfie-scanner.hint.move-closer")
    }
    ,
    [Zr.TooClose]: ({localizations: e, t}) => {
        var n;
        return (n = e == null ? void 0 : e["selfie-hint-face-too-close"]) != null ? n : t("selfie-scanner.hint.move-away")
    }
    ,
    [Zr.NoFace]: ({localizations: e, t}) => {
        var n;
        return (n = e == null ? void 0 : e["selfie-hint-center-face"]) != null ? n : t("selfie-scanner.hint.center")
    }
    ,
    done: ({localizations: e, t}) => {
        var n;
        return (n = e == null ? void 0 : e["selfie-hint-verifying"]) != null ? n : t("selfie-scanner.hint.verifying")
    }
}
  , xb = 1e4
  , Zm = 5
  , vb = 20
  , Ib = 1e4;
function Sb(e) {
    const t = e.getNose()
      , n = (l, d) => Math.sqrt(Math.pow(l.x - d.x, 2) + Math.pow(l.y - d.y, 2))
      , r = t[4]
      , o = t[3]
      , a = t[8]
      , s = n(o, r)
      , c = n(a, o);
    return s > c ? -(s / c - 1) * 30 : (c / s - 1) * 30
}
const M7 = .35
  , B7 = .45
  , V7 = .8
  , U7 = 3
  , fo = 2
  , yb = 2;
var Ct = (e => (e[e.Verifying = 0] = "Verifying",
e[e.MultipleFaces = 1] = "MultipleFaces",
e[e.TooFar = 2] = "TooFar",
e[e.TooClose = 3] = "TooClose",
e[e.NotCentered = 4] = "NotCentered",
e[e.LeftDelayed = 5] = "LeftDelayed",
e[e.RightDelayed = 6] = "RightDelayed",
e[e.LeftCapture = 7] = "LeftCapture",
e[e.RightCapture = 8] = "RightCapture",
e[e.CenterCapture = 9] = "CenterCapture",
e[e.Left = 10] = "Left",
e[e.Right = 11] = "Right",
e[e.Center = 12] = "Center",
e[e.Empty = 13] = "Empty",
e))(Ct || {});
const H7 = e => {
    const t = e[1] === ue.Right;
    return new Ed(wb({
        rightBeforeLeft: t
    }).map(n => new Yn(n)))
}
  , q7 = [{
    type: 8,
    shouldShow: e => !Ri(e.capturedSelfies, ue.Right) && e.currentStep === ue.Right && ir(e) && e.horizontalAngle > vb && !Er(e) && !kr(e) && !go(e),
    showAfterFrames: fo,
    hideAfterFrames: 15,
    getPrompt: ({localizations: e, t}) => {
        var n;
        return (n = e == null ? void 0 : e["selfie-hint-look-right"]) != null ? n : t("selfie-scanner.hint.right")
    }
}, {
    type: 6,
    shouldShow: e => !Ri(e.capturedSelfies, ue.Right) && e.currentStep === ue.Right && (ir(e) || e.manualVisible) && !Er(e) && !kr(e) && !go(e),
    showAfterFrames: fo + yb,
    hideAfterFrames: 3,
    getPrompt: ({localizations: e, t}) => {
        var n;
        return (n = e == null ? void 0 : e["selfie-hint-look-right"]) != null ? n : t("selfie-scanner.hint.right")
    }
}, {
    type: 11,
    shouldShow: e => !Ri(e.capturedSelfies, ue.Right) && e.currentStep === ue.Right && (ir(e) || e.manualVisible),
    showAfterFrames: 1,
    hideAfterFrames: 10,
    getPrompt: ({localizations: e, t}) => {
        var n;
        return (n = e == null ? void 0 : e["selfie-hint-look-right"]) != null ? n : t("selfie-scanner.hint.right")
    }
}]
  , $7 = [{
    type: 7,
    shouldShow: e => !Ri(e.capturedSelfies, ue.Left) && e.currentStep === ue.Left && ir(e) && e.horizontalAngle < -vb && !Er(e) && !kr(e) && !go(e),
    showAfterFrames: fo,
    hideAfterFrames: 15,
    getPrompt: ({localizations: e, t}) => {
        var n;
        return (n = e == null ? void 0 : e["selfie-hint-look-left"]) != null ? n : t("selfie-scanner.hint.left")
    }
}, {
    type: 5,
    shouldShow: e => (ir(e) || e.manualVisible) && e.currentStep === ue.Left && !Er(e) && !kr(e) && !go(e),
    showAfterFrames: fo + yb,
    hideAfterFrames: 3,
    getPrompt: ({localizations: e, t}) => {
        var n;
        return (n = e == null ? void 0 : e["selfie-hint-look-left"]) != null ? n : t("selfie-scanner.hint.left")
    }
}, {
    type: 10,
    shouldShow: e => (ir(e) || e.manualVisible) && e.currentStep === ue.Left,
    showAfterFrames: 1,
    hideAfterFrames: 10,
    getPrompt: ({localizations: e, t}) => {
        var n;
        return (n = e == null ? void 0 : e["selfie-hint-look-left"]) != null ? n : t("selfie-scanner.hint.left")
    }
}]
  , G7 = [{
    type: 0,
    shouldShow: e => !e.currentStep,
    showAfterFrames: 1,
    hideAfterFrames: 99999,
    getPrompt: ({localizations: e, t}) => {
        var n;
        return (n = e == null ? void 0 : e["selfie-hint-verifying"]) != null ? n : t("selfie-scanner.hint.verifying")
    }
}, {
    type: 1,
    shouldShow: Y7,
    showAfterFrames: 3,
    hideAfterFrames: 5,
    getPrompt: ({localizations: e, t}) => {
        var n;
        return (n = e == null ? void 0 : e["selfie-hint-multiple-faces"]) != null ? n : t("selfie-scanner.hint.multiple-faces")
    }
}, {
    type: 2,
    shouldShow: Er,
    showAfterFrames: 3,
    hideAfterFrames: 5,
    getPrompt: ({localizations: e, t}) => {
        var n;
        return (n = e == null ? void 0 : e["selfie-hint-face-too-far"]) != null ? n : t("selfie-scanner.hint.move-closer")
    }
}, {
    type: 3,
    shouldShow: kr,
    showAfterFrames: 3,
    hideAfterFrames: 5,
    getPrompt: ({localizations: e, t}) => {
        var n;
        return (n = e == null ? void 0 : e["selfie-hint-face-too-close"]) != null ? n : t("selfie-scanner.hint.move-away")
    }
}, {
    type: 4,
    shouldShow: go,
    showAfterFrames: 3,
    hideAfterFrames: 5,
    getPrompt: ({localizations: e, t}) => {
        var n;
        return (n = e == null ? void 0 : e["selfie-hint-pose-not-center"]) != null ? n : t("selfie-scanner.hint.not-centered")
    }
}]
  , W7 = [{
    type: 9,
    shouldShow: e => !Ri(e.capturedSelfies, ue.Center) && ir(e) && e.currentStep === ue.Center && -Zm < e.horizontalAngle && e.horizontalAngle < Zm && !Er(e) && !kr(e) && !go(e),
    showAfterFrames: fo,
    hideAfterFrames: 50,
    getPrompt: ({localizations: e, t}) => {
        var n;
        return (n = e == null ? void 0 : e["selfie-hint-center-face"]) != null ? n : t("selfie-scanner.hint.center")
    }
}, {
    type: 12,
    shouldShow: e => e.currentStep === ue.Center && (ir(e) || e.manualVisible),
    showAfterFrames: fo,
    hideAfterFrames: 50,
    getPrompt: ({localizations: e, t}) => {
        var n;
        return (n = e == null ? void 0 : e["selfie-hint-center-face"]) != null ? n : t("selfie-scanner.hint.center")
    }
}, {
    type: 13,
    shouldShow: e => e.currentStep === ue.Center,
    showAfterFrames: 20,
    hideAfterFrames: 3,
    getPrompt: ({localizations: e, t}) => {
        var n;
        return (n = e == null ? void 0 : e["selfie-hint-center-delayed"]) != null ? n : t("selfie-scanner.hint.center-delayed")
    }
}, {
    type: 13,
    shouldShow: () => !0,
    showAfterFrames: 0,
    hideAfterFrames: 0,
    getPrompt: ({localizations: e, t}) => {
        var n;
        return (n = e == null ? void 0 : e["selfie-hint-center-face"]) != null ? n : t("selfie-scanner.hint.center")
    }
}]
  , wb = ({rightBeforeLeft: e}) => {
    const t = us($7)
      , n = us(q7)
      , r = e ? [...t, ...n] : [...n, ...t];
    return r[0].getPrompt = ({localizations: o, t: a}) => {
        var s;
        return (s = o == null ? void 0 : o["selfie-hint-verifying"]) != null ? s : a("selfie-scanner.hint.verifying")
    }
    ,
    [...G7, ...r, ...W7]
}
  , tr = wb({
    rightBeforeLeft: !1
});
function Er(e) {
    const t = Math.max(e.faceWidth, e.faceHeight)
      , n = Math.min(e.videoWidth, e.videoHeight)
      , r = e.requireHigherAccuracyCapture && e.currentStep === ue.Center ? B7 : M7;
    return e.faceCount > 0 && t < n * r
}
function kr(e) {
    const t = Math.max(e.faceWidth, e.faceHeight)
      , n = Math.min(e.videoWidth, e.videoHeight);
    return e.faceCount > 0 && t > n * V7
}
function go(e) {
    const {faceBox: t, requireHigherAccuracyCapture: n, videoWidth: r, videoHeight: o, faceCount: a, landmarks: s, currentStep: c} = e;
    if (!n || t == null || a === 0 || Er(e) || kr(e))
        return !1;
    if (t.top < 0 || t.bottom > o)
        return !0;
    if ((s == null ? void 0 : s.getNose().length) > 2 && c === ue.Center) {
        const m = s.getNose()[3]
          , h = m.x + t.x
          , p = m.y + t.y
          , b = Math.min(r, o) * .4
          , C = r / 2 - b / 2
          , S = r / 2 + b / 2
          , v = o / 2 - b / 2
          , x = o / 2 + b / 2;
        if (h < C || h > S || p < v || p > x)
            return !0
    }
    const l = Math.max(r - t.right, 1)
      , d = Math.max(t.left, 1);
    return Math.max(d, l) / Math.min(d, l) > U7
}
function Y7(e) {
    return e.elapsedTime > Ib ? !1 : e.faceCount > 1
}
function ir(e) {
    return e.elapsedTime > Ib ? e.faceCount >= 1 : e.faceCount === 1
}
function z7(e) {
    switch (e) {
    case 9:
        return ue.Center;
    case 7:
        return ue.Left;
    case 8:
        return ue.Right;
    default:
        return null
    }
}
const K7 = 320
  , Q7 = .4
  , Z7 = ({handleFailed: e, handleModelLoaded: t}) => {
    const n = f.useRef(null)
      , r = f.useRef(null);
    return f.useEffect( () => {
        (async () => {
            try {
                await kt.loadModels(),
                await t()
            } catch (a) {
                e(a, "load");
                return
            }
        }
        )()
    }
    , []),
    f.useEffect( () => {
        const [o,a] = hi();
        n.current = o;
        const [s,c] = hi();
        return r.current = s,
        () => {
            a(),
            c()
        }
    }
    , []),
    {
        getCanvasFromVideo: o => {
            const {videoWidth: a, videoHeight: s} = o;
            return Vc({
                source: {
                    element: o,
                    height: s,
                    width: a
                },
                destination: {
                    canvas: r.current,
                    height: s,
                    width: a
                }
            }),
            r.current
        }
        ,
        canRunPoseDetection: o => kt.isLoaded() && kt.isMediaLoaded(o),
        getPoseDetectionData: async o => {
            if (o == null || r.current == null)
                return null;
            const {videoWidth: a, videoHeight: s} = o;
            Vc({
                source: {
                    element: o,
                    height: s,
                    width: a
                },
                destination: {
                    canvas: r.current,
                    height: s,
                    width: a
                }
            });
            const c = await kt.detectFaces(r.current, {
                inputSize: K7,
                scoreThreshold: Q7
            })
              , l = c.length === 1 ? c[0].box : void 0;
            let d = 0
              , u = null;
            if (l != null && n.current != null) {
                const m = Math.floor(l.width)
                  , h = Math.floor(l.height);
                Vc({
                    source: {
                        element: r.current,
                        height: h,
                        width: m,
                        x: Math.floor(l.x),
                        y: Math.floor(l.y)
                    },
                    destination: {
                        canvas: n.current,
                        height: h,
                        width: m
                    }
                }),
                u = await kt.detectLandmarks(n.current),
                d = Sb(u)
            }
            return {
                canvas: r.current,
                faceBox: l,
                faceCount: c.length,
                faceDimensions: {
                    width: l != null ? l.width : 0,
                    height: l != null ? l.height : 0
                },
                horizontalAngle: d,
                landmarks: u
            }
        }
    }
}
  , Vc = ({source: e, destination: t}) => {
    if (e.element == null || t.canvas == null)
        return;
    const {canvas: n} = t;
    n.width = e.width,
    n.height = e.height;
    const r = n.getContext("2d", {
        willReadFrequently: !0,
        alpha: !1
    });
    if (r == null || r.clearRect(0, 0, t.width, t.height),
    n.width === 0 && n.height === 0 || r == null)
        throw new Error("Canvas getContext returned null during runPoseDetection");
    return r == null || r.drawImage(e.element, e.x != null ? e.x : 0, e.y != null ? e.y : 0, e.width, e.height, t.x != null ? t.x : 0, t.y != null ? t.y : 0, t.width, t.height),
    t
}
  , J7 = 12e4
  , X7 = ({enableVideoRecording: e, videoCaptureMethods: t, videoSessionJwt: n, captureIsDone: r, handleFailed: o, handleRestartStep: a}) => {
    const s = f.useRef(!e)
      , [c,l] = f.useState(void 0)
      , [d,u] = f.useState(void 0)
      , m = (h, p) => {
        const b = $e.getNewClient(t);
        if (e && !b.isSupported()) {
            o("MediaRecorder not supported", "load");
            return
        }
        const C = b.init({
            stream: h,
            video: p,
            jwt: n,
            maxRecordingTime: J7,
            onError: S => {
                $e.shouldReinitializeWithUpload(S, t) ? ($e.destroy(),
                m(h, p)) : $e.videoCanBeReattempted() ? a == null || a() : o("mediaRecorderClient failed", "capture"),
                J.logAmplitude("selfie.video.errored", {
                    message: typeof S == "string" ? S : S == null ? void 0 : S.message
                }),
                S instanceof Error ? he(S, "error") : Be(`Unexpected error: ${JSON.stringify(S)}`, "error")
            }
            ,
            onRecordingComplete: (S, v) => {
                var x;
                c || (J.logAmplitude("selfie.video.stop", {
                    elapsedTime: v,
                    type: b.type,
                    chunksLength: S.type === "upload" ? (x = S.chunks) == null ? void 0 : x.length : 0
                }),
                S.type === "upload" && (S.chunks == null || S.chunks.length <= 0) ? ($e.videoCanBeReattempted() && (a == null || a()),
                Be("MediaRecorderClient error: no chunks recorded", "info")) : l(S))
            }
            ,
            onStart: S => {
                s.current = !0,
                l(void 0),
                J.logAmplitude("selfie.video.start", {
                    isRestart: S,
                    type: b.type
                })
            }
            ,
            onTimeExceeded: () => {
                J.logAmplitude("selfie.video.timeExceeded"),
                r || a == null || a(!0)
            }
        });
        b.startRecording(),
        $e.recordVideoAttempt(),
        J.logAmplitude("selfie.video.initialized", {
            type: b.type,
            attempt: $e.videoAttempts
        }),
        u(C)
    }
    ;
    return {
        capturedVideoData: c,
        cleanUpVideoCapture: () => {
            $e.destroy()
        }
        ,
        isAudioEnabled: () => e && D.canRequestMicrophone,
        isVideoReady: () => s.current,
        initVideoCapture: (h, p) => {
            e && !d && p && m(h, p)
        }
        ,
        stopVideoCapture: () => {
            var h;
            (h = $e.currentClient) == null || h.stopRecording()
        }
    }
}
  , eN = 250
  , tN = 250
  , nN = 250
  , iN = .92
  , rN = ({assets: e, delayUntilManualCaptureMs: t, detectTimeout: n, enableVideoRecording: r, localizations: o, poseOrder: a, requireHigherAccuracyCapture: s, styles: c, videoCaptureMethods: l, videoConstraints: d, videoSessionJwt: u, handleComplete: m, handleFailed: h, handleRestartStep: p, handleSlowFaceDetection: b}) => {
    const C = f.useRef(null)
      , S = f.useRef(null)
      , v = f.useRef(new Date().getTime())
      , x = f.useRef([])
      , _ = f.useRef(null)
      , R = f.useRef(0)
      , E = f.useRef(30)
      , T = Ki()
      , [F,O] = f.useState(!1)
      , [N,U] = f.useState(null)
      , [V,ne] = f.useState(null)
      , [L,H] = f.useState(null)
      , {getCanvasFromVideo: q, canRunPoseDetection: ee, getPoseDetectionData: Y} = Z7({
        handleFailed: h,
        handleModelLoaded: async () => {
            await we()
        }
    })
      , {logCameraInspectionFromStream: ae, logCameraInspectionSnapshot: se, getCameraInspectionData: _e} = kd()
      , [Re,ye] = f.useState(nN)
      , Pe = !!N && N.currentPose === "done" && x.current.length === a.length
      , {capturedVideoData: Ae, isAudioEnabled: Te, isVideoReady: be, initVideoCapture: re, stopVideoCapture: z, cleanUpVideoCapture: Z} = X7({
        enableVideoRecording: !!r,
        videoCaptureMethods: l || ["stream"],
        videoSessionJwt: u,
        captureIsDone: Pe,
        handleFailed: h,
        handleRestartStep: p
    })
      , xe = () => {
        var De;
        if (((De = C.current) == null ? void 0 : De.video) == null)
            return;
        E.current = R.current;
        const {clientWidth: W, videoHeight: oe, videoWidth: de} = C.current.video;
        if (oe > de)
            H(W);
        else {
            const Ve = de / oe
              , ve = Math.floor(Math.max(W, tN * Ve));
            ne(ve)
        }
    }
      , we = async () => {
        const W = new Date().getTime();
        let oe;
        try {
            (!mp() || R.current > E.current + 5) && (oe = await Ye())
        } catch (Ve) {
            he(Ve, C.current ? "warning" : "info", {
                ...Xc(),
                ...Ce()
            }),
            C.current && h(Ve, "capture");
            return
        }
        const de = new Date().getTime() - W;
        if (R.current === 0 && n != null && de > n) {
            b();
            return
        }
        if ((oe == null ? void 0 : oe.currentPose) === "done") {
            z();
            return
        }
        if (R.current++,
        !T)
            return;
        const De = Math.max(0, eN - de);
        S.current = window.setTimeout( () => {
            window.requestAnimationFrame != null ? window.requestAnimationFrame(we) : we()
        }
        , De)
    }
      , Ye = async () => {
        _.current == null && (_.current = new a7({
            poseOrder: a,
            requireHigherAccuracyCapture: s,
            onCapture: (De, Ve, ve) => {
                var Ne;
                if (((Ne = C.current) == null ? void 0 : Ne.video) == null)
                    return;
                const Le = Ve.toDataURL("image/jpeg", iN)
                  , me = ve ? gt.Manual : gt.Auto;
                if (Le == null || Le.length < Pr) {
                    Be(`Selfie ${me} capture captured a potentially blank image`, "warning", Ce()),
                    h(`Selfie ${me} capture captured a potentially blank image`, "capture");
                    return
                }
                x.current = [...x.current, {
                    capturedAt: new Date().toISOString(),
                    captureMethod: me,
                    dataUrl: Le,
                    pose: De
                }]
            }
        }));
        const W = C.current;
        if (!(W != null && W.video) || !ee(W == null ? void 0 : W.video) || !be())
            return;
        const oe = await Y(W.video);
        if (oe == null || !(W != null && W.video))
            return;
        const de = _.current.getNextPoseState({
            canvas: oe.canvas,
            forceCapture: !1,
            poseData: {
                elapsedTime: Date.now() - v.current,
                faceBox: oe.faceBox,
                faceCount: oe.faceCount,
                faceDimensions: oe.faceDimensions,
                horizontalAngle: oe.horizontalAngle,
                landmarks: oe.landmarks,
                videoDimensions: {
                    width: W.video.videoWidth,
                    height: W.video.videoHeight
                }
            }
        });
        return U(de),
        ye(Math.min(W.video.clientWidth, W.video.clientHeight) - 8),
        oe.faceBox != null && se(oe.canvas),
        de
    }
      , qe = () => {
        var de;
        const W = N == null ? void 0 : N.currentPose;
        if (W === "done" || W == null || ((de = C.current) == null ? void 0 : de.video) == null || _.current == null)
            return;
        const oe = q(C.current.video);
        if (oe == null) {
            Be("Selfie manual capture has a blank canvas", "warning", Ce());
            return
        }
        U(_.current.getNextPoseState({
            canvas: oe,
            forceCapture: !0,
            poseData: null
        }))
    }
      , Ce = () => ({
        tickCount: R.current,
        elapsedTime: Date.now() - v.current
    });
    return f.useEffect( () => () => {
        S.current != null && (clearTimeout(S.current),
        S.current = null),
        Z()
    }
    , []),
    f.useEffect( () => {
        if (!F && Pe && (r && Ae || !r)) {
            const W = v.current ? new Date(v.current).toISOString() : void 0;
            m({
                capturedSelfies: x.current,
                captureStartedAt: W,
                cameraInspectionData: _e({
                    includeSmallImages: !0
                }),
                capturedVideoData: Ae
            }),
            O(!0)
        }
    }
    , [Pe, Ae, r, F, _e, m]),
    i.jsx(E7, {
        assets: e,
        delayUntilManualCaptureMs: t,
        localizations: o,
        poseOrder: a,
        poseState: N,
        profileSize: Re,
        styles: c,
        showLoadingSpinner: !be(),
        videoHeight: L,
        handleManualCapture: qe,
        children: i.jsx(sa, {
            audio: Te(),
            height: "initial",
            onUserMedia: async W => {
                var oe;
                await ae(W),
                re(W, (oe = C.current) == null ? void 0 : oe.video)
            }
            ,
            onUserMediaError: W => h(W, "load"),
            ref: W => {
                C.current = W,
                W != null && W.video && (W.video.addEventListener("canplay", xe),
                W.video.defaultMuted = !0,
                W.video.muted = !0)
            }
            ,
            videoConstraints: d,
            width: V != null ? V : "100%"
        })
    })
}
  , oN = g.div.withConfig({
    displayName: "InquirySelfiePendingView__Container",
    componentId: "sc-1a3itvm-0"
})(["display:flex;flex-direction:column;"])
  , aN = g("div").withConfig({
    displayName: "InquirySelfiePendingView__Header",
    componentId: "sc-1a3itvm-1"
})(["min-height:", ";margin-bottom:", "px;"], We.header, M.base * 4)
  , sN = g("div").withConfig({
    displayName: "InquirySelfiePendingView__AnimationContainer",
    componentId: "sc-1a3itvm-2"
})(["display:flex;justify-content:center;align-items:center;height:200px;margin-top:", ";"], M.base * 8);
function cN({assets: e, localizations: t, textVerticalPosition: n}) {
    const {base: r, processingPage: o} = ci()
      , a = i.jsxs(aN, {
        children: [i.jsx(ct, {
            styles: o == null ? void 0 : o.titleStyle,
            children: i.jsx(X, {
                children: t.title
            })
        }), i.jsx(ot, {
            styles: o == null ? void 0 : o.textStyle,
            children: i.jsx(X, {
                children: t.description
            })
        })]
    });
    return i.jsx(Fh, {
        autoFocus: !0,
        children: i.jsxs(oN, {
            children: [i.jsx(Ue, {
                customImage: e["header-pictograph"],
                alt: "header pictograph"
            }), n !== "end" && a, i.jsx(sN, {
                children: i.jsx(Ue, {
                    customImage: e["loading-pictograph"],
                    alt: "loading pictograph",
                    children: i.jsx(Lo, {
                        icon: "verification",
                        $primaryColor: A(r == null ? void 0 : r.fill.color),
                        $strokeColor: A(r == null ? void 0 : r.stroke.color)
                    })
                })
            }), n === "end" && a]
        })
    })
}
const lN = ({dimensions: e}) => {
    const {videoDimensionsUpdated: t} = rb();
    return f.useEffect( () => {
        e && t(e.width, e.height)
    }
    , [e, t]),
    i.jsx(i.Fragment, {})
}
  , dN = 320
  , uN = .4
  , mN = 12e4
  , hN = 250
  , pN = 250
  , _b = 250
  , Rb = 5
  , Ab = [Ct.Verifying, Ct.TooFar, Ct.TooClose, Ct.NotCentered, Ct.Left, Ct.Right, Ct.LeftDelayed, Ct.RightDelayed, Ct.Center, Ct.LeftCapture, Ct.RightCapture, Ct.CenterCapture]
  , fN = 1350
  , gN = g("div").withConfig({
    displayName: "SelfieScanner__Container",
    componentId: "sc-1fc5wia-0"
})(["position:relative;max-width:100%;margin:0 auto;"])
  , bN = g("div").withConfig({
    displayName: "SelfieScanner__VideoWrapper",
    componentId: "sc-1fc5wia-1"
})(["position:relative;width:100%;overflow:hidden;display:flex;justify-content:center;align-items:center;video{transform:scaleX(-1);flex:0 1 auto;}"])
  , CN = g("div").withConfig({
    displayName: "SelfieScanner__OverlayPositioner",
    componentId: "sc-1fc5wia-2"
})(["position:absolute;top:0;left:0;width:100%;height:100%;"])
  , xN = g(fe).withConfig({
    displayName: "SelfieScanner__ButtonStyled",
    componentId: "sc-1fc5wia-3"
})(["margin-top:", ";margin-bottom:", ";"], I.Spacing[4], I.Spacing[5])
  , vN = g.div.withConfig({
    displayName: "SelfieScanner__EditorPreviewVideoPlaceholder",
    componentId: "sc-1fc5wia-4"
})(["background-color:", ";width:100%;height:", "px;"], I.Color.CoreSlate400, _b + Rb * 2)
  , IN = g("div").withConfig({
    displayName: "SelfieScanner__VideoBlurrer",
    componentId: "sc-1fc5wia-5"
})(["line-height:0;transition:filter 0.5s;filter:", ";border-width:", "px;border-style:solid;border-color:", ";"], e => e.isActive ? "blur(5px)" : "", Rb, ({isActive: e, backgroundColor: t, theme: n}) => {
    var r;
    return e ? `${(r = A(t)) != null ? r : n.colorModalBackground}` : "transparent"
}
)
  , SN = g.div.withConfig({
    displayName: "SelfieScanner__LoadingSpinnerWrapper",
    componentId: "sc-1fc5wia-6"
})(["background-color:", ";position:absolute;width:100%;padding-bottom:100%;z-index:1;"], ({backgroundColor: e, theme: t}) => {
    var n;
    return `${(n = A(e)) != null ? n : t.colorModalBackground}`
}
)
  , Tb = ({audioEnabled: e, assets: t, localizations: n, currentStep: r, poseOrder: o, activeTrigger: a, videoWidthOverride: s, videoHeightOverride: c, setWebcamRef: l, videoConstraints: d, handleUserMedia: u, handleFailed: m, handleManualCapture: h, manualVisible: p, profileSize: b, debug: C, isEditorPreview: S, styles: v, buttonStyles: x, showPreloadingSpinner: _, showPreloadingHint: R, uploadProgress: E}) => {
    var ne, L, H;
    const T = Ab.indexOf(a.getType()) !== -1
      , [F] = G()
      , O = [Ct.LeftDelayed, Ct.RightDelayed, Ct.Left, Ct.Right].indexOf(a.getType()) !== -1
      , N = !r || ![Ct.Center, Ct.Empty, Ct.LeftDelayed, Ct.RightDelayed].includes(a.getType())
      , U = r == null
      , V = O || U;
    return i.jsxs(gN, {
        "data-test": "selfie-scanner",
        children: [!_ && i.jsx(p7, {
            activeTrigger: a,
            styles: v == null ? void 0 : v.captureHintText,
            localizations: n
        }), R && i.jsx(Wd, {
            styles: v == null ? void 0 : v.captureHintText,
            hintText: F("selfie-scanner.hint.loading-camera")
        }), _ && i.jsx(SN, {
            backgroundColor: (ne = v == null ? void 0 : v.base) == null ? void 0 : ne.backgroundColor,
            children: i.jsx(Tn, {})
        }), i.jsxs(bN, {
            style: {
                maxHeight: c
            },
            children: [S ? i.jsx(vN, {
                "data-test": "selfie-scanner__editor-preview-video-placeholder"
            }) : i.jsx(IN, {
                isActive: V && !up(),
                backgroundColor: (L = v == null ? void 0 : v.base) == null ? void 0 : L.backgroundColor,
                children: i.jsx(sa, {
                    audio: e,
                    width: s != null ? s : "100%",
                    height: "initial",
                    ref: l,
                    videoConstraints: d,
                    onUserMedia: u,
                    onUserMediaError: q => m(q, "load")
                })
            }), i.jsx(CN, {
                children: i.jsx(Cb, {
                    assets: t,
                    showDelayedHint: O,
                    isNarrowed: T,
                    profileSize: b,
                    currentStep: r,
                    poseOrder: o,
                    styles: v,
                    uploadProgress: E,
                    showLoadingCircle: !0
                })
            })]
        }), p && i.jsx(mt, {
            children: i.jsx(xN, {
                id: "selfie-scanner__capture--manual",
                "data-test": "selfie-scanner__capture--manual",
                onClick: h,
                disabled: N,
                styles: (x == null ? void 0 : x[Q.Primary]) || ((H = v == null ? void 0 : v.buttons) == null ? void 0 : H.primary),
                children: F("selfie-scanner.prompt.btn-capture-manual")
            })
        }), C && i.jsx("canvas", {
            style: {
                width: "100%"
            },
            id: "debugLandmarks"
        })]
    })
}
;
class Eb extends f.Component {
    constructor(t) {
        super(t),
        this.componentDidMount = async () => {
            var s, c;
            this.props.debug && console.info(Xc());
            try {
                await kt.loadModels()
            } catch (l) {
                (s = this.props) == null || s.handleFailed(l, "load");
                return
            }
            this.runTick(),
            this.props.delayUntilManualCaptureMs > 0 && (this.timerManualShow = window.setTimeout( () => {
                this.setState({
                    ...this.state,
                    manualVisible: !0
                })
            }
            , this.props.delayUntilManualCaptureMs)),
            (c = this.props.featureFlags) != null && c["inquiry:enable-spinner-on-selfie-scanner"] && (this.timerShowSpinnerForNonVideo = window.setTimeout( () => {
                this.setState({
                    showPreloadingSpinnerForUserMedia: !0
                })
            }
            , fN))
        }
        ,
        this.setWebcamRef = s => {
            var c;
            this.refWebcam = s,
            (c = this.refWebcam) != null && c.video && (this.refWebcam.video.addEventListener("canplay", this.resizeVideo),
            this.refWebcam.video.defaultMuted = !0,
            this.refWebcam.video.muted = !0)
        }
        ,
        this.resizeVideo = () => {
            var d;
            if (((d = this.refWebcam) == null ? void 0 : d.video) == null)
                return;
            const {clientWidth: s, videoHeight: c, videoWidth: l} = this.refWebcam.video;
            if (this.tickCountWhenFeedIsReady = this.state.tickCount,
            c > l)
                this.setState({
                    videoHeightOverride: s
                });
            else {
                const u = l / c
                  , m = Math.floor(Math.max(s, _b * u));
                this.setState({
                    videoWidthOverride: m
                })
            }
        }
        ,
        this.runTick = async () => {
            var d, u, m, h, p, b, C, S, v;
            const s = new Date().getTime();
            try {
                (!mp() || this.state.tickCount > this.tickCountWhenFeedIsReady + 5) && await this.runDetection()
            } catch (x) {
                he(x, "info", Xc(), {
                    jira: "PER-19877"
                }),
                this.props.handleFailed(x, "capture");
                return
            }
            const c = new Date().getTime() - s;
            if (this.state.tickCount === 0 && this.props.detectTimeout != null && c > this.props.detectTimeout) {
                this.props.handleSlowFaceDetection();
                return
            }
            const l = Math.max(0, hN - c);
            if (this.setState( ({tickCount: x}) => ({
                tickCount: x + 1
            })),
            ((u = (d = this.refWebcam) == null ? void 0 : d.video) == null ? void 0 : u.videoHeight) != null && ((h = (m = this.refWebcam) == null ? void 0 : m.video) == null ? void 0 : h.videoWidth) != null && this.setState({
                videoDimensions: {
                    width: this.refWebcam.video.videoWidth,
                    height: this.refWebcam.video.videoHeight
                }
            }),
            !this.state.hasSentSelfieData) {
                if (!this.state.hasUnmounted && this.refWebcam)
                    this.timerDetect = window.setTimeout( () => {
                        window.requestAnimationFrame != null ? window.requestAnimationFrame(this.runTick) : this.runTick()
                    }
                    , l);
                else if (this.state.hasUnmounted && this.refWebcam)
                    try {
                        Be("SelfieScanner runTick finished before hasSentSelfieData was true", "warning", {
                            hasUnmounted: this.state.hasUnmounted,
                            refWebcamExists: this.refWebcam != null,
                            refWebcamVideoExists: ((p = this.refWebcam) == null ? void 0 : p.video) != null,
                            videoHeight: (C = (b = this.refWebcam) == null ? void 0 : b.video) == null ? void 0 : C.height,
                            videoWidth: (v = (S = this.refWebcam) == null ? void 0 : S.video) == null ? void 0 : v.width
                        })
                    } catch (x) {
                        Be("SelfieScanner runTick finished early and failed to log reason", "warning", x)
                    }
            }
        }
        ,
        this.logCameraInspectionSnapshot = () => {
            var s;
            if (!(this.cameraInspectionSnapshots.length >= 5))
                if (this.shouldCaptureCameraInspectionSnapshots) {
                    const c = sp((s = this.canvasBuffer) == null ? void 0 : s.toDataURL("image/jpeg"));
                    c != null && (this.cameraInspectionSnapshots.push(c),
                    this.shouldCaptureCameraInspectionSnapshots = !1)
                } else
                    this.shouldCaptureCameraInspectionSnapshots = !0
        }
        ,
        this.completeCameraInspection = () => {
            this.cameraInspectionData && (this.cameraInspectionData.streamStability = dp({
                snapshots: this.cameraInspectionSnapshots,
                includeSmallImages: !0
            }))
        }
        ,
        this.handleUserMedia = async s => {
            var c;
            (c = this.props.featureFlags) != null && c["inquiry:enable-spinner-on-selfie-scanner"] && (clearTimeout(this.timerShowSpinnerForNonVideo),
            this.setState({
                showPreloadingSpinnerForUserMedia: !1
            })),
            !(this.cameraInspectionData || !s) && (this.cameraInspectionData = {
                ...ap
            },
            this.cameraInspectionData = {
                ...this.cameraInspectionData,
                ...cp(s)
            },
            this.cameraInspectionData = {
                ...this.cameraInspectionData,
                ...await lp(s)
            },
            this.props.enableVideoRecording && !this.state.mediaRecorderSubId && this.initMediaRecorderClient(s, this.props.videoSessionJwt))
        }
        ,
        this.completeSelfieScan = s => {
            this.completeCameraInspection(),
            clearTimeout(this.timerDetect),
            clearTimeout(this.timerManualShow);
            const c = this.state.startTime ? new Date(this.state.startTime).toISOString() : void 0;
            this.props.handleComplete({
                capturedSelfies: this.props.capturedSelfies,
                captureStartedAt: c,
                cameraInspectionData: this.cameraInspectionData,
                capturedVideoData: s,
                movementData: this.movementData.length > 0 ? this.movementData : void 0
            }),
            this.setState({
                ...this.state,
                hasSentSelfieData: !0,
                manualVisible: !1
            })
        }
        ,
        this.runDetection = async () => {
            var O, N;
            const {capturedSelfies: s, requireHigherAccuracyCapture: c, poseOrder: l} = this.props;
            if (!this.refWebcam || !kt.isLoaded() || !kt.isMediaLoaded(this.refWebcam.video) || !this.state.readyToCapture)
                return;
            const {clientHeight: d, clientWidth: u} = this.refWebcam.video
              , {videoHeight: m, videoWidth: h} = this.refWebcam.video;
            if (!this.refWebcam || !this.canvasBuffer)
                return;
            this.canvasBuffer.width = h,
            this.canvasBuffer.height = m;
            const p = this.canvasBuffer.getContext("2d", {
                willReadFrequently: !0,
                alpha: !1
            });
            p == null && Be("Canvas getContext returned null during runDetection", "warning", this.getSentryErrorContext()),
            p == null || p.clearRect(0, 0, this.canvasBuffer.width, this.canvasBuffer.height),
            p == null || p.drawImage(this.refWebcam.video, 0, 0, h, m);
            const b = await kt.detectFaces(this.canvasBuffer, {
                inputSize: dN,
                scoreThreshold: uN
            })
              , C = b.length === 1 ? b[0].box : void 0;
            let S = 0
              , v = null;
            if (!this.refWebcam || !this.canvasBuffer)
                return;
            if (C != null) {
                try {
                    this.logCameraInspectionSnapshot()
                } catch (V) {
                    he(V)
                }
                if (!this.refWebcam || !this.faceCanvasBuffer || !this.canvasBuffer)
                    return;
                this.faceCanvasBuffer.width = Math.floor(C.width),
                this.faceCanvasBuffer.height = Math.floor(C.height);
                const U = this.faceCanvasBuffer.getContext("2d", {
                    willReadFrequently: !0,
                    alpha: !1
                });
                if (U == null || U.clearRect(0, 0, this.faceCanvasBuffer.width, this.faceCanvasBuffer.height),
                U == null || U.drawImage(this.canvasBuffer, Math.floor(C.x), Math.floor(C.y), Math.floor(C.width), Math.floor(C.height), 0, 0, Math.floor(C.width), Math.floor(C.height)),
                !this.refWebcam || !this.faceCanvasBuffer)
                    return;
                v = await kt.detectLandmarks(this.faceCanvasBuffer),
                S = Sb(v),
                this.drawDebugMarks(C, v)
            }
            if (!this.refWebcam)
                return;
            const x = Qr(s, l)
              , _ = b.length
              , R = C != null ? C.height : 0
              , E = C != null ? C.width : 0
              , T = Date.now() - this.state.startTime;
            this.hintTriggerClient.runTick({
                capturedSelfies: s,
                currentStep: x,
                faceCount: _,
                horizontalAngle: S,
                faceHeight: R,
                faceWidth: E,
                manualVisible: this.state.manualVisible,
                videoHeight: m,
                videoWidth: h,
                requireHigherAccuracyCapture: c,
                faceBox: C,
                landmarks: v,
                elapsedTime: T
            });
            const F = this.hintTriggerClient.getTriggered();
            if (Ab.indexOf(F.getType()) === -1)
                this.props.clearCapturedSelfies();
            else {
                const U = this.canvasBuffer.toDataURL("image/jpeg", 92);
                U == null && (Be("Selfie autocapture captured an empty image", "warning", this.getSentryErrorContext(), {
                    jira: "PER-20180"
                }),
                this.props.handleFailed("Canvas buffer data URL is empty", "capture"));
                const V = F.getType()
                  , ne = z7(V);
                if (ne != null && ui(s, ne) == null)
                    switch (V) {
                    case Ct.CenterCapture:
                        {
                            this.props.saveCapturedSelfie(ue.Center, U, gt.Auto, new Date().toISOString());
                            break
                        }
                    case Ct.LeftCapture:
                        {
                            this.props.saveCapturedSelfie(ue.Left, U, gt.Auto, new Date().toISOString());
                            break
                        }
                    case Ct.RightCapture:
                        {
                            this.props.saveCapturedSelfie(ue.Right, U, gt.Auto, new Date().toISOString());
                            break
                        }
                    }
            }
            if ((O = this.props.featureFlags) != null && O["inquiry:enable-landmark-logging-organization"] && ((N = this.props.featureFlags) != null && N["inquiry:enable-landmark-logging-percentage"]) && v != null) {
                const U = +performance.now().toFixed(5)
                  , V = v.positions.reduce( (ne, L) => [...ne, +L.x.toFixed(5), +L.y.toFixed(5)], []);
                this.movementData.push(`${U},${V.join(",")}`)
            }
            this.setState(U => ({
                ...U,
                activeTrigger: F,
                profileSize: Math.min(u, d) - 8
            }))
        }
        ,
        this.handleManualCapture = () => {
            var u, m, h;
            const {capturedSelfies: s, poseOrder: c} = this.props
              , l = Qr(s, c);
            if ((u = this.refWebcam) != null && u.video) {
                const {videoHeight: p, videoWidth: b} = this.refWebcam.video;
                this.canvasBuffer.width = b,
                this.canvasBuffer.height = p;
                const C = this.canvasBuffer.getContext("2d", {
                    willReadFrequently: !0,
                    alpha: !1
                });
                C == null && Be("Canvas getContext returned null during handleManualCapture", "warning", this.getSentryErrorContext(), {
                    videoEnabled: this.props.enableVideoRecording.toString(),
                    videoCaptureMethod: (m = $e.currentClient) == null ? void 0 : m.type
                }),
                C == null || C.clearRect(0, 0, this.canvasBuffer.width, this.canvasBuffer.height),
                C == null || C.drawImage(this.refWebcam.video, 0, 0, b, p)
            }
            const d = this.canvasBuffer.toDataURL("image/jpeg", 92);
            (d == null || d.length < Pr) && (Be("Selfie manual capture captured a potentially blank image", "warning", this.getSentryErrorContext(), {
                videoEnabled: this.props.enableVideoRecording.toString(),
                videoCaptureMethod: (h = $e.currentClient) == null ? void 0 : h.type
            }),
            this.props.handleFailed("Selfie manual capture captured a potentially blank image", "capture")),
            this.props.saveCapturedSelfie(l, d, gt.Manual, new Date().toISOString())
        }
        ,
        this.hintTriggerClient = H7(t.poseOrder),
        this.state = {
            profileSize: pN,
            activeTrigger: this.hintTriggerClient.getTriggered(),
            hasSentSelfieData: !1,
            hasUnmounted: !1,
            manualVisible: t.delayUntilManualCaptureMs === 0 || In(),
            videoWidthOverride: void 0,
            videoHeightOverride: void 0,
            tickCount: 0,
            capturedVideoData: void 0,
            mediaRecorderSubId: void 0,
            hasStoppedRecording: !1,
            showPreloadingSpinnerVideo: !!t.enableVideoRecording,
            showPreloadingSpinnerForUserMedia: !1,
            readyToCapture: !t.enableVideoRecording,
            startTime: Date.now(),
            videoDimensions: void 0
        };
        const [n,r] = hi()
          , [o,a] = hi();
        this.faceCanvasBuffer = n,
        this.cleanupFaceCanvasBuffer = r,
        this.canvasBuffer = o,
        this.cleanupCanvasBuffer = a,
        this.cameraInspectionSnapshots = [],
        this.shouldCaptureCameraInspectionSnapshots = !0,
        this.cameraInspectionData = void 0,
        this.movementData = [],
        this.tickCountWhenFeedIsReady = 30
    }
    componentDidUpdate() {
        var o;
        const {capturedSelfies: t, poseOrder: n} = this.props
          , {hasSentSelfieData: r} = this.state;
        Qr(t, n) == null && !r && (this.props.enableVideoRecording ? this.state.hasStoppedRecording || ((o = $e.currentClient) == null || o.stopRecording(),
        this.setState({
            hasStoppedRecording: !0
        })) : this.completeSelfieScan())
    }
    componentWillUnmount() {
        this.setState({
            ...this.state,
            hasUnmounted: !0
        }),
        clearTimeout(this.timerDetect),
        clearTimeout(this.timerManualShow),
        clearTimeout(this.timerShowSpinnerForNonVideo),
        Nn.dispose(),
        this.props.enableVideoRecording && $e.destroy("selfie"),
        this.cleanupCanvasBuffer(),
        this.canvasBuffer = null,
        this.cleanupCanvasBuffer = null,
        this.cleanupFaceCanvasBuffer(),
        this.faceCanvasBuffer = null,
        this.cleanupFaceCanvasBuffer = null
    }
    render() {
        var R;
        const {assets: t, buttonStyles: n, localizations: r, capturedSelfies: o, poseOrder: a, videoConstraints: s, handleFailed: c, debug: l, styles: d, uploadProgress: u} = this.props
          , {profileSize: m, activeTrigger: h, manualVisible: p, videoWidthOverride: b, videoHeightOverride: C} = this.state
          , S = Qr(o, a)
          , v = nC()
          , x = this.props.enableVideoRecording && ((R = $e.currentClient) == null ? void 0 : R.type) === "stream"
          , _ = this.state.showPreloadingSpinnerVideo && (v || x) || this.state.showPreloadingSpinnerForUserMedia;
        return i.jsxs(i.Fragment, {
            children: [i.jsx(Tb, {
                audioEnabled: this.props.audioEnabled,
                assets: t,
                buttonStyles: n,
                localizations: r,
                currentStep: S,
                poseOrder: a,
                activeTrigger: h,
                videoWidthOverride: b,
                videoHeightOverride: C,
                setWebcamRef: this.setWebcamRef,
                videoConstraints: s,
                handleUserMedia: this.handleUserMedia,
                handleFailed: c,
                handleManualCapture: this.handleManualCapture,
                manualVisible: p,
                profileSize: m,
                debug: l,
                styles: d,
                showPreloadingSpinner: _,
                showPreloadingHint: _,
                uploadProgress: this.props.enableVideoRecording ? u : null
            }), i.jsx(lN, {
                dimensions: this.state.videoDimensions
            })]
        })
    }
    drawDebugMarks(t, n) {
        if (!this.props.debug)
            return;
        const r = document.getElementById("debugLandmarks")
          , o = this.canvasBuffer.width
          , a = this.canvasBuffer.height;
        r.width = o,
        r.height = a;
        const s = r.getContext("2d");
        if (s == null)
            return;
        s.globalAlpha = .4,
        s.drawImage(this.canvasBuffer, 0, 0),
        s.globalAlpha = 1;
        const c = t.left
          , l = t.top;
        s.fillStyle = "#000000";
        for (const h of n.positions)
            s.fillRect(h.x - 2 + c, h.y - 2 + l, 4, 4);
        const d = n.getNose()[3];
        s.fillStyle = "#0000ff",
        s.fillRect(d.x - 8 + c, d.y - 8 + l, 16, 16),
        s.strokeStyle = "#ff0000",
        s.lineWidth = 8;
        const u = Math.min(o, a) * .4
          , m = Math.min(o, a);
        s.rect(o / 2 - u / 2, a / 2 - u / 2, u, u),
        s.stroke(),
        s.strokeStyle = "#00ff00",
        s.rect(o / 2 - m / 2, a / 2 - m / 2, m, m),
        s.stroke()
    }
    initMediaRecorderClient(t, n) {
        var a;
        const r = $e.getNewClient(this.props.videoCaptureMethods);
        if (this.props.enableVideoRecording && !r.isSupported()) {
            this.props.handleFailed("MediaRecorder not supported", "load");
            return
        }
        const o = r.init({
            stream: t,
            bitRate: Ig(r.type, this.props.featureFlags),
            video: this.refWebcam.video,
            jwt: n,
            maxRecordingTime: mN,
            minRecordingTime: (a = this.props.featureFlags) != null && a["inquiry:increase-video-recording-time"] ? 1e4 : void 0,
            onRecordingComplete: (s, c) => {
                var l, d, u;
                this.state.capturedVideoData || (J.logAmplitude("selfie.video.stop", {
                    elapsedTime: c,
                    type: r.type,
                    chunksLength: s.type === "upload" ? (l = s.chunks) == null ? void 0 : l.length : 0
                }),
                s.type === "upload" && (s.chunks == null || s.chunks.length <= 0) ? $e.videoCanBeReattempted() && ((u = (d = this.props).handleRestartStep) == null || u.call(d)) : (this.setState({
                    capturedVideoData: s
                }),
                this.completeSelfieScan(s)))
            }
            ,
            onError: s => {
                var c, l;
                $e.destroy("selfie"),
                this.props.clearCapturedSelfies(),
                (l = (c = this.props).handleRestartStep) == null || l.call(c),
                J.logAmplitude("selfie.video.errored", {
                    message: typeof s == "string" ? s : s == null ? void 0 : s.message
                }),
                he(s instanceof Error ? s : new Error(`Unexpected error: ${JSON.stringify(s)}`), "error")
            }
            ,
            onStart: s => {
                this.setState({
                    showPreloadingSpinnerVideo: !1,
                    readyToCapture: !0
                }),
                s && !this.state.hasStoppedRecording && this.props.clearCapturedSelfies(),
                J.logAmplitude("selfie.video.start", {
                    isRestart: s,
                    type: r.type
                })
            }
            ,
            onTimeExceeded: () => {
                var l, d;
                J.logAmplitude("selfie.video.timeExceeded");
                const {capturedSelfies: s, poseOrder: c} = this.props;
                Qr(s, c) != null && ((d = (l = this.props).handleRestartStep) == null || d.call(l, !0))
            }
        });
        r.startRecording(),
        $e.recordVideoAttempt(),
        J.logAmplitude("selfie.video.initialized", {
            type: r.type,
            attempt: $e.videoAttempts
        }),
        this.setState({
            mediaRecorderSubId: o
        })
    }
    getSentryErrorContext() {
        return {
            tickCount: this.state.tickCount,
            elapsedTime: Date.now() - this.state.startTime
        }
    }
}
const yN = 250
  , kb = [{
    trigger: new Yn(Wt(tr.filter(e => e.type === Ct.Empty))),
    currentStep: ue.Center
}, {
    trigger: new Yn(_C(tr.filter(e => e.type === Ct.Empty))),
    currentStep: ue.Center
}, {
    trigger: new Yn(tr.find(e => e.type === Ct.Center)),
    currentStep: ue.Center
}, {
    trigger: new Yn(tr.find(e => e.type === Ct.Center)),
    currentStep: ue.Center
}]
  , wN = [...kb, {
    trigger: new Yn(tr.find(e => e.type === Ct.Left)),
    currentStep: ue.Left
}, {
    trigger: new Yn(tr.find(e => e.type === Ct.Right)),
    currentStep: ue.Right
}, {
    trigger: new Yn(tr.find(e => e.type === Ct.Verifying)),
    currentStep: void 0
}]
  , _N = [...kb, {
    trigger: new Yn(tr.find(e => e.type === Ct.Verifying)),
    currentStep: void 0
}]
  , RN = ({assets: e, localizations: t, requireSelfieMatch: n, styles: r}) => {
    const o = n === rn.OnlyCenter ? _N : wN
      , a = n === rn.OnlyCenter ? [ue.Center] : [ue.Center, ue.Left, ue.Right]
      , [s,c] = f.useState(0);
    f.useEffect( () => {
        const u = setInterval( () => {
            c(m => m + 1)
        }
        , 2e3);
        return () => {
            clearInterval(u)
        }
    }
    , []);
    const {trigger: l, currentStep: d} = o[s % o.length];
    return i.jsx(Tb, {
        assets: e,
        localizations: t,
        currentStep: d,
        activeTrigger: l,
        videoWidthOverride: void 0,
        videoHeightOverride: void 0,
        setWebcamRef: () => {}
        ,
        videoConstraints: {},
        handleUserMedia: () => {}
        ,
        handleFailed: () => {}
        ,
        handleManualCapture: () => {}
        ,
        manualVisible: !0,
        profileSize: yN,
        isEditorPreview: !0,
        styles: r,
        poseOrder: a
    })
}
;
function AN(e) {
    var p;
    const [t,{enable: n, disable: r}] = rt()
      , o = ci()
      , {modal: a, titleStyle: s, textStyle: c} = (p = o == null ? void 0 : o.base) != null ? p : {}
      , l = o == null ? void 0 : o.buttons
      , d = Jp({
        orderedPoses: e.orderedPoses,
        requireSelfieMatch: e.requireSelfieMatch
    })
      , {t: u} = G()
      , [m,h] = f.useState(!1);
    return f.useEffect( () => {
        e.enableMobilePendingExperienceForWeb && e.uploadProgress === 1 && h(!0)
    }
    , [e.uploadProgress]),
    m ? i.jsx(cN, {
        assets: e.assets,
        localizations: e.mobileExperienceLocalizations,
        textVerticalPosition: e.mobileExperienceVerticalPosition
    }) : i.jsxs(i.Fragment, {
        children: [i.jsxs(bi, {
            isOpen: t,
            onClose: r,
            styles: a,
            "data-test": "inquiry-selfie-record-view__slow-detection-dialog",
            "aria-labelledby": "inquiry-selfie-record-view__slow-detection-dialog--title",
            "aria-describedby": "inquiry-selfie-record-view__slow-detection-dialog--description",
            children: [i.jsx(ct, {
                id: "inquiry-selfie-record-view__slow-detection-dialog--title",
                styles: s,
                children: i.jsx(X, {
                    children: u("selfie.record.slow-detection-title")
                })
            }), i.jsx(ot, {
                id: "inquiry-selfie-record-view__slow-detection-dialog--description",
                styles: c,
                children: i.jsx(X, {
                    children: u("selfie.record.slow-detection-prompt")
                })
            }), i.jsx(Xe, {
                height: 2
            }), i.jsx(fe, {
                id: "inquiry-selfie-record-view__slow-detection-dialog--wait-btn",
                "data-test": "inquiry-selfie-record-view__slow-detection-dialog--wait-btn",
                onClick: r,
                styles: l == null ? void 0 : l[Q.Primary],
                children: u("selfie.record.slow-detection-wait")
            }), l == null && i.jsx(Xe, {
                height: 1
            }), i.jsx(fe, {
                id: "inquiry-selfie-record-view__slow-detection-dialog--try-another-device-btn",
                "data-test": "inquiry-selfie-record-view__slow-detection-dialog--try-another-device-btn",
                onClick: e.handleSlowFaceDetection,
                buttonType: Q.Secondary,
                styles: l == null ? void 0 : l[Q.Secondary],
                children: u("selfie.record.slow-detection-try-another-device")
            })]
        }), e.localizations.title ? i.jsxs(i.Fragment, {
            children: [i.jsx(ct, {
                styles: s,
                children: e.localizations.title
            }), i.jsx(Xe, {
                height: 2
            })]
        }) : null, e.isEditorPreview ? i.jsx(RN, {
            assets: e.assets,
            localizations: e.localizations,
            requireSelfieMatch: e.requireSelfieMatch,
            styles: o,
            buttonStyles: l
        }) : i.jsx(i.Fragment, {
            children: e.requireSelfieMatch === "configurable_poses" ? i.jsx(rN, {
                assets: e.assets,
                delayUntilManualCaptureMs: e.webCameraManualCaptureDelayMs,
                detectTimeout: e.detectTimeout,
                enableVideoRecording: e.enableVideoRecording,
                localizations: e.localizations,
                poseOrder: d,
                requireHigherAccuracyCapture: e.requireHigherAccuracyCapture,
                styles: o,
                handleComplete: e.handleComplete,
                handleFailed: e.handleFailed,
                handleRestartStep: e.handleRestartStep,
                handleSlowFaceDetection: e.handleSlowFaceDetection,
                videoConstraints: e.videoConstraints,
                videoCaptureMethods: e.videoCaptureMethods,
                videoSessionJwt: e.videoSessionJwt
            }) : i.jsx(Eb, {
                audioEnabled: e.audioEnabled,
                assets: e.assets,
                localizations: e.localizations,
                capturedSelfies: e.capturedSelfies,
                clearCapturedSelfies: e.clearCapturedSelfies,
                delayUntilManualCaptureMs: e.webCameraManualCaptureDelayMs,
                handleComplete: e.handleComplete,
                handleFailed: e.handleFailed,
                handleSlowFaceDetection: n,
                handleRestartStep: e.handleRestartStep,
                detectTimeout: e.detectTimeout,
                poseOrder: d,
                enableVideoRecording: e.enableVideoRecording,
                saveCapturedSelfie: e.saveCapturedSelfie,
                videoConstraints: e.videoConstraints,
                requireHigherAccuracyCapture: e.requireHigherAccuracyCapture,
                featureFlags: e.featureFlags,
                styles: o,
                buttonStyles: l,
                uploadProgress: e.uploadProgress,
                videoSessionJwt: e.videoSessionJwt,
                videoCaptureMethods: e.videoCaptureMethods,
                useMobileSubmitExperience: m
            })
        })]
    })
}
const TN = e => {
    const {inquiry: t, config: n, capturedSelfies: r, videoConstraints: o, featureFlags: a, styles: s} = e
      , [c] = G()
      , l = f.useMemo( () => $e.shouldInitializeVideo(n == null ? void 0 : n["enabled-capture-file-types"]), []);
    f.useEffect( () => {
        if (e.inquiry == null) {
            D.redirectToStart();
            return
        }
        try {
            window.parent.Cypress && u("Push to stillfie in Cypress tests!", "load")
        } catch {}
    }
    , []),
    f.useEffect( () => {
        try {
            a != null && a["inquiry:enable-amplitude-logging-on-combined-step-page-enter"] && J.logAmplitude("selfie.record-page.entered", {})
        } catch {}
    }
    , []);
    const d = async b => {
        e.clearMessages();
        try {
            D.onEvent(Oe.SelfieCameraCapture),
            await e.selfieSubmit({
                inquiry: t,
                config: n,
                capturedSelfiesSubmitData: b,
                debugForcedStatus: e.debugForcedStatus,
                history: e.history,
                t: c,
                featureFlags: a
            })
        } catch (C) {
            C instanceof vn || e.showMessage(c("errors.network"), !0),
            e.clearCapturedSelfies(),
            e.history.replace(`/inquiry/selfie/${ue.Center}/prompt`)
        }
    }
      , u = (b, C) => {
        var v, x;
        const S = b instanceof Error ? b.message : typeof b == "string" ? b : "";
        J.logAmplitude("selfie.record-page.errored", {
            state: C,
            errorMessage: S
        }),
        e.showMessage(c("selfie.record.failed-video"), !0),
        e.saveIsWebGLIncompatible(!0),
        b instanceof Error ? (C === "load" && D.onEvent(Oe.LoadCameraFailed, {
            error: b.name,
            message: b.message
        }),
        he(b, "warning", {
            state: C
        }, {
            jira: "PER-10182",
            videoEnabled: l.toString(),
            videoCaptureMethod: (v = $e.currentClient) == null ? void 0 : v.type
        })) : (C === "load" && D.onEvent(Oe.LoadCameraFailed, {
            message: b
        }),
        he(new Error(b), "warning", {
            state: C
        }, {
            jira: "PER-10182",
            videoEnabled: l.toString(),
            videoCaptureMethod: (x = $e.currentClient) == null ? void 0 : x.type
        })),
        setTimeout( () => {
            e.history.goBack()
        }
        , 500)
    }
      , m = () => {
        e.saveIsWebGLIncompatible(!0),
        e.history.goBack()
    }
      , h = b => {
        e.showMessage(c(b ? "selfie.record.recording-timeout" : "errors.network"), !0),
        e.history.goBack()
    }
    ;
    if (t == null || n == null)
        return null;
    const p = Hs(t);
    return i.jsx(ub, {
        value: s,
        children: i.jsx(AN, {
            audioEnabled: l && Ui(n),
            assets: n.assets["record-page"],
            capturedSelfies: r,
            clearCapturedSelfies: e.clearCapturedSelfies,
            detectTimeout: xb,
            enableVideoRecording: l,
            featureFlags: a,
            handleComplete: d,
            handleFailed: u,
            handleRestartStep: h,
            handleSlowFaceDetection: m,
            localizations: n.localizations["capture-page"],
            orderedPoses: n["ordered-poses"],
            requireHigherAccuracyCapture: p,
            requireSelfieMatch: as(t),
            saveCapturedSelfie: e.saveCapturedSelfie,
            uploadProgress: e.uploadProgress,
            videoCaptureMethods: n["video-capture-methods"],
            videoConstraints: o,
            videoSessionJwt: n["video-session-jwt"],
            webCameraManualCaptureDelayMs: n["web-camera-manual-capture-delay-ms"],
            enableMobilePendingExperienceForWeb: n["enable-mobile-pending-experience-for-web"],
            mobileExperienceLocalizations: n.localizations["pending-page"],
            mobileExperienceVerticalPosition: n["pending-page-text-vertical-position"]
        })
    })
}
  , EN = e => ({
    capturedSelfies: e.verification.capturedSelfies,
    config: pf(e),
    styles: pd(e.inquiry),
    debugForcedStatus: e.test.forcedStatus,
    featureFlags: e.inquiry.featureFlags,
    inquiry: e.inquiry.inquiry,
    videoConstraints: e.verification.videoConstraints,
    uploadProgress: e.verification.uploadProgress
})
  , kN = {
    clearCapturedSelfies: od,
    clearMessages: Lt,
    routeToNextStep: Dt,
    selfieSubmit: yg,
    saveCapturedSelfie: qs,
    saveIsWebGLIncompatible: Gp,
    showMessage: ce
}
  , NN = ke(EN, kN)
  , jN = NN(TN)
  , PN = jn()(jN)
  , DN = e => {
    const {inquiry: t, currentSession: n, uiStatus: r, debugForcedStatus: o, untouch: a, collectedData: s, featureFlags: c} = e
      , l = Vt()
      , {t: d} = G()
      , {error: u, callback: m} = vt(async (C, S) => {
        a(t.attributes["next-step"].name, ...Object.keys(C));
        try {
            await e.transitionInquiry({
                inquiry: t,
                componentParams: C,
                fromComponent: S,
                workflowInitialVariables: {
                    debugForcedStatus: o
                },
                featureFlags: c
            })
        } catch (v) {
            const x = BN(v);
            if (x != null) {
                const _ = RC(R => R.message, x);
                throw new Se.SubmissionError(_)
            } else
                throw v
        }
    }
    , [t, o])
      , {error: h, callback: p} = vt(async C => {
        await e.transitionInquiry({
            inquiry: t,
            componentParams: {},
            fromComponent: C,
            workflowInitialVariables: {
                debugForcedStatus: o
            },
            featureFlags: c
        })
    }
    , [t, o])
      , b = f.useCallback( () => {
        Ro(t, s)
    }
    , [t, s]);
    return _t({
        error: u || h,
        onError: C => {
            var S;
            switch (C.status) {
            case 409:
                ((S = C.errors) == null ? void 0 : S[0].code) === "pending_transition_error" ? e.showMessage(d("errors.network")) : e.showMessage(d("errors.inquiry-conflict"));
                return;
            default:
                e.showMessage("Unexpected error, please try again.")
            }
        }
        ,
        onNetworkError: () => e.showMessage("Unexpected error, please try again.")
    }),
    f.useEffect( () => {
        if (t == null || t.attributes["next-step"].type !== Ge.Ui)
            return;
        const {components: C} = t.attributes["next-step"].config;
        fd(t) && C.length === 0 && vo(t) && b()
    }
    , [t]),
    f.useEffect( () => {
        t == null && D.redirectToStart()
    }
    , []),
    va( () => {
        if (t == null)
            return;
        const C = Oi(t);
        (C === nn.BACKGROUND || C === nn.BLOCKING) && e.pollInquiry(t).catch( () => {
            e.showMessage(d("errors.network"), !0)
        }
        )
    }
    , [t]),
    t == null ? null : i.jsx(Mr, {
        inquiry: t,
        currentSession: n,
        uiStatus: r,
        onTransitionSubmit: m,
        onTransitionAction: p,
        onComplete: b,
        onCancel: e.openConfirmCancelDialog,
        handleLanguageChange: e.handleLanguageChange,
        route: l.push,
        showMessage: e.showMessage,
        setComponent: e.setComponent,
        featureFlags: c
    })
}
;
function ON(e) {
    return {
        debugForcedStatus: e.test.forcedStatus,
        inquiry: e.inquiry.inquiry,
        currentSession: e.inquiry.currentSession,
        uiStatus: e.ui.status,
        featureFlags: e.inquiry.featureFlags,
        collectedData: e.inquiry.collectedData
    }
}
const LN = {
    handleLanguageChange: wo,
    openConfirmCancelDialog: jr,
    setComponent: cr,
    showMessage: ce,
    transitionInquiry: mf,
    untouch: Se.untouch,
    pollInquiry: Gn
}
  , FN = ke(ON, LN)
  , MN = FN(DN);
function BN(e) {
    var t;
    if (e instanceof ht && e.status === 422 && ((t = e.errors) == null ? void 0 : t[0].title) === "Record invalid" && typeof e.errors[0].details == "object")
        return e.errors[0].details
}
function VN(e) {
    return {
        inquiry: e.inquiry.inquiry,
        component: hd(e),
        currentSession: e.inquiry.currentSession,
        nextInquiry: e.verifyWithPersona.nextInquiry,
        uiStatus: e.ui.status,
        featureFlags: e.inquiry.featureFlags,
        collectedData: e.inquiry.collectedData
    }
}
const UN = {
    handleLanguageChange: wo,
    openConfirmCancelDialog: jr,
    setComponent: cr,
    showMessage: ce,
    routeToNextStep: Dt
}
  , HN = ke(VN, UN)
  , qN = e => {
    var v, x;
    const {inquiry: t, component: n, currentSession: r, uiStatus: o, collectedData: a, featureFlags: s, nextInquiry: c, routeToNextStep: l} = e
      , d = Vt()
      , [u] = G()
      , m = (x = (v = n == null ? void 0 : n.attributes) == null ? void 0 : v.pages) == null ? void 0 : x.error
      , h = m == null ? void 0 : m["ui-step"]
      , p = m == null ? void 0 : m["component-name-mapping"];
    f.useEffect( () => {
        J.logAmplitude("reusable-persona.verify.error-page.entered")
    }
    , []);
    const {error: b, callback: C} = vt(async (_, R) => {
        var E;
        if (R === (p == null ? void 0 : p["continue-button"]))
            if (J.logAmplitude("reusable-persona.verify.error-page.dismissed"),
            D.isReusablePersonaPopup) {
                (E = window.opener) == null || E.focus(),
                window.close();
                return
            } else
                return l(c)
    }
    , [c, p])
      , S = f.useCallback( () => {
        Ro(t, a)
    }
    , [t, a]);
    return _t({
        error: b,
        onError: () => {
            e.showMessage(u("error.message"))
        }
        ,
        onNetworkError: () => e.showMessage(u("errors.network"))
    }),
    h == null || t == null ? null : i.jsx(Mr, {
        inquiry: t,
        nextStep: h,
        currentSession: r,
        uiStatus: o,
        onTransitionSubmit: C,
        onTransitionAction: async () => {}
        ,
        onComplete: S,
        onCancel: e.openConfirmCancelDialog,
        handleLanguageChange: e.handleLanguageChange,
        route: d.push,
        showMessage: e.showMessage,
        setComponent: e.setComponent
    })
}
  , $N = HN(qN)
  , GN = e => {
    var x, _;
    const {inquiry: t, component: n, currentSession: r, debugForcedStatus: o, uiStatus: a, collectedData: s, featureFlags: c, transitionInquiryFromVerifyWithPersonaStep: l} = e
      , d = Vt()
      , [u] = G()
      , m = (_ = (x = n == null ? void 0 : n.attributes) == null ? void 0 : x.pages) == null ? void 0 : _["passkey-authentication"]
      , h = m == null ? void 0 : m["ui-step"]
      , p = m == null ? void 0 : m["component-name-mapping"];
    f.useEffect( () => {
        J.logAmplitude("reusable-persona.verify.passkey-authentication-page.entered")
    }
    , []);
    const {error: b, loading: C, callback: S} = vt(async (R, E) => {
        var T, F;
        if (E === (p == null ? void 0 : p["confirm-button"])) {
            J.logAmplitude("reusable-persona.verify.passkey-authentication-page.confirm-btn-clicked");
            const O = await jh((await te.postResourceSingletonActionNew(y.Persona, "authentication-initiate")).meta);
            return (T = O == null ? void 0 : O.response) != null && T.userHandle ? (J.logAmplitude("reusable-persona.verify.passkey-authentication-page.submitted"),
            await l(t, O, n.name, {
                "debug-forced-status": o
            })) : (e.setNextInquiry({
                inquiry: t
            }),
            d.replace("/inquiry/verify-with-persona/error"))
        } else if (E === (p == null ? void 0 : p["cancel-button"]))
            return J.logAmplitude("reusable-persona.verify.passkey-authentication-page.not-now-btn-clicked"),
            D.isReusablePersonaPopup ? ((F = window.opener) == null || F.focus(),
            window.close()) : d.goBack()
    }
    , [h, p, t, c, o])
      , v = f.useCallback( () => {
        Ro(t, s)
    }
    , [t, s]);
    return _t({
        error: b,
        onError: () => {
            e.setNextInquiry({
                inquiry: t
            }),
            d.replace("/inquiry/verify-with-persona/error")
        }
        ,
        onNetworkError: () => e.showMessage(u("errors.network"))
    }),
    h == null || t == null ? null : i.jsx(Mr, {
        inquiry: t,
        nextStep: h,
        currentSession: r,
        uiStatus: C ? tn.Blocked : a,
        onTransitionSubmit: S,
        onTransitionAction: async () => {}
        ,
        onComplete: v,
        onCancel: e.openConfirmCancelDialog,
        handleLanguageChange: e.handleLanguageChange,
        route: d.push,
        showMessage: e.showMessage,
        setComponent: e.setComponent
    })
}
;
function WN(e) {
    return {
        inquiry: e.inquiry.inquiry,
        component: hd(e),
        currentSession: e.inquiry.currentSession,
        debugForcedStatus: e.test.forcedStatus,
        uiStatus: e.ui.status,
        featureFlags: e.inquiry.featureFlags,
        collectedData: e.inquiry.collectedData
    }
}
const YN = {
    handleLanguageChange: wo,
    openConfirmCancelDialog: jr,
    setComponent: cr,
    setNextInquiry: ul,
    showMessage: ce,
    transitionInquiryFromVerifyWithPersonaStep: Nv
}
  , zN = ke(WN, YN)
  , KN = zN(GN)
  , QN = e => ({
    uiStatus: e.ui.status
})
  , ZN = {
    loadVerifyWithPersonaPopupFromCode: Av,
    setUiReady: ut,
    showMessage: ce
}
  , JN = ke(QN, ZN)
  , XN = e => {
    const {i18n: t, t: n} = G();
    return Br({
        loader: async () => {
            const {uiStatus: r, loadVerifyWithPersonaPopupFromCode: o, setUiReady: a} = e;
            await o(t, D.inquiryParams.code, D.inquiryParams.component),
            r === tn.Initializing && (D.onEvent(Oe.Ready),
            a())
        }
        ,
        deps: [],
        onError: () => e.showMessage(n("errors.network")),
        onNetworkError: () => e.showMessage(n("errors.network"))
    }),
    i.jsx(Tn, {})
}
  , ej = JN(XN);
function tj(e) {
    return {
        inquiry: e.inquiry.inquiry,
        component: hd(e),
        currentSession: e.inquiry.currentSession,
        nextInquiry: e.verifyWithPersona.nextInquiry,
        uiStatus: e.ui.status,
        featureFlags: e.inquiry.featureFlags,
        collectedData: e.inquiry.collectedData
    }
}
const nj = {
    handleLanguageChange: wo,
    openConfirmCancelDialog: jr,
    setComponent: cr,
    showMessage: ce,
    routeToNextStep: Dt
}
  , ij = ke(tj, nj)
  , rj = e => {
    var v, x;
    const {inquiry: t, component: n, currentSession: r, uiStatus: o, collectedData: a, featureFlags: s, nextInquiry: c, routeToNextStep: l} = e
      , d = Vt()
      , [u] = G()
      , m = (x = (v = n == null ? void 0 : n.attributes) == null ? void 0 : v.pages) == null ? void 0 : x.success
      , h = m == null ? void 0 : m["ui-step"]
      , p = m == null ? void 0 : m["component-name-mapping"];
    f.useEffect( () => {
        J.logAmplitude("reusable-persona.verify.success-page.entered")
    }
    , []);
    const {error: b, callback: C} = vt(async (_, R) => {
        var E;
        if (R === (p == null ? void 0 : p["continue-button"]))
            if (J.logAmplitude("reusable-persona.verify.success-page.dismissed"),
            D.isReusablePersonaPopup) {
                (E = window.opener) == null || E.focus(),
                window.close();
                return
            } else
                return l(c)
    }
    , [c, p])
      , S = f.useCallback( () => {
        Ro(t, a)
    }
    , [t, a]);
    return _t({
        error: b,
        onError: () => {
            e.showMessage(u("error.message"))
        }
        ,
        onNetworkError: () => e.showMessage(u("errors.network"))
    }),
    h == null || t == null ? null : i.jsx(Mr, {
        inquiry: t,
        nextStep: h,
        currentSession: r,
        uiStatus: o,
        onTransitionSubmit: C,
        onTransitionAction: async () => {}
        ,
        onComplete: S,
        onCancel: e.openConfirmCancelDialog,
        handleLanguageChange: e.handleLanguageChange,
        route: d.push,
        showMessage: e.showMessage,
        setComponent: e.setComponent
    })
}
  , oj = ij(rj)
  , aj = () => (f.useEffect( () => {
    window.location.replace("/404")
}
),
i.jsx("div", {}))
  , sj = g("div").withConfig({
    displayName: "VerifyDatabaseFailedView__Header",
    componentId: "sc-o4blb-0"
})(["min-height:", ";margin-bottom:", "px;"], We.header, M.base * 4);
function cj(e) {
    const {handleContinue: t, verification: n} = e
      , [r] = G();
    return i.jsxs("div", {
        children: [i.jsx(lj, {
            t: r,
            displayErrors: n.attributes["failed-checks"]
        }), i.jsx(mt, {
            children: i.jsx(fe, {
                id: "database-failed__continue",
                buttonType: Q.Primary,
                onClick: t,
                children: r("database.failed.btn-submit")
            })
        })]
    })
}
const lj = ({t: e, displayErrors: t}) => {
    const n = t.filter(s => Object.values(cl).includes(s));
    let r, o, a;
    if (n.length === 0)
        r = e("database.failed.failed-checks.generic.title"),
        o = e("database.failed.failed-checks.generic.description"),
        a = i.jsx(Vl, {});
    else {
        const s = n[0];
        switch (s) {
        case cl.AddressDeliverableDetection:
            r = e("database.failed.failed-checks.address-deliverable-detection.title"),
            o = e("database.failed.failed-checks.address-deliverable-detection.description"),
            a = i.jsx(ip, {});
            break;
        default:
            lt(s)
        }
    }
    return i.jsxs(i.Fragment, {
        children: [i.jsxs(sj, {
            children: [i.jsx(et, {
                children: i.jsx(X, {
                    children: r
                })
            }), i.jsx(He, {
                children: i.jsx(X, {
                    children: o
                })
            })]
        }), i.jsx(Qe, {
            "aria-label": "verification failed pictograph",
            children: i.jsx(pe, {
                children: a
            })
        })]
    })
}
  , dj = e => (f.useEffect( () => {
    (e.inquiry == null || e.verification == null) && D.redirectToStart()
}
, []),
e.inquiry == null || e.verification == null ? null : i.jsx(cj, {
    handleContinue: () => e.routeToNextStep(e.inquiry, Nt),
    verification: e.verification
}));
function uj(e) {
    return {
        inquiry: e.inquiry.inquiry,
        verification: e.verification.verification
    }
}
const mj = {
    routeToNextStep: Yt
}
  , hj = ke(uj, mj)(dj)
  , pj = g("div").withConfig({
    displayName: "VerifyDatabasePendingView__Container",
    componentId: "sc-1r1zvtv-0"
})(["", ""], e => e.asOverlay && $(["position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);"]))
  , fj = g("div").withConfig({
    displayName: "VerifyDatabasePendingView__Header",
    componentId: "sc-1r1zvtv-1"
})(["min-height:", ";margin-bottom:", "px;"], We.header, M.base * 4)
  , gj = g("div").withConfig({
    displayName: "VerifyDatabasePendingView__AnimationContainer",
    componentId: "sc-1r1zvtv-2"
})(["display:flex;justify-content:center;align-items:center;height:200px;margin-top:", ";"], M.base * 8);
function bj({asOverlay: e=!1}) {
    const [t] = G();
    return i.jsxs(pj, {
        asOverlay: e,
        children: [!e && i.jsxs(fj, {
            children: [i.jsx(et, {
                children: t("database.pending.title")
            }), i.jsx(He, {
                children: t("database.pending.description")
            })]
        }), i.jsx(gj, {
            children: i.jsx(Lo, {
                icon: "verification"
            })
        })]
    })
}
const Cj = e => {
    const t = Vt()
      , [n] = G()
      , {processingDisplayStyle: r} = f.useContext(Je)
      , o = r === Ea.Overlay;
    return f.useEffect( () => {
        const {verification: a, inquiry: s} = e;
        if (a == null || s == null) {
            D.redirectToStart();
            return
        }
        (async () => {
            try {
                await e.pollVerification({
                    verification: a,
                    history: t,
                    handleFailed: c => {
                        const l = c.included.find(d => d.id === c.data.relationships.inquiry.data.id);
                        l.attributes["next-step"].type === w.VerificationDatabase ? t.push("/verify/database/failed") : e.routeToNextStep(l)
                    }
                })
            } catch {
                e.showMessage(n("errors.network"), !0)
            }
        }
        )()
    }
    , []),
    e.verification == null ? null : i.jsx(bj, {
        asOverlay: o
    })
}
;
function xj(e) {
    return {
        inquiry: e.inquiry.inquiry,
        verification: e.verification.verification
    }
}
const vj = {
    pollVerification: Do,
    routeToNextStep: Yt,
    showMessage: ce
}
  , Ij = ke(xj, vj)
  , Sj = Ij(Cj)
  , yj = g("div").withConfig({
    displayName: "LocationSearchInput__DropdownWrapper",
    componentId: "sc-g9rhkb-0"
})(["position:relative;margin-bottom:", "px;& > div{margin-bottom:0;}"], M.base * 2)
  , wj = g("div").withConfig({
    displayName: "LocationSearchInput__DropdownContainer",
    componentId: "sc-g9rhkb-1"
})(["background-color:", ";border:1px solid ", ";position:absolute;z-index:", ";width:100%;", ""], ({theme: e}) => e.colorDropdownBackground, Fe.gray20, wt.dropdown, ({openUpwards: e}) => e && `bottom: ${Yi.input}`)
  , Nb = g("div").withConfig({
    displayName: "LocationSearchInput__DropdownItem",
    componentId: "sc-g9rhkb-2"
})(["cursor:pointer;padding:", "px;&:hover,&:focused{background-color:", ";}", ";"], M.base, ({theme: e}) => e.colorDropdownOption, e => e.active && $(["background-color:", ";"], ({theme: t}) => t.colorDropdownOption));
class Uc extends f.Component {
    constructor() {
        super(...arguments),
        this.state = {
            isFocused: !1
        },
        this.renderSuggestions = ({getInputProps: t, suggestions: n, getSuggestionItemProps: r, loading: o}) => {
            const {onBlur: a, onChange: s, onFocus: c, input: l, ...d} = this.props
              , {isFocused: u} = this.state
              , h = (u ? n : []).map(p => f.createElement(Nb, {
                ...r(p, {
                    key: p.description,
                    active: p.active
                }),
                key: p.placeId
            }, p.description));
            return i.jsxs(yj, {
                children: [i.jsx(Wn, {
                    id: l.name,
                    input: l,
                    ...t({
                        name: l.name,
                        placeholder: "Address",
                        onBlur: this.handleInputBlur,
                        onFocus: this.handleInputFocus
                    }),
                    ...d
                }), i.jsx(_j, {
                    loading: o,
                    children: h
                })]
            })
        }
        ,
        this.handleAutocompleteError = t => {
            [google.maps.places.PlacesServiceStatus.ZERO_RESULTS, google.maps.places.PlacesServiceStatus.UNKNOWN_ERROR, google.maps.places.PlacesServiceStatus.REQUEST_DENIED, google.maps.places.PlacesServiceStatus.OVER_QUERY_LIMIT].includes(t) || Be("Google Maps API returned error with status: " + t)
        }
        ,
        this.handleChange = t => {
            this.props.input.onChange(t)
        }
        ,
        this.handleSelect = async (t, n) => {
            if (!n)
                return;
            let r;
            try {
                r = await kf(n)
            } catch (c) {
                this.handleAutocompleteError(c)
            }
            const o = r[0].address_components
              , a = (c, l=!1) => {
                const d = o.filter(u => u.types.indexOf(c) !== -1);
                return d.length > 0 ? l ? d[0].short_name : d[0].long_name : ""
            }
              , s = a("street_number");
            s ? (this.props.boundChangeFormValue(Ee.AddressStreet1, [s, a("route")].filter(c => c).join(" ")),
            this.props.boundChangeFormValue(Ee.AddressStreet2, a("subpremise"))) : this.props.boundChangeFormValue(Ee.AddressStreet1, [a("subpremise"), a("route")].filter(c => c).join(" ")),
            this.props.boundChangeFormValue(Ee.AddressCity, a("locality") || a("sublocality_level_1") || a("administrative_area_level_2") || a("neighborhood")),
            this.props.boundChangeFormValue(Ee.AddressSubdivision, a("administrative_area_level_1")),
            this.props.boundChangeFormValue(Ee.AddressPostalCode, a("postal_code"))
        }
        ,
        this.handleInputBlur = t => {
            this.setState({
                isFocused: !1
            }),
            this.props.input.onBlur && this.props.input.onBlur(t)
        }
        ,
        this.handleInputFocus = t => {
            this.setState({
                isFocused: !0
            }),
            this.props.onFocus && this.props.onFocus(t)
        }
    }
    render() {
        const {selectedCountryCode: t, latLng: n} = this.props;
        let r;
        return n && window.google ? r = {
            componentRestrictions: {
                country: t
            },
            location: new window.google.maps.LatLng(n),
            radius: 4e3
        } : r = {
            componentRestrictions: {
                country: t
            }
        },
        i.jsx(Is, {
            onChange: this.handleChange,
            onError: this.handleAutocompleteError,
            value: this.props.input.value,
            onSelect: this.handleSelect,
            searchOptions: r,
            googleCallbackName: "onGoogleMapsLoaded",
            children: this.renderSuggestions
        })
    }
}
const _j = ({loading: e, children: t}) => {
    const [n,r] = f.useState(!1)
      , o = f.useRef()
      , a = f.Children.count(t);
    return f.useLayoutEffect( () => {
        if (o.current == null || o.current.offsetParent == null)
            return;
        const c = o.current.offsetParent.getBoundingClientRect().bottom + o.current.getBoundingClientRect().height;
        r(document.documentElement.clientHeight < c)
    }
    , [a]),
    a === 0 ? null : i.jsxs(wj, {
        ref: o,
        openUpwards: n,
        children: [e && i.jsx(Nb, {
            active: !1,
            children: "Loading..."
        }), t]
    })
}
  , li = {
    autocompleteClosed: [dt("Fill out the details of your current address", () => !1)],
    addressStreet1: [dt("Try a shorter street address format", eS(80)), dt("Your current street address is required", bn)],
    addressCityI18n: [],
    addressPostalCode: [],
    addressSubdivision: [],
    addressPostalCodeGB: [dt("Please enter your full postal code", bn), dt("Please enter your full postal code", ar(A_))],
    addressCityUs: dt("The city of your current address is required", bn),
    addressState: dt("The state of your current address is required", bn),
    addressZipCode: [dt("Enter your current ZIP or postal code to verify your address", bn), dt("The ZIP code you entered is invalid", ar(R_))]
};
class Rj extends f.Component {
    constructor() {
        super(...arguments),
        this.state = {
            manualInputOpen: !1
        },
        this.handleAddressChange = (t, n) => {
            this.props.boundChangeFormValue(t, n),
            this.setState({
                manualInputOpen: !0
            })
        }
        ,
        this.handleOpenManualInput = () => {
            this.setState({
                manualInputOpen: !0
            })
        }
        ,
        this.renderCountryOrderedAddress = () => {
            const {selectedCountryCode: t, disabled: n, lockedAttributes: r, t: o, theme: a} = this.props
              , s = i.jsx(Se.Field, {
                autoComplete: "address-line2",
                name: "address-street-2",
                component: Wn,
                disabled: n || (r == null ? void 0 : r[Ee.AddressStreet1]),
                type: "text",
                placeholder: o("form.address.street-2")
            })
              , c = i.jsx(Se.Field, {
                autoComplete: "address-level2",
                name: Ee.AddressCity,
                component: Wn,
                disabled: n || (r == null ? void 0 : r[Ee.AddressCity]),
                type: "text",
                placeholder: o("form.address.city"),
                validate: t === "US" ? li.addressCityUs : li.addressCityI18n
            })
              , l = i.jsx(Tj, {
                selectedCountryCode: t,
                disabled: n || !!(r != null && r[Ee.AddressSubdivision]),
                t: o,
                theme: a
            });
            return this.getFieldOrder(t, this.getStreet1Field(), s, c, l, this.getPostalCodeField()).map( (u, m) => i.jsx("div", {
                className: "row",
                children: u.map( (h, p) => i.jsx("div", {
                    className: "col-sm-12",
                    children: h
                }, p))
            }, m))
        }
    }
    render() {
        const {t, theme: {inputStyle: n}} = this.props;
        return i.jsxs(ri, {
            children: [n === Rt.Outlined && i.jsx("label", {
                htmlFor: Ee.AddressStreet1,
                children: t("form.address.label")
            }), this.renderAddressFields()]
        })
    }
    renderAddressFields() {
        const {selectedCountryCode: t, disabled: n, forceOpen: r, t: o, theme: {inputStyle: a}, addressAutocompleteMethod: s} = this.props;
        if (this.state.manualInputOpen || r || s === la.None)
            return this.renderCountryOrderedAddress();
        {
            const c = a === Rt.Outlined ? o("form.address.placeholder", {
                context: t
            }) : o("form.address.label");
            return i.jsxs("div", {
                children: [i.jsx(Se.Field, {
                    selectedCountryCode: t,
                    name: this.getAutocompleteInputName(),
                    boundChangeFormValue: this.handleAddressChange,
                    component: Uc,
                    disabled: n,
                    type: "text",
                    validate: li.autocompleteClosed,
                    latLng: this.props.latLng,
                    placeholder: c
                }), i.jsx("a", {
                    id: "address_input_section__manual_edit",
                    "data-test": "address_input_section__manual_edit",
                    onClick: this.handleOpenManualInput,
                    tabIndex: 0,
                    children: o("form.address.edit-address-manually")
                })]
            })
        }
    }
    getStreet1Field() {
        const {addressAutocompleteMethod: t, selectedCountryCode: n, disabled: r, lockedAttributes: o, t: a} = this.props;
        return this.getAutocompleteInputName() === Ee.AddressStreet1 && t === la.GoogleMaps ? i.jsx(Se.Field, {
            autoComplete: "address-line1",
            selectedCountryCode: n,
            name: Ee.AddressStreet1,
            disabled: r || o && o[Ee.AddressStreet1],
            placeholder: a("form.address.street-1"),
            type: "text",
            validate: li.addressStreet1,
            boundChangeFormValue: this.props.boundChangeFormValue,
            component: Uc,
            latLng: this.props.latLng
        }) : i.jsx(Se.Field, {
            autoComplete: "address-line1",
            name: Ee.AddressStreet1,
            disabled: r || o && o[Ee.AddressStreet1],
            placeholder: a("form.address.street-1"),
            type: "text",
            validate: li.addressStreet1,
            component: Wn
        })
    }
    getPostalCodeField() {
        const {selectedCountryCode: t, disabled: n, lockedAttributes: r, t: o} = this.props;
        let a;
        switch (t) {
        case "US":
            a = li.addressZipCode;
            break;
        case "GB":
            a = li.addressPostalCodeGB;
            break;
        default:
            a = li.addressPostalCode;
            break
        }
        return this.getAutocompleteInputName() === Ee.AddressPostalCode ? i.jsx(Se.Field, {
            autoComplete: "postal-code",
            selectedCountryCode: t,
            name: Ee.AddressPostalCode,
            disabled: n || r && r[Ee.AddressPostalCode],
            placeholder: o("form.address.postal-code"),
            type: "text",
            validate: a,
            boundChangeFormValue: this.props.boundChangeFormValue,
            component: Uc,
            latLng: this.props.latLng
        }) : i.jsx(Se.Field, {
            autoComplete: "postal-code",
            name: Ee.AddressPostalCode,
            disabled: n || r && r[Ee.AddressPostalCode],
            placeholder: o("form.address.postal-code"),
            type: "text",
            validate: a,
            boundChangeFormValue: this.props.boundChangeFormValue,
            component: Wn
        })
    }
    getFieldOrder(t, n, r, o, a, s) {
        switch (t) {
        case "AR":
        case "GL":
        case "IS":
            return [[n], [r], [s, o]];
        case "AT":
        case "BE":
        case "DK":
            return [[n, r], [s, o]];
        case "BR":
        case "CR":
            return [[n, r], [o, a], [s]];
        case "CA":
            return [[r, n], [o, a, s]];
        case "CN":
            return [[r], [n, o], [a, s]];
        case "IT":
            return [[n, r], [s, o, a]];
        case "AU":
        case "GB":
        case "PH":
        case "US":
            return [[n, r], [o, a, s]];
        case "FI":
        case "FR":
        case "DE":
        case "IL":
            return [[n, r], [s, o]];
        case "JP":
        case "KR":
            return [[n, r], [o, s]];
        case "IN":
            return [[r], [n], [o, s]];
        case "FJ":
            return [[n, r], [o]];
        case "HK":
            return [[r], [n], [o]];
        case "EE":
        case "CZ":
        case "TW":
        case "ID":
        default:
            return [[n, r], [o, s]]
        }
    }
    getAutocompleteInputName() {
        return Ms.includes(this.props.selectedCountryCode) ? Ee.AddressPostalCode : Ee.AddressStreet1
    }
}
const Aj = Dl(Rj);
function Tj({selectedCountryCode: e, disabled: t, t: n, theme: r}) {
    return e === "US" && r.usStateInputMethod === Ws.Select ? i.jsxs(Se.Field, {
        autoComplete: "address-level1",
        name: Ee.AddressSubdivision,
        component: Mf,
        disabled: t,
        type: "text",
        placeholder: n("form.address.province-us"),
        validate: li.addressState,
        children: [i.jsx("option", {
            value: "",
            selected: !0,
            disabled: !0,
            children: n("form.address.province-us")
        }), Object.keys(bs).map(o => i.jsx("option", {
            value: bs[o],
            children: o
        }, o))]
    }) : i.jsx(Se.Field, {
        autoComplete: "address-level1",
        name: Ee.AddressSubdivision,
        component: Wn,
        disabled: t,
        type: "text",
        placeholder: n(e === "US" ? "form.address.province-us" : "form.address.province"),
        validate: e === "US" ? li.addressState : li.addressSubdivision
    })
}
const Ej = g("div").withConfig({
    displayName: "ThemedMaskedInput__FormError",
    componentId: "sc-lqknb0-0"
})(["", ""], No)
  , Jm = g("div").withConfig({
    displayName: "ThemedMaskedInput__Container",
    componentId: "sc-lqknb0-1"
})(["position:relative;"])
  , kj = g(ks).withConfig({
    displayName: "ThemedMaskedInput__StyledThemedMaskedInput",
    componentId: "sc-lqknb0-2"
})(["", ";font-family:", ";left:0;position:absolute;background:transparent !important;border-color:transparent;caret-color:#000000;color:transparent !important;-webkit-text-fill-color:transparent !important;"], e => Eo(e, e.theme), Co.mono)
  , Nj = g(Gi).withConfig({
    displayName: "ThemedMaskedInput__DisplayInput",
    componentId: "sc-lqknb0-3"
})(["", ";font-family:", ";"], e => Eo(e, e.theme), Co.mono)
  , jj = g(ks).withConfig({
    displayName: "ThemedMaskedInput__StyledMaterialThemedMaskedInput",
    componentId: "sc-lqknb0-4"
})(["width:100%;padding:", "px ", "px ", "px ", "px;font-family:", ";left:0;position:absolute;background-color:", ";border-color:transparent;caret-color:#000000;color:transparent !important;"], M.base, M.base, M.base, M.base / 2, Co.mono, ({theme: e}) => e.colorInputBackground)
  , Pj = g(or).withConfig({
    displayName: "ThemedMaskedInput__DisplayMaterialInput",
    componentId: "sc-lqknb0-5"
})(["background-color:transparent !important;pointer-events:none;> input{font-family:", ";background-color:transparent !important;}"], Co.mono)
  , Dj = g("div").withConfig({
    displayName: "ThemedMaskedInput__OutlinedContainer",
    componentId: "sc-lqknb0-6"
})(["margin-bottom:", "px;"], M.base * 2)
  , Oj = g("div").withConfig({
    displayName: "ThemedMaskedInput__MaterialContainer",
    componentId: "sc-lqknb0-7"
})(["margin-bottom:", "px;position:relative;padding-top:", "px;"], M.base, M.base * 2)
  , Lj = g("div").withConfig({
    displayName: "ThemedMaskedInput__MaterialFormError",
    componentId: "sc-lqknb0-8"
})(["", ";top:", "px;"], No, xd + M.base)
  , jb = g.div.withConfig({
    displayName: "ThemedMaskedInput__ButtonContainer",
    componentId: "sc-lqknb0-9"
})(["position:absolute;right:0;z-index:", ";height:100%;display:flex;align-items:center;padding-right:", "px;[dir='rtl'] &{right:unset;left:0;padding-right:unset;padding-left:", "px;}"], wt.inputButtons, M.base, M.base)
  , Fj = g(jb).withConfig({
    displayName: "ThemedMaskedInput__MaterialButtonContainer",
    componentId: "sc-lqknb0-10"
})(["height:", "px;"], xd)
  , Mj = ({meta: {error: e, submitFailed: t}, input: n, mask: r, label: o, secure: a=!0, ...s}) => {
    const {inputStyle: c} = f.useContext(Je)
      , [l,{toggle: d}] = rt(a)
      , u = l ? Bj(n.value, r) : n.value
      , m = !!(e && t)
      , [h,{enable: p, disable: b}] = rt(!1);
    switch (c) {
    case Rt.Material:
        return i.jsx(Oj, {
            children: i.jsxs(Jm, {
                children: [a && i.jsx(Fj, {
                    children: i.jsx(uo, {
                        "data-test": "themed-masked-input__secure-button",
                        type: "button",
                        onClick: d,
                        tabIndex: -1,
                        "aria-label": l ? "show value" : "hide value",
                        children: l ? i.jsx(ss, {
                            "aria-hidden": !0,
                            height: 16,
                            width: 16
                        }) : i.jsx(cs, {
                            "aria-hidden": !0,
                            height: 16,
                            width: 16
                        })
                    })
                }), i.jsx(jj, {
                    ...s,
                    ...n,
                    mask: r,
                    autoComplete: "no-autocomplete",
                    guide: !1,
                    placeholder: void 0,
                    onFocus: p,
                    onBlur: b
                }), i.jsx(Pj, {
                    value: u,
                    readOnly: !0,
                    disabled: s.disabled,
                    hasError: m,
                    labelText: o,
                    tabIndex: -1,
                    type: "text",
                    "data-test": "themed-masked-input__display-input",
                    focused: h
                }), m && i.jsx(Lj, {
                    children: e
                })]
            })
        });
    default:
        return i.jsxs(Dj, {
            children: [o && i.jsx(X, {
                wrapper: "label",
                wrapperProps: {
                    htmlFor: n.name
                },
                children: o
            }), i.jsxs(Jm, {
                children: [a && i.jsx(jb, {
                    children: i.jsx(uo, {
                        "data-test": "themed-masked-input__secure-button",
                        type: "button",
                        onClick: d,
                        tabIndex: -1,
                        "aria-label": l ? "show value" : "hide value",
                        children: l ? i.jsx(ss, {
                            "aria-hidden": !0,
                            height: 16,
                            width: 16
                        }) : i.jsx(cs, {
                            "aria-hidden": !0,
                            height: 16,
                            width: 16
                        })
                    })
                }), i.jsx(kj, {
                    ...s,
                    ...n,
                    mask: r,
                    autoComplete: "no-autocomplete",
                    guide: !1,
                    placeholder: void 0
                }), i.jsx(Nj, {
                    value: u,
                    readOnly: !0,
                    disabled: s.disabled,
                    hasError: m,
                    placeholder: s.placeholder,
                    tabIndex: -1,
                    type: "text",
                    "data-test": "themed-masked-input__display-input"
                })]
            }), m && i.jsx(Ej, {
                role: "alert",
                children: e
            })]
        })
    }
}
  , Xm = "";
function Bj(e, t) {
    return Array.isArray(t) ? e.split("").map( (n, r) => t[r]instanceof RegExp ? Xm : n).join("") : Xm.repeat(e.length)
}
const Vj = {
    socialSecurityNumber: [dt("You cannot have an empty value", bn), dt("The value you entered is invalid", Of(/\D/g, Pf(9)))]
};
function Uj(e) {
    const {disabled: t, name: n="social-security-number"} = e;
    return i.jsx(Se.Field, {
        name: n,
        label: Hj(e.countryCode),
        component: Mj,
        disabled: t,
        mask: qj(e.countryCode),
        type: "text",
        placeholder: Pb(e.countryCode),
        validate: Vj.socialSecurityNumber
    })
}
function Hj(e) {
    const [t] = G();
    switch (e) {
    case "BR":
        return t("form.identification-number.country.BR");
    case "CA":
        return t("form.identification-number.country.CA");
    case "DE":
        return t("form.identification-number.country.DE");
    case "FR":
        return t("form.identification-number.country.FR");
    case "GB":
        return t("form.identification-number.country.GB");
    case "IT":
        return t("form.identification-number.country.IT");
    case "JP":
        return t("form.identification-number.country.JP");
    case "KR":
        return t("form.identification-number.country.KR");
    case "MX":
        return t("form.identification-number.country.MX");
    case "NL":
        return t("form.identification-number.country.NL");
    case "PL":
        return t("form.identification-number.country.PL");
    case "RO":
        return t("form.identification-number.country.RO");
    case "RU":
        return t("form.identification-number.country.RU");
    case "US":
        return t("form.identification-number.country.US");
    default:
        return t("form.identification-number.identification-number")
    }
}
function Pb(e) {
    switch (e) {
    case "BR":
        return "###.###.###-##";
    case "CA":
        return "###-###-###";
    case "DE":
        return "############";
    case "FR":
        return "###############";
    case "GB":
        return "###-###-####";
    case "IT":
        return "################";
    case "JP":
        return "############";
    case "KR":
        return "######-#######";
    case "MX":
        return "##################";
    case "NL":
        return "#########";
    case "PL":
        return "###########";
    case "RO":
        return "#############";
    case "RU":
        return "###-###-### ##";
    case "US":
        return "###-##-####";
    default:
        return "###-##-####"
    }
}
function qj(e) {
    return Array.from(Pb(e)).map(t => t === "#" ? /\d/ : t)
}
const eh = g("div").withConfig({
    displayName: "ThemedFormDateInput__Container",
    componentId: "sc-134qv0i-0"
})(["display:flex;flex-wrap:wrap;margin-left:-", "px;margin-right:-", "px;margin-bottom:", "px;", ";"], M.base, M.base, M.base * 2, ({inputStyle: e}) => e === Rt.Material ? `padding-top: ${M.base * 2}px;` : "")
  , $j = g("div").withConfig({
    displayName: "ThemedFormDateInput__OutlinedLabelContainer",
    componentId: "sc-134qv0i-1"
})(["&:focus-within label{color:", ";}"], e => e.theme.colorPrimary)
  , th = g("div").withConfig({
    displayName: "ThemedFormDateInput__FormError",
    componentId: "sc-134qv0i-2"
})(["", " padding-left:", "px;"], No, M.base)
  , nh = g("div").withConfig({
    displayName: "ThemedFormDateInput__Month",
    componentId: "sc-134qv0i-3"
})(["flex:0 0 40%;max-width:40%;padding-left:", "px;padding-right:", "px;text-transform:capitalize;"], M.base, M.base)
  , Ja = g("div").withConfig({
    displayName: "ThemedFormDateInput__DayOrYear",
    componentId: "sc-134qv0i-4"
})(["flex:0 0 30%;max-width:30%;padding-left:", "px;padding-right:", "px;"], M.base, M.base);
class Gj extends f.Component {
    constructor(t) {
        super(t),
        this.handleChangeDay = n => {
            const r = {
                ...this.deserializedValue,
                day: n.target.value
            };
            this.propagateDateChange(r)
        }
        ,
        this.handleChangeMonth = n => {
            const r = {
                ...this.deserializedValue,
                month: n.target.value
            };
            this.propagateDateChange(r)
        }
        ,
        this.handleChangeYear = n => {
            const r = {
                ...this.deserializedValue,
                year: n.target.value
            };
            this.propagateDateChange(r)
        }
        ,
        this.state = {
            day: "",
            month: "",
            year: ""
        }
    }
    render() {
        const {theme: {inputStyle: t}} = this.props;
        switch (t) {
        case Rt.Material:
            return this.renderMaterial();
        case Rt.Outlined:
        default:
            return this.renderOutlined()
        }
    }
    renderOutlined() {
        const {disabled: t, input: n, t: r, meta: {error: o, submitFailed: a}, theme: {inputStyle: s}} = this.props
          , c = !!(o && a);
        return i.jsxs($j, {
            children: [i.jsx("label", {
                children: r("database.form.birthdate-label")
            }), i.jsxs(eh, {
                inputStyle: s,
                children: [i.jsxs(nh, {
                    children: [i.jsx(ti, {
                        children: i.jsx("label", {
                            htmlFor: n.name + "-month",
                            children: `${r("database.form.birthdate-label")}, ${r("form.date-input.month.placeholder")}`
                        })
                    }), i.jsxs(Zs, {
                        name: n.name + "-month",
                        disabled: t,
                        hasError: c,
                        onChange: this.handleChangeMonth,
                        "aria-label": r("form.date-input.month.placeholder"),
                        value: this.deserializedValue.month,
                        children: [i.jsx("option", {
                            value: "",
                            selected: !0,
                            disabled: !0,
                            children: r("form.date-input.month.placeholder")
                        }), i.jsx("option", {
                            value: 0,
                            children: r("form.date-input.month.option.january")
                        }), i.jsx("option", {
                            value: 1,
                            children: r("form.date-input.month.option.february")
                        }), i.jsx("option", {
                            value: 2,
                            children: r("form.date-input.month.option.march")
                        }), i.jsx("option", {
                            value: 3,
                            children: r("form.date-input.month.option.april")
                        }), i.jsx("option", {
                            value: 4,
                            children: r("form.date-input.month.option.may")
                        }), i.jsx("option", {
                            value: 5,
                            children: r("form.date-input.month.option.june")
                        }), i.jsx("option", {
                            value: 6,
                            children: r("form.date-input.month.option.july")
                        }), i.jsx("option", {
                            value: 7,
                            children: r("form.date-input.month.option.august")
                        }), i.jsx("option", {
                            value: 8,
                            children: r("form.date-input.month.option.september")
                        }), i.jsx("option", {
                            value: 9,
                            children: r("form.date-input.month.option.october")
                        }), i.jsx("option", {
                            value: 10,
                            children: r("form.date-input.month.option.november")
                        }), i.jsx("option", {
                            value: 11,
                            children: r("form.date-input.month.option.december")
                        })]
                    })]
                }), i.jsxs(Ja, {
                    children: [i.jsx(ti, {
                        children: i.jsx("label", {
                            htmlFor: n.name + "-day",
                            children: `${r("database.form.birthdate-label")}, ${r("form.date-input.day")}`
                        })
                    }), i.jsx(Gi, {
                        name: n.name + "-day",
                        disabled: t,
                        hasError: c,
                        min: 0,
                        max: 31,
                        onChange: this.handleChangeDay,
                        "aria-label": r("form.date-input.day"),
                        placeholder: r("form.date-input.day"),
                        type: "number",
                        value: this.deserializedValue.day
                    })]
                }), i.jsxs(Ja, {
                    children: [i.jsx(ti, {
                        children: i.jsx("label", {
                            htmlFor: n.name + "-year",
                            children: `${r("database.form.birthdate-label")}, ${r("form.date-input.year")}`
                        })
                    }), i.jsx(Gi, {
                        name: n.name + "-year",
                        disabled: t,
                        hasError: c,
                        min: 1900,
                        max: new Date().getFullYear(),
                        onChange: this.handleChangeYear,
                        "aria-label": r("form.date-input.year"),
                        placeholder: r("form.date-input.year"),
                        type: "number",
                        value: this.deserializedValue.year
                    })]
                }), c && i.jsx(th, {
                    role: "alert",
                    children: o
                })]
            })]
        })
    }
    renderMaterial() {
        const {disabled: t, input: n, t: r, meta: {error: o, submitFailed: a}, theme: {inputStyle: s}} = this.props
          , c = !!(o && a);
        return i.jsxs(eh, {
            inputStyle: s,
            children: [i.jsxs(nh, {
                children: [i.jsx(ti, {
                    children: i.jsx("label", {
                        htmlFor: n.name + "-month",
                        children: `${r("database.form.birthdate-label")}, ${r("form.date-input.month.placeholder")}`
                    })
                }), i.jsxs(Ff, {
                    name: n.name + "-month",
                    disabled: t,
                    hasError: c,
                    onChange: this.handleChangeMonth,
                    value: this.deserializedValue.month,
                    labelText: r("database.form.birthdate-label"),
                    children: [i.jsx("option", {
                        value: "",
                        selected: !0,
                        disabled: !0,
                        children: r("form.date-input.month.placeholder")
                    }), i.jsx("option", {
                        value: 0,
                        children: r("form.date-input.month.option.january")
                    }), i.jsx("option", {
                        value: 1,
                        children: r("form.date-input.month.option.february")
                    }), i.jsx("option", {
                        value: 2,
                        children: r("form.date-input.month.option.march")
                    }), i.jsx("option", {
                        value: 3,
                        children: r("form.date-input.month.option.april")
                    }), i.jsx("option", {
                        value: 4,
                        children: r("form.date-input.month.option.may")
                    }), i.jsx("option", {
                        value: 5,
                        children: r("form.date-input.month.option.june")
                    }), i.jsx("option", {
                        value: 6,
                        children: r("form.date-input.month.option.july")
                    }), i.jsx("option", {
                        value: 7,
                        children: r("form.date-input.month.option.august")
                    }), i.jsx("option", {
                        value: 8,
                        children: r("form.date-input.month.option.september")
                    }), i.jsx("option", {
                        value: 9,
                        children: r("form.date-input.month.option.october")
                    }), i.jsx("option", {
                        value: 10,
                        children: r("form.date-input.month.option.november")
                    }), i.jsx("option", {
                        value: 11,
                        children: r("form.date-input.month.option.december")
                    })]
                })]
            }), i.jsxs(Ja, {
                children: [i.jsx(ti, {
                    children: i.jsx("label", {
                        htmlFor: n.name + "-day",
                        children: `${r("database.form.birthdate-label")}, ${r("form.date-input.day")}`
                    })
                }), i.jsx(or, {
                    name: n.name + "-day",
                    disabled: t,
                    hasError: c,
                    min: 0,
                    max: 99,
                    onChange: this.handleChangeDay,
                    type: "number",
                    value: this.deserializedValue.day,
                    labelText: r("form.date-input.day")
                })]
            }), i.jsxs(Ja, {
                children: [i.jsx(ti, {
                    children: i.jsx("label", {
                        htmlFor: n.name + "-year",
                        children: `${r("database.form.birthdate-label")}, ${r("form.date-input.year")}`
                    })
                }), i.jsx(or, {
                    name: n.name + "-year",
                    disabled: t,
                    hasError: c,
                    min: 1900,
                    max: 9999,
                    onChange: this.handleChangeYear,
                    labelText: r("form.date-input.year"),
                    type: "number",
                    value: this.deserializedValue.year
                })]
            }), c && i.jsx(th, {
                role: "alert",
                children: o
            })]
        })
    }
    get deserializedValue() {
        if (/\d{4}-\d{2}-\d{2}/.test(this.props.input.value)) {
            const t = new Date(this.props.input.value);
            return {
                year: String(t.getUTCFullYear()),
                month: String(t.getUTCMonth()),
                day: String(t.getUTCDate())
            }
        } else
            return this.state
    }
    propagateDateChange(t) {
        this.setState(t);
        const n = parseInt(t.year, 10)
          , r = parseInt(t.month, 10)
          , o = parseInt(t.day, 10)
          , a = new Date(Date.UTC(n, r, o));
        if (!isNaN(a.getTime()) && a.getUTCFullYear() === n && a.getUTCMonth() === r && a.getUTCDate() === o) {
            const s = a.toISOString().split("T")[0];
            this.props.input.onChange(s)
        } else
            this.props.input.onChange("")
    }
}
const Wj = Dl(Gj)
  , Yj = ({disabled: e, validate: t}) => {
    const [n] = G()
      , {inputStyle: r} = f.useContext(Je)
      , o = r === Rt.Material;
    return i.jsxs(ri, {
        children: [!o && i.jsx("label", {
            htmlFor: Ee.EmailAddress,
            children: n("email-address.form.label")
        }), i.jsx(Se.Field, {
            name: Ee.EmailAddress,
            component: Wn,
            disabled: e,
            placeholder: n("email-address.form.label"),
            type: "email",
            validate: t.emailAddress
        })]
    })
}
  , zj = g(ri).withConfig({
    displayName: "ThemedFormNameInput__StyledFormGroup",
    componentId: "sc-1mgtya5-0"
})(["margin-bottom:0;"])
  , Kj = g.div.withConfig({
    displayName: "ThemedFormNameInput__InputContainer",
    componentId: "sc-1mgtya5-1"
})(["display:flex;column-gap:", ";flex-direction:row;flex-wrap:none;> *{flex:auto;}@media ", "{flex-direction:column;}"], I.Spacing[4], jt.isMobileSmall)
  , Qj = ({disabledNameFirst: e, disabledNameLast: t, validate: n}) => {
    const [r] = G()
      , {inputStyle: o} = f.useContext(Je)
      , a = o === Rt.Material;
    return i.jsxs(zj, {
        children: [!a && i.jsx("label", {
            htmlFor: Ee.NameFirst,
            children: r("database.form.name-label")
        }), i.jsxs(Kj, {
            children: [i.jsx(Se.Field, {
                name: Ee.NameFirst,
                component: Wn,
                autoComplete: "given-name",
                disabled: e,
                placeholder: r("database.form.first_name"),
                type: "text",
                validate: n.firstName
            }), i.jsx(Se.Field, {
                name: Ee.NameLast,
                component: Wn,
                autoComplete: "family-name",
                disabled: t,
                placeholder: r("database.form.last_name"),
                type: "text",
                validate: n.lastName
            })]
        })]
    })
}
  , Zj = {
    socialSecurityNumberLast4: [dt("Please enter the last 4 digits of your SSN", bn), dt("The SSN you entered is invalid", Of(/\D/g, Pf(4)))]
}
  , Jj = e => {
    const {disabled: t, name: n="social-security-number"} = e
      , [r] = G();
    return i.jsx(f.Fragment, {
        children: i.jsx(Se.Field, {
            name: n,
            component: Wn,
            disabled: t,
            type: "tel",
            maxLength: 4,
            placeholder: "####",
            label: r("form.identification-number.ssn-last-4"),
            validate: Zj.socialSecurityNumberLast4
        })
    })
}
  , Xa = {
    firstName: [dt("Please enter your first name", bn)],
    lastName: [dt("Please enter your last name", bn)],
    birthdate: [dt("Your legal birth date is required", tS), dt("Enter a valid date", nS), dt("Birthdate must be within last century", iS), dt("Birthdate must be more than a year ago", rS)],
    phoneNumber: [dt("The phone number you entered is not valid", Df), dt("Enter your phone number", bn)],
    emailAddress: [dt("Please enter your email address", bn), dt("The email you entered is not valid", ar(yd))]
};
function Xj(e, t, n, r) {
    var o, a, s, c, l, d, u;
    switch (e) {
    case mn.Name:
        return i.jsx(Qj, {
            disabledNameFirst: r.submitting || ((o = r.lockedAttributes) == null ? void 0 : o[Ee.NameFirst]) != null,
            disabledNameLast: r.submitting || ((a = r.lockedAttributes) == null ? void 0 : a[Ee.NameLast]) != null,
            validate: Xa
        }, mn.Name);
    case mn.Birthdate:
        return i.jsx(ri, {
            children: i.jsx(Se.Field, {
                name: Ee.Birthdate,
                component: Wj,
                disabled: r.submitting || ((s = r.lockedAttributes) == null ? void 0 : s[Ee.Birthdate]),
                t: n,
                type: "text",
                validate: Xa.birthdate
            })
        }, mn.Birthdate);
    case mn.PhoneNumber:
        return i.jsxs(ri, {
            children: [i.jsx("label", {
                children: n("phone-number.form.label")
            }), i.jsx(Xf, {
                name: Ee.PhoneNumber,
                disabled: r.submitting || ((c = r.lockedAttributes) == null ? void 0 : c[Ee.PhoneNumber]),
                t: n,
                validate: Xa.phoneNumber,
                component: ng,
                type: "tel",
                defaultCountry: r.selectedCountryCode
            })]
        }, mn.PhoneNumber);
    case mn.IdentificationNumberFull9:
        return i.jsx(ri, {
            children: i.jsx(Uj, {
                disabled: r.submitting || ((l = r.lockedAttributes) == null ? void 0 : l[Ee.IdentificationNumber]) != null,
                name: Ee.IdentificationNumber,
                countryCode: r.selectedCountryCode
            })
        }, mn.IdentificationNumberFull9);
    case mn.IdentificationNumberLast4:
        return i.jsx(ri, {
            children: i.jsx(Jj, {
                disabled: r.submitting || ((d = r.lockedAttributes) == null ? void 0 : d[Ee.IdentificationNumber]) != null,
                name: Ee.IdentificationNumber
            })
        }, mn.IdentificationNumberLast4);
    case mn.Address:
        return i.jsx(Aj, {
            boundChangeFormValue: (m, h) => r.changeFormValue(r.form, m, h),
            selectedCountryCode: r.selectedCountryCode,
            disabled: r.submitting,
            forceOpen: r.submitFailed || t,
            latLng: r.latLng,
            lockedAttributes: r.lockedAttributes,
            t: n,
            addressAutocompleteMethod: r.addressAutocompleteMethod
        }, mn.Address);
    case mn.EmailAddress:
        return i.jsx(Yj, {
            disabled: r.submitting || ((u = r.lockedAttributes) == null ? void 0 : u[Ee.EmailAddress]) != null,
            validate: Xa
        }, mn.EmailAddress)
    }
}
function e8(e) {
    const t = st(a => {
        const s = Se.formValueSelector(e.form);
        return {
            [Ee.AddressStreet1]: s(a, Ee.AddressStreet1) || "",
            [Ee.AddressStreet2]: s(a, Ee.AddressStreet2) || "",
            [Ee.AddressCity]: s(a, Ee.AddressCity) || "",
            [Ee.AddressSubdivision]: s(a, Ee.AddressSubdivision) || "",
            [Ee.AddressPostalCode]: s(a, Ee.AddressPostalCode) || ""
        }
    }
    )
      , n = [Ee.AddressStreet2, Ee.AddressCity, Ee.AddressSubdivision, Ms.includes(e.selectedCountryCode) ? Ee.AddressStreet1 : Ee.AddressPostalCode].some(a => t[a])
      , [r] = G()
      , o = e.inputFields.map(a => Xj(a, n, r, e));
    return i.jsxs("form", {
        onSubmit: e.handleSubmit,
        children: [o, i.jsx(mt, {
            children: i.jsx(fe, {
                type: "submit",
                buttonType: Q.Primary,
                disabled: e.pristine || e.submitting || e.isProcessing,
                isPending: e.submitting || e.isProcessing,
                children: r("database.form.btn-submit")
            })
        })]
    })
}
const Tl = "database"
  , t8 = Se.reduxForm({
    form: Tl,
    destroyOnUnmount: !1
})(e8);
function La(e, t, n) {
    return async r => {
        Object.values(Ee).forEach(o => {
            const {"locked-attributes": a, prefill: s, fields: c} = t;
            a != null && a[o] ? r(Se.autofill(e, o, a[o])) : n != null && n[o] ? r(Se.autofill(e, o, n[o])) : s != null && s[o] ? r(Se.autofill(e, o, s[o])) : c != null && c[o] && r(Se.autofill(e, o, c[o]))
        }
        )
    }
}
const ih = g("div").withConfig({
    displayName: "VerifyDatabaseView__Header",
    componentId: "sc-yae4il-0"
})(["min-height:", ";margin-bottom:", "px;"], We.header, M.base * 4);
function n8(e) {
    const [t] = G();
    return i.jsxs("div", {
        children: [e.hasSubmittedValues && e.inputFields.length === 1 && e.inputFields[0] === mn.IdentificationNumberFull9 ? i.jsxs(ih, {
            children: [i.jsx(et, {
                children: t("database.title-retry")
            }), i.jsx(He, {
                children: t("database.prompt-retry")
            })]
        }) : i.jsxs(ih, {
            children: [i.jsx(et, {
                children: t("database.title")
            }), i.jsx(He, {
                children: t("database.prompt")
            })]
        }), i.jsx(t8, {
            changeFormValue: e.changeFormValue,
            selectedCountryCode: e.selectedCountryCode,
            latLng: e.latLng,
            lockedAttributes: e.hasSubmittedValues ? void 0 : D.inquiryParams["locked-attributes"],
            onSubmit: e.handleSubmit,
            inputFields: e.inputFields,
            isProcessing: e.isProcessing,
            addressAutocompleteMethod: e.addressAutocompleteMethod
        })]
    })
}
const i8 = e => {
    var m, h;
    const {featureFlags: t, forcedStatus: n, inquiry: r, latLng: o, selectedCountryCode: a, submittedValues: s} = e;
    f.useEffect( () => {
        r == null ? D.redirectToStart() : e.autofillForm(Tl, D.inquiryParams, e.submittedValues)
    }
    , []);
    const {error: c, loading: l, callback: d} = vt(async p => {
        e.clearMessages(),
        await e.verificationDatabaseSubmit(r, n, {
            "country-code": a,
            "phone-number": r.attributes["phone-number"],
            ...s,
            ...p
        }, e.history, t),
        e.change(Tl, "identification-number", null),
        e.saveSubmittedValues({
            ...p,
            "identification-number": null
        }),
        document.body.scrollTo(0, 0)
    }
    , [a, r, n, s, t, e.history]);
    if (_t({
        error: c,
        onError: () => e.showMessage(e.t("errors.network")),
        onNetworkError: () => e.showMessage(e.t("errors.network"))
    }),
    r == null)
        return null;
    const u = r.attributes["next-step"].config || {};
    return i.jsx(n8, {
        changeFormValue: e.change,
        selectedCountryCode: a,
        handleSubmit: d,
        hasSubmittedValues: Object.keys((m = e.submittedValues) != null ? m : {}).length > 0,
        latLng: o,
        inputFields: (h = u["input-fields"]) != null ? h : [],
        isProcessing: l,
        addressAutocompleteMethod: u["address-autocomplete-method"] || la.GoogleMaps
    })
}
;
function r8(e) {
    var n;
    const t = Zp(e.inquiry.template, D.inquiryParams.prefill, e.locale.localeInfo.country_code);
    return {
        selectedCountryCode: ((n = e.inquiry.inquiry) == null ? void 0 : n.attributes["selected-country-code"]) || t,
        forcedStatus: e.test.forcedStatus,
        latLng: Nf(e),
        inquiry: e.inquiry.inquiry,
        submittedValues: e.verification.submittedValues,
        verifications: e.inquiry.verifications,
        featureFlags: e.inquiry.featureFlags
    }
}
const o8 = {
    autofillForm: La,
    change: Se.change,
    clearMessages: Lt,
    saveSubmittedValues: Xp,
    showMessage: ce,
    verificationDatabaseSubmit: kR
}
  , a8 = ke(r8, o8)
  , s8 = a8(i8)
  , c8 = jn()(s8)
  , l8 = g("div").withConfig({
    displayName: "VerifyDeviceHandoffEmailPromptView__Header",
    componentId: "sc-r4xrxo-0"
})(["min-height:", ";margin-bottom:", "px;"], We.header, M.base * 4);
function d8(e) {
    const {handleEmailOneTimeLink: t} = e
      , [n] = G();
    return i.jsxs("div", {
        children: [i.jsxs(l8, {
            children: [i.jsx(et, {
                children: n("to-mobile.title")
            }), i.jsx(He, {
                children: n("to-email.prompt")
            })]
        }), i.jsx(wd, {
            onSubmit: t,
            labelContinue: n("to-email.btn-submit")
        })]
    })
}
function u8(e) {
    f.useEffect( () => {
        e.autofillForm("email-address", D.inquiryParams, e.submittedValues)
    }
    , []);
    const [t] = G()
      , {error: n, callback: r} = vt(async o => {
        const a = o["email-address"]
          , {inquiry: s} = e
          , c = {
            attributes: {
                "email-address": a
            },
            id: s.id,
            type: s.type
        };
        e.saveEmailAddress(a),
        await te.postResourceAction(c, "email-one-time-link"),
        J.logAmplitude("one-time-link.sent", {
            method: "email"
        }),
        D.onEvent(Oe.OneTimeLinkSent, {
            method: "email"
        }),
        e.history.push("/verify/device-handoff/email/sent")
    }
    , [e.inquiry, e.history]);
    return _t({
        error: n,
        onError: o => {
            o.status === 409 ? e.showMessage(t("errors.inquiry-conflict")) : e.showMessage(t("errors.network"))
        }
        ,
        onNetworkError: () => e.showMessage(t("errors.network"))
    }),
    i.jsx(d8, {
        handleEmailOneTimeLink: r
    })
}
function m8(e) {
    return {
        defaultCountry: e.locale.localeInfo.country_code,
        inquiry: e.inquiry.inquiry,
        submittedValues: e.verification.submittedValues
    }
}
const h8 = {
    autofillForm: La,
    saveEmailAddress: tc,
    showMessage: ce
}
  , p8 = ke(m8, h8)
  , f8 = p8(u8)
  , g8 = g("div").withConfig({
    displayName: "VerifyDeviceHandoffEmailSentView__Header",
    componentId: "sc-z0hyrs-0"
})(["min-height:", ";margin-bottom:", "px;"], We.header, M.base * 4);
function b8(e) {
    const [t] = G()
      , [n,{enable: r}] = rt()
      , o = () => {
        n || (e.resendOneTimeLink(),
        r())
    }
    ;
    return i.jsxs("div", {
        children: [i.jsxs(g8, {
            children: [i.jsx(et, {
                children: t("mobile-sent.title")
            }), i.jsx(He, {
                children: t("mobile-sent.prompt-email", {
                    emailAddress: e.emailAddress
                })
            })]
        }), i.jsx(Qe, {
            "aria-label": "SMS pictograph",
            children: i.jsx(pe, {
                children: i.jsx(Ns, {})
            })
        }), i.jsx(He, {
            children: i.jsxs(kn, {
                i18nKey: "mobile-sent.resend-link",
                children: ["Click here to", i.jsx("a", {
                    id: "device-handoff-email__resend-link",
                    onClick: o,
                    children: "resend the secure link"
                })]
            })
        })]
    })
}
const rh = 3e3;
let Hc;
function C8(e) {
    const [t] = G();
    f.useEffect( () => (e.inquiry == null && D.redirectToStart(),
    a(),
    () => clearTimeout(Hc)), []);
    const {inquiry: n, emailAddress: r} = e
      , o = f.useCallback(async () => {
        e.clearMessages();
        try {
            const s = {
                attributes: {
                    "email-address": r
                },
                id: n.id,
                type: n.type
            };
            await te.postResourceAction(s, "email-one-time-link"),
            e.showMessage(t("mobile-sent.resent-link"))
        } catch {
            e.showMessage(t("mobile-sent.failed-to-resend"))
        }
    }
    , [n, e.showMessage, e.clearMessages])
      , a = f.useCallback(async () => {
        try {
            const s = (await te.getResource(Qt(n.type), n.id)).data;
            switch (s.attributes.status) {
            case ge.Created:
            case ge.Pending:
                Hc = window.setTimeout(a, rh);
                return;
            case ge.Completed:
            case ge.Approved:
            case ge.NeedsReview:
            case ge.Declined:
            case ge.Failed:
                e.saveInquiry(s),
                e.routeToNextStep(s);
                return;
            case ge.Expired:
                e.saveInquiry(void 0),
                e.showMessage(this.props.t("errors.session-expired"));
                return;
            default:
                lt(s.attributes.status)
            }
        } catch (s) {
            if (s instanceof xt)
                Hc = window.setTimeout(a, rh);
            else if (s instanceof ht && s.status !== 401)
                e.showMessage(t("errors.session-expired"));
            else
                throw s
        }
    }
    , [n]);
    return n == null ? null : i.jsx(b8, {
        emailAddress: r,
        resendOneTimeLink: o
    })
}
function x8(e) {
    return {
        inquiry: e.inquiry.inquiry,
        emailAddress: e.oneTimeLink.emailAddress
    }
}
const v8 = {
    clearMessages: Lt,
    showMessage: ce,
    saveInquiry: Ot,
    routeToNextStep: Yt,
    saveEmailAddress: tc
}
  , I8 = ke(x8, v8)
  , S8 = I8(C8)
  , y8 = jn()(S8)
  , w8 = g("div").withConfig({
    displayName: "VerifyDeviceHandoffPromptView__Header",
    componentId: "sc-4mxuyp-0"
})(["min-height:", ";margin-bottom:", "px;"], We.header, M.base * 4)
  , _8 = g.div.withConfig({
    displayName: "VerifyDeviceHandoffPromptView__CaptureOptionsContainer",
    componentId: "sc-4mxuyp-1"
})(["width:100%;"])
  , qc = g(fe).withConfig({
    displayName: "VerifyDeviceHandoffPromptView__OptionButton",
    componentId: "sc-4mxuyp-2"
})(["margin-bottom:", ";:last-of-type{margin-bottom:0;}"], I.Spacing[4]);
function R8({handleSmsDeviceHandoff: e, handleEmailDeviceHandoff: t, handleQrDeviceHandoff: n, isPrimary: r, option: o}) {
    const [a] = G();
    switch (o) {
    case Jt.Sms:
        return i.jsx(qc, {
            id: "button__sms",
            buttonType: r ? Q.Primary : Q.Secondary,
            "data-test": "to-mobile__via-sms",
            onClick: e,
            children: a("to-mobile.via-sms")
        });
    case Jt.Email:
        return i.jsx(qc, {
            id: "button__email",
            buttonType: r ? Q.Primary : Q.Secondary,
            "data-test": "to-mobile__via-email",
            onClick: t,
            children: a("to-mobile.via-email")
        });
    case Jt.Qr:
        return i.jsx(qc, {
            id: "button__qr",
            buttonType: r ? Q.Primary : Q.Secondary,
            "data-test": "to-mobile__via-qr",
            onClick: n,
            children: a("to-mobile.via-qr")
        });
    default:
        lt(o)
    }
}
function A8(e) {
    var t;
    return i.jsx(_8, {
        id: "to-mobile-prompt__view",
        children: ((t = e.deviceHandoffOptions) != null ? t : []).map( (n, r) => i.jsx(R8, {
            isPrimary: r === 0,
            option: n,
            ...e
        }, n))
    })
}
function T8(e) {
    const [t] = G();
    return i.jsxs("div", {
        children: [i.jsxs(w8, {
            children: [i.jsx(et, {
                children: t("to-mobile.title")
            }), i.jsx(He, {
                children: t("to-mobile.description")
            })]
        }), i.jsx(mt, {
            children: i.jsx(A8, {
                ...e
            })
        })]
    })
}
const E8 = e => {
    const t = Vt()
      , n = Mt("inquiry:hide-sms-device-handoff-option")
      , r = Mt("inquiry:hide-sms-device-handoff-option-inverse");
    let o = e.inquiry.attributes["next-step"].config["device-handoff-options"];
    return Jr(o) && (o = [Jt.Sms, Jt.Email, Jt.Qr]),
    n && !r && (o = o.filter(a => a !== Jt.Sms)),
    f.useEffect( () => {
        if (e.inquiry == null) {
            D.redirectToStart();
            return
        }
        if (o.length === 1) {
            const a = o[0];
            switch (a) {
            case Jt.Sms:
                t.replace("/verify/device-handoff/sms");
                break;
            case Jt.Email:
                t.replace("/verify/device-handoff/email");
                break;
            case Jt.Qr:
                t.replace("/verify/device-handoff/qr");
                break;
            default:
                lt(a)
            }
        }
    }
    , []),
    o.length === 1 ? null : i.jsx(T8, {
        handleSmsDeviceHandoff: () => t.push("/verify/device-handoff/sms"),
        handleEmailDeviceHandoff: () => t.push("/verify/device-handoff/email"),
        handleQrDeviceHandoff: () => t.push("/verify/device-handoff/qr"),
        deviceHandoffOptions: o
    })
}
;
function k8(e) {
    return {
        inquiry: e.inquiry.inquiry
    }
}
const N8 = ke(k8)
  , j8 = N8(E8)
  , P8 = g("div").withConfig({
    displayName: "VerifyDeviceHandoffQrView__Header",
    componentId: "sc-3euhfa-0"
})(["min-height:", ";margin-bottom:", "px;"], We.header, M.base * 4);
function D8({link: e}) {
    const [t] = G();
    return i.jsxs("div", {
        children: [i.jsxs(P8, {
            children: [i.jsx(et, {
                children: t("to-mobile.title")
            }), i.jsx(He, {
                children: t("qr-code.prompt")
            })]
        }), e != null && i.jsx(Qe, {
            height: 132,
            width: 132,
            "aria-label": t("qr-code.prompt"),
            role: "img",
            children: i.jsx(tg, {
                value: e,
                accessibleTitle: t("qr-code.prompt"),
                "data-test": "device-handoff-qr__qr-code"
            })
        })]
    })
}
const oh = 3e3;
function O8(e) {
    let t;
    const [n] = G()
      , [r,o] = f.useState(void 0);
    Br({
        loader: async () => {
            const c = await te.postResourceAction({
                id: e.inquiry.id,
                type: e.inquiry.type
            }, "generate-one-time-link");
            o(c.meta["one-time-link-code"]),
            J.logAmplitude("one-time-link.sent", {
                method: "qr"
            }),
            D.onEvent(Oe.OneTimeLinkSent, {
                method: "qr"
            })
        }
        ,
        deps: [],
        onError: c => {
            c.status === 409 ? e.showMessage(n("errors.inquiry-conflict")) : e.showMessage(n("errors.network"))
        }
        ,
        onNetworkError: () => e.showMessage(n("errors.network"))
    }),
    f.useEffect( () => (e.inquiry == null && D.redirectToStart(),
    a(),
    () => clearTimeout(t)), []);
    const a = f.useCallback(async () => {
        try {
            const c = (await te.getResource(Qt(e.inquiry.type), e.inquiry.id)).data;
            switch (c.attributes.status) {
            case ge.Created:
            case ge.Pending:
                t = window.setTimeout(a, oh);
                return;
            case ge.Completed:
            case ge.Approved:
            case ge.NeedsReview:
            case ge.Declined:
            case ge.Failed:
                e.saveInquiry(c),
                e.routeToNextStep(c);
                return;
            case ge.Expired:
                e.saveInquiry(void 0),
                e.showMessage(this.props.t("errors.session-expired"));
                return;
            default:
                lt(c.attributes.status)
            }
        } catch (c) {
            if (c instanceof xt)
                t = window.setTimeout(a, oh);
            else if (c instanceof ht && c.status !== 401)
                e.showMessage(n("errors.session-expired"));
            else
                throw c
        }
    }
    , [e.inquiry]);
    if (e.inquiry == null)
        return null;
    const s = r ? `${location.protocol}//${location.host}/verify?code=${r}` : void 0;
    return i.jsx(D8, {
        link: s
    })
}
function L8(e) {
    return {
        inquiry: e.inquiry.inquiry
    }
}
const F8 = {
    clearMessages: Lt,
    showMessage: ce,
    saveInquiry: Ot,
    routeToNextStep: Yt
}
  , M8 = ke(L8, F8)
  , B8 = M8(O8)
  , V8 = g("div").withConfig({
    displayName: "VerifyDeviceHandoffSmsPromptView__Header",
    componentId: "sc-1njtbwt-0"
})(["min-height:", ";margin-bottom:", "px;"], We.header, M.base * 4);
function U8(e) {
    const {defaultCountry: t, handleSmsOneTimeLink: n} = e
      , [r] = G();
    return i.jsxs("div", {
        children: [i.jsxs(V8, {
            children: [i.jsx(et, {
                children: r("to-mobile.title")
            }), i.jsx(He, {
                children: r("to-mobile.prompt")
            })]
        }), i.jsx(Td, {
            onSubmit: n,
            labelContinue: r("to-mobile.btn-submit"),
            defaultCountry: t
        })]
    })
}
function H8(e) {
    f.useEffect( () => {
        e.autofillForm("phone-number", D.inquiryParams, e.submittedValues)
    }
    , []);
    const [t] = G()
      , {error: n, callback: r} = vt(async o => {
        const a = o["phone-number"]
          , {inquiry: s} = e
          , c = {
            attributes: {
                "phone-number": a
            },
            id: s.id,
            type: s.type
        };
        e.savePhoneNumber(a),
        await te.postResourceAction(c, "sms-one-time-link"),
        J.logAmplitude("one-time-link.sent", {
            method: "sms"
        }),
        D.onEvent(Oe.OneTimeLinkSent, {
            method: "sms"
        }),
        e.history.push("/verify/device-handoff/sms/sent")
    }
    , [e.inquiry, e.history]);
    return _t({
        error: n,
        onError: o => {
            var a;
            o.status === 409 ? e.showMessage(t("errors.inquiry-conflict")) : o.status === 400 && ((a = o.errors) == null ? void 0 : a[0].title) === "Phone number unsubscribed" ? e.showMessage(t("mobile-sent.sms-unsubscribed")) : e.showMessage(t("mobile-sent.failed-to-resend"))
        }
        ,
        onNetworkError: () => e.showMessage(t("errors.network"))
    }),
    i.jsx(U8, {
        defaultCountry: e.defaultCountry,
        handleSmsOneTimeLink: r
    })
}
function q8(e) {
    return {
        defaultCountry: e.locale.localeInfo.country_code,
        inquiry: e.inquiry.inquiry,
        submittedValues: e.verification.submittedValues
    }
}
const $8 = {
    autofillForm: La,
    savePhoneNumber: ec,
    showMessage: ce
}
  , G8 = ke(q8, $8)
  , W8 = G8(H8)
  , Y8 = g("div").withConfig({
    displayName: "VerifyDeviceHandoffSmsSentView__Header",
    componentId: "sc-1z04rs5-0"
})(["min-height:", ";margin-bottom:", "px;"], We.header, M.base * 4);
function z8(e) {
    const t = Ol(e.phoneNumber, "National")
      , [n] = G()
      , [r,{enable: o}] = rt()
      , a = () => {
        r || (e.resendOneTimeLink(),
        o())
    }
    ;
    return i.jsxs("div", {
        children: [i.jsxs(Y8, {
            children: [i.jsx(et, {
                children: n("mobile-sent.title")
            }), i.jsx(He, {
                children: i.jsx(kn, {
                    i18nKey: "mobile-sent.prompt",
                    components: [i.jsx("bdo", {
                        dir: "ltr"
                    }, 0)],
                    values: {
                        phoneNumber: t
                    }
                })
            })]
        }), i.jsx(Qe, {
            "aria-label": "SMS pictograph",
            children: i.jsx(pe, {
                children: i.jsx(Ns, {})
            })
        }), i.jsx(He, {
            children: i.jsxs(kn, {
                i18nKey: "mobile-sent.resend-link",
                children: ["Click here to", i.jsx("a", {
                    id: "device-handoff-sms__resend-link",
                    onClick: a,
                    children: "resend the secure link"
                })]
            })
        })]
    })
}
const ah = 3e3;
let $c;
function K8(e) {
    const [t] = G();
    f.useEffect( () => (e.inquiry == null && D.redirectToStart(),
    a(),
    () => clearTimeout($c)), []);
    const {inquiry: n, phoneNumber: r} = e
      , o = f.useCallback(async () => {
        var s;
        e.clearMessages();
        try {
            const c = {
                attributes: {
                    "phone-number": r
                },
                id: n.id,
                type: n.type
            };
            await te.postResourceAction(c, "sms-one-time-link"),
            e.showMessage(t("mobile-sent.resent-link"))
        } catch (c) {
            c.status === 400 && ((s = c.errors) == null ? void 0 : s[0].title) === "Phone number unsubscribed" ? e.showMessage(t("mobile-sent.sms-unsubscribed")) : e.showMessage(t("mobile-sent.failed-to-resend"))
        }
    }
    , [n, e.showMessage, e.clearMessages])
      , a = f.useCallback(async () => {
        try {
            const s = (await te.getResource(Qt(n.type), n.id)).data;
            switch (s.attributes.status) {
            case ge.Created:
            case ge.Pending:
                $c = window.setTimeout(a, ah);
                return;
            case ge.Completed:
            case ge.Approved:
            case ge.NeedsReview:
            case ge.Declined:
            case ge.Failed:
                e.saveInquiry(s),
                e.routeToNextStep(s);
                return;
            case ge.Expired:
                e.saveInquiry(void 0),
                e.showMessage(e.t("errors.session-expired"));
                return;
            default:
                lt(s.attributes.status)
            }
        } catch (s) {
            if (s instanceof xt)
                $c = window.setTimeout(a, ah);
            else if (s instanceof ht && s.status !== 401)
                e.showMessage(t("errors.session-expired"));
            else
                throw s
        }
    }
    , [n]);
    return n == null ? null : i.jsx(z8, {
        phoneNumber: r,
        resendOneTimeLink: o
    })
}
function Q8(e) {
    return {
        inquiry: e.inquiry.inquiry,
        phoneNumber: e.oneTimeLink.phoneNumber
    }
}
const Z8 = {
    clearMessages: Lt,
    showMessage: ce,
    saveInquiry: Ot,
    savePhoneNumber: ec,
    routeToNextStep: Yt
}
  , J8 = ke(Q8, Z8)
  , X8 = J8(K8)
  , eP = jn()(X8);
function tP(e) {
    const [t] = G();
    return i.jsx(xl, {
        handleCapture: e.handleCapture,
        handleError: e.handleError,
        labelTakePhoto: t("documents.capture.btn-take-photo"),
        videoConstraints: e.videoConstraints
    })
}
function nP(e) {
    const {inquiry: t, documentConfigs: n, videoConstraints: r, history: o} = e
      , a = parseInt(e.match.params.documentNumber, 10)
      , s = n[a]
      , [c] = G();
    if (f.useEffect( () => {
        if (t == null) {
            D.redirectToStart();
            return
        }
    }
    , []),
    t == null)
        return null;
    const l = async (u, m) => {
        e.saveCaptureMethod(m),
        u = u.filter(p => p != null);
        const h = u[u.length - 1];
        J.logAmplitude("document.camera.capture", {
            imageSize: h.length
        });
        try {
            e.uploadFile({
                filename: `${s.kind}_live_captured.jpg`,
                fileType: "image/jpeg",
                dataUrl: h
            }),
            e.history.replace(Pi(a, Pt.Check))
        } catch (p) {
            d(p, "capture")
        }
    }
      , d = (u, m) => {
        m === "capture" && e.showMessage(c("documents.capture.failed-screenshot")),
        u instanceof Error ? (he(u, "error", {
            state: m
        }, {
            jira: "PER-10182"
        }),
        m === "load" && (D.onEvent(Oe.LoadCameraFailed, {
            error: u.name,
            message: u.message
        }),
        o.push("/verify/support/camera"))) : (Be(u, "error", {
            state: m
        }, {
            jira: "PER-10182"
        }),
        m === "load" && (D.onEvent(Oe.LoadCameraFailed, {
            message: u
        }),
        o.push("/verify/support/camera")))
    }
    ;
    return i.jsx(tP, {
        handleCapture: l,
        handleError: d,
        videoConstraints: r
    })
}
const iP = e => ({
    inquiry: e.inquiry.inquiry,
    documentConfigs: Da(e),
    videoConstraints: e.document.videoConstraints
})
  , rP = {
    saveCaptureMethod: lr,
    showMessage: ce,
    uploadFile: oc
}
  , oP = ke(iP, rP)(nP)
  , aP = g("div").withConfig({
    displayName: "ConfirmFileUploadView__Header",
    componentId: "sc-1frnc05-0"
})(["min-height:", ";margin-bottom:", "px;"], We.header, M.base * 4)
  , sP = g("div").withConfig({
    displayName: "ConfirmFileUploadView__ConfirmFileContainer",
    componentId: "sc-1frnc05-1"
})(["background-color:", ";border-radius:", ";margin-bottom:", "px;min-height:80px;padding:0px ", "px;display:flex;flex-direction:row;justify-content:start;align-items:center;"], Fe.gray4, ln.rounded, M.base * 8, M.base * 2)
  , cP = g.div.withConfig({
    displayName: "ConfirmFileUploadView__IconContainer",
    componentId: "sc-1frnc05-2"
})(["margin-right:", "px;display:flex;"], M.base)
  , lP = g("div").withConfig({
    displayName: "ConfirmFileUploadView__FileNameContainer",
    componentId: "sc-1frnc05-3"
})(["color:", ";font-weight:", ";word-break:break-all;"], Fe.black, on.semiBold)
  , dP = g(fe).withConfig({
    displayName: "ConfirmFileUploadView__ButtonContinue",
    componentId: "sc-1frnc05-4"
})(["margin-bottom:", "px;"], M.base * 4)
  , uP = g("div").withConfig({
    displayName: "ConfirmFileUploadView__Minify",
    componentId: "sc-1frnc05-5"
})(["display:inline;img{height:12px;margin-bottom:4px;}"]);
function Db(e) {
    const {fileName: t, isProcessing: n} = e
      , [r] = G();
    return i.jsxs("div", {
        children: [i.jsxs(aP, {
            children: [i.jsx(et, {
                children: r("confirm-file-upload.title")
            }), i.jsx(He, {
                children: r("confirm-file-upload.prompt")
            })]
        }), i.jsxs(sP, {
            children: [i.jsx(cP, {
                children: i.jsx(pe, {
                    children: i.jsx(Fs, {})
                })
            }), i.jsx(lP, {
                children: t
            })]
        }), i.jsx(dP, {
            buttonType: Q.Primary,
            disabled: n,
            onClick: e.handleContinue,
            "data-test": "confirm-file-upload__continue",
            children: n ? i.jsxs("span", {
                children: [r("confirm-file-upload.uploading"), i.jsx(uP, {
                    children: i.jsx(Qi, {})
                })]
            }) : r("confirm-file-upload.btn-submit")
        }), i.jsx(He, {
            children: i.jsxs(kn, {
                i18nKey: "confirm-file-upload.or-retry",
                children: ["Or", i.jsx("a", {
                    id: "confirm-file-upload__upload-link",
                    onClick: e.handleRetry,
                    children: "upload a new file"
                })]
            })
        })]
    })
}
function Ob(e) {
    return i.jsx(lc, {
        src: e.src,
        style: {
            imageOrientation: "from-image"
        }
    })
}
const mP = g("div").withConfig({
    displayName: "VerifyDocumentsCheckView__Header",
    componentId: "sc-1fs6ydv-0"
})(["min-height:", ";margin-bottom:", "px;"], We.header, M.base * 4)
  , hP = g("div").withConfig({
    displayName: "VerifyDocumentsCheckView__ImagePositioner",
    componentId: "sc-1fs6ydv-1"
})(["img{display:block;margin-left:auto;margin-right:auto;max-width:100%;max-height:320px;margin-bottom:", "px;}"], M.base * 2)
  , pP = g("div").withConfig({
    displayName: "VerifyDocumentsCheckView__Minify",
    componentId: "sc-1fs6ydv-2"
})(["display:inline;img{height:12px;margin-bottom:4px;}"]);
function fP(e) {
    const {currentUpload: t, isProcessing: n, handleContinue: r, handleRetry: o} = e
      , [a] = G();
    return Oo.includes(t.fileType) ? i.jsxs("div", {
        children: [i.jsxs(mP, {
            children: [i.jsx(et, {
                children: a("documents.check.title")
            }), i.jsx(He, {
                children: a("documents.check.prompt")
            })]
        }), i.jsx(hP, {
            children: i.jsx(Ob, {
                src: t.dataUrl,
                alt: "upload preview"
            })
        }), i.jsxs(mt, {
            children: [i.jsx(fe, {
                id: "documents-check__use-image",
                buttonType: Q.Primary,
                disabled: n,
                onClick: r,
                "data-test": "documents-check__continue",
                children: n ? i.jsxs("span", {
                    children: [a("documents.check.uploading"), i.jsx(pP, {
                        children: i.jsx(Qi, {})
                    })]
                }) : a("documents.check.btn-submit")
            }), i.jsx(Xe, {
                height: 2
            }), i.jsx(fe, {
                id: "documents-check__retake",
                buttonType: Q.Secondary,
                disabled: n,
                onClick: o,
                "data-test": "documents-check__retake",
                children: a("documents.check.btn-retake")
            })]
        })]
    }) : i.jsx(Db, {
        fileName: t.filename,
        isProcessing: n,
        handleContinue: r,
        handleRetry: o
    })
}
function gP(e) {
    const {inquiry: t, currentStepName: n, documentConfigs: r, fileToUpload: o, forcedStatus: a} = e
      , s = parseInt(e.match.params.documentNumber, 10)
      , [c] = G();
    f.useEffect( () => {
        if (t == null) {
            D.redirectToStart();
            return
        }
        e.fileToUpload || (e.showMessage(c("errors.network")),
        e.history.goBack())
    }
    , []);
    const {error: l, loading: d, callback: u} = vt(async () => {
        e.clearMessages(),
        o.dataUrl.length > Gs && e.showMessage(Oo.includes(o.fileType) ? c("documents.check.large-image-upload") : c("documents.check.large-file-upload")),
        await e.createDocumentGenericWithVerification({
            stepName: n,
            documentsToVerify: r,
            documentNumber: s,
            history: e.history,
            fileToUpload: o,
            t: c,
            forcedStatus: a
        })
    }
    , [n, r, s, e.history, o, a]);
    _t({
        error: l,
        onError: () => e.showMessage(c("errors.network")),
        onNetworkError: () => e.showMessage(c("errors.network"))
    });
    const m = () => {
        d || (e.history.goBack(),
        e.clearUpload(o))
    }
    ;
    return t == null || !e.fileToUpload ? null : i.jsx(fP, {
        currentUpload: e.fileToUpload,
        handleContinue: u,
        handleRetry: m,
        isProcessing: d
    })
}
const bP = e => ({
    inquiry: e.inquiry.inquiry,
    currentStepName: e.inquiry.currentStep.name,
    documentConfigs: Da(e),
    fileToUpload: Tg(e),
    forcedStatus: e.test.forcedStatus
})
  , CP = {
    clearMessages: Lt,
    createDocumentGenericWithVerification: LR,
    showMessage: ce,
    clearUpload: ac
}
  , xP = ke(bP, CP)
  , vP = xP(gP)
  , IP = g("div").withConfig({
    displayName: "VerifyDocumentsFailedView__Header",
    componentId: "sc-t3x4k2-0"
})(["min-height:", ";margin-bottom:", "px;"], We.header, M.base * 4);
function SP(e) {
    const [t] = G();
    return i.jsxs(i.Fragment, {
        children: [i.jsxs(IP, {
            children: [i.jsx(et, {
                children: i.jsx(X, {
                    children: t("documents.failed.title")
                })
            }), i.jsx(He, {
                children: i.jsx(X, {
                    children: t("documents.failed.prompt")
                })
            })]
        }), i.jsx(Qe, {
            "aria-label": "document failed pictograph",
            children: i.jsx(pe, {
                children: i.jsx(qh, {})
            })
        }), i.jsx(mt, {
            children: i.jsx(fe, {
                id: "document-failed__retry",
                buttonType: Q.Primary,
                onClick: e.handleRetry,
                children: t("documents.failed.btn-submit")
            })
        })]
    })
}
const yP = e => {
    const {inquiry: t} = e
      , n = parseInt(e.match.params.documentNumber, 10);
    f.useEffect( () => {
        if (t == null) {
            D.redirectToStart();
            return
        }
    }
    , []);
    const r = f.useCallback( () => {
        e.history.replace(Pi(n, Pt.Prompt))
    }
    , [e.updateDocumentAtIndex, e.history]);
    return t == null ? null : i.jsx(SP, {
        handleRetry: r
    })
}
  , wP = e => ({
    inquiry: e.inquiry.inquiry,
    documents: e.inquiry.documents
})
  , _P = {
    updateDocumentAtIndex: ca
}
  , RP = ke(wP, _P)
  , AP = RP(yP)
  , TP = g("div").withConfig({
    displayName: "VerifyDocumentsIntroView__Header",
    componentId: "sc-1unhl6h-0"
})(["min-height:", ";margin-bottom:", "px;"], We.header, M.base * 4)
  , EP = g("div").withConfig({
    displayName: "VerifyDocumentsIntroView__DocumentsList",
    componentId: "sc-1unhl6h-1"
})(["margin-bottom:", "px;padding:0 ", "px 0 ", "px;"], M.base * 4, M.base, M.base)
  , kP = g("div").withConfig({
    displayName: "VerifyDocumentsIntroView__DocumentsListItem",
    componentId: "sc-1unhl6h-2"
})([""])
  , NP = g("div").withConfig({
    displayName: "VerifyDocumentsIntroView__DocumentDescription",
    componentId: "sc-1unhl6h-3"
})(["display:flex;margin-bottom:", "px;"], M.base * 2)
  , sh = g("div").withConfig({
    displayName: "VerifyDocumentsIntroView__IconContainer",
    componentId: "sc-1unhl6h-4"
})(["padding:4px ", "px 0 0;position:relative;"], M.base)
  , jP = Pn(["0%{opacity:0;}100%{opacity:1;}"])
  , PP = Pn(["0%{opacity:1;}100%{opacity:0;}"])
  , DP = g(ps).withConfig({
    displayName: "VerifyDocumentsIntroView__AnimatedIconCircleBullet",
    componentId: "sc-1unhl6h-5"
})(["animation:", " 0.5s ease-in;animation-fill-mode:forwards;"], PP)
  , OP = g(LC).withConfig({
    displayName: "VerifyDocumentsIntroView__AnimatedIconCircleChecked",
    componentId: "sc-1unhl6h-6"
})(["animation:", " 0.5s ease-in;position:absolute;transform:translate(-100%,0);path{transition-duration:150ms;stroke:", ";}"], jP, Fe.green100)
  , LP = g("div").withConfig({
    displayName: "VerifyDocumentsIntroView__DocumentExample",
    componentId: "sc-1unhl6h-7"
})(["display:flex;padding-left:", "px;margin-bottom:", "px;"], M.base * 3, M.base * 2);
function FP(e) {
    const {handleContinue: t, isLoading: n, isProcessing: r, introScreenConfig: o, documentConfigs: a} = e
      , [s] = G();
    return f.useEffect( () => {
        a.length === 0 && Be("Unexpected empty list of required documents in step config")
    }
    , []),
    i.jsxs("div", {
        children: [i.jsxs(TP, {
            children: [i.jsx(et, {
                children: (o == null ? void 0 : o.title) || s("documents.intro.title")
            }), i.jsx(He, {
                children: (o == null ? void 0 : o.prompt) || s("documents.intro.prompt")
            })]
        }), i.jsx(EP, {
            children: a.map( (c, l) => {
                var d;
                return i.jsxs(kP, {
                    children: [i.jsxs(NP, {
                        children: [i.jsx(sh, {
                            children: c.submitted ? i.jsxs(i.Fragment, {
                                children: [i.jsx(DP, {}), i.jsx(OP, {})]
                            }) : i.jsx(ps, {})
                        }), i.jsx("p", {
                            children: c.description
                        })]
                    }), (d = c.examples) == null ? void 0 : d.map( (u, m) => i.jsxs(LP, {
                        children: [i.jsx(sh, {
                            children: i.jsx(ps, {})
                        }), i.jsx("p", {
                            children: u
                        })]
                    }, `${c.kind}-${l}-example-${m}`))]
                }, `${c.kind}-${l}`)
            }
            )
        }), i.jsx(mt, {
            children: i.jsx(fe, {
                id: "documents.intro__button--select",
                buttonType: Q.Primary,
                onClick: t,
                disabled: r || n,
                isPending: r || n,
                children: s("documents.intro.btn-submit")
            })
        })]
    })
}
function MP(e) {
    const {inquiry: t, documentConfigs: n, introScreenConfig: r, skipIntroScreen: o} = e
      , [a] = G();
    f.useEffect( () => {
        if (t == null) {
            D.redirectToStart();
            return
        }
        if (n != null && (n.length === 1 || o)) {
            e.history.replace(Pi(0, Pt.Prompt));
            return
        }
    }
    , []);
    const {loading: s} = Br({
        loader: e.loadDocumentsForInquiry,
        deps: [],
        onError: () => e.showMessage(a("errors.network")),
        onNetworkError: () => e.showMessage(a("errors.network"))
    })
      , [c,l] = f.useState(!1);
    if (t == null || n != null && (n.length === 1 || o))
        return null;
    const d = () => {
        l(!0);
        const u = n.findIndex(m => !m.submitted);
        e.history.push(Pi(u, Pt.Prompt))
    }
    ;
    return i.jsx(FP, {
        handleContinue: d,
        isProcessing: c,
        isLoading: s,
        introScreenConfig: r,
        documentConfigs: n
    })
}
function BP(e) {
    return {
        inquiry: e.inquiry.inquiry,
        documentConfigs: Da(e),
        introScreenConfig: bA(e),
        skipIntroScreen: CA(e)
    }
}
const VP = {
    loadDocumentsForInquiry: yv,
    showMessage: ce
}
  , UP = ke(BP, VP)
  , HP = UP(MP)
  , qP = g("div").withConfig({
    displayName: "VerifyDocumentsPendingView__Container",
    componentId: "sc-17xf5u9-0"
})(["", ""], e => e.asOverlay && $(["position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);"]))
  , $P = g("div").withConfig({
    displayName: "VerifyDocumentsPendingView__Header",
    componentId: "sc-17xf5u9-1"
})(["min-height:", ";margin-bottom:", "px;"], We.header, M.base * 4)
  , GP = g("div").withConfig({
    displayName: "VerifyDocumentsPendingView__AnimationContainer",
    componentId: "sc-17xf5u9-2"
})(["display:flex;justify-content:center;align-items:center;height:200px;margin-top:", ";"], M.base * 8);
function WP({asOverlay: e=!1}) {
    const [t] = G();
    return i.jsxs(qP, {
        asOverlay: e,
        children: [!e && i.jsxs($P, {
            children: [i.jsx(et, {
                children: t("documents.pending.title")
            }), i.jsx(He, {
                children: t("documents.pending.description")
            })]
        }), i.jsx(GP, {
            children: i.jsx(Lo, {
                icon: "document"
            })
        })]
    })
}
function YP(e) {
    const {inquiry: t, currentStepName: n, documentConfigs: r, documents: o, forcedStatus: a} = e
      , s = parseInt(e.match.params.documentNumber, 10)
      , c = o[s]
      , [l] = G()
      , {processingDisplayStyle: d} = f.useContext(Je)
      , u = d === Ea.Overlay;
    return f.useEffect( () => {
        if (t == null || c == null) {
            D.redirectToStart();
            return
        }
        (async () => {
            try {
                await e.pollDocumentAndSubmitVerification({
                    document: c,
                    stepName: n,
                    documentsToVerify: r,
                    documentNumber: s,
                    history: e.history,
                    forcedStatus: a
                })
            } catch {
                e.showMessage(l("errors.network"), !0)
            }
        }
        )()
    }
    , []),
    t == null || c == null ? null : i.jsx(WP, {
        asOverlay: u
    })
}
const zP = e => ({
    inquiry: e.inquiry.inquiry,
    currentStepName: e.inquiry.currentStep.name,
    documentConfigs: Da(e),
    documents: e.inquiry.documents,
    forcedStatus: e.test.forcedStatus
})
  , KP = {
    pollDocumentAndSubmitVerification: fg,
    routeToNextStep: Yt,
    showMessage: ce
}
  , QP = ke(zP, KP)
  , ZP = QP(YP);
var ii = (e => (e.WebCamera = "web_camera",
e.MobileCamera = "mobile_camera",
e.Upload = "upload",
e.ToMobile = "to_mobile",
e))(ii || {});
const JP = (e, t, n) => {
    const r = n && (e == null ? void 0 : e.includes(ii.WebCamera));
    return [{
        option: ii.WebCamera,
        condition: r
    }, {
        option: ii.MobileCamera,
        condition: !r && t
    }, {
        option: ii.Upload,
        condition: !0
    }, {
        option: ii.ToMobile,
        condition: !t
    }].filter(o => o.condition && (e == null ? void 0 : e.includes(o.option))).map(o => o.option)
}
  , XP = ["application/pdf", "image/jpeg", "image/png", "image/heic"]
  , e9 = g("div").withConfig({
    displayName: "VerifyDocumentsPromptView__Container",
    componentId: "sc-ertrmr-0"
})([""])
  , t9 = g("div").withConfig({
    displayName: "VerifyDocumentsPromptView__Header",
    componentId: "sc-ertrmr-1"
})(["min-height:", ";margin-bottom:", ";"], We.header, I.Spacing[6])
  , n9 = g.div.withConfig({
    displayName: "VerifyDocumentsPromptView__CaptureOptionsContainer",
    componentId: "sc-ertrmr-2"
})(["width:100%;"])
  , Gc = g(fe).withConfig({
    displayName: "VerifyDocumentsPromptView__OptionButton",
    componentId: "sc-ertrmr-3"
})(["margin-bottom:", ";:last-of-type{margin-bottom:0;}"], I.Spacing[4])
  , i9 = g(Dr).withConfig({
    displayName: "VerifyDocumentsPromptView__ImgCamera",
    componentId: "sc-ertrmr-4"
})(["vertical-align:bottom;path[stroke]{stroke:", ";}"], e => e.theme.colorFontButtonPrimary)
  , r9 = g("div").withConfig({
    displayName: "VerifyDocumentsPromptView__DocumentExampleList",
    componentId: "sc-ertrmr-5"
})(["margin:", " 0 ", " 0;padding:0 ", " 0 ", ";"], I.Spacing[4], I.Spacing[6], I.Spacing[2], I.Spacing[2])
  , o9 = g("div").withConfig({
    displayName: "VerifyDocumentsPromptView__DocumentExample",
    componentId: "sc-ertrmr-6"
})(["display:flex;margin-bottom:", ";"], I.Spacing[4])
  , a9 = g("div").withConfig({
    displayName: "VerifyDocumentsPromptView__IconContainer",
    componentId: "sc-ertrmr-7"
})(["padding:4px ", " 0 0;position:relative;"], I.Spacing[2])
  , s9 = g(Kt).withConfig({
    displayName: "VerifyDocumentsPromptView__StyledCustomizablePictograph",
    componentId: "sc-ertrmr-8"
})(["width:100%;"])
  , c9 = e => {
    const {documentConfig: t} = e
      , [n] = G()
      , {documentPictographPosition: r} = f.useContext(Je);
    if (t == null)
        return null;
    const o = t.examples != null && t.examples.length > 0
      , a = !o && i.jsx(Qe, {
        height: null,
        width: null,
        "aria-label": "document pictograph",
        children: i.jsx(s9, {
            url: "documentPictographUrl",
            height: "documentPictographHeight",
            vectorEffect: "initial",
            children: i.jsx(hn, {
                children: i.jsx(Bl, {
                    height: 80,
                    width: "100%"
                })
            })
        })
    });
    return i.jsxs(e9, {
        children: [r === $t.Start && a, i.jsxs(t9, {
            children: [i.jsx(et, {
                children: t.title || n("documents.prompt.title")
            }), i.jsx(He, {
                children: i.jsx(X, {
                    children: t.prompt || n("documents.prompt.prompt")
                })
            }), o && i.jsxs(i.Fragment, {
                children: [i.jsx("br", {}), i.jsx("p", {
                    children: n("documents.prompt.examples-prompt", {
                        count: t.examples.length
                    })
                }), i.jsx(r9, {
                    children: t.examples.map( (s, c) => i.jsxs(o9, {
                        "data-test": "documents-prompt__documents-example",
                        children: [i.jsx(a9, {
                            children: i.jsx(ps, {})
                        }), i.jsx(X, {
                            children: s
                        })]
                    }, `${s}-${c}`))
                })]
            })]
        }), r === $t.Center && a, i.jsx(mt, {
            children: i.jsx(l9, {
                ...e
            })
        }), t.optional && i.jsx(He, {
            children: i.jsxs(kn, {
                i18nKey: "documents.prompt.or-skip",
                children: ["Or click", i.jsx("a", {
                    id: "document-prompt__skip",
                    onClick: e.handleSkipDocument,
                    children: "here to skip this document"
                }), "."]
            })
        })]
    })
}
  , l9 = e => i.jsx(n9, {
    id: "document-prompt__view",
    children: e.allowedCaptureOptions.map( (t, n) => i.jsx(d9, {
        isPrimary: n === 0,
        option: t,
        ...e
    }, t))
});
function d9(e) {
    const {handleDrop: t, handleDropRejected: n, handleSelectCamera: r, handleInputCapture: o, isProcessing: a, documentPromptCaptureButton: s, option: c, handleDeviceHandoff: l} = e
      , {getRootProps: d, getInputProps: u} = Ia({
        accept: XP,
        onDrop: t,
        onDropRejected: n,
        multiple: !1,
        disabled: a != null
    })
      , [m] = G();
    switch (c) {
    case ii.WebCamera:
        return i.jsx(Gc, {
            id: "document-prompt__button--web-camera",
            buttonType: Q.Primary,
            disabled: a != null,
            onClick: r,
            isPending: a === nt.SelectCamera,
            children: i.jsx(ch, {
                content: s
            })
        });
    case ii.MobileCamera:
        return i.jsx(Fo, {
            id: "document-prompt__button--mobile-camera",
            "data-test": "document-prompt__button--mobile-camera",
            buttonType: Q.Primary,
            disabled: a != null,
            handleSelectImage: o,
            isPending: a === nt.UploadImage,
            children: i.jsx(ch, {
                content: s
            })
        });
    case ii.Upload:
        return i.jsxs(Gc, {
            id: "document-prompt__button--upload",
            buttonType: e.isPrimary ? Q.Primary : Q.Secondary,
            disabled: a != null,
            isPending: a === nt.UploadImage,
            ...d(),
            children: [i.jsx("input", {
                ...u(),
                "data-test": "document-prompt__view--file-upload",
                "data-cy": "file-upload"
            }), m("documents.prompt.upload")]
        });
    case ii.ToMobile:
        return i.jsx(Gc, {
            id: "document-prompt__button--upload",
            buttonType: e.isPrimary ? Q.Primary : Q.Secondary,
            disabled: a != null,
            isPending: a === nt.UploadImage,
            ...d(),
            children: [i.jsx("input", {
                ...u(),
                "data-test": "document-prompt__view--file-upload",
                "data-cy": "file-upload"
            }), m("documents.prompt.upload")]
        });
    default:
        lt(c)
    }
}
const ch = ({content: e}) => e ? i.jsx("span", {
    children: e
}) : i.jsx(i9, {
    "data-test": "document-prompt__image--camera"
});
function u9(e) {
    const {inquiry: t, template: n, documentConfigs: r, enabledCaptureOptions: o, hasCamera: a, featureFlags: s} = e
      , c = parseInt(e.match.params.documentNumber, 10)
      , [l,d] = f.useState(void 0)
      , [u,m] = f.useState([])
      , [h] = G()
      , p = Kn();
    f.useEffect( () => {
        if (t == null || n == null) {
            D.redirectToStart();
            return
        }
    }
    , []),
    f.useEffect( () => {
        if (a == null)
            e.checkCamera();
        else {
            const R = JP(o, p, a);
            m(R),
            R.length === 1 && R[0] === ii.ToMobile && e.history.replace("/verify/device-handoff/prompt")
        }
    }
    , [a]);
    const b = f.useCallback(async () => {
        e.clearMessages(),
        d(nt.SelectCamera),
        e.saveCaptureMethod(gt.Auto);
        try {
            const R = jg({
                facingMode: Ds()
            });
            e.setVideoConstraints(R),
            await Nn.prepare({
                video: R
            }, s),
            e.history.push(Pi(c, Pt.TakePhoto))
        } catch {
            e.showMessage(h("documents.prompt.failed-video")),
            d(void 0)
        }
    }
    , [c])
      , C = f.useCallback( () => {
        e.clearMessages(),
        e.showMessage(h("documents.prompt.failed-select-image")),
        d(void 0)
    }
    , [])
      , S = f.useCallback(async ([R]) => {
        e.clearMessages(),
        d(nt.UploadImage),
        e.saveCaptureMethod(gt.Upload);
        try {
            const E = await yo(R);
            e.uploadFile({
                filename: R.name,
                fileType: R.type,
                dataUrl: E
            }),
            e.history.push(Pi(c, Pt.Check))
        } catch (E) {
            switch (E.name) {
            case "NotReadableError":
                this.props.showMessage(h("documents.prompt.failed-select-image-permissions"));
                break;
            default:
                this.props.showMessage(h("documents.prompt.failed-select-image"))
            }
            d(void 0)
        }
    }
    , [c])
      , v = () => {
        l == null && (e.clearMessages(),
        d(nt.DeviceHandoff),
        e.history.push("/verify/device-handoff/prompt"))
    }
      , x = f.useCallback(R => {
        e.clearMessages(),
        d(nt.UploadImage),
        J.logAmplitude("document.camera.upload", {
            method: "input_capture",
            files: [{
                name: R == null ? void 0 : R.name,
                type: R == null ? void 0 : R.type,
                size: R == null ? void 0 : R.size
            }]
        }),
        S([R])
    }
    , [S])
      , _ = f.useCallback( () => {
        e.routeToNextStepFromDocument(t, r, c)
    }
    , [t, c]);
    return t == null || n == null || u.length === 1 && u[0] === ii.ToMobile ? null : i.jsx(c9, {
        documentConfig: r[c],
        documentPromptCaptureButton: n.attributes["document-prompt-capture-button"],
        isProcessing: l,
        handleDrop: S,
        handleDropRejected: C,
        handleSelectCamera: b,
        handleInputCapture: x,
        handleDeviceHandoff: v,
        handleSkipDocument: _,
        allowedCaptureOptions: u
    })
}
const m9 = e => {
    var t;
    return {
        inquiry: e.inquiry.inquiry,
        template: e.inquiry.template,
        documentConfigs: Da(e),
        enabledCaptureOptions: (t = dc(e)) == null ? void 0 : t["enabled-capture-options"],
        hasCamera: e.ui.hasCamera,
        featureFlags: e.inquiry.featureFlags
    }
}
  , h9 = {
    clearMessages: Lt,
    routeToNextStepFromDocument: Pd,
    saveCaptureMethod: lr,
    setVideoConstraints: cg,
    showMessage: ce,
    uploadFile: oc,
    checkCamera: Or
}
  , p9 = ke(m9, h9)
  , f9 = p9(u9)
  , g9 = g("div").withConfig({
    displayName: "PinInput__Container",
    componentId: "sc-1kcot7q-0"
})(["display:flex;justify-content:space-between;position:relative;margin-left:-", "px;margin-right:-", "px;direction:ltr;"], M.base, M.base)
  , b9 = g(Gi).withConfig({
    displayName: "PinInput__HiddenInput",
    componentId: "sc-1kcot7q-1"
})(["background:transparent !important;border-color:transparent !important;box-shadow:none !important;caret-color:transparent;color:transparent !important;position:absolute;left:0;right:0;top:0;bottom:0;&::selection{color:transparent;}"])
  , C9 = Pn(["49%{color:", ";}50%{color:transparent;}99%{color:transparent;}100%{color:", ";}"], Fe.gray100, Fe.gray100)
  , x9 = g(Gi).withConfig({
    displayName: "PinInput__CodeInput",
    componentId: "sc-1kcot7q-2"
})(["text-align:center;margin-left:", "px;margin-right:", "px;", ";", ";"], M.base, M.base, e => e.isFocused && $(["border-color:", ";color:", ";box-shadow:0 0 0 1px ", ";"], e.theme.colorPrimary, Fe.gray100, e.theme.colorPrimary), e => e.isCursor && $(["animation-name:", ";animation-duration:1s;animation-iteration-count:infinite;"], C9))
  , v9 = ({id: e, "data-test": t, allowsLetters: n=!1, autoFocus: r=!1, codeLength: o=vd, disabled: a=!1, name: s, value: c="", handleSubmitCode: l= () => {}
, onChange: d, refHiddenInput: u}) => {
    const [m,h] = f.useState(r)
      , p = Wc(c, {
        allowsLetters: n,
        codeLength: o
    });
    u != null || (u = f.createRef());
    const b = () => {
        u.current.selectionStart = u.current.selectionEnd = p.length
    }
      , C = () => {
        h(!0)
    }
      , S = () => {
        h(!1)
    }
      , v = _ => {
        d(Wc(_.target.value, {
            allowsLetters: n,
            codeLength: o
        }))
    }
      , x = _ => {
        const R = _.clipboardData || window.clipboardData;
        if (!R)
            return;
        const E = Wc(R.getData("text"), {
            allowsLetters: n,
            codeLength: o
        });
        new RegExp(`\\d{${o}}`).test(E) && (d(E),
        l({
            "confirmation-code": E
        }))
    }
    ;
    return i.jsxs(g9, {
        "data-test": t,
        children: [i.jsx(b9, {
            id: e,
            autoComplete: "no-autocomplete",
            autoFocus: r,
            name: s,
            ref: u,
            value: p,
            onBlur: S,
            onChange: v,
            onFocus: C,
            onKeyDown: b,
            onPaste: x
        }), gp(o).map(_ => {
            const R = m && Math.min(p.length, o - 1) === _
              , E = p.charAt(_)
              , T = E !== "" ? E : R ? "|" : "";
            return i.jsx(x9, {
                disabled: a,
                isCursor: E === "",
                isFocused: R,
                maxLength: 1,
                onChange: () => {}
                ,
                tabIndex: -1,
                type: "tel",
                value: T
            }, _)
        }
        )]
    })
}
;
function Wc(e, {allowsLetters: t, codeLength: n}) {
    return e.trim().toUpperCase().replace(t ? /[^0-9-A-Z]/g : /[^0-9-]/g, "").replace(/[-]/g, r => (r.charCodeAt(0) - 65296).toString()).substring(0, n)
}
const I9 = g("div").withConfig({
    displayName: "PinInputField__Container",
    componentId: "sc-16jlhqo-0"
})(["display:flex;align-items:center;margin-bottom:", "px;"], M.base * 2)
  , S9 = g("div").withConfig({
    displayName: "PinInputField__FormError",
    componentId: "sc-16jlhqo-1"
})(["", ";"], No);
function y9(e) {
    const {input: t, className: n, disabled: r, meta: {error: o, submitFailed: a, submitting: s}, autoFocus: c, handleSubmitCode: l, ...d} = e
      , u = !!(o && a)
      , m = f.createRef()
      , [h,p] = f.useState(void 0);
    f.useEffect( () => {
        u && t.value.length === 4 && (p(o),
        t.onChange(""),
        m.current.focus())
    }
    , [u]);
    const b = C => {
        p(void 0),
        t == null || t.onChange(C)
    }
    ;
    return i.jsxs(i.Fragment, {
        children: [i.jsx(I9, {
            className: n,
            children: i.jsx(v9, {
                ...d,
                ...t,
                onChange: b,
                autoFocus: c,
                handleSubmitCode: l,
                disabled: r || s,
                refHiddenInput: m,
                "aria-invalid": u
            })
        }), (u || !!h) && i.jsx(S9, {
            role: "alert",
            children: h || o
        })]
    })
}
const lh = {
    phoneConfirmationCode: [dt("Check your SMS messages for a verification code from us", bn)],
    emailConfirmationCode: [dt("Check your email inbox for a verification code from us", bn)]
};
function w9(e) {
    const {handleSubmit: t, handleSubmitCode: n, handleResendCode: r, verificationType: o, submitting: a} = e
      , [s] = G();
    return i.jsxs("form", {
        onSubmit: t,
        children: [i.jsx(Se.Field, {
            disabled: a,
            name: "confirmation-code",
            className: "col-sm-12",
            component: y9,
            handleSubmitCode: n,
            validate: o === w.VerificationEmailAddress ? lh.emailConfirmationCode : lh.phoneConfirmationCode
        }), i.jsxs(mt, {
            children: [i.jsx(fe, {
                type: "submit",
                buttonType: Q.Primary,
                disabled: a,
                isPending: a,
                children: s("form.confirmation-code.btn-submit")
            }), i.jsx(Xe, {
                height: 2
            }), i.jsx(fe, {
                id: "form-confirmation-code__resend-confirmation-code",
                "data-test": "form-confirmation-code__resend-confirmation-code",
                buttonType: Q.Secondary,
                disabled: a,
                onClick: r,
                children: s("phone-number.confirm.resend-confirmation-code")
            })]
        })]
    })
}
const Lb = Se.reduxForm({
    form: "confirmation-code"
})(w9)
  , _9 = g("div").withConfig({
    displayName: "VerifyEmailAddressConfirmView__Header",
    componentId: "sc-1rmhsk9-0"
})(["min-height:", ";margin-bottom:", "px;"], We.header, M.base * 4)
  , R9 = g("div").withConfig({
    displayName: "VerifyEmailAddressConfirmView__FormSection",
    componentId: "sc-1rmhsk9-1"
})(["margin-bottom:", "px;"], M.base * 4);
function A9(e) {
    const {handleResendCode: t, handleSubmitCode: n, verification: r} = e
      , [o] = G();
    return i.jsxs("div", {
        children: [i.jsxs(_9, {
            children: [i.jsx(et, {
                children: o("email-address.confirm.title")
            }), i.jsx(He, {
                children: o("email-address.confirm.prompt", {
                    codeLength: r.attributes["confirmation-code"].length,
                    emailAddress: r.attributes["email-address"]
                })
            })]
        }), i.jsx(R9, {
            children: i.jsx(Lb, {
                handleSubmitCode: n,
                handleResendCode: t,
                verificationType: r.type,
                onSubmit: n
            })
        })]
    })
}
class T9 extends f.Component {
    constructor() {
        super(...arguments),
        this.handleResendCode = async () => {
            const {t, verification: n} = this.props;
            this.props.clearMessages(),
            this.props.showMessage(t("email-address.confirm.resent-code")),
            await te.postResourceAction(n, "email-confirmation-code")
        }
        ,
        this.handleSubmitCode = async t => {
            const {t: n, verification: r} = this.props;
            this.props.clearMessages();
            try {
                await this.props.verificationEmailAddressSubmit(r, t, this.props.history)
            } catch {
                this.props.showMessage(n("email-address.confirm.failed"))
            }
        }
    }
    componentDidMount() {
        const {verification: t} = this.props;
        if (t == null) {
            D.redirectToStart();
            return
        }
    }
    render() {
        const {verification: t} = this.props;
        return t == null ? null : i.jsx(A9, {
            verification: t,
            handleSubmitCode: this.handleSubmitCode,
            handleResendCode: this.handleResendCode
        })
    }
}
function E9(e) {
    return {
        verification: e.verification.verification
    }
}
const k9 = {
    clearMessages: Lt,
    verificationEmailAddressSubmit: RR,
    showMessage: ce
}
  , N9 = ke(E9, k9)
  , j9 = N9(T9)
  , P9 = jn()(j9)
  , D9 = g("div").withConfig({
    displayName: "VerifyEmailAddressPromptView__Header",
    componentId: "sc-k883p3-0"
})(["min-height:", ";margin-bottom:", "px;"], We.header, M.base * 4)
  , O9 = g("div").withConfig({
    displayName: "VerifyEmailAddressPromptView__FormSection",
    componentId: "sc-k883p3-1"
})(["margin-bottom:", "px;"], M.base * 4);
function L9(e) {
    const [t] = G();
    return i.jsxs("div", {
        children: [i.jsxs(D9, {
            children: [i.jsx(et, {
                children: t("email-address.title")
            }), i.jsx(He, {
                children: t("email-address.prompt.prompt")
            })]
        }), i.jsx(O9, {
            children: i.jsx(wd, {
                labelContinue: t("email-address.prompt.btn-submit"),
                onSubmit: e.handleSubmit
            })
        })]
    })
}
class F9 extends f.Component {
    constructor() {
        super(...arguments),
        this.handleSubmit = async t => {
            const {t: n} = this.props;
            this.props.clearMessages();
            try {
                await this.props.verificationEmailAddressStart(t)
            } catch {
                this.props.showMessage(n("email-address.prompt.invalid")),
                document.body.scrollTo(0, 0)
            }
        }
    }
    componentDidMount() {
        const {template: t} = this.props;
        if (t == null) {
            D.redirectToStart();
            return
        }
    }
    render() {
        const {template: t} = this.props;
        return t == null ? null : i.jsx(L9, {
            handleSubmit: this.handleSubmit
        })
    }
}
function M9(e) {
    return {
        template: e.inquiry.template
    }
}
const B9 = {
    clearMessages: Lt,
    showMessage: ce,
    verificationEmailAddressStart: _R
}
  , V9 = ke(M9, B9)
  , U9 = V9(F9)
  , H9 = jn()(U9)
  , q9 = g("div").withConfig({
    displayName: "VerifyExitView__Header",
    componentId: "sc-1kpause-0"
})(["min-height:", ";margin-bottom:", "px;"], We.header, M.base * 4)
  , $9 = g("div").withConfig({
    displayName: "VerifyExitView__ActionSection",
    componentId: "sc-1kpause-1"
})(["margin-bottom:", "px;"], M.base * 4);
function G9(e) {
    const {handleGoBack: t, handleSubmit: n} = e
      , [r] = G()
      , {exitPictographPosition: o} = f.useContext(Je)
      , a = i.jsx(Qe, {
        "aria-label": "exit pictograph",
        children: i.jsx(Kt, {
            url: "exitPictographUrl",
            height: "exitPictographHeight",
            children: i.jsx(ai, {})
        })
    });
    return i.jsxs("div", {
        children: [o === $t.Start && a, i.jsxs(q9, {
            children: [i.jsx(et, {
                children: r("exit.title")
            }), i.jsx(He, {
                children: r("exit.prompt")
            })]
        }), o === $t.Center && a, i.jsx($9, {
            children: i.jsx(fe, {
                id: "exit__button--close",
                "data-test": "exit-view__close",
                onClick: n,
                "aria-label": "close",
                children: r("exit.btn-submit")
            })
        }), i.jsx(He, {
            children: i.jsx(kn, {
                i18nKey: "exit.or-go-back",
                defaults: "Or <0>click here to close</0>",
                components: [i.jsx("a", {
                    id: "exit__link--back",
                    "data-test": "exit-view__back",
                    onClick: t,
                    href: "#",
                    children: "click here to close"
                }, "exit__link--back")],
                children: "Or click here to close"
            })
        })]
    })
}
const W9 = () => {
    const e = Vt()
      , t = st(o => o.inquiry.inquiry)
      , n = () => {
        e.goBack()
    }
      , r = () => {
        md(),
        J.logAmplitude("verify-ui.exited"),
        J.logAmplitude("verify-ui.exit-view.submit-button.clicked"),
        D.onEvent(Oe.Exit, {
            inquiryId: t == null ? void 0 : t.id,
            sessionToken: te.accessToken
        }, {
            inquiry: t
        }),
        An(e),
        e.push("/widget")
    }
    ;
    return i.jsx(G9, {
        handleGoBack: n,
        handleSubmit: r
    })
}
  , dh = {
    email: [dt("The email you entered is not valid", ar(yd)), dt("Enter your email address", bn)],
    name: dt("Please enter your name", ar(/..+/))
};
function Y9(e) {
    const {handleSubmit: t, pristine: n, submitting: r} = e
      , [o] = G();
    return i.jsxs("form", {
        onSubmit: t,
        children: [i.jsxs(ri, {
            children: [i.jsx("label", {
                htmlFor: "name",
                children: o("support-prompt.name-label")
            }), i.jsx(Se.Field, {
                name: "name",
                component: Wu,
                autoComplete: "name",
                disabled: r,
                type: "text",
                placeholder: o("support-prompt.name"),
                validate: dh.name
            })]
        }), i.jsxs(ri, {
            children: [i.jsx("label", {
                htmlFor: "email-address",
                children: o("support-prompt.email-address-label")
            }), i.jsx(Se.Field, {
                name: "email-address",
                component: Wu,
                autoComplete: "email",
                disabled: r,
                type: "email",
                placeholder: "you@example.com",
                validate: dh.email
            })]
        }), i.jsx(Se.Field, {
            name: "comment",
            component: g3,
            disabled: r,
            type: "text",
            rows: 5,
            placeholder: o("support-prompt.comment")
        }), i.jsx(mt, {
            children: i.jsx(fe, {
                type: "submit",
                buttonType: Q.Primary,
                disabled: n || r,
                isPending: r,
                children: o("support-prompt.btn-submit")
            })
        })]
    })
}
const Fb = Se.reduxForm({
    form: "support-ticket"
})(Y9)
  , uh = g("div").withConfig({
    displayName: "VerifyFailedView__Header",
    componentId: "sc-9nspp9-0"
})(["min-height:", ";margin-bottom:", "px;"], We.header, M.base * 4)
  , es = g("div").withConfig({
    displayName: "VerifyFailedView__TextDefaultCentered",
    componentId: "sc-9nspp9-1"
})(["text-align:", ";"], ({theme: e}) => e.textAlign === Ys.Default ? "center" : e.textAlign)
  , z9 = g("div").withConfig({
    displayName: "VerifyFailedView__SupportContent",
    componentId: "sc-9nspp9-2"
})([""]);
function K9({handleClose: e, handleSubmitTicket: t, hasSupport: n, hasCompleteButton: r, pictograph: o}) {
    const [a] = G()
      , {failedPictographPosition: s} = f.useContext(Je)
      , c = o !== "none" && i.jsx(Qe, {
        "aria-label": "failed pictograph",
        children: i.jsx(Kt, {
            url: "failedPictographUrl",
            height: "failedPictographHeight",
            children: i.jsx(Vl, {
                style: {
                    width: "120px",
                    height: "120px"
                }
            })
        })
    });
    return n ? i.jsxs(z9, {
        children: [i.jsxs(uh, {
            children: [i.jsx(et, {
                children: i.jsx(es, {
                    children: a("failed.title-support")
                })
            }), i.jsx(es, {
                children: a("failed.prompt-support")
            })]
        }), i.jsx(Fb, {
            onSubmit: t
        })]
    }) : i.jsxs("div", {
        children: [s === $t.Start && c, i.jsxs(uh, {
            children: [i.jsx(et, {
                children: i.jsx(es, {
                    children: a("failed.title")
                })
            }), i.jsx(es, {
                children: i.jsx(X, {
                    children: a("failed.prompt")
                })
            })]
        }), s === $t.Center && c, r && i.jsx(mt, {
            children: i.jsx(fe, {
                onClick: e,
                id: "failed__button",
                "data-test": "failed__button",
                children: a("failed.btn-submit")
            })
        })]
    })
}
const mh = 1e3;
function Q9(e) {
    const {inquiry: t, template: n} = e
      , [r] = G()
      , o = Vt();
    f.useEffect( () => {
        if (n == null || t == null) {
            D.redirectToStart();
            return
        }
    }
    , []);
    const a = async p => {
        const {inquiry: b} = e;
        try {
            const C = (await te.getResource(y.Inquiry, b.id)).data;
            switch (e.saveInquiry(C),
            C.attributes.status) {
            case ge.Created:
            case ge.Pending:
                setTimeout( () => a(p), mh);
                break;
            case ge.Completed:
            case ge.NeedsReview:
            case ge.Approved:
            case ge.Declined:
            case ge.Expired:
            case ge.Failed:
                p(C);
                break;
            default:
                lt(C.attributes.status)
            }
        } catch (C) {
            C instanceof xt ? setTimeout( () => a(p), mh) : he(C)
        }
    }
      , s = async () => new Promise(p => a(p))
      , {error: c, callback: l} = vt(async () => {
        const p = await s();
        D.onEvent(Oe.Fail, {
            inquiryId: p.id,
            referenceId: p.attributes["reference-id"],
            status: p.attributes.status,
            fields: p.attributes.fields
        }, {
            inquiry: p
        })
    }
    , [s])
      , {error: d, callback: u} = vt(async p => {
        await te.postResourceAction({
            id: t.id,
            type: t.type
        }, "send-support-ticket", {
            meta: p
        }),
        await s(),
        o.push("/verify/support/sent")
    }
    , [t, s]);
    if (_t({
        error: c != null ? c : d,
        onError: () => ce(r("support-prompt.failed")),
        onNetworkError: () => ce(r("errors.network"))
    }),
    n == null || t == null)
        return null;
    const h = (t.attributes["next-step"].config || {}).pictograph;
    return i.jsx(K9, {
        handleClose: l,
        handleSubmitTicket: u,
        hasCompleteButton: vo(t),
        hasSupport: n.attributes["has-support"],
        pictograph: h
    })
}
function Z9(e) {
    return {
        inquiry: e.inquiry.inquiry,
        organization: e.inquiry.organization,
        template: e.inquiry.template
    }
}
const J9 = {
    saveInquiry: Ot,
    showMessage: ce
}
  , X9 = ke(Z9, J9)(Q9)
  , eD = g("div").withConfig({
    displayName: "VerifyGovernmentIdCaptureView__Header",
    componentId: "sc-1lf35hz-0"
})(["min-height:", ";margin-bottom:", ";"], We.header, I.Spacing[4])
  , tD = g("div").withConfig({
    displayName: "VerifyGovernmentIdCaptureView__CameraSelect",
    componentId: "sc-1lf35hz-1"
})(["margin-bottom:", ";"], I.Spacing[2])
  , nD = g(He).withConfig({
    displayName: "VerifyGovernmentIdCaptureView__SelectCameraLabel",
    componentId: "sc-1lf35hz-2"
})(["font-weight:", ";"], Oa.Medium)
  , iD = ({countryCode: e, governmentIdClass: t, governmentIdSide: n}) => {
    const [r] = G()
      , o = fi(r, ["government-id.capture.title", "government-id.title"], e, t, n);
    return i.jsx(et, {
        children: o
    })
}
  , rD = ({governmentIdClass: e, governmentIdSide: t}) => {
    const [n] = G()
      , r = fi(n, ["government-id.capture.prompt"], null, e, t);
    return i.jsx(He, {
        children: i.jsx(X, {
            children: r
        })
    })
}
;
function oD(e) {
    var b;
    const {requiresSide: t, handleCapture: n, handleCameraChange: r, handleError: o, selectedCountryCode: a, governmentIdClass: s, selectedCamera: c, videoConstraints: l, featureFlags: d, zoomFactor: u} = e
      , [m] = G()
      , h = i.jsx(qg, {
        governmentIdClass: s,
        requiresSide: t,
        mirrored: l.facingMode === "user",
        simple: d["verify:remove-front-overlay-for-id-and-dl"] && t === B.Front && ["id", "dl"].includes(s)
    });
    let p;
    return t === B.BarcodePdf417 ? e.shouldUseMicroblink ? p = i.jsx(Rs, {
        handleCapture: n,
        handleError: o,
        labelTakePhoto: m("government-id.capture.btn-take-photo"),
        videoConstraints: l,
        requiresSide: t,
        governmentIdClass: e.governmentIdClass,
        overlay: h,
        zoomFactor: u
    }) : p = i.jsx(Gg, {
        handleCapture: n,
        handleError: o,
        labelTakePhoto: m("government-id.capture.btn-take-photo"),
        videoConstraints: l,
        requiresSide: t,
        overlay: h,
        zoomFactor: u
    }) : p = e.shouldUseMicroblink ? i.jsx(Rs, {
        handleCapture: n,
        handleError: o,
        labelTakePhoto: m("government-id.capture.btn-take-photo"),
        videoConstraints: l,
        overlay: h,
        requiresSide: t,
        governmentIdClass: e.governmentIdClass,
        zoomFactor: u
    }) : i.jsx(Jg, {
        isPassport: s === "pp",
        handleCapture: n,
        handleError: o,
        labelTakePhoto: m("government-id.capture.btn-take-photo"),
        videoConstraints: l,
        overlay: h,
        zoomFactor: u
    }),
    i.jsxs("div", {
        children: [i.jsxs(eD, {
            children: [i.jsx(iD, {
                countryCode: a,
                governmentIdClass: s,
                governmentIdSide: t
            }), i.jsx(rD, {
                governmentIdClass: s,
                governmentIdSide: t
            })]
        }), e.shouldDisplayCameraSelector && ((b = e.cameraSelectOptions) == null ? void 0 : b.length) > 1 && i.jsxs(tD, {
            children: [i.jsx(nD, {
                children: "Select Camera"
            }), i.jsx(Zs, {
                "data-test": "gov-id-capture__select-camera",
                value: c,
                onChange: r,
                children: e.cameraSelectOptions.map( (C, S) => i.jsx("option", {
                    value: C.deviceId,
                    children: `Camera ${S + 1}`
                }, C.deviceId))
            })]
        }), p]
    })
}
const aD = 1e6
  , sD = 2e3
  , cD = e => {
    var E;
    const {selectedCountryCode: t, featureFlags: n, match: r, governmentIdClass: o, videoConstraints: a, cameraOptions: s, history: c} = e
      , l = parseInt(r.params.step, 10)
      , d = ld(e.inquiry.attributes["next-step"].config, t, o, l)
      , u = a.deviceId
      , m = navigator.userAgent.includes("Android") && n["verify:android-select-camera"]
      , h = Od();
    let p = [];
    s != null && (s.backCameras.length > 0 ? p = s.backCameras : p = s.frontCameras);
    const [b] = G()
      , [C,S] = f.useState(!1);
    f.useEffect( () => {
        if (e.inquiry == null) {
            D.redirectToStart();
            return
        }
        m && e.loadCameraOptions()
    }
    , []),
    f.useEffect( () => {
        ba(window.location.host) ? Ca(d, t, o, n) || J.logAmplitude("government-id.microblink.unsupported-side", {
            currentSide: d,
            selectedCountryCode: t,
            governmentIdClass: o
        }) : J.logAmplitude("government-id.microblink.unsupported-browser", {
            host: window.location.host
        })
    }
    , [n]);
    const v = async (T, F, O, N, U) => {
        var L;
        e.updateCameraInspectionData(O),
        e.saveCaptureMethod(F),
        T = T.filter(H => H != null);
        const V = (L = p.find(H => H.deviceId === (u == null ? void 0 : u.exact))) == null ? void 0 : L.label
          , ne = {
            ...m && V != null && {
                cameraName: V
            },
            imageSizes: T.map(H => H.length)
        };
        try {
            if (J.logAmplitude("government-id.camera.capture", ne),
            T.some(q => q.length > aD)) {
                const q = [];
                for (const ee of T)
                    q.push(await sb(ee, sD));
                T = q
            }
            const H = T.map( (q, ee) => ({
                filename: `photo${ee + 1}.jpg`,
                fileType: mo,
                dataUrl: q,
                captureMethod: F,
                captureFlow: Io.Guided
            }));
            e.uploadFiles(d, H, N, U),
            D.onEvent(Oe.DocumentCameraCapture),
            e.history.index > 0 ? e.history.replace(ji(l, Ke.Check)) : e.history.push(ji(l, Ke.Check))
        } catch (H) {
            e.showMessage(b("government-id.capture.failed-screenshot")),
            Be("failed to capture screenshot", "error", {
                error: H
            })
        }
    }
      , x = (T, F) => {
        F === "capture" && e.showMessage(b("government-id.capture.failed-screenshot")),
        T instanceof Xt ? (he(T, "warning", {
            ...T.originalError,
            state: F
        }, {
            jira: "PER-10182"
        }),
        S(!0),
        F === "load" && D.onEvent(Oe.LoadCameraFailed, {
            error: T.name,
            message: T.message
        })) : T instanceof Error ? (he(T, "error", {
            state: F
        }, {
            jira: "PER-10182"
        }),
        F === "load" && (D.onEvent(Oe.LoadCameraFailed, {
            error: T.name,
            message: T.message
        }),
        c.push("/verify/support/camera"))) : (typeof T == "object" && Object.prototype.hasOwnProperty.call(T, "message") ? Be(T.message, "error", {
            ...T,
            state: F
        }, {
            jira: "PER-10182"
        }) : Be(T, "error", {
            state: F
        }, {
            jira: "PER-10182"
        }),
        F === "load" && (D.onEvent(Oe.LoadCameraFailed, {
            message: T
        }),
        c.push("/verify/support/camera")))
    }
      , _ = !In() && ba(window.location.host) && !C && Ca(d, t, o, n)
      , R = T => {
        const F = T.target.value
          , O = p.find(U => U.deviceId === F).label;
        J.logAmplitude("government-id.camera.changed", {
            deviceId: F,
            cameraName: O
        }),
        Nn.dispose();
        const N = {
            ...a,
            deviceId: {
                exact: F
            }
        };
        Nn.prepare({
            video: N
        }, n),
        e.setVideoConstraints(N)
    }
    ;
    return i.jsx(oD, {
        requiresSide: d,
        shouldUseMicroblink: _,
        shouldDisplayCameraSelector: m,
        featureFlags: n,
        selectedCountryCode: t,
        governmentIdClass: o,
        cameraSelectOptions: p,
        selectedCamera: (E = u == null ? void 0 : u.exact) != null ? E : "",
        handleCapture: v,
        handleCameraChange: R,
        handleError: x,
        videoConstraints: a,
        zoomFactor: h
    })
}
;
function lD(e) {
    var t;
    return {
        selectedCountryCode: (t = e.inquiry.inquiry) == null ? void 0 : t.attributes["selected-country-code"],
        inquiry: e.inquiry.inquiry,
        featureFlags: e.inquiry.featureFlags,
        governmentIdClass: e.verification.governmentIdClass,
        videoConstraints: e.verification.videoConstraints,
        cameraOptions: e.ui.cameraOptions
    }
}
const dD = {
    updateCameraInspectionData: ef,
    saveCaptureMethod: lr,
    setVideoConstraints: So,
    showMessage: ce,
    loadCameraOptions: ql,
    uploadFiles: $s
}
  , uD = ke(lD, dD)
  , mD = uD(cD)
  , hD = jn()(mD)
  , pD = g("div").withConfig({
    displayName: "VerifyGovernmentIdCheckView__Header",
    componentId: "sc-73oem0-0"
})(["min-height:", ";margin-bottom:", "px;"], We.header, M.base * 4)
  , fD = g("div").withConfig({
    displayName: "VerifyGovernmentIdCheckView__ImagePositioner",
    componentId: "sc-73oem0-1"
})(["img{display:block;margin-left:auto;margin-right:auto;max-width:100%;max-height:320px;margin-bottom:", "px;}"], M.base * 2)
  , gD = g("div").withConfig({
    displayName: "VerifyGovernmentIdCheckView__Minify",
    componentId: "sc-73oem0-2"
})(["display:inline;img{height:12px;margin-bottom:4px;}"]);
function bD(e) {
    const {currentUpload: t, handleContinue: n, handleRetry: r, isProcessing: o} = e
      , [a] = G();
    return ["image/jpeg", "image/png"].includes(t.fileType) ? i.jsxs("div", {
        children: [i.jsxs(pD, {
            children: [i.jsx(et, {
                children: a("government-id.check.title")
            }), i.jsx(He, {
                children: a("government-id.check.prompt")
            })]
        }), i.jsx(fD, {
            children: i.jsx(Ob, {
                src: t.dataUrl,
                alt: "upload preview"
            })
        }), i.jsxs(mt, {
            children: [i.jsx(fe, {
                id: "government_id__use-image",
                buttonType: Q.Primary,
                disabled: o,
                onClick: n,
                "data-test": "government-id-check__continue",
                children: o ? i.jsxs("span", {
                    children: [a("government-id.check.uploading"), i.jsx(gD, {
                        children: i.jsx(Qi, {})
                    })]
                }) : a("government-id.check.btn-submit")
            }), i.jsx(Xe, {
                height: 2
            }), i.jsx(fe, {
                id: "government_id__retake",
                buttonType: Q.Secondary,
                disabled: o,
                onClick: r,
                "data-test": "government-id-check__retake",
                children: a("government-id.check.btn-retake")
            })]
        })]
    }) : i.jsx(Db, {
        fileName: t.filename,
        isProcessing: o,
        handleContinue: n,
        handleRetry: r
    })
}
function CD(e) {
    const {clientExtractions: t, forcedStatus: n, governmentIdClass: r, inquiry: o, match: a, routingInputs: s, selectedCountryCode: c, uploads: l, cameraInspectionData: d} = e
      , u = parseInt(a.params.step, 10)
      , [m] = f.useState( () => ld(o.attributes["next-step"].config, c, r, u))
      , h = l[m]
      , p = h && h[h.length - 1];
    f.useEffect( () => {
        const {inquiry: _} = e;
        if (_ == null) {
            D.redirectToStart();
            return
        }
        if (m == null) {
            D.redirectToStart();
            return
        }
        (h == null || h.length === 0 || !p) && (e.showMessage(b("errors.network")),
        e.history.goBack())
    }
    , []);
    const [b] = G()
      , {error: C, loading: S, callback: v} = vt(async () => {
        e.clearMessages(),
        ya(Object.values(l)).map(R => R.dataUrl.length).reduce( (R, E) => R + E, 0) > Gs && e.showMessage(b("government-id.check.large-upload")),
        gv(o, c, r, u + 1) ? await e.verificationGovernmentIdSubmit(s, r, l, d, t, e.history, n, b) : e.history.push(ji(u + 1, Ke.Prompt))
    }
    , [l, o, c, r, u, s, t, n]);
    _t({
        error: C,
        onError: () => e.showMessage(b("errors.network")),
        onNetworkError: () => e.showMessage(b("errors.network"))
    });
    const x = () => {
        S || e.history.goBack()
    }
    ;
    return h == null || h.length === 0 || !p ? null : i.jsx(bD, {
        currentUpload: p,
        handleContinue: v,
        handleRetry: x,
        isProcessing: S
    })
}
function xD(e) {
    var t;
    return {
        inquiry: e.inquiry.inquiry,
        clientExtractions: e.verification.clientExtractions,
        clientExtractionSource: e.verification.clientExtractionSource,
        selectedCountryCode: (t = e.inquiry.inquiry) == null ? void 0 : t.attributes["selected-country-code"],
        forcedStatus: e.test.forcedStatus,
        governmentIdClass: e.verification.governmentIdClass,
        routingInputs: Cc(e),
        uploads: e.verification.uploads,
        cameraInspectionData: e.verification.cameraInspectionData
    }
}
const vD = {
    clearMessages: Lt,
    showMessage: ce,
    verificationGovernmentIdSubmit: NR
}
  , ID = ke(xD, vD)
  , SD = ID(CD)
  , yD = g("div").withConfig({
    displayName: "VerifyGovernmentIdFailedView__Header",
    componentId: "sc-fi89xw-0"
})(["", ""], e => e.withIcon ? $(["min-height:", ";margin-bottom:", "px;"], We.header, M.base * 4) : $(["margin-bottom:", "px;"], M.base * 2))
  , wD = g("div").withConfig({
    displayName: "VerifyGovernmentIdFailedView__FailureReasonSection",
    componentId: "sc-fi89xw-1"
})(["margin-bottom:", "px;"], M.base * 6)
  , _D = g("div").withConfig({
    displayName: "VerifyGovernmentIdFailedView__FailureReasonOption",
    componentId: "sc-fi89xw-2"
})(["display:flex;align-items:center;margin-bottom:", "px;"], M.base * 2)
  , RD = g.div.withConfig({
    displayName: "VerifyGovernmentIdFailedView__FailureReasonPictograph",
    componentId: "sc-fi89xw-3"
})(["display:flex;align-items:center;flex-shrink:0;justify-content:space-around;margin-right:", "px;> img,svg{height:50px;width:50px;}"], M.base * 2);
function AD({handleContinue: e, verification: t}) {
    const [n] = G()
      , {iconStyle: r} = f.useContext(Je)
      , o = r !== Lr.None
      , a = (t.attributes["entity-confidence-reasons"] || []).filter(c => Object.values(cn).includes(c))
      , s = a.length === 0 ? cn.Generic : a[0];
    return i.jsxs("div", {
        children: [i.jsxs(yD, {
            withIcon: o,
            children: [i.jsx(et, {
                children: i.jsx(X, {
                    children: n("government-id.failed.title")
                })
            }), i.jsx(He, {
                children: i.jsx(X, {
                    children: n("government-id.failed.prompt")
                })
            })]
        }), i.jsx(wD, {
            children: i.jsx(TD, {
                withIcon: o,
                failureReason: s,
                t: n
            })
        }), i.jsx(mt, {
            children: i.jsx(fe, {
                id: "government-id-failed__continue",
                buttonType: Q.Primary,
                onClick: e,
                children: n("government-id.failed.btn-submit")
            })
        })]
    })
}
const TD = ({withIcon: e, failureReason: t, t: n}) => {
    let r, o;
    switch (t) {
    case cn.BarcodeNotDetected:
        r = i.jsx(pe, {
            vectorEffect: "initial",
            children: i.jsx(vr, {})
        }),
        o = n("government-id.failed.failure-reasons.barcode-missing");
        break;
    case cn.MrzNotDetected:
        r = i.jsx(pe, {
            vectorEffect: "initial",
            children: i.jsx(vr, {})
        }),
        o = n("government-id.failed.failure-reasons.mrz-missing");
        break;
    case cn.Blurry:
        r = i.jsx(pe, {
            vectorEffect: "initial",
            children: i.jsx(Ii, {})
        }),
        o = n("government-id.failed.failure-reasons.blurry");
        break;
    case cn.Glare:
        r = i.jsx(pe, {
            children: i.jsx(rp, {})
        }),
        o = n("government-id.failed.failure-reasons.glare");
        break;
    case cn.PortraitMissing:
        r = i.jsx(pe, {
            children: i.jsx(Jc, {})
        }),
        o = n("government-id.failed.failure-reasons.missing-portrait");
        break;
    case cn.DoubleFrontDetected:
        r = i.jsx(pe, {
            vectorEffect: "initial",
            children: i.jsx(vr, {})
        }),
        o = n("government-id.failed.failure-reasons.id-back");
        break;
    case cn.DisabledIdClass:
        r = i.jsx(pe, {
            children: i.jsx(ai, {})
        }),
        o = n("government-id.failed.failure-reasons.disabled-id-class");
        break;
    case cn.MilitaryId:
        r = i.jsx(pe, {
            vectorEffect: "initial",
            children: i.jsx(Ii, {})
        }),
        o = n("government-id.failed.failure-reasons.military-id");
        break;
    case cn.Expired:
        r = i.jsx(pe, {
            children: i.jsx(ai, {})
        }),
        o = n("government-id.failed.failure-reasons.expired");
        break;
    case cn.CornerMissing:
        r = i.jsx(pe, {
            vectorEffect: "initial",
            children: i.jsx(Ii, {})
        }),
        o = n("government-id.failed.failure-reasons.corner-missing");
        break;
    case cn.SelectedCountryMismatch:
        r = i.jsx(pe, {
            vectorEffect: "initial",
            children: i.jsx(Ii, {})
        }),
        o = n("government-id.failed.failure-reasons.selected-country-mismatch");
        break;
    case cn.FailedAgeComparison:
        r = i.jsx(pe, {
            vectorEffect: "initial",
            children: i.jsx(Ii, {})
        }),
        o = n("government-id.failed.failure-reasons.failed-age-comparison");
        break;
    case cn.UnprocessableImage:
        r = i.jsx(pe, {
            children: i.jsx(ai, {})
        }),
        o = n("government-id.failed.failure-reasons.unprocessable-image");
        break;
    case cn.PortraitNotClear:
        r = i.jsx(pe, {
            children: i.jsx(Jc, {})
        }),
        o = n("government-id.failed.failure-reasons.portrait-not-clear");
        break;
    case cn.Generic:
        r = i.jsx(pe, {
            vectorEffect: "initial",
            children: i.jsx(Ii, {})
        }),
        o = n("government-id.failed.failure-reasons.generic");
        break;
    default:
        lt(t)
    }
    return i.jsxs(_D, {
        children: [e && i.jsx(RD, {
            "data-test": "government-id-failed__failure-reason-pictograph",
            children: r
        }), i.jsx(X, {
            children: o
        })]
    })
}
  , ED = e => (f.useEffect( () => {
    (e.inquiry == null || e.verification == null) && D.redirectToStart()
}
, []),
e.inquiry == null || e.verification == null ? null : i.jsx(AD, {
    handleContinue: () => e.routeToNextStep(e.inquiry, Nt),
    verification: e.verification
}));
function kD(e) {
    return {
        inquiry: e.inquiry.inquiry,
        verification: e.verification.verification
    }
}
const ND = {
    routeToNextStep: Yt
}
  , jD = ke(kD, ND)(ED)
  , PD = g("div").withConfig({
    displayName: "VerifyGovernmentIdPendingView__Container",
    componentId: "sc-w317h0-0"
})(["", ""], e => e.asOverlay && $(["position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);"]))
  , DD = g("div").withConfig({
    displayName: "VerifyGovernmentIdPendingView__Header",
    componentId: "sc-w317h0-1"
})(["min-height:", ";margin-bottom:", "px;"], We.header, M.base * 4)
  , OD = g("div").withConfig({
    displayName: "VerifyGovernmentIdPendingView__AnimationContainer",
    componentId: "sc-w317h0-2"
})(["display:flex;justify-content:center;align-items:center;height:200px;margin-top:", ";"], M.base * 8);
function LD({asOverlay: e=!1}) {
    const [t] = G();
    return i.jsxs(PD, {
        asOverlay: e,
        children: [!e && i.jsxs(DD, {
            children: [i.jsx(et, {
                children: t("government-id.pending.title")
            }), i.jsx(He, {
                children: t("government-id.pending.description")
            })]
        }), i.jsx(OD, {
            children: i.jsx(Lo, {
                icon: "verification"
            })
        })]
    })
}
const FD = e => {
    const t = Vt()
      , [n] = G()
      , {processingDisplayStyle: r} = f.useContext(Je)
      , o = r === Ea.Overlay;
    return f.useEffect( () => {
        const {verification: a, inquiry: s} = e;
        if (a == null || s == null) {
            D.redirectToStart();
            return
        }
        (async () => {
            try {
                await e.pollVerification({
                    verification: a,
                    history: t,
                    handleFailed: c => {
                        const l = c.included.find(d => d.id === c.data.relationships.inquiry.data.id);
                        l.attributes["next-step"].type === w.VerificationGovernmentId ? t.push("/verify/government-id/failed") : e.routeToNextStep(l)
                    }
                })
            } catch {
                e.showMessage(n("errors.network"), !0)
            }
        }
        )()
    }
    , []),
    e.verification == null ? null : i.jsx(LD, {
        asOverlay: o
    })
}
;
function MD(e) {
    return {
        inquiry: e.inquiry.inquiry,
        verification: e.verification.verification
    }
}
const BD = {
    pollVerification: Do,
    routeToNextStep: Yt,
    showMessage: ce
}
  , VD = ke(MD, BD)
  , UD = VD(FD)
  , Mb = ["application/pdf", "image/jpeg", "image/png", "image/heic"]
  , HD = g("div").withConfig({
    displayName: "VerifyGovernmentIdPromptView__Header",
    componentId: "sc-1n4u91d-0"
})(["min-height:", ";margin-bottom:", ";"], We.header, I.Spacing[4])
  , qD = ({countryCode: e, governmentIdClass: t, governmentIdSide: n}) => {
    const [r] = G()
      , o = fi(r, ["government-id.prompt.title", "government-id.title"], e, t, n);
    return i.jsx(et, {
        children: o
    })
}
  , $D = ({governmentIdClass: e, governmentIdSide: t}) => {
    const [n] = G()
      , r = fi(n, ["government-id.prompt.prompt"], null, e, t);
    return i.jsx(He, {
        children: i.jsx(X, {
            children: r
        })
    })
}
  , GD = g.div.withConfig({
    displayName: "VerifyGovernmentIdPromptView__CaptureOptionsContainer",
    componentId: "sc-1n4u91d-1"
})(["width:100%;"])
  , Yc = g(fe).withConfig({
    displayName: "VerifyGovernmentIdPromptView__OptionButton",
    componentId: "sc-1n4u91d-2"
})(["margin-bottom:", ";:last-of-type{margin-bottom:0;}"], I.Spacing[4])
  , WD = g(Dr).withConfig({
    displayName: "VerifyGovernmentIdPromptView__ImgCamera",
    componentId: "sc-1n4u91d-3"
})(["vertical-align:bottom;path[stroke]{stroke:", ";}"], e => e.theme.colorFontButtonPrimary);
function YD(e) {
    return i.jsx(GD, {
        id: "government-id-prompt__view",
        children: e.enabledCaptureOptions.map( (t, n) => i.jsx(zD, {
            isPrimary: n === 0,
            option: t,
            ...e
        }, t))
    })
}
function zD(e) {
    const {handleSelectCamera: t, handleInputCapture: n, handleDeviceHandoff: r, isProcessing: o, documentPromptCaptureButton: a, option: s} = e
      , {getRootProps: c, getInputProps: l} = Ia({
        onDrop: e.handleDrop,
        multiple: !1,
        accept: Mb
    })
      , [d] = G()
      , u = o != null;
    switch (s) {
    case fn.WebCamera:
        return i.jsx(Yc, {
            id: "government-id-prompt__button--web-camera",
            buttonType: Q.Primary,
            disabled: u,
            onClick: t,
            isPending: o === nt.SelectCamera,
            "aria-label": a || d("government-id.prompt.btn-take-photo-label"),
            children: i.jsx(hh, {
                children: a
            })
        });
    case fn.MobileCamera:
        return i.jsx(Fo, {
            buttonType: Q.Primary,
            disabled: u,
            id: "government-id-prompt__button--mobile-camera",
            handleSelectImage: n,
            isPending: o === nt.UploadImage,
            "aria-label": a || d("government-id.prompt.btn-take-photo-label"),
            children: i.jsx(hh, {
                children: a
            })
        });
    case fn.Upload:
        return i.jsxs(Yc, {
            buttonType: e.isPrimary ? Q.Primary : Q.Secondary,
            disabled: u,
            ...c(),
            children: [i.jsx("input", {
                ...l(),
                "data-test": "file-upload",
                "data-cy": "file-upload"
            }), d("government-id.prompt.upload")]
        });
    case fn.DeviceHandoff:
        return i.jsx(Yc, {
            id: "government-id-prompt__button--device-handoff",
            "data-test": "government-id-prompt__button--device-handoff",
            buttonType: e.isPrimary ? Q.Primary : Q.Secondary,
            disabled: u,
            onClick: r,
            isPending: o === nt.DeviceHandoff,
            children: d("government-id.prompt.btn-send-to-device")
        });
    default:
        lt(s)
    }
}
const hh = ({children: e}) => e ? i.jsx(i.Fragment, {
    children: e
}) : i.jsx(WD, {
    "data-test": "government-id-prompt__image--camera"
})
  , Kr = g(Kt).withConfig({
    displayName: "VerifyGovernmentIdPromptView__StyledCustomizablePictograph",
    componentId: "sc-1n4u91d-4"
})(["width:100%;"])
  , KD = ({currentSide: e, governmentIdClass: t}) => {
    if (t === "pp")
        switch (e) {
        case B.PassportSignature:
            return i.jsx(Kr, {
                url: "passportSignaturePictographUrl",
                height: "passportSignaturePictographHeight",
                "aria-label": "passport signature",
                vectorEffect: "initial",
                children: i.jsx(hn, {
                    children: i.jsx(ds, {
                        height: 64,
                        width: "100%"
                    })
                })
            });
        default:
            return i.jsx(Kr, {
                url: "passportFrontPictographUrl",
                height: "passportFrontPictographHeight",
                "aria-label": "passport front",
                vectorEffect: "initial",
                children: i.jsx(hn, {
                    children: i.jsx(Jh, {
                        height: 80,
                        width: "100%"
                    })
                })
            })
        }
    switch (e) {
    case B.Back:
    case B.BarcodePdf417:
        return i.jsx(Kr, {
            url: "idBackPictographUrl",
            height: "idBackPictographHeight",
            "aria-label": "id back",
            vectorEffect: "initial",
            children: i.jsx(hn, {
                children: i.jsx(vr, {
                    height: 64,
                    width: "100%"
                })
            })
        });
    case B.Front:
        return i.jsx(Kr, {
            url: "idFrontPictographUrl",
            height: "idFrontPictographHeight",
            "aria-label": "id front",
            vectorEffect: "initial",
            children: i.jsx(hn, {
                children: i.jsx(Ii, {
                    height: 64,
                    width: "100%"
                })
            })
        });
    case B.FrontOrBack:
        return i.jsx(Kr, {
            url: "idFrontPictographUrl",
            height: "idFrontPictographHeight",
            "aria-label": "id front",
            vectorEffect: "initial",
            children: i.jsxs(hn, {
                children: [i.jsx(Ii, {
                    height: 48,
                    width: "100%"
                }), i.jsx(vr, {
                    height: 48,
                    width: "100%"
                })]
            })
        });
    case B.PassportSignature:
        return i.jsx(Kr, {
            url: "passportSignaturePictographUrl",
            height: "passportSignaturePictographHeight",
            "aria-label": "passport signature",
            vectorEffect: "initial",
            children: i.jsx(hn, {
                children: i.jsx(ds, {
                    height: 64,
                    width: "100%"
                })
            })
        });
    default:
        lt(e)
    }
}
  , QD = e => {
    const {selectedCountryCode: t, currentSide: n, governmentIdClass: r, enabledCaptureOptions: o} = e
      , {governmentIdPictographPosition: a} = f.useContext(Je);
    if (o.length === 0)
        return i.jsx(Tn, {});
    const s = i.jsx(Qe, {
        height: null,
        width: null,
        role: null,
        "aria-label": null,
        children: i.jsx(KD, {
            currentSide: n,
            governmentIdClass: r
        })
    });
    return i.jsxs("div", {
        children: [a === $t.Start && s, i.jsxs(HD, {
            children: [i.jsx(qD, {
                countryCode: t,
                governmentIdClass: r,
                governmentIdSide: n
            }), i.jsx($D, {
                governmentIdClass: r,
                governmentIdSide: n
            })]
        }), a === $t.Center && s, i.jsx(mt, {
            children: i.jsx(YD, {
                ...e
            })
        })]
    })
}
  , ZD = e => {
    const {currentSession: t, featureFlags: n, governmentIdClass: r, hasCamera: o, inquiry: a, selectedCountryCode: s, template: c} = e
      , [l,d] = f.useState(void 0)
      , [u,m] = f.useState([])
      , {t: h} = G()
      , p = Vt()
      , b = Mh()
      , C = parseInt(b.step, 10)
      , S = f.useMemo( () => ld(a.attributes["next-step"].config, s, r, C), [a, s, r, C])
      , v = !In() && o && u.includes(fn.WebCamera)
      , x = v && ba(window.location.host) && Ca(S, s, r, n)
      , _ = v && !x
      , R = Kn() ? "basic" : "advanced";
    f.useEffect( () => {
        if (a == null) {
            D.redirectToStart();
            return
        }
    }
    , []),
    f.useEffect( () => {
        if (o == null)
            e.checkCamera();
        else {
            c.attributes["force-link-from-react-native"] && t.relationships["parent-session"].data == null && (J.logAmplitude("government-id.redirect-to-mobile-for-react-native"),
            p.replace("/verify/device-handoff/sms"));
            const L = a.attributes["next-step"].config || {}
              , H = s.toLowerCase()
              , q = sv(L, H, r, o);
            switch (q.length) {
            case 0:
                p.replace("/verify/invalid/verification");
                break;
            case 1:
                V(q[0]);
                break;
            default:
                m(q)
            }
        }
    }
    , [o]),
    f.useEffect( () => {
        if (x && !ki.isLoaded()) {
            const L = performance.now();
            ki.preload(R).then( () => {
                J.logAmplitude("government-id.microblink.preload", {
                    durationSeconds: (performance.now() - L) / 1e3,
                    side: S,
                    idClass: r,
                    microblinkModel: R
                })
            }
            ).catch(H => {
                H instanceof Xt ? he(H, "warning", {
                    ...H.originalError,
                    state: "preload"
                }, {
                    jira: "PER-10182"
                }) : H instanceof Error ? he(H, "warning", {
                    state: "preload"
                }, {
                    jira: "PER-10182"
                }) : Be(H, "warning", {
                    state: "preload"
                }, {
                    jira: "PER-10182"
                })
            }
            )
        }
    }
    , [x]),
    f.useEffect( () => {
        _ && kt.loadModels()
    }
    , [_]);
    const E = async L => {
        e.clearMessages(),
        d(nt.SelectCamera),
        e.saveCaptureMethod(gt.Auto);
        try {
            const H = Ng({
                currentSide: S,
                facingMode: Ds(),
                isMicroblink: x,
                isGovidRedesign: !1,
                featureFlags: n
            });
            if (navigator.userAgent.includes("Android") && n["verify:android-select-camera"] && e.loadCameraOptions(),
            navigator.userAgent.includes("Android")) {
                const ee = await iC(null, rC.BackFacingCamera);
                ee && ee.label !== "" && (H.deviceId = {
                    exact: ee.deviceId
                })
            }
            e.setVideoConstraints(H),
            await Nn.prepare({
                video: H
            }, n),
            D.onEvent(Oe.DocumentCameraSelect),
            L(ji(C, Ke.TakePhoto))
        } catch (H) {
            J.logAmplitude("government-id.camera.errored", {
                error: {
                    name: H.name,
                    message: H.message
                }
            }),
            D.onEvent(Oe.LoadCameraFailed, {
                error: H.name,
                message: H.message
            }),
            L("/verify/support/camera")
        }
    }
      , T = L => {
        e.clearMessages(),
        d(nt.UploadImage),
        J.logAmplitude("government-id.upload", {
            method: "drop",
            files: L.map(H => ({
                name: H == null ? void 0 : H.name,
                type: H == null ? void 0 : H.type,
                size: H == null ? void 0 : H.size
            }))
        }),
        F(L) ? (D.onEvent(Oe.DocumentUpload),
        N(L[0], gt.Upload)) : d(void 0)
    }
      , F = L => L.length !== 1 ? (J.logAmplitude("government-id.upload.invalid", {
        detail: "wrong number of files"
    }),
    e.showMessage(h("government-id.prompt.failed-select-image")),
    !1) : Mb.includes(L[0].type) ? !0 : (J.logAmplitude("government-id.upload.invalid", {
        detail: "wrong file type"
    }),
    e.showMessage(h("government-id.prompt.failed-invalid-type")),
    !1)
      , O = L => {
        e.clearMessages(),
        d(nt.UploadImage),
        J.logAmplitude("government-id.upload", {
            method: "input_capture",
            files: [{
                name: L == null ? void 0 : L.name,
                type: L == null ? void 0 : L.type,
                size: L == null ? void 0 : L.size
            }]
        }),
        N(L, gt.Manual)
    }
      , N = async (L, H) => {
        e.saveCaptureMethod(H);
        try {
            const q = await yo(L);
            e.uploadFiles(S, [{
                filename: L.name,
                fileType: L.type,
                dataUrl: q,
                captureMethod: H,
                captureFlow: Io.Unguided
            }]),
            p.push(ji(C, Ke.Check))
        } catch (q) {
            switch (J.logAmplitude("government-id.upload.errored", {
                file: {
                    type: L == null ? void 0 : L.type
                }
            }),
            q.name) {
            case "NotReadableError":
                e.showMessage(h("government-id.prompt.failed-select-image-permissions"));
                break;
            case "SecurityError":
                e.showMessage(h("government-id.prompt.failed-select-image"));
                break;
            case "NotFoundError":
            default:
                he(q, "warning", {
                    filename: L == null ? void 0 : L.name,
                    fileType: L == null ? void 0 : L.type,
                    captureMethod: H,
                    currentSide: S
                }),
                e.showMessage(h("government-id.prompt.failed-select-image"))
            }
            d(void 0)
        }
    }
      , U = L => {
        l == null && (e.clearMessages(),
        d(nt.DeviceHandoff),
        L("/verify/device-handoff/prompt"))
    }
      , V = async L => {
        const {featureFlags: H} = e;
        switch (L) {
        case fn.WebCamera:
            H["verify:skip-gov-id-prompt-web-camera-only-by-org"] ? await E(p.replace) : m([L]);
            break;
        case fn.DeviceHandoff:
            U(p.replace);
            break;
        case fn.MobileCamera:
        case fn.Upload:
            m([L]);
            break;
        default:
            lt(L)
        }
    }
    ;
    if (o == null || S == null)
        return null;
    const ne = c.attributes["document-prompt-capture-button"];
    return i.jsx(QD, {
        currentSide: S,
        handleDrop: T,
        handleSelectCamera: () => E(p.push),
        handleInputCapture: O,
        handleDeviceHandoff: () => U(p.push),
        isProcessing: l,
        governmentIdClass: r,
        enabledCaptureOptions: u,
        documentPromptCaptureButton: ne,
        selectedCountryCode: s
    })
}
;
function JD(e) {
    var t;
    return {
        featureFlags: e.inquiry.featureFlags,
        governmentIdClass: e.verification.governmentIdClass,
        inquiry: e.inquiry.inquiry,
        currentSession: e.inquiry.currentSession,
        template: e.inquiry.template,
        selectedCountryCode: (t = e.inquiry.inquiry) == null ? void 0 : t.attributes["selected-country-code"],
        hasCamera: e.ui.hasCamera
    }
}
const XD = {
    clearMessages: Lt,
    saveCaptureMethod: lr,
    setVideoConstraints: So,
    showMessage: ce,
    uploadFiles: $s,
    checkCamera: Or,
    loadCameraOptions: ql
}
  , eO = ke(JD, XD)
  , tO = eO(ZD)
  , nO = g("div").withConfig({
    displayName: "OptionVertical__OptionBlock",
    componentId: "sc-uxd4q2-0"
})(["display:flex;justify-content:space-between;align-items:center;cursor:pointer;", ""], ({verticalOptionsStyle: e}) => {
    switch (e) {
    case $i.Default:
        return $(["padding-top:", ";padding-bottom:", ";padding-left:", ";padding-right:", ";border-bottom:1px solid ", ";:first-child{border-top:1px solid ", ";}:hover,:focus{background-color:", ";}"], I.Spacing[4], I.Spacing[4], I.Spacing[5], I.Spacing[5], Fe.gray50, Fe.gray50, ({theme: t}) => t.colorDropdownOption);
    case $i.Light:
        return $(["padding-top:18px;padding-bottom:18px;padding-left:0;padding-right:", ";border-bottom:1px solid ", ";:first-child{border-top:1px solid ", ";}color:", ";margin-left:", ";font-weight:500;:focus-within{background-color:", ";}"], I.Spacing[5], ({theme: t}) => t.colorDivider, ({theme: t}) => t.colorDivider, ({theme: t}) => t.colorFontTitle, I.Spacing[5], ({theme: t}) => t.colorDropdownOption)
    }
}
)
  , iO = g("span").withConfig({
    displayName: "OptionVertical__ThemedIcon",
    componentId: "sc-uxd4q2-1"
})(["rect[fill]:not([fill='none']){fill:", ";}path[fill]:not([fill='none']){fill:", ";}height:32px;margin-right:", ";"], e => e.theme.iconColorGovernmentIdType, e => e.theme.colorModalBackground, I.Spacing[4])
  , rO = g("span").withConfig({
    displayName: "OptionVertical__Text",
    componentId: "sc-uxd4q2-2"
})(["flex-grow:1;"])
  , oO = g(fe).withConfig({
    displayName: "OptionVertical__OptionVerticalButton",
    componentId: "sc-uxd4q2-3"
})(["width:100%;& + &{margin-top:", ";}"], I.Spacing[5]);
function aO(e) {
    const {iconStyle: t, verticalOptionsStyle: n} = f.useContext(Je)
      , {countryCode: r, governmentIdClass: o} = e
      , [a] = G();
    if (n === $i.Button)
        return i.jsx(oO, {
            id: `select__option--${o}`,
            "data-test": "option-block",
            onClick: () => e.handleSelectType(o),
            children: fi(a, ["government-id.title"], r, o)
        }, o);
    let s;
    switch (o) {
    case "dl":
        s = i.jsx(np, {});
        break;
    case "ofw":
    case "pp":
    case "ppc":
    case "visa":
        s = i.jsx(tp, {});
        break;
    case "id":
        s = i.jsx(ep, {});
        break;
    case "rp":
    case "pr":
    default:
        s = i.jsx(Xh, {});
        break
    }
    return i.jsxs(nO, {
        verticalOptionsStyle: n,
        id: `select__option--${o}`,
        "data-test": "option-block",
        onClick: () => e.handleSelectType(o),
        onKeyPress: () => e.handleSelectType(o),
        tabIndex: 0,
        role: "button",
        children: [t !== Lr.None && i.jsx(iO, {
            "data-test": "option-vertical__pictograph",
            "aria-hidden": !0,
            children: s
        }), i.jsx(rO, {
            children: fi(a, ["government-id.title"], r, o)
        }), i.jsx($l, {
            "aria-hidden": !0
        })]
    }, o)
}
const sO = g("div").withConfig({
    displayName: "GovernmentIdOptions__Container",
    componentId: "sc-1pihot-0"
})(["display:flex;flex-wrap:wrap;justify-content:space-between;"])
  , cO = g("div").withConfig({
    displayName: "GovernmentIdOptions__OptionBlockPositioner",
    componentId: "sc-1pihot-1"
})(["", ";"], ({theme: e}) => e.verticalOptionsStyle === $i.Button ? $(["width:100%;"]) : $(["margin-left:-24px;width:calc(100% + 48px);margin-right:-24px;"]))
  , lO = g("div").withConfig({
    displayName: "GovernmentIdOptions__NoticeVertical",
    componentId: "sc-1pihot-2"
})(["", ";color:", ";font-weight:", ";margin-bottom:", "px;"], ({theme: e}) => e.verticalOptionsStyle === $i.Button && $(["display:none;"]), ({theme: e}) => e.colorFontTitle, on.medium, M.base)
  , dO = g("div").withConfig({
    displayName: "GovernmentIdOptions__OptionsVertical",
    componentId: "sc-1pihot-3"
})(["width:100%;flex-direction:column;margin-bottom:", "px;"], M.base * 4);
function uO(e) {
    const {selectedCountryCode: t, enabledIdClassesByCountryEntries: n, handleSelectType: r} = e
      , [o] = G();
    return n && n.length > 0 ? i.jsxs(sO, {
        children: [i.jsx(lO, {
            children: o("select.option-notice")
        }), i.jsx(cO, {
            children: i.jsx(dO, {
                children: n.map(a => i.jsx(aO, {
                    countryCode: t,
                    handleSelectType: r,
                    governmentIdClass: a.class
                }, a.class))
            })
        })]
    }) : i.jsxs(kn, {
        i18nKey: "select.unsupported",
        children: ["We are unable to verify identities in this country.", " ", i.jsx("a", {
            id: "government-id-options__support-link",
            onClick: e.handleRouteToSupport,
            children: "Please contact us"
        }), " ", "if you dont have another form of identification."]
    })
}
const mO = g("div").withConfig({
    displayName: "VerifyGovernmentIdSelectView__Header",
    componentId: "sc-oi672g-0"
})(["margin-bottom:", "px;", ""], M.base * 4, ({verticalOptionsStyle: e}) => {
    switch (e) {
    case $i.Default:
        return $(["min-height:", ";"], We.header);
    case $i.Light:
        return
    }
}
);
function hO(e) {
    const {selectedCountryCode: t, handleSelectType: n, enabledIdClassesByCountryEntries: r, hasEnabledSkipUnknown: o, showDisclaimer: a} = e
      , [s] = G()
      , {governmentIdPictographPosition: c, verticalOptionsStyle: l, governmentIdSelectPictographUrl: d} = f.useContext(Je)
      , u = d ? i.jsx(Qe, {
        "aria-label": "government id prompt",
        children: i.jsx(Kt, {
            url: "governmentIdSelectPictographUrl",
            height: "governmentIdSelectPictographHeight",
            "aria-label": "government id prompt picture"
        })
    }) : null;
    return i.jsxs("div", {
        children: [c === $t.Start && u, i.jsxs(mO, {
            verticalOptionsStyle: l,
            children: [i.jsx(et, {
                children: s("select.title")
            }), i.jsx(He, {
                children: s("select.prompt")
            })]
        }), c === $t.Center && u, i.jsx(uO, {
            selectedCountryCode: t,
            enabledIdClassesByCountryEntries: r,
            handleRouteToSupport: e.handleRouteToSupport,
            handleSelectType: n
        }), o && i.jsx(He, {
            children: i.jsx(kn, {
                i18nKey: "select.or-other-identity-card",
                defaults: "Dont see your ID above? <0/><1>Click here to upload another document.</1>",
                components: [i.jsx("br", {}, 0), i.jsx("a", {
                    id: "verify-government-id-select__other-identity-card",
                    onClick: () => n(void 0),
                    children: "Click here to upload another ID."
                }, 1)],
                children: "Dont see your ID above? Click here to upload another document."
            })
        }), a && i.jsx(As, {})]
    })
}
function pO(e) {
    var d, u, m, h;
    const {inquiry: t, template: n} = e
      , r = t ? (d = t.attributes["selected-country-code"]) != null ? d : t.attributes["country-code"] : null;
    let o = []
      , a = !1
      , s = !0;
    if (t != null && r != null) {
        const p = t.attributes["next-step"].config || {};
        o = (m = ((u = p["enabled-id-classes-by-country"]) != null ? u : {})[r.toLowerCase()]) != null ? m : [],
        a = (h = p["enabled-skip-unknown"]) != null ? h : !1,
        p.disclaimer === Yp.None && (s = !1)
    }
    if (f.useEffect( () => {
        if (n == null || t == null) {
            D.redirectToStart();
            return
        }
        !a && o && o.length === 1 && c(o[0].class, !0)
    }
    , []),
    n == null || t == null)
        return null;
    function c(p, b=!1) {
        e.selectGovernmentIdClass(p),
        b ? e.history.replace(ji(0, Ke.Prompt)) : e.history.push(ji(0, Ke.Prompt))
    }
    function l() {
        e.history.push("/verify/support/prompt")
    }
    return i.jsx(hO, {
        selectedCountryCode: r,
        enabledIdClassesByCountryEntries: o,
        hasEnabledSkipUnknown: a,
        handleRouteToSupport: l,
        handleSelectType: c,
        showDisclaimer: s
    })
}
function fO(e) {
    return {
        inquiry: e.inquiry.inquiry,
        template: e.inquiry.template,
        theme: e.inquiry.theme
    }
}
const gO = {
    selectGovernmentIdClass: ad
}
  , bO = ke(fO, gO)(pO);
var Bb = (e => (e.New = "new",
e.Active = "active",
e.Deactivated = "deactivate",
e))(Bb || {});
const CO = g(lc).withConfig({
    displayName: "OrganizationLogo",
    componentId: "sc-alxtof-0"
})(["display:block;margin-top:", "px;margin-bottom:", "px;height:", ";width:", ";object-fit:contain;"], M.base * 2, M.base * 2, e => e.theme.logoWidth ? "unset" : e.theme.logoHeight || "100%", e => e.theme.logoWidth || "100%");
var na = (e => (e.None = "none",
e.Checkbox = "checkbox",
e.Default = "default",
e.Biometric = "biometric",
e))(na || {});
const ph = g("div").withConfig({
    displayName: "VerifyIntroView__Header",
    componentId: "sc-msfdyj-0"
})(["min-height:", ";margin-bottom:", "px;"], We.header, M.base * 4)
  , xO = e => {
    const {template: t, theme: n} = e
      , r = t.attributes["intro-disclaimer"]
      , [o] = G()
      , [a,s] = f.useState(!1)
      , [c,l] = f.useState(!1)
      , d = a || r === na.Checkbox && !c
      , u = f.useCallback( () => {
        s(!0),
        e.handleSubmit().catch( () => s(!1))
    }
    , [e.handleSubmit])
      , m = n.attributes["logo-url"];
    return r === na.Biometric ? i.jsxs("div", {
        children: [i.jsxs(ph, {
            children: [i.jsx(fh, {
                logoUrl: m,
                t: o
            }), i.jsx(gh, {
                t: o
            })]
        }), i.jsxs(mt, {
            children: [i.jsx(As, {
                useBipaTranslation: !0
            }), i.jsx(fe, {
                id: "intro__button--start",
                buttonType: Q.Primary,
                disabled: d,
                isPending: a,
                onClick: u,
                children: o("intro.btn-submit")
            })]
        }), i.jsx(Ch, {
            template: t
        })]
    }) : i.jsxs("div", {
        children: [i.jsxs(ph, {
            children: [i.jsx(fh, {
                logoUrl: m,
                t: o
            }), i.jsx(gh, {
                t: o
            })]
        }), r === na.Checkbox && i.jsx(y2, {
            checked: c,
            onChange: l
        }), i.jsxs(mt, {
            children: [i.jsx(fe, {
                id: "intro__button--start",
                buttonType: Q.Primary,
                disabled: d,
                isPending: a,
                onClick: u,
                children: o("intro.btn-submit")
            }), r === na.Default ? i.jsxs(i.Fragment, {
                children: [i.jsx(As, {}), i.jsx(Xe, {
                    height: 4
                })]
            }) : i.jsx(Xe, {
                height: 7
            })]
        }), i.jsx(Ch, {
            template: t
        })]
    })
}
  , fh = ({logoUrl: e, t}) => e ? i.jsx(CO, {
    alt: "logo",
    src: e
}) : i.jsx(et, {
    children: t("intro.title")
})
  , gh = ({t: e}) => i.jsx(He, {
    children: i.jsx(X, {
        children: e("intro.prompt")
    })
})
  , vO = g(eg).withConfig({
    displayName: "VerifyIntroView__StyledFooter",
    componentId: "sc-msfdyj-1"
})(["flex-direction:row;background-color:", ";padding-bottom:", "px;"], ({theme: e}) => e.colorFooterBackground, M.base)
  , IO = g("div").withConfig({
    displayName: "VerifyIntroView__LanguageWrapper",
    componentId: "sc-msfdyj-2"
})(["position:relative;display:flex;align-items:center;select{appearance:none;background-color:transparent;color:", ";font-size:", ";margin:-", "px;padding:", "px;padding-right:", "px;&:focus-visible{outline:", " auto 1px;}}&::after{", ";height:0;width:0;pointer-events:none;right:0;}"], I.Color.CoreSlate600, qt.h4, M.base, M.base, M.base * 2, ({theme: e}) => e.colorPrimary, Qs)
  , SO = g("div").withConfig({
    displayName: "VerifyIntroView__GlobeSpacer",
    componentId: "sc-msfdyj-3"
})(["padding-right:4px;svg{display:block;}"])
  , yO = g("div").withConfig({
    displayName: "VerifyIntroView__Wordmark",
    componentId: "sc-msfdyj-4"
})(["padding-top:8px;margin-bottom:-3px;float:right;"])
  , bh = "persona-branding-title"
  , Ch = ({template: e}) => {
    const [t,n] = G()
      , r = e.attributes["enabled-locales"];
    let o = i.jsx("div", {});
    return r.length !== 1 && (o = i.jsxs(IO, {
        children: [i.jsx(SO, {
            children: i.jsx(Sp, {})
        }), i.jsx("select", {
            "aria-label": t("intro.language-select-label"),
            "data-test": "footer__language-selector",
            dir: "ltr",
            onChange: a => wO(n, a, e.attributes["custom-translations"] || []),
            defaultValue: n.language,
            children: Object.keys(Sr).filter(a => r.length === 0 || r.includes(a)).map(a => i.jsx("option", {
                value: a,
                children: Sr[a]
            }, a))
        })]
    })),
    i.jsxs(vO, {
        children: [o, i.jsx(yO, {
            children: i.jsxs("svg", {
                role: "img",
                width: "82",
                height: "29",
                viewBox: "0 0 82 29",
                fill: "none",
                xmlns: "http://www.w3.org/2000/svg",
                "aria-labelledby": bh,
                children: [i.jsx("title", {
                    id: bh,
                    children: t("intro.persona-logo-label")
                }), i.jsxs("g", {
                    clipPath: "url(#clip0)",
                    children: [i.jsx("path", {
                        d: "M0 18.3669C0 15.3419 2.214 13.0828 5.3464 13.0828C8.4542 13.0828 10.7338 15.3419 10.7338 18.4087C10.7338 21.4132 8.53702 23.651 5.2398 23.651H2.6937V27.6296C2.6937 27.7748 2.6732 27.7936 2.5297 27.7936H0.164C0.01886 27.7936 0 27.7731 0 27.6296V18.3669ZM8.0401 18.3874C8.0401 16.79 7.04544 15.5699 5.3464 15.5699C3.6244 15.5699 2.6937 16.7925 2.6937 18.3669V21.1647H5.24226C7.04544 21.1647 8.0401 19.9831 8.0401 18.3874Z",
                        fill: "#696A7B"
                    }), i.jsx("path", {
                        d: "M18.5738 13.0828C15.4029 13.0828 13.1446 15.4034 13.1446 18.5325C13.1446 21.496 15.1749 23.8584 18.7395 23.8584C20.1072 23.8584 21.4127 23.5058 22.3475 22.7596C22.3649 22.7447 22.3765 22.7241 22.3803 22.7015C22.384 22.6788 22.3797 22.6556 22.368 22.6358L21.1043 21.0196C21.0823 20.9921 21.0503 20.9744 21.0153 20.9705C20.9803 20.9665 20.9451 20.9765 20.9174 20.9983C20.2777 21.3775 19.5479 21.5781 18.8042 21.5788C16.9387 21.5788 16.1105 20.7703 15.8203 19.6313H23.3421C23.3682 19.6336 23.3945 19.6304 23.4193 19.6222C23.4441 19.6138 23.467 19.6004 23.4864 19.5829C23.506 19.5654 23.5215 19.544 23.5324 19.5202C23.5433 19.4964 23.5491 19.4706 23.5496 19.4444C23.5701 19.2992 23.5906 18.7605 23.5906 18.4292C23.5881 15.2378 21.6406 13.0828 18.5738 13.0828ZM15.7555 17.683C15.9834 16.1914 16.8953 15.2796 18.4697 15.2796C20.0859 15.2796 20.9977 16.2324 21.1847 17.683H15.7555Z",
                        fill: "#696A7B"
                    }), i.jsx("path", {
                        d: "M30.7615 13.0828C31.7561 13.0828 32.4835 13.3288 32.7295 13.6011C32.7713 13.6429 32.7713 13.6831 32.7295 13.7651L31.88 15.6511C31.839 15.7331 31.798 15.7544 31.7348 15.7544C31.6315 15.7544 31.383 15.6724 30.9894 15.6724C29.5799 15.6724 28.8755 16.7089 28.8755 18.1586V23.4886C28.8755 23.6338 28.855 23.6526 28.7115 23.6526H26.3474C26.2023 23.6526 26.1834 23.6321 26.1834 23.4886V17.7486C26.1818 14.927 28.0678 13.0828 30.7615 13.0828Z",
                        fill: "#696A7B"
                    }), i.jsx("path", {
                        d: "M43.3181 20.6047C43.3181 22.366 41.9299 23.9413 39.0492 23.9413C36.7081 23.9413 35.2772 22.9048 34.677 22.1594C34.6578 22.1364 34.6472 22.1074 34.6472 22.0774C34.6472 22.0474 34.6578 22.0184 34.677 21.9954L35.7135 20.3792C35.734 20.3382 35.8168 20.3382 35.8586 20.3792C36.5835 21.0631 37.5576 21.8503 39.0492 21.8503C40.0234 21.8503 40.4998 21.5223 40.4998 20.9597C40.4998 20.4833 40.1267 20.1512 37.5781 19.4673C35.178 18.8228 34.6155 17.4551 34.6155 16.3366C34.6155 14.5752 36.0037 13 38.8836 13C41.2255 13 42.6556 14.0365 43.2558 14.7819C43.2753 14.8047 43.2861 14.8338 43.2861 14.8639C43.2861 14.8939 43.2753 14.923 43.2558 14.9459L42.2202 16.5645C42.1988 16.6055 42.116 16.6055 42.075 16.5645C41.3493 15.8807 40.376 15.0885 38.8836 15.0885C37.9094 15.0885 37.433 15.4206 37.433 15.9799C37.433 16.4563 37.8061 16.7884 40.3547 17.4723C42.7589 18.1184 43.3181 19.4862 43.3181 20.6047Z",
                        fill: "#696A7B"
                    }), i.jsx("path", {
                        d: "M45.7011 18.471C45.7011 15.4452 47.9593 13.0828 51.109 13.0828C54.2176 13.0828 56.4759 15.4452 56.4759 18.471C56.4759 21.5165 54.2176 23.8584 51.109 23.8584C47.9593 23.8584 45.7011 21.5165 45.7011 18.471ZM51.086 21.3714C52.808 21.3714 53.7797 20.0873 53.7797 18.4915C53.7797 16.8958 52.808 15.5699 51.086 15.5699C49.364 15.5699 48.3923 16.8958 48.3923 18.4915C48.3923 20.0873 49.3689 21.3714 51.086 21.3714Z",
                        fill: "#696A7B"
                    }), i.jsx("path", {
                        d: "M59.0662 23.4853V18.1594C59.0662 15.1968 60.6201 13.0828 63.9567 13.0828C67.0022 13.0828 68.8054 14.8442 68.8054 18.1594V23.4894C68.8054 23.6346 68.7841 23.6534 68.6414 23.6534H66.2773C66.1322 23.6534 66.1133 23.6329 66.1133 23.4894V18.5744C66.1133 16.9163 65.5951 15.6732 63.937 15.6732C62.279 15.6732 61.7616 16.9163 61.7616 18.5744V23.4853C61.7616 23.6305 61.7411 23.6493 61.5976 23.6493H59.2319C59.0867 23.651 59.0662 23.6305 59.0662 23.4853Z",
                        fill: "#696A7B"
                    }), i.jsx("path", {
                        d: "M81.836 23.651H76.8422C73.6926 23.651 71.4302 21.4132 71.4302 18.3874C71.4302 15.3419 73.7098 13.0828 76.7602 13.0828C79.786 13.0828 82 15.3419 82 18.3669V23.4853C82 23.6305 81.9795 23.651 81.836 23.651ZM76.8422 21.1647H79.3079V18.3669C79.3079 16.7925 78.3756 15.5699 76.7594 15.5699C75.1194 15.5699 74.1272 16.7925 74.1272 18.3874C74.1272 19.9823 75.0997 21.1647 76.8406 21.1647H76.8422Z",
                        fill: "#696A7B"
                    })]
                }), i.jsx("path", {
                    d: "M3.389 7.09C2.855 7.09 2.396 7.01 2.012 6.847C1.628 6.685 1.337 6.472 1.139 6.208C0.947826 5.96259 0.837738 5.66378 0.824 5.353C0.823165 5.32796 0.827482 5.303 0.836684 5.2797C0.845887 5.25639 0.859778 5.23522 0.877498 5.2175C0.895217 5.19978 0.916388 5.18589 0.939696 5.17668C0.963005 5.16748 0.987955 5.16316 1.013 5.164H1.814C1.886 5.164 1.94 5.179 1.976 5.209C2.02507 5.24039 2.06533 5.28375 2.093 5.335C2.153 5.539 2.291 5.71 2.507 5.848C2.723 5.986 3.017 6.055 3.389 6.055C3.815 6.055 4.136 5.986 4.352 5.848C4.45329 5.78603 4.53653 5.69855 4.59339 5.59431C4.65025 5.49006 4.67874 5.37271 4.676 5.254C4.67845 5.17682 4.66448 5.09999 4.635 5.02862C4.60552 4.95725 4.56121 4.89295 4.505 4.84C4.397 4.732 4.232 4.64 4.01 4.561C3.794 4.483 3.47 4.387 3.038 4.273C2.33 4.105 1.811 3.883 1.481 3.607C1.157 3.325 0.995 2.927 0.995 2.41C0.995 2.062 1.088 1.753 1.274 1.483C1.48347 1.19915 1.76673 0.978148 2.093 0.844001C2.453 0.688001 2.87 0.610001 3.344 0.610001C3.836 0.610001 4.262 0.697001 4.622 0.871001C4.982 1.045 5.255 1.264 5.441 1.528C5.633 1.786 5.735 2.044 5.747 2.302C5.74798 2.32713 5.74376 2.35219 5.73462 2.37561C5.72548 2.39904 5.71161 2.42033 5.69388 2.43816C5.67615 2.45599 5.65493 2.46997 5.63155 2.47924C5.60817 2.4885 5.58313 2.49284 5.558 2.492H4.721C4.66473 2.49551 4.60884 2.48063 4.56177 2.4496C4.51469 2.41858 4.47897 2.37309 4.46 2.32C4.424 2.128 4.304 1.97 4.1 1.843C3.896 1.711 3.644 1.645 3.344 1.645C3.008 1.645 2.744 1.708 2.552 1.835C2.4599 1.8928 2.38474 1.97394 2.33416 2.07019C2.28358 2.16644 2.25937 2.27437 2.264 2.383C2.25807 2.53422 2.30951 2.6821 2.408 2.797C2.504 2.905 2.654 3.001 2.858 3.085C3.068 3.169 3.368 3.262 3.758 3.365C4.286 3.485 4.706 3.619 5.018 3.769C5.336 3.919 5.57 4.109 5.72 4.336C5.87 4.564 5.945 4.856 5.945 5.209C5.945 5.593 5.837 5.929 5.621 6.217C5.411 6.499 5.111 6.715 4.721 6.865C4.337 7.015 3.893 7.09 3.389 7.09V7.09ZM8.542 7C8.51354 7.00053 8.48528 6.99521 8.45897 6.98437C8.43265 6.97353 8.40884 6.95741 8.389 6.937C8.36859 6.91716 8.35247 6.89335 8.34163 6.86703C8.3308 6.84072 8.32548 6.81246 8.326 6.784V0.925001C8.32353 0.866207 8.34275 0.808554 8.38 0.763001C8.40131 0.742047 8.42666 0.725655 8.45451 0.714823C8.48237 0.703992 8.51213 0.698948 8.542 0.700001H12.502C12.5319 0.698948 12.5616 0.703992 12.5895 0.714823C12.6173 0.725655 12.6427 0.742047 12.664 0.763001C12.685 0.784309 12.7013 0.809662 12.7122 0.837515C12.723 0.865367 12.7281 0.895135 12.727 0.925001V1.519C12.7281 1.54887 12.723 1.57863 12.7122 1.60649C12.7013 1.63434 12.685 1.65969 12.664 1.681C12.6184 1.71825 12.5608 1.73747 12.502 1.735H9.542V3.328H12.304C12.3339 3.32695 12.3636 3.33199 12.3915 3.34282C12.4193 3.35365 12.4447 3.37005 12.466 3.391C12.4874 3.4101 12.5041 3.43379 12.515 3.46028C12.5259 3.48678 12.5307 3.5154 12.529 3.544V4.102C12.5301 4.13187 12.525 4.16163 12.5142 4.18949C12.5033 4.21734 12.487 4.24269 12.466 4.264C12.4204 4.30125 12.3628 4.32047 12.304 4.318H9.541V5.965H12.574C12.6039 5.96395 12.6336 5.96899 12.6615 5.97982C12.6893 5.99065 12.7147 6.00705 12.736 6.028C12.757 6.04931 12.7733 6.07466 12.7842 6.10251C12.795 6.13037 12.8001 6.16013 12.799 6.19V6.784C12.8001 6.81387 12.795 6.84363 12.7842 6.87149C12.7733 6.89934 12.757 6.92469 12.736 6.946C12.6904 6.98325 12.6328 7.00247 12.574 7H8.542V7ZM17.652 7.09C16.824 7.09 16.182 6.877 15.726 6.451C15.276 6.025 15.036 5.425 15.006 4.651C14.9987 4.38707 14.9957 4.12303 14.997 3.859C14.997 3.487 15 3.217 15.007 3.049C15.037 2.281 15.279 1.684 15.735 1.259C16.197 0.826001 16.836 0.610001 17.652 0.610001C18.186 0.610001 18.652 0.703001 19.047 0.890001C19.443 1.07 19.749 1.318 19.965 1.636C20.181 1.948 20.295 2.302 20.307 2.698V2.716C20.307 2.764 20.287 2.806 20.244 2.842C20.2088 2.87178 20.1641 2.88777 20.118 2.887H19.263C19.191 2.887 19.137 2.872 19.101 2.842C19.065 2.812 19.035 2.755 19.011 2.672C18.915 2.293 18.756 2.029 18.534 1.879C18.312 1.723 18.015 1.645 17.644 1.645C16.779 1.645 16.329 2.128 16.294 3.095C16.2865 3.34359 16.2832 3.5923 16.284 3.841C16.284 4.177 16.287 4.432 16.294 4.606C16.329 5.572 16.779 6.056 17.644 6.056C18.015 6.056 18.312 5.977 18.534 5.821C18.762 5.665 18.921 5.401 19.011 5.029C19.029 4.945 19.056 4.889 19.092 4.859C19.1428 4.82615 19.2026 4.81006 19.263 4.813H20.118C20.172 4.813 20.218 4.831 20.253 4.867C20.295 4.903 20.313 4.948 20.307 5.002C20.2993 5.38461 20.1805 5.75672 19.965 6.073C19.749 6.385 19.443 6.634 19.047 6.82C18.651 7 18.187 7.09 17.652 7.09ZM25.236 7.09C24.426 7.09 23.796 6.883 23.346 6.47C22.896 6.055 22.671 5.428 22.671 4.588V0.925001C22.6685 0.866207 22.6877 0.808554 22.725 0.763001C22.7463 0.742047 22.7717 0.725655 22.7995 0.714823C22.8274 0.703992 22.8571 0.698948 22.887 0.700001H23.706C23.7346 0.698285 23.7632 0.703061 23.7897 0.713971C23.8162 0.724881 23.8399 0.741642 23.859 0.763001C23.88 0.784309 23.8963 0.809662 23.9072 0.837515C23.918 0.865367 23.9231 0.895135 23.922 0.925001V4.588C23.922 5.068 24.036 5.431 24.264 5.678C24.492 5.918 24.816 6.038 25.236 6.038C25.656 6.038 25.976 5.918 26.199 5.678C26.427 5.431 26.541 5.068 26.541 4.588V0.925001C26.5399 0.895135 26.545 0.865367 26.5558 0.837515C26.5667 0.809662 26.583 0.784309 26.604 0.763001C26.6253 0.742047 26.6507 0.725655 26.6785 0.714823C26.7064 0.703992 26.7361 0.698948 26.766 0.700001H27.576C27.6046 0.698285 27.6332 0.703061 27.6597 0.713971C27.6862 0.724881 27.7099 0.741642 27.729 0.763001C27.75 0.784309 27.7663 0.809662 27.7772 0.837515C27.788 0.865367 27.7931 0.895135 27.792 0.925001V4.588C27.792 5.428 27.567 6.055 27.117 6.469C26.673 6.883 26.046 7.09 25.236 7.09V7.09ZM30.707 7C30.6785 7.00053 30.6503 6.99521 30.624 6.98437C30.5976 6.97353 30.5738 6.95741 30.554 6.937C30.5336 6.91716 30.5175 6.89335 30.5066 6.86703C30.4958 6.84072 30.4905 6.81246 30.491 6.784V0.925001C30.4885 0.866207 30.5077 0.808554 30.545 0.763001C30.5663 0.742047 30.5917 0.725655 30.6195 0.714823C30.6474 0.703992 30.6771 0.698948 30.707 0.700001H33.037C33.77 0.700001 34.343 0.871001 34.757 1.213C35.177 1.555 35.387 2.041 35.387 2.671C35.387 3.109 35.279 3.478 35.063 3.778C34.853 4.072 34.559 4.285 34.181 4.418L35.495 6.712C35.5117 6.74277 35.5209 6.77702 35.522 6.812C35.5223 6.83764 35.5168 6.86301 35.5059 6.88622C35.4949 6.90943 35.4789 6.92986 35.459 6.946C35.4428 6.96311 35.4232 6.97673 35.4016 6.98601C35.3799 6.9953 35.3566 7.00006 35.333 7H34.513C34.4334 7.00453 34.3546 6.98236 34.289 6.937C34.2337 6.88544 34.188 6.8245 34.154 6.757L32.993 4.624H31.742V6.784C31.742 6.844 31.721 6.895 31.679 6.937C31.6599 6.95836 31.6362 6.97512 31.6097 6.98603C31.5832 6.99694 31.5546 7.00172 31.526 7H30.706H30.707ZM33.011 3.607C33.371 3.607 33.641 3.527 33.821 3.364C34.007 3.202 34.1 2.968 34.1 2.662C34.1 2.356 34.007 2.119 33.82 1.952C33.64 1.783 33.37 1.699 33.01 1.699H31.742V3.607H33.011ZM38.112 7C38.0835 7.00053 38.0553 6.99521 38.029 6.98437C38.0026 6.97353 37.9788 6.95741 37.959 6.937C37.9386 6.91716 37.9225 6.89335 37.9116 6.86703C37.9008 6.84072 37.8955 6.81246 37.896 6.784V0.925001C37.8935 0.866207 37.9127 0.808554 37.95 0.763001C37.9713 0.742047 37.9967 0.725655 38.0245 0.714823C38.0524 0.703992 38.0821 0.698948 38.112 0.700001H42.072C42.1019 0.698948 42.1316 0.703992 42.1595 0.714823C42.1873 0.725655 42.2127 0.742047 42.234 0.763001C42.255 0.784309 42.2713 0.809662 42.2822 0.837515C42.293 0.865367 42.2981 0.895135 42.297 0.925001V1.519C42.2981 1.54887 42.293 1.57863 42.2822 1.60649C42.2713 1.63434 42.255 1.65969 42.234 1.681C42.1884 1.71825 42.1308 1.73747 42.072 1.735H39.112V3.328H41.874C41.9039 3.32695 41.9336 3.33199 41.9615 3.34282C41.9893 3.35365 42.0147 3.37005 42.036 3.391C42.0574 3.4101 42.0741 3.43379 42.085 3.46028C42.0959 3.48678 42.1007 3.5154 42.099 3.544V4.102C42.1001 4.13187 42.095 4.16163 42.0842 4.18949C42.0733 4.21734 42.057 4.24269 42.036 4.264C41.9904 4.30125 41.9328 4.32047 41.874 4.318H39.111V5.965H42.144C42.1739 5.96395 42.2036 5.96899 42.2315 5.97982C42.2593 5.99065 42.2847 6.00705 42.306 6.028C42.327 6.04931 42.3433 6.07466 42.3542 6.10251C42.365 6.13037 42.3701 6.16013 42.369 6.19V6.784C42.3701 6.81387 42.365 6.84363 42.3542 6.87149C42.3433 6.89934 42.327 6.92469 42.306 6.946C42.2604 6.98325 42.2028 7.00247 42.144 7H38.112V7ZM45.06 7C45.0317 7.00039 45.0036 6.995 44.9775 6.98417C44.9514 6.97334 44.9277 6.95729 44.908 6.937C44.8876 6.91716 44.8715 6.89335 44.8606 6.86703C44.8498 6.84072 44.8445 6.81246 44.845 6.784V0.925001C44.8425 0.866207 44.8617 0.808554 44.899 0.763001C44.9202 0.742171 44.9454 0.72585 44.9731 0.715023C45.0007 0.704195 45.0303 0.699085 45.06 0.700001H47.256C49.02 0.700001 49.92 1.516 49.956 3.148C49.968 3.496 49.974 3.73 49.974 3.85C49.974 3.964 49.968 4.195 49.956 4.543C49.932 5.383 49.706 6.004 49.281 6.406C48.855 6.802 48.195 7 47.301 7H45.06V7ZM47.257 5.965C47.761 5.965 48.124 5.855 48.346 5.632C48.568 5.404 48.685 5.032 48.696 4.516C48.709 4.156 48.715 3.931 48.715 3.841C48.715 3.745 48.709 3.523 48.697 3.175C48.685 2.683 48.559 2.32 48.319 2.086C48.085 1.852 47.716 1.736 47.212 1.736H46.096V5.966H47.256L47.257 5.965ZM56.86 7C56.7812 7.00422 56.7037 6.97851 56.643 6.928C56.5871 6.87621 56.5519 6.80583 56.544 6.73L55.474 0.961001L55.464 0.889001C55.464 0.835001 55.482 0.790001 55.518 0.754001C55.5548 0.720031 55.6029 0.700809 55.653 0.700001H56.445C56.595 0.700001 56.679 0.760001 56.697 0.880001L57.444 4.957L58.254 2.32C58.314 2.17 58.414 2.095 58.551 2.095H59.037C59.187 2.095 59.283 2.17 59.325 2.32L60.145 4.948L60.89 0.880001C60.902 0.814001 60.926 0.770001 60.962 0.745001C61.0159 0.711795 61.0788 0.696077 61.142 0.700001H61.934C61.982 0.700001 62.024 0.718001 62.06 0.754001C62.0777 0.771619 62.0917 0.792688 62.101 0.815907C62.1103 0.839126 62.1147 0.864003 62.114 0.889001C62.114 0.919001 62.111 0.943001 62.105 0.961001L61.035 6.731C61.005 6.911 60.899 7.001 60.719 7.001H60.116C60.0417 7.00381 59.9687 6.98124 59.909 6.937C59.856 6.89651 59.818 6.83951 59.801 6.775L58.794 3.77L57.786 6.776C57.726 6.926 57.618 7.001 57.462 7.001H56.859L56.86 7ZM64.738 7C64.7095 7.00053 64.6813 6.99521 64.655 6.98437C64.6287 6.97353 64.6048 6.95741 64.585 6.937C64.5646 6.91716 64.5485 6.89335 64.5376 6.86703C64.5268 6.84072 64.5215 6.81246 64.522 6.784V0.916001C64.5203 0.887398 64.5251 0.858778 64.536 0.832282C64.5469 0.805787 64.5636 0.782102 64.585 0.763001C64.6048 0.742591 64.6287 0.726469 64.655 0.715632C64.6813 0.704796 64.7095 0.699475 64.738 0.700001H65.584C65.6126 0.698285 65.6412 0.703061 65.6677 0.713971C65.6942 0.724881 65.7179 0.741642 65.737 0.763001C65.7584 0.782102 65.7751 0.805787 65.786 0.832282C65.7969 0.858778 65.8017 0.887398 65.8 0.916001V6.784C65.8 6.844 65.779 6.895 65.737 6.937C65.7179 6.95836 65.6942 6.97512 65.6677 6.98603C65.6412 6.99694 65.6126 7.00172 65.584 7H64.738ZM70.163 7C70.1345 7.00053 70.1063 6.99521 70.08 6.98437C70.0536 6.97353 70.0298 6.95741 70.01 6.937C69.9896 6.91716 69.9735 6.89335 69.9626 6.86703C69.9518 6.84072 69.9465 6.81246 69.947 6.784V1.807H68.282C68.2535 1.80753 68.2253 1.80221 68.199 1.79137C68.1726 1.78053 68.1488 1.76441 68.129 1.744C68.1086 1.72416 68.0925 1.70035 68.0816 1.67403C68.0708 1.64772 68.0655 1.61946 68.066 1.591V0.925001C68.0635 0.866207 68.0828 0.808554 68.12 0.763001C68.1413 0.742047 68.1667 0.725655 68.1945 0.714823C68.2224 0.703992 68.2521 0.698948 68.282 0.700001H72.872C72.9019 0.698948 72.9316 0.703992 72.9595 0.714823C72.9873 0.725655 73.0127 0.742047 73.034 0.763001C73.055 0.784309 73.0713 0.809662 73.0822 0.837515C73.093 0.865367 73.0981 0.895135 73.097 0.925001V1.591C73.097 1.651 73.077 1.702 73.034 1.744C73.0127 1.76495 72.9873 1.78135 72.9595 1.79218C72.9316 1.80301 72.9019 1.80805 72.872 1.807H71.216V6.784C71.216 6.844 71.196 6.895 71.153 6.937C71.1317 6.95795 71.1063 6.97435 71.0785 6.98518C71.0506 6.99601 71.0209 7.00105 70.991 7H70.163V7ZM75.577 7C75.5485 7.00053 75.5203 6.99521 75.494 6.98437C75.4676 6.97353 75.4438 6.95741 75.424 6.937C75.4036 6.91716 75.3875 6.89335 75.3766 6.86703C75.3658 6.84072 75.3605 6.81246 75.361 6.784V0.925001C75.3585 0.866207 75.3777 0.808554 75.415 0.763001C75.4363 0.742047 75.4617 0.725655 75.4895 0.714823C75.5174 0.703992 75.5471 0.698948 75.577 0.700001H76.396C76.4246 0.698285 76.4532 0.703061 76.4797 0.713971C76.5062 0.724881 76.5299 0.741642 76.549 0.763001C76.57 0.784309 76.5863 0.809662 76.5972 0.837515C76.608 0.865367 76.6131 0.895135 76.612 0.925001V3.247H79.267V0.925001C79.2645 0.866207 79.2837 0.808554 79.321 0.763001C79.3423 0.742047 79.3677 0.725655 79.3955 0.714823C79.4234 0.703992 79.4531 0.698948 79.483 0.700001H80.293C80.3229 0.698948 80.3526 0.703992 80.3805 0.714823C80.4083 0.725655 80.4337 0.742047 80.455 0.763001C80.476 0.784309 80.4923 0.809662 80.5032 0.837515C80.514 0.865367 80.5191 0.895135 80.518 0.925001V6.785C80.5189 6.8147 80.5138 6.84428 80.503 6.87195C80.4921 6.89962 80.4758 6.92481 80.455 6.946C80.4094 6.98325 80.3518 7.00247 80.293 7H79.483C79.4545 7.00053 79.4263 6.99521 79.4 6.98437C79.3736 6.97353 79.3498 6.95741 79.33 6.937C79.3096 6.91716 79.2935 6.89335 79.2826 6.86703C79.2718 6.84072 79.2665 6.81246 79.267 6.784V4.372H76.612V6.784C76.612 6.844 76.591 6.895 76.549 6.937C76.5299 6.95836 76.5062 6.97512 76.4797 6.98603C76.4532 6.99694 76.4246 7.00172 76.396 7H75.576H75.577Z",
                    fill: "#696A7B"
                }), i.jsx("defs", {
                    children: i.jsx("clipPath", {
                        id: "clip0",
                        children: i.jsx("rect", {
                            width: "82",
                            height: "16.4",
                            fill: "white",
                            transform: "translate(0 11)"
                        })
                    })
                })]
            })
        })]
    })
}
;
async function wO(e, t, n) {
    const r = t.target.value;
    J.logAmplitude("verify-ui.language-change", {
        "from-language": Es.language,
        "to-language": r
    });
    const o = n.filter(a => a.lang === r);
    o.length > 0 && await id(o.shift()["translation-url"], e, r),
    await e.changeLanguage(r)
}
function _O(e) {
    const {template: t, theme: n} = e
      , [r] = G();
    f.useEffect( () => {
        (t == null || n == null) && D.redirectToStart()
    }
    , []);
    const {inquiry: o, organization: a} = e
      , {error: s, callback: c} = vt(async () => {
        o == null ? await e.startInquiry(D.inquiryParams, n, window.location.host) : await e.continueInquiry(o)
    }
    , [n, o, a, e.startInquiry, e.showMessage]);
    return _t({
        error: s,
        onNetworkError: () => e.showMessage(r("errors.network")),
        onError: l => {
            a.attributes.status && a.attributes.status !== Bb.Active ? e.showMessage("You do not have a production environment set up. Pass an environment parameter to use sandbox, or please reach out to support@withpersona.com to let us know if youd like to upgrade.") : l instanceof ht ? l.status === 422 ? e.showMessage("Invalid configuration. Please check your parameters.") : l.status >= 500 ? Be("Server error when starting inquiry", "error", {
                error: l
            }) : Be("Client error when starting inquiry", "warning", {
                error: l
            }) : Be("Unknown error when starting inquiry", "error", {
                error: l
            })
        }
    }),
    t == null || n == null ? null : i.jsx(xO, {
        template: t,
        handleSubmit: c,
        theme: n
    })
}
function RO(e) {
    return {
        template: e.inquiry.template,
        inquiry: e.inquiry.inquiry,
        organization: e.inquiry.organization,
        theme: e.inquiry.theme
    }
}
const AO = {
    routeToNextStep: Yt,
    showMessage: ce,
    startInquiry: af,
    continueInquiry: xv
}
  , TO = ke(RO, AO)
  , EO = TO(_O)
  , kO = g("div").withConfig({
    displayName: "VerifyInvalidCodeView__Header",
    componentId: "sc-sb0cs4-0"
})(["min-height:", ";margin-bottom:", "px;"], We.header, M.base * 4)
  , NO = g.a.withConfig({
    displayName: "VerifyInvalidCodeView__HelpLinkContainer",
    componentId: "sc-sb0cs4-1"
})(["margin:0 ", ";display:inline-block;vertical-align:middle;"], I.Spacing[2])
  , jO = "https://help.withpersona.com/articles/c4aR3PAzMNynOxBYNm5Pz/how-do-i-request-a-new-inquiry-link/";
function PO() {
    const [e] = G();
    return i.jsxs("div", {
        children: [i.jsxs(kO, {
            children: [i.jsx(et, {
                children: e("invalid-code.title")
            }), i.jsxs(He, {
                children: [e("invalid-code.prompt"), i.jsx(NO, {
                    href: jO,
                    target: "_blank",
                    rel: "noreferrer",
                    children: i.jsx(Bh, {})
                })]
            })]
        }), i.jsx(Qe, {
            "aria-label": "pictograph showing application error",
            children: i.jsx(pe, {
                children: i.jsx(ai, {})
            })
        })]
    })
}
function DO() {
    return i.jsx(PO, {})
}
const xh = g("div").withConfig({
    displayName: "VerifyInvalidConfigView__Header",
    componentId: "sc-1w539v6-0"
})(["min-height:", ";margin-bottom:", "px;"], We.header, M.base * 4);
function OO({hasTemplate: e}) {
    var o, a;
    const t = (o = Nr().state) == null ? void 0 : o.error;
    f.useEffect( () => {
        kh().setFingerprint(["inquiry-invalid-config"]),
        he(t, "warning")
    }
    , []);
    const n = (a = t == null ? void 0 : t.errors) == null ? void 0 : a.find(s => s.code === "account_inquiry_quota_exceeded" && s.details && s.title);
    if (n)
        return i.jsxs("div", {
            children: [i.jsxs(xh, {
                children: [i.jsx(et, {
                    children: n.title
                }), typeof n.details == "string" && i.jsx(He, {
                    children: n.details
                })]
            }), i.jsx(Qe, {
                "aria-label": "pictograph showing application error",
                children: i.jsx(pe, {
                    children: i.jsx(ai, {})
                })
            })]
        });
    const r = [];
    return e || r.push("Could not load template, check template-id"),
    D.isEmbedded || r.push("Possibly mismatched redirect-uri"),
    i.jsxs("div", {
        children: [i.jsxs(xh, {
            children: [i.jsx(et, {
                children: "This application is misconfigured"
            }), i.jsx(He, {
                children: "If you are a user, please contact the organization that sent you here."
            }), i.jsx(Xe, {
                height: 1
            }), i.jsxs(He, {
                children: ["If you are a developer, please check the errors below with the documentation", " ", i.jsx(kl, {
                    target: "_blank",
                    rel: "noreferrer",
                    to: "https://docs.withpersona.com",
                    children: "here"
                }), "."]
            })]
        }), i.jsx(Qe, {
            "aria-label": "pictograph showing application error",
            children: i.jsx(pe, {
                children: i.jsx(ai, {})
            })
        }), r.map(s => i.jsxs("div", {
            children: ["- ", s]
        }, s))]
    })
}
function LO(e) {
    return i.jsx(OO, {
        hasTemplate: e.template != null || e.inquiryTemplateVersion != null
    })
}
function FO(e) {
    return {
        template: e.inquiry.template,
        inquiryTemplateVersion: e.inquiry.inquiryTemplateVersion
    }
}
const MO = ke(FO)
  , BO = MO(LO)
  , VO = g("div").withConfig({
    displayName: "VerifyInvalidInquiryView__Header",
    componentId: "sc-qvxp99-0"
})(["min-height:", ";margin-bottom:", "px;"], We.header, M.base * 4)
  , UO = g.a.withConfig({
    displayName: "VerifyInvalidInquiryView__HelpLinkContainer",
    componentId: "sc-qvxp99-1"
})(["margin:0 ", ";display:inline-block;vertical-align:middle;"], I.Spacing[2])
  , HO = "https://help.withpersona.com/articles/c4aR3PAzMNynOxBYNm5Pz/how-do-i-request-a-new-inquiry-link/";
function qO() {
    const [e] = G();
    return i.jsxs("div", {
        "data-test": "invalid-inquiry",
        children: [i.jsxs(VO, {
            children: [i.jsx(et, {
                children: e("invalid-inquiry.title")
            }), i.jsxs(He, {
                children: [e("invalid-inquiry.prompt"), i.jsx(UO, {
                    href: HO,
                    target: "_blank",
                    rel: "noreferrer",
                    children: i.jsx(Bh, {})
                })]
            })]
        }), i.jsx(Qe, {
            "aria-label": "pictograph showing application error",
            children: i.jsx(pe, {
                children: i.jsx(ai, {})
            })
        })]
    })
}
function $O() {
    return i.jsx(qO, {})
}
const GO = g("div").withConfig({
    displayName: "VerifyInvalidVerificationView__Header",
    componentId: "sc-lcyx6g-0"
})(["min-height:", ";margin-bottom:", ";"], We.header, I.Spacing[6]);
function WO() {
    const [e] = G();
    return i.jsx("div", {
        children: i.jsxs(GO, {
            children: [i.jsx(et, {
                children: e("invalid-verification.title")
            }), i.jsx(He, {
                children: e("invalid-verification.prompt")
            })]
        })
    })
}
function YO() {
    return i.jsx(WO, {})
}
const zO = g("div").withConfig({
    displayName: "VerifyPhoneNumberConfirmView__Header",
    componentId: "sc-1hvaf4a-0"
})(["min-height:", ";margin-bottom:", "px;"], We.header, M.base * 4)
  , KO = g("div").withConfig({
    displayName: "VerifyPhoneNumberConfirmView__FormSection",
    componentId: "sc-1hvaf4a-1"
})(["margin-bottom:", "px;"], M.base * 4);
function QO(e) {
    const {handleResendCode: t, handleSubmitCode: n, verification: r} = e
      , o = f.useRef(r.attributes["phone-number"])
      , a = Ol(o.current, "National")
      , [s] = G();
    return i.jsxs("div", {
        children: [i.jsxs(zO, {
            children: [i.jsx(et, {
                children: s("phone-number.confirm.title")
            }), i.jsx(He, {
                children: i.jsx(kn, {
                    i18nKey: "phone-number.confirm.prompt",
                    components: [i.jsx("bdo", {
                        dir: "ltr"
                    }, 0)],
                    values: {
                        codeLength: vd,
                        phoneNumber: a
                    }
                })
            })]
        }), i.jsx(KO, {
            children: i.jsx(Lb, {
                handleSubmitCode: n,
                handleResendCode: t,
                verificationType: r.type,
                onSubmit: n
            })
        })]
    })
}
class ZO extends f.Component {
    constructor() {
        super(...arguments),
        this.handleResendCode = async () => {
            var r;
            const {t, verification: n} = this.props;
            this.props.clearMessages();
            try {
                await te.postResourceAction(n, "sms-confirmation-code"),
                this.props.showMessage(t("phone-number.confirm.resent-code"))
            } catch (o) {
                o.status === 400 && ((r = o.errors) == null ? void 0 : r[0].title) === "Phone number unsubscribed" ? this.props.showMessage(t("phone-number.prompt.sms-unsubscribed")) : this.props.showMessage(t("phone-number.confirm.failed-to-resend"))
            }
        }
        ,
        this.handleSubmitCode = async t => {
            const {t: n, inquiry: r, verification: o} = this.props;
            this.props.clearMessages();
            const s = (r.attributes["next-step"].config || {})["require-info-match"];
            try {
                await this.props.verificationPhoneNumberConfirm(o, s, t, this.props.history)
            } catch {
                this.props.showMessage(n("phone-number.confirm.failed"))
            }
        }
    }
    componentDidMount() {
        const {verification: t} = this.props;
        if (t == null) {
            D.redirectToStart();
            return
        }
    }
    render() {
        const {verification: t} = this.props;
        return t == null ? null : i.jsx(QO, {
            verification: t,
            handleSubmitCode: this.handleSubmitCode,
            handleResendCode: this.handleResendCode
        })
    }
}
function JO(e) {
    return {
        verification: e.verification.verification,
        inquiry: e.inquiry.inquiry
    }
}
const XO = {
    clearMessages: Lt,
    verificationPhoneNumberConfirm: TR,
    showMessage: ce
}
  , eL = ke(JO, XO)
  , tL = eL(ZO)
  , nL = jn()(tL)
  , iL = g("div").withConfig({
    displayName: "FormName__PersonalSection",
    componentId: "sc-1ojg0j9-0"
})(["margin-bottom:", "px;"], M.base * 2)
  , vh = {
    firstName: dt("Please enter your full first name", ar(/^..+$/)),
    lastName: dt("Please enter your full last name", ar(/^..+$/))
};
function rL(e) {
    const {handleSubmit: t, pristine: n, submitting: r} = e
      , [o] = G();
    return i.jsxs("form", {
        onSubmit: t,
        children: [i.jsx(iL, {
            children: i.jsxs(ri, {
                children: [i.jsx("label", {
                    htmlFor: Ee.NameFirst,
                    children: o("form.name.name-label")
                }), i.jsx(Se.Field, {
                    name: Ee.NameFirst,
                    component: Wn,
                    autoComplete: "given-name",
                    className: "col-sm-12",
                    disabled: r,
                    placeholder: o("form.name.first_name"),
                    type: "text",
                    validate: vh.firstName
                }), i.jsx(Se.Field, {
                    name: Ee.NameLast,
                    component: Wn,
                    autoComplete: "family-name",
                    className: "col-sm-12",
                    disabled: r,
                    placeholder: o("form.name.last_name"),
                    type: "text",
                    validate: vh.lastName
                })]
            })
        }), i.jsx(mt, {
            children: i.jsx(fe, {
                type: "submit",
                buttonType: Q.Primary,
                disabled: n || r,
                isPending: r,
                tabIndex: n || r ? -1 : 0,
                children: o("form.name.btn-submit")
            })
        })]
    })
}
const oL = Se.reduxForm({
    form: "name"
})(rL)
  , aL = g("div").withConfig({
    displayName: "VerifyPhoneNumberInfoView__Header",
    componentId: "sc-118vczo-0"
})(["min-height:", ";margin-bottom:", "px;"], We.header, M.base * 4)
  , sL = g("div").withConfig({
    displayName: "VerifyPhoneNumberInfoView__FormSection",
    componentId: "sc-118vczo-1"
})(["margin-bottom:", "px;"], M.base * 4);
function cL(e) {
    const [t] = G();
    return i.jsxs("div", {
        children: [i.jsxs(aL, {
            children: [i.jsx(et, {
                children: t("phone-number.info.title")
            }), i.jsx(He, {
                children: t("phone-number.info.prompt")
            })]
        }), i.jsx(sL, {
            children: i.jsx(oL, {
                onSubmit: e.handleSubmit
            })
        })]
    })
}
const lL = e => {
    const [t] = G();
    f.useEffect( () => {
        e.autofillForm("name", D.inquiryParams, e.submittedValues)
    }
    , []);
    const n = async r => {
        const {verification: o} = e;
        e.clearMessages(),
        e.saveSubmittedValues(r);
        try {
            await e.verificationPhoneNumberSubmit(o, r, e.history)
        } catch {
            e.showMessage(t("errors.network"))
        }
    }
    ;
    return i.jsx(cL, {
        handleSubmit: n
    })
}
;
function dL(e) {
    return {
        inquiry: e.inquiry.inquiry,
        submittedValues: e.verification.submittedValues,
        verification: e.verification.verification
    }
}
const uL = {
    autofillForm: La,
    clearMessages: Lt,
    routeToNextStep: Yt,
    saveSubmittedValues: Xp,
    showMessage: ce,
    verificationPhoneNumberSubmit: ER
}
  , mL = ke(dL, uL)
  , hL = mL(lL)
  , pL = g("div").withConfig({
    displayName: "VerifyPhoneNumberPromptView__Header",
    componentId: "sc-kmtmex-0"
})(["min-height:", ";margin-bottom:", "px;"], We.header, M.base * 4)
  , fL = g("div").withConfig({
    displayName: "VerifyPhoneNumberPromptView__FormSection",
    componentId: "sc-kmtmex-1"
})(["margin-bottom:", "px;"], M.base * 4);
function gL(e) {
    const [t] = G();
    return i.jsxs("div", {
        children: [i.jsxs(pL, {
            children: [i.jsx(et, {
                children: t("phone-number.title")
            }), i.jsx(He, {
                children: t("phone-number.prompt.prompt")
            })]
        }), i.jsx(fL, {
            children: i.jsx(Td, {
                defaultCountry: e.defaultCountry,
                labelContinue: t("phone-number.prompt.btn-submit"),
                onSubmit: e.handleSubmit,
                onCountryChange: e.onCountryChange
            })
        })]
    })
}
const bL = ({autofillForm: e, clearMessages: t, countryCode: n, forcedStatus: r, showMessage: o, submittedValues: a, template: s, verificationPhoneNumberStart: c}) => {
    const [l] = G();
    f.useEffect( () => {
        if (s == null) {
            D.redirectToStart();
            return
        }
        e("phone-number", D.inquiryParams, a)
    }
    , []);
    const [d,u] = f.useState(n)
      , m = f.useCallback(async h => {
        var p;
        t();
        try {
            await c(d, r, h)
        } catch (b) {
            b.status === 400 && ((p = b.errors) == null ? void 0 : p[0].title) === "Phone number unsubscribed" ? (o(l("phone-number.prompt.sms-unsubscribed")),
            document.body.scrollTo(0, 0)) : (o(l("phone-number.prompt.invalid")),
            document.body.scrollTo(0, 0))
        }
    }
    , [c, d, r, l]);
    return s == null ? null : i.jsx(gL, {
        defaultCountry: n,
        handleSubmit: m,
        onCountryChange: u
    })
}
;
function CL(e) {
    return {
        countryCode: e.inquiry.inquiry.attributes["selected-country-code"] || e.locale.localeInfo.country_code,
        forcedStatus: e.test.forcedStatus,
        submittedValues: e.verification.submittedValues,
        template: e.inquiry.template
    }
}
const xL = {
    autofillForm: La,
    clearMessages: Lt,
    showMessage: ce,
    verificationPhoneNumberStart: AR
}
  , vL = ke(CL, xL)
  , IL = vL(bL);
function SL(e) {
    const {i18n: t} = G()
      , {inquiry: n, uiStatus: r} = e;
    return f.useEffect( () => {
        (async () => {
            const {loadInquiryFromCode: a, loadInquiryFromId: s, createInquiry: c, loadThemeAndRedirect: l, setUiReady: d} = e;
            if (D.inquiryParams["session-token"] && (te.accessToken = D.inquiryParams["session-token"]),
            n != null) {
                await s(t, n.id);
                return
            }
            D.inquiryParams.code ? await a(t, D.inquiryParams.code, {
                deviceHandoffMethod: D.inquiryParams["device-handoff-method"]
            }) : D.inquiryParams["inquiry-id"] ? await s(t, D.inquiryParams["inquiry-id"]) : D.inquiryParams["template-id"] != null && typeof D.inquiryParams["template-id"] == "string" && D.inquiryParams["template-id"].startsWith("itmpl") || D.inquiryParams["inquiry-template-id"] || D.inquiryParams["inquiry-template-version-id"] ? await c(t, D.inquiryParams, window.location.host) : await l(t, D.inquiryParams["template-id"]),
            r === tn.Initializing && (D.onEvent(Oe.Ready),
            d())
        }
        )()
    }
    , []),
    i.jsx(Tn, {})
}
const yL = e => ({
    inquiry: e.inquiry.inquiry,
    uiStatus: e.ui.status
})
  , wL = {
    loadInquiryFromCode: dd,
    loadInquiryFromId: bv,
    loadThemeAndRedirect: Cv,
    createInquiry: Ev,
    setUiReady: ut
}
  , _L = ke(yL, wL)
  , zc = _L(SL)
  , Vb = Object.keys(Cs)
  , RL = new Set(Vb);
function AL(e) {
    return e.length === 0 ? Vb : e.filter(t => RL.has(t))
}
function TL(e, t, n, r) {
    return t == null || n == null || r == null || wr(n) || [ge.Completed, ge.Approved, ge.Declined, ge.NeedsReview].includes(n.attributes.status) || e == null || !t.attributes["has-support"] || r.length > 0 && r[r.length - 1].attributes.status === Et.Passed ? !1 : r.filter(a => [Et.Failed, Et.RequiresRetry, Et.Canceled].includes(a.attributes.status)).some(a => a.type !== w.VerificationDatabase)
}
const EL = g("div").withConfig({
    displayName: "VerifySelectCountryView__CountrySelector",
    componentId: "sc-9bsemy-0"
})(["margin-bottom:", "px;"], M.base * 2)
  , kL = g("div").withConfig({
    displayName: "VerifySelectCountryView__Header",
    componentId: "sc-9bsemy-1"
})(["min-height:", ";margin-bottom:", "px;"], We.header, M.base * 4);
function NL(e) {
    const {countryCode: t, handleContinue: n, isProcessing: r, template: o} = e
      , {"enabled-country-codes": a} = o.attributes
      , [s] = G();
    return i.jsxs("div", {
        children: [i.jsxs(kL, {
            children: [i.jsx(et, {
                children: s("select-country.title")
            }), i.jsx(He, {
                children: s("select-country.prompt")
            })]
        }), i.jsx(EL, {
            children: i.jsxs(Zs, {
                "data-test": "country-selector__select",
                value: t != null ? t : "",
                onChange: e.handleCountryChange,
                children: [i.jsx("option", {
                    value: "",
                    disabled: !0,
                    children: s("select-country.placeholder")
                }), AL(a).map(c => [s(`countries.${c}`), c]).sort( (c, l) => c[0].toLowerCase().localeCompare(l[0].toLowerCase())).map( ([c,l]) => i.jsx("option", {
                    value: l,
                    children: c
                }, l))]
            })
        }), i.jsx(mt, {
            children: i.jsx(fe, {
                id: "select-country__button--select",
                buttonType: Q.Primary,
                onClick: n,
                disabled: r || !t,
                isPending: r,
                children: s("select-country.btn-submit")
            })
        })]
    })
}
function jL(e) {
    const {template: t, selectedCountryCode: n, inquiry: r} = e
      , [o,a] = f.useState(n);
    f.useEffect( () => {
        if (t == null || r == null) {
            D.redirectToStart();
            return
        }
    }
    , []);
    const [s,c] = f.useState(void 0)
      , [l] = G();
    if (t == null)
        return null;
    async function d() {
        const {inquiry: m} = e;
        c(!0),
        J.logAmplitude("country-select", {
            "country-code": o
        }),
        D.onEvent(Oe.CountrySelect, {
            "country-code": o
        });
        try {
            const h = {
                id: m.id,
                type: m.type,
                attributes: {
                    "selected-country-code": o
                }
            }
              , p = (await te.updateResource(h)).data;
            e.saveInquiry(p),
            e.routeToNextStep(p)
        } catch (h) {
            if (c(void 0),
            h instanceof xt) {
                e.showMessage(l("errors.network"));
                return
            } else if (h instanceof ht && h.status !== 401) {
                e.showMessage(l("errors.session-expired"));
                return
            }
        }
    }
    const u = m => {
        a(m.currentTarget.value)
    }
    ;
    return i.jsx(NL, {
        countryCode: o,
        handleContinue: d,
        handleCountryChange: u,
        isProcessing: s,
        template: t
    })
}
function PL(e) {
    var n;
    const t = Zp(e.inquiry.template, D.inquiryParams.prefill, e.locale.localeInfo.country_code);
    return {
        selectedCountryCode: ((n = e.inquiry.inquiry) == null ? void 0 : n.attributes["selected-country-code"]) || t,
        inquiry: e.inquiry.inquiry,
        template: e.inquiry.template
    }
}
const DL = {
    routeToNextStep: Yt,
    saveInquiry: Ot,
    showMessage: ce
}
  , OL = ke(PL, DL)(jL)
  , LL = g("div").withConfig({
    displayName: "VerifySelfieFailedView__Header",
    componentId: "sc-1437e1b-0"
})(["", ""], e => e.withIcon ? $(["min-height:", ";margin-bottom:", "px;"], We.header, M.base * 4) : $(["margin-bottom:", "px;"], M.base * 2))
  , FL = g("div").withConfig({
    displayName: "VerifySelfieFailedView__FailureReasonSection",
    componentId: "sc-1437e1b-1"
})(["margin-bottom:", "px;"], M.base * 6)
  , Kc = g("div").withConfig({
    displayName: "VerifySelfieFailedView__FailureReasonOption",
    componentId: "sc-1437e1b-2"
})(["display:flex;align-items:center;margin-bottom:", "px;"], M.base * 2)
  , Qc = g.div.withConfig({
    displayName: "VerifySelfieFailedView__FailureReasonPictograph",
    componentId: "sc-1437e1b-3"
})(["display:flex;align-items:center;flex-shrink:0;justify-content:space-around;margin-right:", "px;> img,svg{height:50px;width:50px;}"], M.base * 2);
function ML(e) {
    const {handleContinue: t, verification: n} = e
      , [r] = G()
      , {iconStyle: o} = f.useContext(Je)
      , a = o !== Lr.None
      , s = (n.attributes["entity-confidence-reasons-public"] || []).filter(l => Object.values(ro).includes(l))
      , c = s.length === 0 ? ro.Generic : s[0];
    return i.jsxs("div", {
        children: [i.jsxs(LL, {
            withIcon: a,
            children: [i.jsx(et, {
                children: i.jsx(X, {
                    children: r("selfie.failed.title")
                })
            }), i.jsx(He, {
                children: i.jsx(X, {
                    children: r("selfie.failed.prompt")
                })
            })]
        }), i.jsx(FL, {
            children: i.jsx(BL, {
                withIcon: a,
                failureReason: c,
                t: r
            })
        }), i.jsx(mt, {
            children: i.jsx(fe, {
                id: "selfie-failed__continue",
                buttonType: Q.Primary,
                onClick: t,
                children: r("selfie.failed.btn-submit")
            })
        })]
    })
}
const BL = ({withIcon: e, failureReason: t, t: n}) => {
    switch (t) {
    case ro.Glasses:
        return i.jsxs(Kc, {
            children: [e && i.jsx(Qc, {
                "data-test": "selfie-failed__failure-reason-pictograph",
                children: i.jsx(pe, {
                    children: i.jsx(z1, {})
                })
            }), i.jsx(X, {
                children: n("selfie.failed.failure-reasons.glasses")
            })]
        });
    case ro.Glare:
        return i.jsxs(Kc, {
            children: [e && i.jsx(Qc, {
                "data-test": "selfie-failed__failure-reason-pictograph",
                children: i.jsx(pe, {
                    children: i.jsx(rp, {})
                })
            }), i.jsx(X, {
                children: n("selfie.failed.failure-reasons.glare")
            })]
        });
    case ro.Generic:
        return i.jsxs(Kc, {
            children: [e && i.jsx(Qc, {
                "data-test": "selfie-failed__failure-reason-pictograph",
                children: i.jsx(pe, {
                    children: i.jsx(Jc, {})
                })
            }), i.jsx(X, {
                children: n("selfie.failed.failure-reasons.generic")
            })]
        });
    default:
        lt(t)
    }
}
;
function VL(e) {
    return f.useEffect( () => {
        if (e.verification == null) {
            D.redirectToStart();
            return
        }
    }
    ),
    e.verification == null ? null : i.jsx(ML, {
        handleContinue: () => e.routeToNextStep(e.inquiry, Nt),
        verification: e.verification
    })
}
function UL(e) {
    return {
        featureFlags: e.inquiry.featureFlags,
        inquiry: e.inquiry.inquiry,
        verification: e.verification.verification
    }
}
const HL = {
    routeToNextStep: Yt
}
  , qL = ke(UL, HL)(VL)
  , Ub = g("div").withConfig({
    displayName: "VerifySelfiePromptView__Header",
    componentId: "sc-1l6vrjs-0"
})(["min-height:", ";margin-bottom:", "px;"], We.header, M.base * 4)
  , $L = g("div").withConfig({
    displayName: "VerifySelfiePromptView__OptionPrimary",
    componentId: "sc-1l6vrjs-1"
})(["margin-bottom:", "px;"], M.base * 2)
  , GL = g(Dr).withConfig({
    displayName: "VerifySelfiePromptView__IconCameraStyled",
    componentId: "sc-1l6vrjs-2"
})(["path[stroke]{stroke:", ";}"], e => e.theme.colorFontButtonPrimary)
  , Hb = g.div.withConfig({
    displayName: "VerifySelfiePromptView__CaptureOptionsContainer",
    componentId: "sc-1l6vrjs-3"
})(["width:100%;"]);
function WL(e) {
    const {enabledCaptureOptions: t} = e
      , [n,r] = G();
    return t.includes(qn.WebCamera) ? i.jsx(YL, {
        ...e,
        t: n,
        i18n: r
    }) : t.includes(qn.Stillfie) ? i.jsx(Ih, {
        ...e,
        t: n,
        i18n: r
    }) : (Be("Expected either web_camera or stillfie capture options", "warning", {
        enabledCaptureOptions: t
    }),
    i.jsx(Ih, {
        ...e,
        t: n,
        i18n: r
    }))
}
function qb(e) {
    const {handleDeviceHandoff: t, isProcessing: n} = e
      , [r] = G();
    return i.jsx(fe, {
        id: "selfie-prompt__button--device-handoff",
        "data-test": "selfie-prompt__button--device-handoff",
        buttonType: Q.Secondary,
        disabled: !!n,
        isPending: n === nt.DeviceHandoff,
        onClick: t,
        children: r("selfie.prompt.btn-continue-on-device")
    })
}
function YL({t: e, enabledCaptureOptions: t, isProcessing: n, requireSelfieMatch: r, handleDeviceHandoff: o, handleStartRecording: a}) {
    let s = "", c;
    switch (r) {
    case rn.ProfileAndCenter:
        s = e("selfie.prompt.prompt"),
        c = i.jsx(Qe, {
            height: 120,
            width: 120,
            "aria-label": "selfie pictograph",
            children: i.jsx(Kt, {
                url: "selfiePictographUrl",
                height: "selfiePictographHeight",
                "aria-label": "selfie pictograph",
                themed: !1,
                children: i.jsxs(Ze, {
                    frameDuration: 100,
                    children: [i.jsx(Ze.Center, {
                        frames: 8
                    }), i.jsx(Ze.Left1, {}), i.jsx(Ze.Left2, {
                        frames: 8
                    }), i.jsx(Ze.Left1, {}), i.jsx(Ze.Center, {}), i.jsx(Ze.Right1, {}), i.jsx(Ze.Right2, {
                        frames: 8
                    }), i.jsx(Ze.Right1, {})]
                })
            })
        });
        break;
    case rn.OnlyCenter:
        s = e("selfie.prompt.prompt-center"),
        c = i.jsx(Qe, {
            height: 120,
            width: 120,
            "aria-label": "selfie center pictograph",
            children: i.jsx(Kt, {
                url: "selfieCenterPictographUrl",
                height: "selfieCenterPictographHeight",
                "aria-label": "selfie center pictograph",
                themed: !1,
                children: i.jsx(Ze, {
                    children: i.jsx(Ze.Center, {})
                })
            })
        });
        break;
    default:
        Be("Invalid selfie match requirement");
        break
    }
    return i.jsxs(i.Fragment, {
        children: [i.jsxs(Ub, {
            children: [i.jsx(et, {
                children: i.jsx(X, {
                    children: e("selfie.prompt.title")
                })
            }), i.jsx(He, {
                children: i.jsx(X, {
                    children: s
                })
            })]
        }), c, i.jsx(mt, {
            children: i.jsxs(Hb, {
                children: [i.jsx($L, {
                    children: i.jsx(fe, {
                        id: "selfie-prompt__button--camera",
                        buttonType: Q.Primary,
                        disabled: !!n,
                        isPending: n === nt.SelectCamera,
                        onClick: a,
                        children: e("selfie.prompt.btn-submit")
                    })
                }), t.includes(qn.DeviceHandoff) && i.jsx(qb, {
                    handleDeviceHandoff: o,
                    isProcessing: n
                })]
            })
        })]
    })
}
const Zc = g.div.withConfig({
    displayName: "VerifySelfiePromptView__StillfieHint",
    componentId: "sc-1l6vrjs-4"
})(["display:flex;justify-content:center;"])
  , zo = g.div.withConfig({
    displayName: "VerifySelfiePromptView__StillfieHintColumn",
    componentId: "sc-1l6vrjs-5"
})(["display:flex;flex-direction:column;align-items:center;position:relative;width:145px;font-size:", ";line-height:", ";"], ({theme: e}) => e.fontSizeSmall, ({theme: e}) => e.lineHeightSmall)
  , ts = g.div.withConfig({
    displayName: "VerifySelfiePromptView__StillfieHintIconContainer",
    componentId: "sc-1l6vrjs-6"
})(["position:absolute;top:108px;right:-4px;"])
  , ns = g.p.withConfig({
    displayName: "VerifySelfiePromptView__StillfieHintText",
    componentId: "sc-1l6vrjs-7"
})(["width:100px;"]);
function Ih({t: e, enabledCaptureOptions: t, isProcessing: n, currentStep: r, handleDeviceHandoff: o, handleSelectImage: a}) {
    f.useEffect( () => {
        J.logAmplitude("selfie.stillfie", {
            currentStep: r
        })
    }
    , [r]);
    let s, c;
    switch (r) {
    case ue.Center:
        s = e("selfie.prompt.prompt-center"),
        c = i.jsx(Qe, {
            height: 120,
            width: 120,
            "aria-label": "stillfie center pictograph",
            children: i.jsx(Kt, {
                url: "selfieCenterPictographUrl",
                height: "selfieCenterPictographHeight",
                "aria-label": "stillfie center pictograph",
                themed: !1,
                children: i.jsx(Zc, {
                    children: i.jsx(zo, {
                        children: i.jsx(Ze, {
                            children: i.jsx(Ze.Center, {})
                        })
                    })
                })
            })
        });
        break;
    case ue.Left:
        s = e("selfie.prompt.prompt-left"),
        c = i.jsx(Qe, {
            height: null,
            width: null,
            "aria-label": "stillfie left pictograph",
            children: i.jsx(Kt, {
                url: "selfieLeftPictographUrl",
                height: "selfieLeftPictographHeight",
                "aria-label": "stillfie left pictograph",
                themed: !1,
                children: i.jsxs(Zc, {
                    children: [i.jsxs(zo, {
                        children: [i.jsx(Ze, {
                            children: i.jsx(Ze.Left1, {})
                        }), i.jsx(ts, {
                            children: i.jsx(ms, {})
                        }), i.jsx(ns, {
                            children: e("selfie.prompt.prompt-stillfie-hint-left")
                        })]
                    }), i.jsx(Xe, {
                        width: 3
                    }), i.jsxs(zo, {
                        children: [i.jsx(Ze, {
                            children: i.jsx(Ze.Left3, {})
                        }), i.jsx(ts, {
                            children: i.jsx(hs, {})
                        }), i.jsx(ns, {
                            children: e("selfie.prompt.prompt-stillfie-hint-wrong")
                        })]
                    })]
                })
            })
        });
        break;
    case ue.Right:
        s = e("selfie.prompt.prompt-right"),
        c = i.jsx(Qe, {
            height: null,
            width: null,
            "aria-label": "stillfie right pictograph",
            children: i.jsx(Kt, {
                url: "selfieRightPictographUrl",
                height: "selfieRightPictographHeight",
                "aria-label": "stillfie right pictograph",
                themed: !1,
                children: i.jsxs(Zc, {
                    children: [i.jsxs(zo, {
                        children: [i.jsx(Ze, {
                            children: i.jsx(Ze.Right1, {})
                        }), i.jsx(ts, {
                            children: i.jsx(ms, {})
                        }), i.jsx(ns, {
                            children: e("selfie.prompt.prompt-stillfie-hint-right")
                        })]
                    }), i.jsx(Xe, {
                        width: 3
                    }), i.jsxs(zo, {
                        children: [i.jsx(Ze, {
                            children: i.jsx(Ze.Right3, {})
                        }), i.jsx(ts, {
                            children: i.jsx(hs, {})
                        }), i.jsx(ns, {
                            children: e("selfie.prompt.prompt-stillfie-hint-wrong")
                        })]
                    })]
                })
            })
        });
        break
    }
    return i.jsxs(i.Fragment, {
        children: [i.jsxs(Ub, {
            children: [i.jsx(et, {
                children: i.jsx(X, {
                    children: e("selfie.prompt.title-stillfie")
                })
            }), i.jsx(He, {
                children: i.jsx(X, {
                    children: s
                })
            })]
        }), c, i.jsx(Xe, {
            height: 3
        }), i.jsx(mt, {
            children: i.jsxs(Hb, {
                children: [i.jsx(Fo, {
                    id: "selfie-prompt__button--stillfie",
                    buttonType: Q.Primary,
                    capture: "user",
                    disabled: n != null,
                    isPending: n === nt.UploadImage,
                    handleSelectImage: a,
                    children: i.jsx(GL, {})
                }), t.includes(qn.DeviceHandoff) && i.jsx(qb, {
                    handleDeviceHandoff: o,
                    isProcessing: n
                })]
            })
        })]
    })
}
const zL = e => {
    const {inquiry: t, currentSession: n, currentStep: r, featureFlags: o, isWebGLIncompatible: a, template: s, hasCamera: c} = e
      , {t: l} = G()
      , d = f.useRef();
    f.useEffect( () => {
        const [E,T] = hi();
        return d.current = E,
        T
    }
    , []);
    const [u,m] = f.useState(void 0)
      , [h,p] = f.useState(void 0)
      , b = Kn();
    f.useEffect( () => {
        if (e.inquiry == null) {
            D.redirectToStart();
            return
        }
    }
    , []),
    f.useEffect( () => {
        C()
    }
    , []),
    f.useEffect( () => {
        if (s.attributes["force-link-from-react-native"] && n.relationships["parent-session"].data == null) {
            e.history.replace("/verify/device-handoff/sms");
            return
        }
        if (e.match.params.step === da([], os(t)) && e.verificationSelfieStart(),
        c == null)
            e.checkCamera();
        else {
            const T = cv({
                verificationConfigSelfie: r.config,
                isMobile: b,
                isWebGLIncompatible: a,
                hasCamera: c
            });
            p(T),
            T.length === 0 && e.history.replace("/verify/invalid/verification"),
            T.length === 1 && T[0] === qn.DeviceHandoff && e.history.replace("/verify/device-handoff/prompt")
        }
    }
    , [c]);
    const C = async () => {
        try {
            await kt.loadModels()
        } catch {}
    }
      , S = async () => {
        e.clearMessages(),
        m(nt.SelectCamera);
        const E = Hs(t);
        try {
            const T = Pg({
                highResolution: E
            });
            e.setVideoConstraints(T),
            await Promise.all([Nn.prepare({
                video: T
            }, o), kt.loadModels()]),
            D.onEvent(Oe.SelfieCameraSelect),
            e.history.push("/verify/selfie/record")
        } catch (T) {
            he(T, "warning"),
            J.logAmplitude("selfie.record.errored", {
                error: {
                    name: T.name,
                    message: T.message
                }
            }),
            D.onEvent(Oe.LoadCameraFailed, {
                error: T.name,
                message: T.message
            }),
            e.history.push("/verify/support/camera")
        }
    }
      , v = async E => {
        if (e.clearMessages(),
        window.FileReader == null) {
            e.showMessage(l("government-id.prompt.failed-select-image"));
            return
        }
        m(nt.UploadImage),
        D.onEvent(Oe.SelfieRecordUpload);
        const T = document.createElement("img");
        T.onload = async () => {
            const O = Math.min(1e3, Math.max(T.width, T.height));
            cb(T, d.current, O);
            const N = d.current.toDataURL("image/jpeg");
            if (N == null) {
                e.showMessage(l("government-id.prompt.failed-select-image")),
                Be("Stillfie canvas is empty", "error", {
                    fileSize: E == null ? void 0 : E.size,
                    fileName: E == null ? void 0 : E.name,
                    img: T.src
                });
                return
            }
            J.logAmplitude("selfie.upload", {
                fileSize: E == null ? void 0 : E.size,
                fileName: E == null ? void 0 : E.name,
                imgSize: T.src.length,
                canvasSize: N.length
            });
            let U;
            N.length < T.src.length && N.length !== 0 ? U = N : U = T.src;
            const V = e.match.params.step;
            e.saveCapturedSelfie(V, U, gt.Upload);
            const ne = rd(e.capturedSelfies, V, U, gt.Upload)
              , L = os(t)
              , H = da(ne, L);
            if (H == null)
                try {
                    await e.verificationSelfieSubmit(e.routingInputs, ne, null, e.history, e.forcedStatus)
                } catch {
                    m(void 0)
                }
            else
                e.history.push(`/verify/selfie/${H}/prompt`)
        }
        ,
        T.onerror = x;
        const F = await yo(E);
        T.src = F
    }
      , x = () => {
        m(void 0),
        e.showMessage(l("government-id.prompt.failed-select-image"))
    }
      , _ = () => {
        u == null && (e.clearMessages(),
        m(nt.DeviceHandoff),
        e.history.push("/verify/device-handoff/prompt"))
    }
    ;
    if (t == null || s.attributes["force-link-from-react-native"] && n.relationships["parent-session"].data == null || h == null || h.length === 0 || h.length === 1 && h[0] === qn.DeviceHandoff)
        return null;
    const R = os(t);
    return i.jsx(WL, {
        handleSelectImage: v,
        handleStartRecording: S,
        handleDeviceHandoff: _,
        enabledCaptureOptions: h,
        isProcessing: u,
        currentStep: e.match.params.step,
        requireSelfieMatch: R
    })
}
  , KL = e => ({
    capturedSelfies: e.verification.capturedSelfies,
    forcedStatus: e.test.forcedStatus,
    inquiry: e.inquiry.inquiry,
    currentSession: e.inquiry.currentSession,
    currentStep: e.inquiry.currentStep,
    isWebGLIncompatible: e.inquiry.isWebGLIncompatible,
    routingInputs: Cc(e),
    template: e.inquiry.template,
    featureFlags: e.inquiry.featureFlags,
    hasCamera: e.ui.hasCamera
})
  , QL = {
    clearMessages: Lt,
    routeToNextStep: Yt,
    saveCapturedSelfie: qs,
    setVideoConstraints: So,
    verificationSelfieStart: ug,
    showMessage: ce,
    verificationSelfieSubmit: mg,
    checkCamera: Or
}
  , ZL = ke(KL, QL)
  , JL = ZL(zL)
  , XL = 15e3;
function eF(e) {
    var c;
    const t = (c = e.enabledCaptureOptions) != null && c.includes(qn.Manual) ? XL : null
      , [n,{enable: r, disable: o}] = rt()
      , {t: a} = G()
      , s = Jp({
        requireSelfieMatch: e.requireSelfieMatch
    });
    return i.jsxs(i.Fragment, {
        children: [i.jsxs(bi, {
            isOpen: n,
            onClose: o,
            "data-test": "verify-selfie-record-view__slow-detection-dialog",
            "aria-labelledby": "verify-selfie-record-view__slow-detection-dialog--title",
            "aria-describedby": "verify-selfie-record-view__slow-detection-dialog--description",
            children: [i.jsx(et, {
                id: "verify-selfie-record-view__slow-detection-dialog--title",
                children: i.jsx(X, {
                    children: a("selfie.record.slow-detection-title")
                })
            }), i.jsx(He, {
                id: "verify-selfie-record-view__slow-detection-dialog--description",
                children: i.jsx(X, {
                    children: a("selfie.record.slow-detection-prompt")
                })
            }), i.jsx(Xe, {
                height: 2
            }), i.jsx(fe, {
                id: "verify-selfie-record-view__slow-detection-dialog--wait-btn",
                "data-test": "verify-selfie-record-view__slow-detection-dialog--wait-btn",
                onClick: o,
                children: a("selfie.record.slow-detection-wait")
            }), i.jsx(Xe, {
                height: 1
            }), i.jsx(fe, {
                id: "verify-selfie-record-view__slow-detection-dialog--try-another-device-btn",
                "data-test": "verify-selfie-record-view__slow-detection-dialog--try-another-device-btn",
                onClick: e.handleSlowFaceDetection,
                buttonType: Q.Secondary,
                children: a("selfie.record.slow-detection-try-another-device")
            })]
        }), i.jsx(Eb, {
            capturedSelfies: e.capturedSelfies,
            clearCapturedSelfies: e.clearCapturedSelfies,
            delayUntilManualCaptureMs: t,
            handleComplete: l => e.handleComplete(l.capturedSelfies, l.cameraInspectionData),
            handleFailed: e.handleFailed,
            detectTimeout: e.detectTimeout,
            handleSlowFaceDetection: r,
            poseOrder: s,
            saveCapturedSelfie: e.saveCapturedSelfie,
            videoConstraints: e.videoConstraints,
            requireHigherAccuracyCapture: e.requireHigherAccuracyCapture,
            featureFlags: e.featureFlags
        })]
    })
}
const tF = e => {
    const [t] = G()
      , {currentStep: n, routingInputs: r, inquiry: o, videoConstraints: a} = e;
    if (f.useEffect( () => {
        if (e.inquiry == null) {
            D.redirectToStart();
            return
        }
        try {
            window.parent.Cypress && c("Push to stillfie in Cypress tests!", "load")
        } catch {}
    }
    , []),
    o == null)
        return null;
    const s = async (m, h) => {
        e.clearMessages();
        try {
            D.onEvent(Oe.SelfieCameraCapture),
            await e.verificationSelfieSubmit(r, m, h, e.history, e.forcedStatus)
        } catch {
            e.showMessage(t("errors.network"), !0),
            e.clearCapturedSelfies(),
            e.history.replace(`/verify/selfie/${ue.Center}/prompt`)
        }
    }
      , c = (m, h) => {
        e.showMessage(t("selfie.record.failed-video"), !0),
        e.saveIsWebGLIncompatible(!0),
        m instanceof Error ? (h === "load" && D.onEvent(Oe.LoadCameraFailed, {
            error: m.name,
            message: m.message
        }),
        he(m, "warning", {
            state: h
        }, {
            jira: "PER-10182"
        })) : (h === "load" && D.onEvent(Oe.LoadCameraFailed, {
            message: m
        }),
        Be(m, "warning", {
            state: h
        }, {
            jira: "PER-10182"
        })),
        setTimeout( () => {
            e.history.goBack()
        }
        , 500)
    }
      , l = () => {
        e.saveIsWebGLIncompatible(!0),
        e.history.goBack()
    }
      , d = Kn()
      , u = Hs(e.inquiry);
    return i.jsx(eF, {
        capturedSelfies: e.capturedSelfies,
        enabledCaptureOptions: n.config[d ? "enabled-capture-options-mobile" : "enabled-capture-options-desktop"],
        clearCapturedSelfies: e.clearCapturedSelfies,
        handleComplete: s,
        handleFailed: c,
        handleSlowFaceDetection: l,
        requireSelfieMatch: os(o),
        saveCapturedSelfie: e.saveCapturedSelfie,
        videoConstraints: a,
        requireHigherAccuracyCapture: u,
        detectTimeout: xb,
        featureFlags: e.featureFlags
    })
}
;
function nF(e) {
    return {
        capturedSelfies: e.verification.capturedSelfies,
        currentStep: e.inquiry.currentStep,
        inquiry: e.inquiry.inquiry,
        routingInputs: Cc(e),
        videoConstraints: e.verification.videoConstraints,
        forcedStatus: e.test.forcedStatus,
        featureFlags: e.inquiry.featureFlags
    }
}
const iF = {
    clearCapturedSelfies: od,
    clearMessages: Lt,
    routeToNextStep: Yt,
    saveCapturedSelfie: qs,
    saveIsWebGLIncompatible: Gp,
    showMessage: ce,
    verificationSelfieSubmit: mg
}
  , rF = ke(nF, iF)
  , oF = rF(tF)
  , aF = jn()(oF)
  , Sh = g("div").withConfig({
    displayName: "VerifySuccessView__Header",
    componentId: "sc-7bvk95-0"
})(["margin-bottom:", "px;"], M.base * 8)
  , sF = g("div").withConfig({
    displayName: "VerifySuccessView__AnimationContainer",
    componentId: "sc-7bvk95-1"
})(["display:flex;flex-direction:column;align-items:center;margin-bottom:", "px;"], M.base * 5)
  , yh = g("div").withConfig({
    displayName: "VerifySuccessView__TextDefaultCentered",
    componentId: "sc-7bvk95-2"
})(["text-align:", ";"], ({theme: e}) => e.textAlign === Ys.Default ? "center" : e.textAlign);
function cF(e) {
    const {handleSubmit: t, hasCompleteButton: n, isChildFlow: r, isProcessing: o, pictograph: a} = e
      , [s] = G()
      , {successPictographPosition: c} = f.useContext(Je)
      , l = a !== "none" && i.jsx(Qe, {
        height: null,
        width: null,
        "aria-label": "success",
        children: i.jsx(Kt, {
            url: "successPictographUrl",
            height: "successPictographHeight",
            themed: !1,
            children: i.jsx(sF, {
                children: i.jsx(Rf, {})
            })
        })
    });
    return r ? i.jsxs("div", {
        "data-test": "verify-success-view__child-flow",
        children: [i.jsxs(Sh, {
            children: [i.jsx(et, {
                children: s("success.title-exchange-flow")
            }), i.jsx(He, {
                children: i.jsx(X, {
                    children: s("success.prompt-exchange-flow")
                })
            })]
        }), i.jsx(Qe, {
            "aria-label": "desktop pictograph",
            children: i.jsx(pe, {
                vectorEffect: "initial",
                children: i.jsx($h, {})
            })
        })]
    }) : i.jsxs("div", {
        children: [c === $t.Start && l, i.jsxs(Sh, {
            children: [i.jsx(et, {
                children: i.jsx(yh, {
                    children: s("success.title")
                })
            }), i.jsx(yh, {
                children: i.jsx(X, {
                    children: s("success.prompt")
                })
            })]
        }), c === $t.Center && l, n && i.jsx(mt, {
            children: i.jsx(fe, {
                id: "success__button--complete",
                buttonType: Q.Primary,
                onClick: t,
                disabled: o,
                isPending: o,
                children: s("success.btn-submit")
            })
        })]
    })
}
const wh = 500;
class lF extends f.Component {
    constructor(t) {
        super(t),
        this.handleSubmit = async () => {
            this.setState({
                isProcessing: !0
            });
            const n = await this.pollForInquiryComplete()
              , r = {
                inquiryId: n.id,
                referenceId: n.attributes["reference-id"],
                subject: n.attributes["reference-id"],
                scopes: {
                    name: {
                        first: n.attributes["name-first"],
                        middle: n.attributes["name-middle"],
                        last: n.attributes["name-last"]
                    },
                    birthdate: n.attributes.birthdate,
                    address: {
                        "street-1": n.attributes["address-street-1"],
                        "street-2": n.attributes["address-street-2"],
                        city: n.attributes["address-city"],
                        subdivision: n.attributes["address-subdivision"],
                        "subdivision-abbr": n.attributes["address-subdivision-abbr"],
                        "postal-code": n.attributes["address-postal-code"]
                    },
                    "email-address": n.attributes["email-address"]
                },
                status: n.attributes.status,
                fields: n.attributes.fields
            }
              , o = {
                inquiry: n
            };
            J.logAmplitude("verify-ui.success", {
                duration: $n.local().diff($n.fromISO(n.attributes["created-at"]), "seconds").seconds
            }),
            D.onEvent(Oe.Success, r),
            J.logAmplitude("verify-ui.complete"),
            D.onEvent(Oe.Complete, r, o),
            this.setState({
                isProcessing: !1
            })
        }
        ,
        this.pollForInquiryComplete = async () => new Promise(n => this.pollHelper(n)),
        this.pollHelper = async n => {
            const {inquiry: r} = this.props;
            try {
                const o = (await te.getResource(Qt(r.type), r.id)).data;
                switch (o.attributes.status) {
                case ge.Created:
                case ge.Pending:
                    setTimeout( () => this.pollHelper(n), wh);
                    break;
                case ge.Completed:
                case ge.NeedsReview:
                case ge.Approved:
                case ge.Declined:
                case ge.Expired:
                case ge.Failed:
                    n(o);
                    break;
                default:
                    lt(o.attributes.status)
                }
            } catch (o) {
                o instanceof xt ? setTimeout( () => this.pollHelper(n), wh) : he(o)
            }
        }
        ,
        this.state = {
            isProcessing: !1
        }
    }
    componentDidMount() {
        const {template: t} = this.props;
        if (t == null) {
            D.redirectToStart();
            return
        }
        t.attributes["auto-trigger-complete-event"] && setTimeout( () => {
            this.handleSubmit()
        }
        , 5e3)
    }
    render() {
        const {template: t, inquiry: n, currentSession: r} = this.props;
        if (t == null)
            return null;
        const a = (n.attributes["next-step"].config || {}).pictograph;
        return i.jsx(cF, {
            handleSubmit: this.handleSubmit,
            hasCompleteButton: vo(n),
            isChildFlow: r.relationships["parent-session"].data != null,
            isProcessing: this.state.isProcessing,
            pictograph: a
        })
    }
}
function dF(e) {
    return {
        template: e.inquiry.template,
        inquiry: e.inquiry.inquiry,
        currentSession: e.inquiry.currentSession
    }
}
const uF = {
    clearMessages: Lt
}
  , mF = ke(dF, uF)
  , hF = mF(lF)
  , pF = g("div").withConfig({
    displayName: "VerifySupportCameraView__Header",
    componentId: "sc-gfv5nj-0"
})(["min-height:", ";margin-bottom:", "px;"], We.header, M.base * 4)
  , fF = e => {
    const [t] = G()
      , [n,r] = f.useState(void 0);
    if (f.useEffect( () => {
        oC(e.requestedMicrophone).then(a => r(a))
    }
    , []),
    n == null)
        return null;
    const o = n ? t("support-camera.prompt-issues") : e.requestedMicrophone ? t("support-camera.prompt-permissions-camera-and-mic") : t("support-camera.prompt-permissions");
    return i.jsxs("div", {
        children: [i.jsxs(pF, {
            children: [i.jsx(et, {
                children: e.requestedMicrophone ? t("support-camera.title-camera-and-mic") : t("support-camera.title")
            }), i.jsx(He, {
                children: i.jsx(X, {
                    children: o
                })
            })]
        }), i.jsx(Kt, {
            url: "cameraSupportPictographUrl",
            height: "cameraSupportPictographHeight",
            children: i.jsx(Qe, {
                "aria-label": "pictograph showing camera error",
                children: i.jsx(pe, {
                    children: i.jsx(ai, {})
                })
            })
        }), i.jsx(mt, {
            children: i.jsx(fe, {
                onClick: e.handleContinue,
                "data-test": "support-camera__button--handle-continue",
                children: e.requestedMicrophone ? t("support-camera.button-camera-and-mic") : t("support-camera.button")
            })
        })]
    })
}
  , gF = e => {
    const t = Vt()
      , n = () => {
        if (wr(e.inquiry))
            e.routeToNextStepDynamicFlow(e.inquiry);
        else if (e.supportLink != null && e.supportLink !== "")
            if (D.isEmbedded || D.isWebView) {
                const r = e.supportLink.startsWith("/")
                  , o = zC(document.referrer)
                  , a = r ? `${o}${e.supportLink}` : e.supportLink;
                window.open(a, "_top"),
                D.onEvent(Oe.Exit, {
                    inquiryId: e.inquiry.id,
                    sessionToken: te.accessToken
                }, {
                    inquiry: e.inquiry
                }),
                e.history.goBack()
            } else
                window.open(e.supportLink, "_self");
        else
            e.history.goBack()
    }
    ;
    return i.jsx(fF, {
        requestedMicrophone: e.requestedMicrophone,
        handleContinue: n,
        handleSmsDeviceHandoff: () => t.push("/verify/device-handoff/sms"),
        handleEmailDeviceHandoff: () => t.push("/verify/device-handoff/email")
    })
}
;
function bF(e) {
    var t, n, r;
    return {
        inquiry: e.inquiry.inquiry,
        supportLink: (t = e.inquiry.template) == null ? void 0 : t.attributes["camera-support-external-link"],
        cameraErrorDeviceHandoffOptions: (r = (n = e.inquiry.currentStep) == null ? void 0 : n.config) == null ? void 0 : r["camera-error-device-handoff-options"],
        featureFlags: e.inquiry.featureFlags
    }
}
const CF = {
    routeToNextStep: Yt,
    routeToNextStepDynamicFlow: Dt
}
  , xF = ke(bF, CF)
  , _h = xF(gF)
  , vF = g("div").withConfig({
    displayName: "VerifySupportPromptView__Header",
    componentId: "sc-14anlrq-0"
})(["min-height:", ";margin-bottom:", "px;"], We.header, M.base * 4)
  , IF = g("div").withConfig({
    displayName: "VerifySupportPromptView__SupportContent",
    componentId: "sc-14anlrq-1"
})([""]);
function SF(e) {
    const [t] = G();
    return i.jsxs(IF, {
        children: [i.jsxs(vF, {
            children: [i.jsx(et, {
                children: t("support-prompt.title")
            }), i.jsx(He, {
                children: t("support-prompt.prompt")
            })]
        }), i.jsx(Fb, {
            onSubmit: e.handleSubmitTicket
        })]
    })
}
const yF = e => {
    const [t] = G();
    f.useEffect( () => {
        if (e.inquiry == null) {
            D.redirectToStart();
            return
        }
    }
    , []);
    const n = f.useCallback(async r => {
        try {
            await te.postResourceAction({
                id: e.inquiry.id,
                type: e.inquiry.type
            }, "send-support-ticket", {
                meta: r
            }),
            e.history.push("/verify/support/sent");
            return
        } catch {
            e.showMessage(t("support-prompt.failed"))
        }
    }
    , [e.inquiry, e.showMessage, t]);
    return e.inquiry == null ? null : i.jsx(SF, {
        handleSubmitTicket: n
    })
}
;
function wF(e) {
    return {
        inquiry: e.inquiry.inquiry
    }
}
const _F = {
    showMessage: ce
}
  , RF = ke(wF, _F)(yF)
  , AF = g("div").withConfig({
    displayName: "VerifySupportSentView__Positioner",
    componentId: "sc-1locv3x-0"
})(["position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:100%;padding:", ";"], M.widgetPadding)
  , TF = g("div").withConfig({
    displayName: "VerifySupportSentView__MessageSentContent",
    componentId: "sc-1locv3x-1"
})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-bottom:", "px;"], M.base * 4)
  , EF = g.div.withConfig({
    displayName: "VerifySupportSentView__IconContainer",
    componentId: "sc-1locv3x-2"
})(["margin-bottom:", "px;"], M.base * 5)
  , kF = g("p").withConfig({
    displayName: "VerifySupportSentView__MessageSentBody",
    componentId: "sc-1locv3x-3"
})(["margin-left:", "px;margin-right:", "px;"], M.base * 4, M.base * 4)
  , NF = g("div").withConfig({
    displayName: "VerifySupportSentView__TextCentered",
    componentId: "sc-1locv3x-4"
})(["text-align:center;"]);
function jF({handleClose: e, hasCompleteButton: t}) {
    const [n] = G();
    return i.jsxs(AF, {
        children: [i.jsxs(TF, {
            children: [i.jsx(EF, {
                children: i.jsx(pe, {
                    children: i.jsx(ip, {})
                })
            }), i.jsxs(NF, {
                children: [i.jsx(et, {
                    children: n("support-sent.title")
                }), i.jsx(kF, {
                    children: n("support-sent.prompt")
                })]
            })]
        }), t && i.jsx(fe, {
            onClick: e,
            children: n("support-sent.button")
        })]
    })
}
const PF = ({inquiry: e}) => {
    const t = f.useCallback( () => {
        e.attributes.status === ge.Failed ? D.onEvent(Oe.Fail, {
            inquiryId: e.id,
            referenceId: e.attributes["reference-id"]
        }, {
            inquiry: e
        }) : D.onEvent(Oe.Exit, {
            inquiryId: e.id,
            sessionToken: te.accessToken
        }, {
            inquiry: e
        })
    }
    , [e]);
    return i.jsx(jF, {
        handleClose: t,
        hasCompleteButton: vo(e)
    })
}
;
function DF(e) {
    return {
        inquiry: e.inquiry.inquiry
    }
}
const OF = ke(DF, void 0)(PF)
  , LF = ({location: e}) => i.jsx(f.Suspense, {
    fallback: i.jsx(Tn, {}),
    children: i.jsxs(B0, {
        location: e,
        children: [i.jsx(Ie, {
            component: zc,
            exact: !0,
            path: "/widget"
        }), i.jsx(Ie, {
            component: zc,
            exact: !0,
            path: "/verify"
        }), i.jsx(Ie, {
            component: BO,
            exact: !0,
            path: "/verify/invalid/config"
        }), i.jsx(Ie, {
            component: $O,
            exact: !0,
            path: "/verify/invalid/inquiry"
        }), i.jsx(Ie, {
            component: YO,
            exact: !0,
            path: "/verify/invalid/verification"
        }), i.jsx(Ie, {
            component: DO,
            exact: !0,
            path: "/verify/invalid/code"
        }), i.jsx(Ie, {
            component: EO,
            exact: !0,
            path: "/verify/intro"
        }), i.jsx(Ie, {
            component: OL,
            exact: !0,
            path: "/verify/select-country"
        }), i.jsx(Ie, {
            component: W9,
            exact: !0,
            path: "/verify/exit"
        }), i.jsx(Ie, {
            component: hF,
            exact: !0,
            path: "/verify/success"
        }), i.jsx(Ie, {
            component: X9,
            exact: !0,
            path: "/verify/failed"
        }), i.jsx(Ie, {
            component: RF,
            exact: !0,
            path: "/verify/support/prompt"
        }), i.jsx(Ie, {
            component: OF,
            exact: !0,
            path: "/verify/support/sent"
        }), i.jsx(Ie, {
            render: t => i.jsx(_h, {
                requestedMicrophone: !1,
                ...t
            }),
            exact: !0,
            path: "/verify/support/camera"
        }), i.jsx(Ie, {
            render: t => i.jsx(_h, {
                requestedMicrophone: !0,
                ...t
            }),
            exact: !0,
            path: "/verify/support/camera-microphone"
        }), i.jsx(Ie, {
            component: j8,
            exact: !0,
            path: "/verify/device-handoff/prompt"
        }), i.jsx(Ie, {
            component: f8,
            exact: !0,
            path: "/verify/device-handoff/email"
        }), i.jsx(Ie, {
            component: y8,
            exact: !0,
            path: "/verify/device-handoff/email/sent"
        }), i.jsx(Ie, {
            component: W8,
            exact: !0,
            path: "/verify/device-handoff/sms"
        }), i.jsx(Ie, {
            component: eP,
            exact: !0,
            path: "/verify/device-handoff/sms/sent"
        }), i.jsx(Ie, {
            component: B8,
            exact: !0,
            path: "/verify/device-handoff/qr"
        }), i.jsx(Ie, {
            component: IL,
            exact: !0,
            path: "/verify/phone-number/prompt"
        }), i.jsx(Ie, {
            component: nL,
            exact: !0,
            path: "/verify/phone-number/confirm"
        }), i.jsx(Ie, {
            component: hL,
            exact: !0,
            path: "/verify/phone-number/info"
        }), i.jsx(Ie, {
            component: H9,
            exact: !0,
            path: "/verify/email-address/prompt"
        }), i.jsx(Ie, {
            component: P9,
            exact: !0,
            path: "/verify/email-address/confirm"
        }), i.jsx(Ie, {
            component: JL,
            exact: !0,
            path: "/verify/selfie/:step/prompt"
        }), i.jsx(Ie, {
            component: aF,
            exact: !0,
            path: "/verify/selfie/record"
        }), i.jsx(Ie, {
            component: qL,
            exact: !0,
            path: "/verify/selfie/failed"
        }), i.jsx(Ie, {
            component: c8,
            exact: !0,
            path: "/verify/database"
        }), i.jsx(Ie, {
            component: Sj,
            exact: !0,
            path: "/verify/database/pending"
        }), i.jsx(Ie, {
            component: hj,
            exact: !0,
            path: "/verify/database/failed"
        }), i.jsx(Ie, {
            component: bO,
            exact: !0,
            path: "/verify/government-id/select"
        }), i.jsx(Ie, {
            component: tO,
            exact: !0,
            path: "/verify/government-id/:step/prompt"
        }), i.jsx(Ie, {
            component: hD,
            exact: !0,
            path: "/verify/government-id/:step/capture"
        }), i.jsx(Ie, {
            component: SD,
            exact: !0,
            path: "/verify/government-id/:step/check"
        }), i.jsx(Ie, {
            component: UD,
            exact: !0,
            path: "/verify/government-id/pending"
        }), i.jsx(Ie, {
            component: jD,
            exact: !0,
            path: "/verify/government-id/failed"
        }), i.jsx(Ie, {
            component: HP,
            exact: !0,
            path: "/verify/documents/intro"
        }), i.jsx(Ie, {
            component: f9,
            exact: !0,
            path: "/verify/documents/:documentNumber/prompt"
        }), i.jsx(Ie, {
            component: oP,
            exact: !0,
            path: "/verify/documents/:documentNumber/capture"
        }), i.jsx(Ie, {
            component: vP,
            exact: !0,
            path: "/verify/documents/:documentNumber/check"
        }), i.jsx(Ie, {
            component: ZP,
            exact: !0,
            path: "/verify/documents/:documentNumber/pending"
        }), i.jsx(Ie, {
            component: AP,
            exact: !0,
            path: "/verify/documents/:documentNumber/failed"
        }), i.jsx(Ie, {
            component: zc,
            exact: !0,
            path: "/inquiry"
        }), i.jsx(Ie, {
            component: x_,
            exact: !0,
            path: Rp
        }), i.jsx(Ie, {
            component: ej,
            exact: !0,
            path: Ap
        }), i.jsx(Ie, {
            component: v4,
            exact: !0,
            path: "/inquiry/documents/prompt"
        }), i.jsx(Ie, {
            component: xR,
            exact: !0,
            path: "/inquiry/documents/capture"
        }), i.jsx(Ie, {
            component: yA,
            exact: !0,
            path: "/inquiry/documents/check"
        }), i.jsx(Ie, {
            component: jA,
            exact: !0,
            path: "/inquiry/documents/pending"
        }), i.jsx(Ie, {
            component: T2,
            exact: !0,
            path: "/inquiry/government-id/select"
        }), i.jsx(Ie, {
            component: Zk,
            exact: !0,
            path: "/inquiry/government-id/:step/prompt"
        }), i.jsx(Ie, {
            component: zT,
            exact: !0,
            path: "/inquiry/government-id/:step/capture-lead-in-animation"
        }), i.jsx(Ie, {
            component: ok,
            exact: !0,
            path: "/inquiry/government-id/:step/capture"
        }), i.jsx(Ie, {
            component: Bm,
            exact: !0,
            path: "/inquiry/government-id/:step/check"
        }), i.jsx(Ie, {
            component: Bm,
            exact: !0,
            path: "/inquiry/government-id/:step/check-upload"
        }), i.jsx(Ie, {
            component: R4,
            exact: !0,
            path: "/inquiry/government-id/autoclassification-failure"
        }), i.jsx(Ie, {
            component: P4,
            exact: !0,
            path: "/inquiry/government-id/autoclassification-select"
        }), i.jsx(Ie, {
            component: jk,
            exact: !0,
            path: "/inquiry/government-id/pending"
        }), i.jsx(Ie, {
            component: o7,
            exact: !0,
            path: "/inquiry/selfie/:step/prompt"
        }), i.jsx(Ie, {
            component: PN,
            exact: !0,
            path: "/inquiry/selfie/record"
        }), i.jsx(Ie, {
            component: m3,
            exact: !0,
            path: "/inquiry/device-handoff/prompt"
        }), i.jsx(Ie, {
            component: H3,
            exact: !0,
            path: "/inquiry/device-handoff/started"
        }), i.jsx(Ie, {
            component: U_,
            exact: !0,
            path: "/inquiry/device-handoff/email"
        }), i.jsx(Ie, {
            component: K_,
            exact: !0,
            path: "/inquiry/device-handoff/email/sent"
        }), i.jsx(Ie, {
            component: R3,
            exact: !0,
            path: "/inquiry/device-handoff/sms"
        }), i.jsx(Ie, {
            component: D3,
            exact: !0,
            path: "/inquiry/device-handoff/sms/sent"
        }), i.jsx(Ie, {
            component: r_,
            exact: !0,
            path: "/inquiry/create-persona/passkey-registration"
        }), i.jsx(Ie, {
            component: w_,
            exact: !0,
            path: "/inquiry/create-persona/success"
        }), i.jsx(Ie, {
            component: KN,
            exact: !0,
            path: "/inquiry/verify-with-persona/passkey-authentication"
        }), i.jsx(Ie, {
            component: oj,
            exact: !0,
            path: "/inquiry/verify-with-persona/success"
        }), i.jsx(Ie, {
            component: $N,
            exact: !0,
            path: "/inquiry/verify-with-persona/error"
        }), i.jsx(Ie, {
            component: B2,
            exact: !0,
            path: "/inquiry/integration"
        }), i.jsx(Ie, {
            component: MN,
            exact: !0,
            path: "/inquiry/ui"
        }), i.jsx(Ie, {
            component: N2,
            exact: !0,
            path: "/inquiry/inactive"
        }), i.jsx(Ie, {
            component: aj
        })]
    })
})
  , Si = 300
  , $b = 400
  , Gb = 200
  , Wb = 100
  , FF = g("div").withConfig({
    displayName: "AnimatedPage__Transitioner",
    componentId: "sc-8r1su2-0"
})(["width:100%;@media ", "{position:absolute;z-index:", ";height:100%;&.slide-left-enter{transform:translateX(100%);}&.slide-left-enter-active{pointer-events:none;transform:translateX(0%);transition:", "ms;}&.slide-left-exit{transform:translateX(0%);}&.slide-left-exit-active{pointer-events:none;transform:translateX(-100%);transition:", "ms;}&.slide-right-enter{transform:translate(-100%);}&.slide-right-enter-active{pointer-events:none;transform:translateX(0%);transition:", "ms;}&.slide-right-exit{transform:translateX(0%);}&.slide-right-exit-active{pointer-events:none;transform:translateX(100%);transition:", "ms;}&.slide-down-enter{z-index:", ";}&.slide-down-enter-active{pointer-events:none;}&.slide-down-exit{z-index:", ";transform:translateY(0%);}&.slide-down-exit-active{transform:translateY(100%);pointer-events:none;transition:", "ms;}&.slide-up-enter{transform:translateY(100%);z-index:", ";}&.slide-up-enter-active{pointer-events:none;transform:translateY(0%);transition:", "ms;}&.slide-up-exit{z-index:", ";}&.fade-enter{opacity:0;}&.fade-enter-active{opacity:1;pointer-events:none;transition:", "ms;transition-delay:", "ms;}&.fade-exit{opacity:1;}&.fade-exit-active{opacity:0;pointer-events:none;transition:", "ms;}}@media ", "{&.slide-left-exit,&.slide-right-exit,&.slide-up-exit,&.slide-down-exit,&.fade-exit{display:none;}&.slide-left-exit-active,&.slide-right-exit-active,&.slide-up-exit-active,&.slide-down-exit-active,&.fade-exit-active{display:none;}}&.none-exit{display:none;}&.none-exit-active{display:none;}"], jt.isMobile, wt.page, Si, Si, Si, Si, wt.notifications - 2, wt.notifications - 1, Si, wt.notifications - 1, Si, wt.notifications - 2, $b, Wb, Gb, jt.isNotMobile)
  , MF = g("div").withConfig({
    displayName: "AnimatedPage__ScrollingPage",
    componentId: "sc-8r1su2-1"
})(["", ";@media ", "{position:relative;height:100%;overflow-y:auto;}"], ({isFullscreenPage: e}) => !e && `
      padding-top: ${D.widgetPadding.top}px;
      padding-left: ${D.widgetPadding.left}px;
      padding-right: ${D.widgetPadding.right}px;
      padding-bottom: ${D.widgetPadding.bottom}px;

      /* For Apple devices with notches; will be ignored for other devices */
      /* This allows us to use object-fit=cover in the HTML's meta tag */
      /* https://webkit.org/blog/7929/designing-websites-for-iphone-x/ */
      padding-left: calc(${D.widgetPadding.left}px + env(safe-area-inset-left));
      padding-right: calc(${D.widgetPadding.right}px + env(safe-area-inset-right));
      padding-top: calc(${D.widgetPadding.top}px + env(safe-area-inset-top));
      padding-bottom: calc(${D.widgetPadding.bottom}px + env(safe-area-inset-bottom));
  `, jt.isMobile)
  , BF = e => t => f.cloneElement(t, {
    classNames: e
})
  , VF = ({scrollingPageRef: e, enableGovidRedesign: t, timeoutEnter: n, onEntered: r, location: o}) => (f.useLayoutEffect( () => {
    const a = setTimeout(r, n != null ? n : 0);
    return () => clearTimeout(a)
}
, []),
i.jsxs(FF, {
    children: [i.jsx(MF, {
        "data-test": "animated-page__scrolling-page",
        ref: e,
        isFullscreenPage: Yb(o, t),
        children: i.jsx(LF, {
            location: o
        })
    }), i.jsx(gf, {})]
}));
function UF({pageTransition: e=wi.Slide, onPageTransition: t}) {
    var m, h, p;
    const n = Vt()
      , r = Nr()
      , o = st(b => {
        var C;
        return ((C = b.inquiry.inquiryTemplateVersion) == null ? void 0 : C.attributes["govid-design-version"]) === _o.V1
    }
    )
      , a = f.useRef()
      , s = f.useCallback( () => {
        var C, S;
        const b = Array.from((S = (C = a.current) == null ? void 0 : C.children) != null ? S : []).reduce( (v, x) => v + x.scrollHeight, Yb(r, o) ? 0 : D.widgetPadding.top + D.widgetPadding.bottom);
        t == null || t({
            pageHeight: b
        }),
        qi()
    }
    , [r, o, t]);
    let c, l = 0, d = 0;
    if (HF(r))
        c = "none";
    else {
        const b = n.action === "POP" || ((m = r.state) == null ? void 0 : m.back)
          , C = b ? (h = r.state) == null ? void 0 : h.backTransition : (p = r.state) == null ? void 0 : p.transition;
        switch (e = C != null ? C : e,
        e) {
        case wi.None:
            c = "none",
            l = 0,
            d = 0;
            break;
        case wi.Fade:
            c = "fade",
            l = Wb + $b,
            d = Gb;
            break;
        case wi.Slide:
            b ? c = "slide-right" : c = "slide-left",
            l = Si,
            d = Si;
            break;
        case wi.SlideVertical:
            b ? c = "slide-down" : c = "slide-up",
            l = Si,
            d = Si;
            break;
        default:
            lt(e)
        }
    }
    const u = f.useCallback( () => {
        var b, C, S;
        s(),
        (b = r.state) != null && b.skipAnimation && (r.state.skipAnimation = !1),
        n.action === "PUSH" && ((C = n.entries[n.index - 1]) != null && C.state) && (n.entries[n.index - 1].state.backTransition = (S = r == null ? void 0 : r.state) == null ? void 0 : S.transition)
    }
    , [n.action, n.entries, n.index, s, r]);
    return i.jsx(Vh, {
        "data-test": "animated-page__transition",
        childFactory: BF(c),
        children: i.jsx(xa, {
            timeout: {
                enter: l,
                exit: d
            },
            mountOnEnter: !0,
            unmountOnExit: !0,
            classNames: c,
            onEntered: u,
            children: i.jsx(VF, {
                scrollingPageRef: a,
                enableGovidRedesign: o,
                timeoutEnter: l,
                onEntered: u,
                location: r
            })
        }, r.key)
    })
}
function HF(e) {
    var t;
    return ((t = e.state) == null ? void 0 : t.skipAnimation) || e.pathname.match(new RegExp("/(inquiry|verify)/selfie/record")) || e.pathname.match(new RegExp("/(inquiry|verify)/government-id/.+/capture")) || e.pathname.match(new RegExp("/inquiry/government-id/.+/check$"))
}
function Yb(e, t) {
    return !!(t && (e.pathname.match(new RegExp("/inquiry/government-id/.+/capture")) || e.pathname.match(new RegExp("/inquiry/government-id/.+/check$"))))
}
const qF = f.memo(function() {
    var n;
    const t = st(r => r.inquiry.inquiryTemplateVersion);
    return t == null ? null : i.jsx("div", {
        style: {
            display: "none"
        },
        children: (n = t.attributes.assets) == null ? void 0 : n.map(r => i.jsx(Tf, {
            src: r.url,
            contentType: r["content-type"]
        }, r.url))
    })
})
  , $F = g("div").withConfig({
    displayName: "ErrorPage__Container",
    componentId: "sc-usyifj-0"
})(["margin:", ";padding-top:", "px;"], M.widgetPadding, M.base * 2)
  , GF = g("div").withConfig({
    displayName: "ErrorPage__Header",
    componentId: "sc-usyifj-1"
})(["min-height:", ";margin-bottom:", "px;"], We.header, M.base * 4);
function WF() {
    const [e] = G();
    return i.jsxs(i.Fragment, {
        children: [i.jsxs($F, {
            "data-test": "error-page",
            children: [i.jsxs(GF, {
                children: [i.jsx(et, {
                    children: e("error.title")
                }), i.jsx("p", {
                    children: e("error.prompt")
                })]
            }), i.jsx(Qe, {
                "aria-label": "pictograph showing application error",
                children: i.jsx(pe, {
                    children: i.jsx(ai, {})
                })
            }), i.jsx(fe, {
                onClick: () => D.redirectToStart(),
                children: e("error.btn-try-again")
            })]
        }), i.jsx(gf, {})]
    })
}
function YF() {
    var d, u, m, h, p, b, C, S, v, x, _, R, E, T, F;
    const [e,{enable: t, disable: n}] = rt(!1)
      , r = st(O => O.inquiry.inquiry)
      , o = r != null
      , a = st(O => {
        var N, U, V;
        return (V = (U = (N = O.inquiry.currentSession) == null ? void 0 : N.attributes) == null ? void 0 : U["show-new-device-fraud-warning-dialog"]) != null ? V : !1
    }
    )
      , s = (h = (m = (u = (d = r == null ? void 0 : r.attributes) == null ? void 0 : d["next-step"]) == null ? void 0 : u.config) == null ? void 0 : m.localizations) == null ? void 0 : h["new-device-fraud-warning-dialog"]
      , c = st(Li)
      , l = {
        backgroundColor: (b = (p = c == null ? void 0 : c["background-color"]) == null ? void 0 : p.base) == null ? void 0 : b.base,
        padding: (S = (C = c == null ? void 0 : c.padding) == null ? void 0 : C.modal) == null ? void 0 : S.base,
        border: {
            radius: (x = (v = c == null ? void 0 : c["border-radius"]) == null ? void 0 : v.modal) == null ? void 0 : x.base
        }
    };
    return f.useEffect( () => {
        o && a && setTimeout( () => t(), 250)
    }
    , [o, a]),
    !o || !D.isHosted ? null : i.jsxs(bi, {
        isOpen: e,
        onClose: n,
        styles: l,
        "data-test": "new-device-fraud-warning-dialog",
        "aria-labelledby": "new-device-fraud-warning-dialog__title",
        "aria-describedby": "new-device-fraud-warning-dialog__description",
        children: [i.jsx(ct, {
            id: "new-device-fraud-warning-dialog__title",
            styles: (_ = c == null ? void 0 : c["title-style"]) == null ? void 0 : _.base.base,
            children: i.jsx(X, {
                children: (R = s == null ? void 0 : s.title) != null ? R : ""
            })
        }), i.jsx(ot, {
            id: "new-device-fraud-warning-dialog__description",
            styles: (E = c == null ? void 0 : c["text-style"]) == null ? void 0 : E.base.base,
            children: i.jsx(X, {
                children: (T = s == null ? void 0 : s.prompt) != null ? T : ""
            })
        }), i.jsx(Xe, {
            height: 2
        }), i.jsx(fe, {
            id: "new-device-fraud-warning-dialog__button--close",
            "data-test": "new-device-fraud-warning-dialog__button--close",
            buttonType: Q.Primary,
            styles: (F = c == null ? void 0 : c["button-primary-style"]) == null ? void 0 : F.base.base,
            onClick: n,
            children: s == null ? void 0 : s["btn-continue"]
        })]
    })
}
const zF = () => {
    var o;
    const {pathname: e} = Nr()
      , t = st(a => a.inquiry.inquiry)
      , n = st(a => a.inquiry.featureFlags)
      , r = (o = t == null ? void 0 : t.attributes) == null ? void 0 : o["next-step"];
    return f.useEffect( () => {
        if (!Un.isFeatureEnabled(n))
            return;
        const a = l => {
            var u;
            const d = l.target;
            d != null && Un.track({
                type: "inquiry.ui.click",
                data: {
                    button_type: l.button,
                    element_name: (u = KF(d)) != null ? u : void 0,
                    pointer_type: l == null ? void 0 : l.pointerType,
                    position_x: l.clientX,
                    position_y: l.clientY,
                    pressure: l == null ? void 0 : l.pressure
                },
                stepName: r == null ? void 0 : r.name,
                pathName: e
            }, n)
        }
          , s = () => {
            Un.track({
                type: "inquiry.ui.background",
                stepName: r == null ? void 0 : r.name,
                pathName: e
            }, n)
        }
          , c = () => {
            Un.track({
                type: "inquiry.ui.foreground",
                stepName: r == null ? void 0 : r.name,
                pathName: e
            }, n)
        }
        ;
        return window.addEventListener("click", a),
        window.addEventListener("blur", s),
        window.addEventListener("focus", c),
        Z6(e, r == null ? void 0 : r.type) || Un.track({
            type: "inquiry.page.view",
            stepName: r == null ? void 0 : r.name,
            pathName: e
        }, n),
        () => {
            window.removeEventListener("click", a),
            window.removeEventListener("blur", s),
            window.removeEventListener("focus", c)
        }
    }
    , [r, e, n]),
    null
}
;
function KF(e) {
    return e.id || e.getAttribute("data-react-class")
}
function QF() {
    var d, u, m, h, p, b, C, S, v, x, _, R, E, T, F;
    const [e,{enable: t, disable: n}] = rt(!1)
      , r = st(O => O.inquiry.inquiry)
      , o = r != null
      , a = st(O => {
        var N, U, V;
        return (V = (U = (N = O.inquiry.currentSession) == null ? void 0 : N.attributes) == null ? void 0 : U["show-unsupported-browser-warning-dialog"]) != null ? V : !1
    }
    )
      , s = (h = (m = (u = (d = r == null ? void 0 : r.attributes) == null ? void 0 : d["next-step"]) == null ? void 0 : u.config) == null ? void 0 : m.localizations) == null ? void 0 : h["unsupported-browser-warning-dialog"]
      , c = st(Li)
      , l = {
        backgroundColor: (b = (p = c == null ? void 0 : c["background-color"]) == null ? void 0 : p.base) == null ? void 0 : b.base,
        padding: (S = (C = c == null ? void 0 : c.padding) == null ? void 0 : C.modal) == null ? void 0 : S.base,
        border: {
            radius: (x = (v = c == null ? void 0 : c["border-radius"]) == null ? void 0 : v.modal) == null ? void 0 : x.base
        }
    };
    return f.useEffect( () => {
        o && a && setTimeout( () => t(), 250)
    }
    , [o, a]),
    o ? i.jsxs(bi, {
        isOpen: e,
        onClose: n,
        styles: l,
        "data-test": "unsupported-browser-warning-dialog",
        "aria-labelledby": "unsupported-browser-warning-dialog__title",
        "aria-describedby": "unsupported-browser-warning-dialog__description",
        children: [i.jsx(ct, {
            id: "unsupported-browser-warning-dialog__title",
            styles: (_ = c == null ? void 0 : c["title-style"]) == null ? void 0 : _.base.base,
            children: i.jsx(X, {
                children: (R = s == null ? void 0 : s.title) != null ? R : ""
            })
        }), i.jsx(ot, {
            id: "unsupported-browser-warning-dialog__description",
            styles: (E = c == null ? void 0 : c["text-style"]) == null ? void 0 : E.base.base,
            children: i.jsx(X, {
                children: (T = s == null ? void 0 : s.prompt) != null ? T : ""
            })
        }), i.jsx(Xe, {
            height: 2
        }), i.jsx(fe, {
            id: "unsupported-browser-warning-dialog__button--close",
            "data-test": "unsupported-browser-warning-dialog__button--close",
            buttonType: Q.Primary,
            styles: (F = c == null ? void 0 : c["button-primary-style"]) == null ? void 0 : F.base.base,
            onClick: n,
            children: s == null ? void 0 : s["btn-continue"]
        })]
    }) : null
}
const ZF = ["/verify", "/verify/intro", "/verify/success", "/verify/support/sent", "/verify/failed", "/verify/database/pending", "/verify/documents/:documentNumber/pending", "/verify/government-id/pending"]
  , JF = ["/widget", "/verify", "/verify/exit", "/verify/success", "/verify/support/sent", "/verify/failed", "/verify/database/pending", "/verify/documents/:documentNumber/pending", "/verify/government-id/pending"]
  , XF = ["/widget", "/verify", "/verify/intro", "/verify/database/pending", "/verify/documents/:documentNumber/pending", "/verify/government-id/pending"]
  , eM = ["/inquiry/inactive", "/verify/invalid"]
  , tM = () => {
    var S;
    const e = st(v => v.inquiry.inquiry)
      , t = st(v => v.verification.verification)
      , n = st(v => v.inquiry.template)
      , r = f.useContext(Je)
      , o = Vt()
      , a = Nr()
      , [s,{enable: c, disable: l}] = rt(!1);
    f.useEffect( () => {
        c();
        const v = setTimeout(l, 500);
        return () => {
            clearTimeout(v)
        }
    }
    , [a]);
    const d = () => {
        o.goBack()
    }
      , u = () => {
        eM.some(v => pn(a.pathname, {
            path: v,
            exact: !1,
            strict: !1
        })) ? m() : o.push("/verify/exit")
    }
      , m = () => {
        md(),
        D.onEvent(Oe.Exit, {
            inquiryId: e == null ? void 0 : e.id,
            sessionToken: te.accessToken
        }, {
            inquiry: e
        }),
        An(o),
        o.push("/widget")
    }
      , h = t != null && t.attributes.status === Et.Submitted
      , p = !D.isHosted && !D.isInline && !JF.some(v => pn(a.pathname, {
        path: v,
        exact: !0,
        strict: !1
    })) && !(n != null && n.attributes["hide-verify-exit-button"])
      , b = ((S = o.index) != null ? S : 0) > 0 && !ZF.some(v => pn(a.pathname, {
        path: v,
        exact: !0,
        strict: !1
    })) && !(n != null && n.attributes["hide-verify-back-button"]);
    let C = r.navbarLogoDisplay;
    return XF.some(v => pn(a.pathname, {
        path: v,
        exact: !0,
        strict: !1
    })) && (C = Ai.None),
    i.jsx(Og, {
        onBack: d,
        onClose: u,
        showBackButton: b,
        showCloseButton: p,
        logoDisplay: C,
        logoUrl: r.logoUrl,
        loading: h || s
    })
}
  , nM = () => {
    const e = st(n => n.inquiry.inquiry);
    return wr(e) ? i.jsx(H4, {}) : i.jsx(tM, {})
}
  , iM = f.createContext({})
  , rM = e => {
    var r, o, a, s, c, l, d, u, m;
    const t = f.useContext(iM)
      , n = (r = e.inputId) != null ? r : t.inputId;
    return {
        hasError: (o = e.hasError) != null ? o : t.hasError,
        hasWarning: (a = e.hasWarning) != null ? a : t.hasWarning,
        inputId: n,
        helperTextId: (s = e.helperTextId) != null ? s : t.helperTextId,
        errorTextId: (c = e.errorTextId) != null ? c : t.errorTextId,
        warningTextId: (l = e.warningTextId) != null ? l : t.warningTextId,
        labelId: (d = e.labelId) != null ? d : t.labelId,
        disabled: (u = e.disabled) != null ? u : t.disabled,
        maxLength: (m = e.maxLength) != null ? m : t.maxLength
    }
}
  , ia = {
    width: 32,
    height: 18
}
  , io = {
    diameter: 14,
    offset: 2
}
  , oM = g.div.withConfig({
    displayName: "ToggleSlider__Container",
    componentId: "sc-1hr5fbp-0"
})(["display:inline-flex;align-items:center;position:relative;"])
  , aM = g.div.withConfig({
    displayName: "ToggleSlider__Switch",
    componentId: "sc-1hr5fbp-1"
})(["", ";position:relative;display:inline-flex;height:", "px;width:", "px;border-radius:1000px;&:before{position:absolute;content:'';height:", "px;width:", "px;top:0;right:0;bottom:0;background-color:", ";transition:", ";border-radius:1000px;}&:after{position:absolute;content:'';height:", "px;width:", "px;bottom:", "px;background-color:", ";transition:", ";border-radius:1000px;right:", "px;", "}"], Np, ia.height, ia.width, ia.height, ia.width, ({theme: e, checked: t, disabled: n}) => n ? t ? I.Color.CoreBlue300 : e.color.background.disabled : t ? I.Color.BackgroundInputCheckboxChecked : I.Color.BackgroundInputToggle, tt.Medium, io.diameter, io.diameter, io.offset, ({theme: e}) => e.color.background.primary, tt.Medium, io.offset, ({checked: e}) => !e && $(["transform:translateX(-", "px);"], cM()))
  , sM = g(SR).withConfig({
    displayName: "ToggleSlider__ToggleLabel",
    componentId: "sc-1hr5fbp-2"
})(["cursor:", ";color:", ";padding:0 ", ";white-space:nowrap;", ""], ({disabled: e}) => e ? "initial" : "pointer", I.Color.TextSecondary, I.Spacing[2], ({theme: e, disabled: t}) => t && $(["color:", ";"], e.color.text.disabled));
function cM() {
    return ia.width - io.diameter - io.offset * 2
}
const lM = g.input.withConfig({
    displayName: "ToggleSlider__HiddenInput",
    componentId: "sc-1hr5fbp-3"
})(["height:0;width:0;margin:-1px;border:0;overflow:hidden;clip:rect(0,0,0,0);position:absolute;"])
  , dM = f.forwardRef(function({className: t, disabled: n, titleOff: r="Off", titleOn: o="On", onChange: a= () => {}
, value: s, id: c, labelOn: l, labelOff: d, "data-test": u}, m) {
    const h = rM({
        disabled: n
    })
      , p = f.useMemo( () => pp("pds_toggleslider__"), [])
      , b = s ? l : d || l
      , [C,{enable: S, disable: v}] = rt()
      , x = f.useCallback( () => {
        var R;
        a(!s),
        (R = _.current) == null || R.focus()
    }
    , [a, s])
      , _ = f.useRef();
    return i.jsxs(oM, {
        className: t,
        "data-test": u,
        title: s ? o : r,
        "aria-readonly": h.disabled,
        ref: m,
        children: [b != null && i.jsx(sM, {
            htmlFor: p,
            disabled: h.disabled,
            children: b
        }), i.jsx(aM, {
            id: c,
            checked: !!s,
            disabled: h.disabled,
            focused: C,
            onClick: h.disabled ? void 0 : x
        }), i.jsx(lM, {
            id: p,
            ref: _,
            "data-test-toggle-status": s ? "on" : "off",
            disabled: h.disabled,
            type: "checkbox",
            checked: !!s,
            readOnly: !0,
            onChange: n ? void 0 : x,
            onFocus: S,
            onBlur: v,
            "aria-checked": !!s,
            role: "switch",
            ...b ? {
                "aria-labelledby": p
            } : {
                "aria-label": s ? "Toggle on" : "Toggle off"
            }
        })]
    })
})
  , uM = g("div").withConfig({
    displayName: "DebugTools__Container",
    componentId: "sc-ng9um5-0"
})(["cursor:pointer;display:flex;align-items:center;justify-content:flex-end;margin:", "px auto;transition:0.5s;user-select:none;@media ", "{position:fixed;right:20px;bottom:64px;&:hover,&:focus-within{right:0px;}}@media ", "{max-width:", ";width:100%;label{color:", ";}}"], M.base, jt.isMobile, jt.isNotMobile, Dp.small, Fe.white)
  , Rh = g("div").withConfig({
    displayName: "DebugTools__Prompt",
    componentId: "sc-ng9um5-1"
})(["width:130px;white-space:nowrap;"]);
function mM(e) {
    const {inquiry: t, isVisible: n, forcedStatus: r} = e;
    f.useEffect( () => {
        n && r == null && e.saveForcedStatus(Et.Passed, t)
    }
    );
    const o = r === Et.Passed ? Et.Failed : Et.Passed;
    return n ? i.jsx(uM, {
        id: `debug-tools__toggle-slider--${o}`,
        "data-test": "debug-tools",
        children: i.jsx(dM, {
            id: "debug-tools__toggle-slider",
            value: r === Et.Passed,
            labelOn: i.jsx(Rh, {
                children: "Pass verifications"
            }),
            labelOff: i.jsx(Rh, {
                children: "Fail verifications"
            }),
            onChange: () => e.saveForcedStatus(o, t)
        })
    }) : i.jsx("div", {})
}
const hM = g("div").withConfig({
    displayName: "HelpTab__Positioner",
    componentId: "sc-ok8jr7-0"
})(["position:fixed;display:", ";top:calc(100%);right:0;"], ({isVisible: e}) => e ? "block" : "none")
  , pM = Pn(["0%{box-shadow:0 2px 5px 0 rgba(0,0,0,0.3);}50%{box-shadow:0 2px 10px 2px rgba(0,0,0,0.3);}100%{box-shadow:0 2px 5px 0 rgba(0,0,0,0.3);}"])
  , fM = g("div").withConfig({
    displayName: "HelpTab__Contents",
    componentId: "sc-ok8jr7-1"
})(["align-items:center;display:flex;transition:0.4s cubic-bezier(0,0,0.2,1);transform:translateY(-60px);&:hover{transform:translateY(-64px);}background-color:", ";animation:", " 1s;animation-iteration-count:infinite;border:1px solid ", ";border-radius:", "px;cursor:pointer;margin:", "px;padding-left:", "px;padding-right:", "px;padding-top:", "px;padding-bottom:", "px;"], Fe.white, pM, Fe.gray20, M.base * 3, M.base, M.base * 1.5, M.base * 2, M.base, M.base)
  , gM = g(FC).withConfig({
    displayName: "HelpTab__IconToggle",
    componentId: "sc-ok8jr7-2"
})(["margin-right:4px;"]);
function bM(e) {
    return i.jsx(hM, {
        isVisible: e.isVisible,
        children: i.jsxs(fM, {
            onClick: e.isVisible ? e.handleRouteToSupport : AC,
            "data-test": "help-tab__button",
            children: [i.jsx(gM, {}), "Help"]
        })
    })
}
const CM = g("div").withConfig({
    displayName: "InquiryProgressBar__Bar",
    componentId: "sc-pjtzlh-0"
})(["width:", "%;transition:width 0.5s;height:5px;background-color:", ";position:absolute;z-index:", ";"], e => e.widthPercentage, ({theme: e}) => e.colorProgressBar, wt.navbar)
  , xM = ({widthPercentage: e, className: t}) => i.jsx(CM, {
    className: t,
    "data-test": "header__progress-bar",
    widthPercentage: e
});
function vM(e, t) {
    if (e === "/verify/support/sent")
        return 100;
    const n = IM(t)
      , r = t && t.template ? t.template.attributes["steps-config-types-count"] : 1
      , o = !!t.inquiry
      , a = SM(t);
    let s;
    return a ? s = 100 : o ? s = Math.min(n / r * 100, 100) : s = 0,
    s
}
function IM(e) {
    var n;
    if (!e || !e.verifications || !e.inquiry)
        return 0;
    let t = TC(e.verifications).filter(r => r.attributes.status === Et.Passed).length;
    return (n = e.inquiry) != null && n.attributes["selected-country-code"] && (t += 1),
    t
}
function SM(e) {
    return e.inquiry ? e.inquiry.attributes["next-step"].type === Ge.Completed || e.inquiry.attributes["next-step"].type === Ge.Failed || [ge.Completed, ge.Failed, ge.Approved, ge.Declined, ge.NeedsReview].includes(e.inquiry.attributes.status) : !1
}
const yM = g("div").withConfig({
    displayName: "Notification__Container",
    componentId: "sc-r6vf7z-0"
})(["box-shadow:", ";border-radius:", ";background-color:", ";padding:", ";padding-left:", "px;margin:4px;pointer-events:all;display:flex;align-items:center;justify-content:space-between;"], Di.Mid, ln.rounded, ({theme: e}) => e.colorModalBackground, I.Spacing[3], Cn * 2.5);
function wM({children: e, handleClose: t}) {
    return i.jsxs(yM, {
        role: "alertdialog",
        children: [i.jsx(He, {
            children: e
        }), i.jsx(uo, {
            id: "notification__close",
            onClick: t,
            type: "button",
            autoFocus: !0,
            "aria-label": "close",
            children: i.jsx(V0, {
                height: 16,
                width: 16
            })
        })]
    })
}
const El = 250
  , _M = g("div").withConfig({
    displayName: "Notifications__ContentPositioner",
    componentId: "sc-7knmmm-0"
})(["position:relative;"])
  , RM = g("div").withConfig({
    displayName: "Notifications__Content",
    componentId: "sc-7knmmm-1"
})(["position:absolute;width:100%;overflow:hidden;z-index:", ";height:200px;pointer-events:none;"], wt.notifications)
  , AM = g("div").withConfig({
    displayName: "Notifications__Anim",
    componentId: "sc-7knmmm-2"
})(["position:absolute;width:100%;transition:", "ms;&.slide-left-enter{transform:translateY(-100%);}&.slide-left-enter-active{transform:translateY(0%);}&.slide-left-exit{transform:translateY(0%);}&.slide-left-exit-active{transform:translateY(-100%);}"], El);
function TM(e) {
    const t = e.messages && e.messages[0];
    return i.jsx(_M, {
        "data-test": "notifications",
        children: i.jsx(RM, {
            children: i.jsx(Vh, {
                children: i.jsx(xa, {
                    timeout: {
                        enter: El,
                        exit: El
                    },
                    mountOnEnter: !0,
                    unmountOnExit: !0,
                    classNames: "slide-left",
                    children: i.jsx(AM, {
                        children: t && i.jsx(wM, {
                            id: t.id,
                            "data-test": "notification",
                            handleClose: e.clearMessages,
                            children: t.message
                        }, t.id)
                    })
                }, t && t.id)
            })
        })
    })
}
function EM(e) {
    return {
        messages: e.messages.messages
    }
}
const kM = {
    clearMessages: Lt
}
  , NM = ke(EM, kM)
  , jM = NM(TM)
  , PM = 1e3;
class DM {
    constructor() {
        this.distractionEvents = 0,
        this.blurHandler = () => {
            this.distractionEvents++
        }
        ,
        window.addEventListener("blur", this.blurHandler)
    }
    dispose() {
        window.removeEventListener("blur", this.blurHandler)
    }
}
class OM {
    constructor() {
        this.times = [],
        this.baseline = 0,
        this.lastTime = Date.now(),
        this.currentlyActive = !0,
        this.hesitationBaseline = () => this.baseline,
        this.hesitationCount = () => this.times.length,
        this.hesitationTime = () => EC(this.times),
        this.setActiveState = t => {
            this.currentlyActive = t
        }
        ,
        this.updateTime = () => {
            const t = Date.now()
              , n = t - this.lastTime;
            this.currentlyActive && (this.baseline += n,
            n > PM && this.times.push(n)),
            this.lastTime = t
        }
        ,
        window.addEventListener("keydown", this.updateTime),
        window.addEventListener("mousemove", this.updateTime)
    }
    dispose() {
        window.removeEventListener("keydown", this.updateTime),
        window.removeEventListener("mousemove", this.updateTime)
    }
}
class LM {
    constructor() {
        this.shortcutCopies = 0,
        this.shortcutPastes = 0,
        this.keyHandler = t => {
            const n = t.ctrlKey || t.metaKey;
            t.key === "v" && n ? this.shortcutPastes++ : t.key === "c" && n && this.shortcutCopies++
        }
        ,
        window.addEventListener("keydown", this.keyHandler)
    }
    dispose() {
        window.removeEventListener("keydown", this.keyHandler)
    }
}
class FM {
    constructor() {
        this.autofillStarts = 0,
        this.autofillCancels = 0,
        this.insertedStyles = bo(["input:-webkit-autofill{animation-name:onAutoFillStart;animation-play-state:paused;}input:not(:-webkit-autofill){animation-name:onAutoFillCancel;animation-play-state:paused;}@keyframes onAutoFillStart{from{}}@keyframes onAutoFillCancel{from{}}"]),
        this.autoFillStart = t => this.autofillStarts++,
        this.autoFillCancel = t => this.autofillCancels++,
        this.onAnimationStart = ({target: t, animationName: n}) => {
            switch (n) {
            case "onAutoFillStart":
                return this.autoFillStart(t);
            case "onAutoFillCancel":
                return this.autoFillCancel(t)
            }
        }
        ,
        this.onInput = t => {
            typeof InputEvent < "u" && t instanceof InputEvent && (t.inputType === "insertReplacementText" || !("data"in t) ? this.autoFillStart(t.target) : this.autoFillCancel(t.target))
        }
        ,
        window.addEventListener("animationstart", this.onAnimationStart),
        window.addEventListener("input", this.onInput)
    }
    dispose() {
        window.removeEventListener("animationstart", this.onAnimationStart),
        window.removeEventListener("input", this.onInput)
    }
}
var zb = (e => (e.SaveForcedStatus = "test/SAVE_FORCED_STATUS",
e))(zb || {});
function MM(e, t) {
    if (!(!xs.sandboxToolsDisabled || t && t.attributes.environment === "sandbox"))
        throw Be("Tried to set forced result when debug tools are disabled"),
        new Error("Tried to set forced result when debug tools are disabled");
    return {
        payload: {
            forcedStatus: e
        },
        type: "test/SAVE_FORCED_STATUS"
    }
}
const BM = 2e4
  , VM = g("div").withConfig({
    displayName: "Application__Content",
    componentId: "sc-sbyni9-0"
})(["@media ", "{position:absolute;left:0;right:0;top:0;bottom:0;}"], jt.isMobile);
class UM extends f.Component {
    constructor() {
        super(...arguments),
        this.state = {
            hasError: !1,
            prevBehaviorMetrics: void 0,
            lastPageChangeEventKey: void 0
        },
        this.handleMessage = t => {
            var n;
            if (t.origin === D.inquiryParams["iframe-origin"])
                switch (t.data.action) {
                case il.Open:
                    qi();
                    break;
                case il.Exit:
                    t.data.metadata.force ? (J.logAmplitude("verify-ui.exit"),
                    D.onEvent(Oe.Exit, {
                        inquiryId: (n = this.props.inquiry) == null ? void 0 : n.id,
                        sessionToken: te.accessToken
                    }, {
                        inquiry: this.props.inquiry
                    }),
                    D.redirectToStart(this.props.history.push)) : this.props.history.location.pathname !== "/verify/exit" && this.props.history.push("/verify/exit");
                    break
                }
        }
        ,
        this.updateBehaviorMetrics = async () => {
            if (this.props.currentSession == null)
                return;
            const t = {
                type: w.CurrentInquirySession,
                attributes: {
                    "distraction-events": this.distractionTracker.distractionEvents,
                    "hesitation-baseline": this.hesitationTracker.hesitationBaseline(),
                    "hesitation-count": this.hesitationTracker.hesitationCount(),
                    "hesitation-time": this.hesitationTracker.hesitationTime(),
                    "shortcut-copies": this.shortcutTracker.shortcutCopies,
                    "shortcut-pastes": this.shortcutTracker.shortcutPastes,
                    "autofill-cancels": this.autofillTracker.autofillCancels,
                    "autofill-starts": this.autofillTracker.autofillStarts,
                    "flow-type": D.flowType
                }
            }
              , n = JSON.stringify(t.attributes);
            if (n !== this.state.prevBehaviorMetrics)
                try {
                    await this.props.updateBehaviorMetrics(t),
                    this.setState({
                        prevBehaviorMetrics: n
                    })
                } catch {}
        }
        ,
        this.handleClickTracking = t => {
            let n = t.target;
            const {history: r} = this.props;
            if (n != null) {
                for (; !this.getElementName(n) && n.parentElement; )
                    n = n.parentElement;
                J.logAmplitude("verify-ui.click", {
                    element: this.getElementName(n),
                    path: r.location.pathname
                })
            }
        }
        ,
        this.handleRouteToSupport = () => {
            this.props.history.push("/verify/support/prompt")
        }
        ,
        this.handleRouteChange = (t, n) => {
            n !== "REPLACE" && this.props.clearMessagesOnRouteChange(),
            aC(t.pathname)
        }
        ,
        this.reportPageMetadata = ({pageHeight: t}) => {
            const {inquiry: n, location: r} = this.props
              , {lastPageChangeEventKey: o} = this.state;
            r.pathname !== "/widget" && r.key !== o && (this.setState({
                lastPageChangeEventKey: r.key
            }),
            D.onEvent(Oe.PageChange, {
                name: n == null ? void 0 : n.attributes["next-step"].name,
                path: r.pathname,
                metadata: {
                    pageHeight: t
                }
            }))
        }
    }
    static getDerivedStateFromError() {
        return {
            hasError: !0
        }
    }
    componentDidMount() {
        this.props.saveLocaleInfo(Gx()),
        this.props.checkCamera(),
        window.addEventListener("message", this.handleMessage),
        window.addEventListener("click", this.handleClickTracking, {
            capture: !0
        }),
        D.onEvent(Oe.Load),
        this.unregister = this.props.history.listen(this.handleRouteChange),
        this.autofillTracker = new FM,
        this.distractionTracker = new DM,
        this.hesitationTracker = new OM,
        this.shortcutTracker = new LM,
        this.behaviorUpdateInterval = window.setInterval(this.updateBehaviorMetrics, BM)
    }
    componentWillUnmount() {
        var t;
        window.removeEventListener("message", this.handleMessage),
        window.removeEventListener("click", this.handleClickTracking),
        (t = this.unregister) == null || t.call(this),
        this.autofillTracker.dispose(),
        this.distractionTracker.dispose(),
        this.hesitationTracker.dispose(),
        this.shortcutTracker.dispose(),
        clearInterval(this.behaviorUpdateInterval)
    }
    componentDidCatch(t, n) {
        Nh({
            level: "error",
            message: "Application.componentDidCatch",
            data: {
                name: t.name,
                message: t.message
            }
        }),
        he(t, "fatal", n, {
            functionName: "Application.componentDidCatch"
        }),
        zt({
            status: 0,
            code: "application_error"
        }, t)
    }
    componentDidUpdate() {
        this.props.inquiry && this.hesitationTracker.setActiveState(!0)
    }
    render() {
        var h;
        const {forcedStatus: t, inquiry: n, inquiryState: r, localeIsLoaded: o, organization: a, template: s, theme: c, uiStatus: l, verifications: d} = this.props
          , u = zf(c)
          , m = vM(this.props.location.pathname, r);
        if (this.state.hasError)
            return i.jsx(pu, {
                "data-test": "application__error",
                themeSerialized: u,
                flowType: D.flowType,
                hidden: !1,
                children: i.jsx(WF, {})
            });
        if (o) {
            const p = ((h = n == null ? void 0 : n.attributes) == null ? void 0 : h.environment) === "sandbox"
              , b = !xs.sandboxToolsDisabled && p && ["/verify/success", "/verify/failed", "/verify/support/sent"].every(S => !pn(this.props.location.pathname, {
                path: S
            }))
              , C = TL(a, s, n, d) && !pn(this.props.location.pathname, {
                path: "/verify/support"
            }) && !pn(this.props.location.pathname, {
                path: "/verify/failed"
            });
            return i.jsxs(i.Fragment, {
                children: [i.jsx(qF, {}), i.jsx(zF, {}), i.jsx(pu, {
                    "data-test": "application",
                    flowType: D.flowType,
                    isSandbox: p,
                    sandboxBannerDisabled: xs.sandboxBannerDisabled,
                    footerWidgets: i.jsxs(i.Fragment, {
                        children: [i.jsx(mM, {
                            inquiry: n,
                            isVisible: b,
                            forcedStatus: t,
                            saveForcedStatus: this.props.saveForcedStatus
                        }), i.jsx(bM, {
                            isVisible: C,
                            handleRouteToSupport: this.handleRouteToSupport
                        })]
                    }),
                    themeSerialized: u,
                    hidden: l === tn.Initializing,
                    children: i.jsxs(i.Fragment, {
                        children: [wr(n) ? null : i.jsx(xM, {
                            widthPercentage: m
                        }), i.jsx(jM, {}), i.jsx(nM, {}), i.jsx(YF, {}), i.jsx(QF, {}), i.jsxs(VM, {
                            children: [i.jsx(UF, {
                                pageTransition: u.pageTransition,
                                onPageTransition: this.reportPageMetadata
                            }), this.autofillTracker != null && i.jsx(this.autofillTracker.insertedStyles, {})]
                        })]
                    })
                })]
            })
        } else
            return i.jsx("div", {
                "data-test": "application__loading"
            })
    }
    getElementName(t) {
        return t.id || t.getAttribute("data-react-class")
    }
}
function HM(e) {
    return {
        currentSession: e.inquiry.currentSession,
        featureFlags: e.inquiry.featureFlags,
        forcedStatus: e.test.forcedStatus,
        inquiry: e.inquiry.inquiry,
        inquiryState: e.inquiry,
        localeIsLoaded: !!e.locale.localeInfo,
        organization: e.inquiry.organization,
        template: e.inquiry.template,
        theme: e.inquiry.theme,
        verifications: e.inquiry.verifications,
        uiStatus: e.ui.status
    }
}
const qM = {
    clearMessagesOnRouteChange: av,
    saveForcedStatus: MM,
    saveLocaleInfo: Mp,
    showMessage: ce,
    checkCamera: Or,
    updateBehaviorMetrics: zx
}
  , $M = ke(HM, qM)
  , GM = $M(UM)
  , WM = U0(GM)
  , YM = bo(["*{border:0;box-sizing:inherit;-webkit-font-smoothing:antialiased;margin:0;outline:0;padding:0;text-rendering:optimizeLegibility;}html{box-sizing:border-box;height:100%;margin:0;padding:0;overflow:hidden;}table{border-spacing:0;}textarea{resize:none;}button{font-family:inherit;font-size:1em;}select{text-rendering:auto !important}"])
  , zM = {
    status: Bn.CtaNotShown
}
  , KM = (e=zM, t) => {
    switch (t.type) {
    case If.SetStatus:
        {
            const n = t.payload.status;
            return {
                ...e,
                status: n
            }
        }
    default:
        return e
    }
}
  , QM = {
    status: tn.Initializing,
    showConfirmCancelDialog: !1,
    hasCamera: void 0,
    cameraOptions: void 0,
    pollerId: 0
}
  , ZM = (e=QM, t) => {
    switch (t.type) {
    case Vo.SetStatus:
        {
            const n = t.payload.status;
            return {
                ...e,
                status: n
            }
        }
    case Vo.SetConfirmCancelDialog:
        return {
            ...e,
            showConfirmCancelDialog: t.payload.show
        };
    case Vo.SetHasCamera:
        return {
            ...e,
            hasCamera: t.payload.hasCamera
        };
    case Vo.SetCameraOptions:
        return {
            ...e,
            cameraOptions: t.payload.cameraOptions
        };
    case Vo.IncrementPollerId:
        return {
            ...e,
            pollerId: e.pollerId + 1
        };
    default:
        return e
    }
}
  , JM = {
    document: void 0,
    documentFiles: [],
    uploads: [],
    uploadedFiles: [],
    pendingDeletions: [],
    videoConstraints: void 0,
    uniqueId: 0
};
function XM(e=JM, t) {
    switch (t.type) {
    case Mn.SetDocument:
        return {
            ...e,
            document: t.payload.document
        };
    case Mn.SetDocumentFiles:
        return {
            ...e,
            documentFiles: t.payload.documentFiles,
            pendingDeletions: e.pendingDeletions.filter(n => t.payload.documentFiles.some(r => r.id === n))
        };
    case Mn.ClearDocument:
        return {
            ...e,
            document: void 0,
            documentFiles: [],
            uploadedFiles: []
        };
    case Mn.SetVideoConstraints:
        return {
            ...e,
            videoConstraints: t.payload.videoConstraints
        };
    case Mn.UploadFile:
        return {
            ...e,
            uploads: e.uploads.concat({
                file: t.payload.file,
                progress: 0,
                id: e.uniqueId
            }),
            uniqueId: e.uniqueId + 1
        };
    case Mn.SetUploadProgress:
        return {
            ...e,
            uploads: e.uploads.map(n => n.file === t.payload.file ? {
                ...n,
                progress: t.payload.progress
            } : n)
        };
    case Mn.AddUploadedFile:
        return {
            ...e,
            uploadedFiles: e.uploadedFiles.concat(t.payload.uploadedFile)
        };
    case Mn.ClearUploadedFiles:
        return {
            ...e,
            uploadedFiles: []
        };
    case Mn.ClearUpload:
        return {
            ...e,
            uploads: e.uploads.filter(n => n.file !== t.payload.file)
        };
    case Mn.ClearAllUploads:
        return {
            ...e,
            uploads: []
        };
    case Mn.AddPendingDeletion:
        return {
            ...e,
            pendingDeletions: [...e.pendingDeletions, t.payload.fileId]
        };
    case Mn.ClearPendingDeletion:
        return {
            ...e,
            pendingDeletions: e.pendingDeletions.filter(n => n !== t.payload.fileId)
        };
    default:
        return e
    }
}
const eB = {
    template: void 0,
    inquiryTemplateVersion: void 0,
    currentSession: void 0,
    currentStep: void 0,
    isWebGLIncompatible: void 0,
    popupUrl: null,
    inquiry: void 0,
    organization: void 0,
    theme: void 0,
    documents: [],
    verifications: [],
    verificationsForSession: [],
    featureFlags: {},
    productFeatures: {},
    collectedData: [],
    component: void 0
};
function tB(e=eB, t) {
    switch (t.type) {
    case sn.LoadVerifications:
        {
            const {verifications: n} = t.payload;
            return {
                ...e,
                verifications: n
            }
        }
    case sn.LogCollectedData:
        return {
            ...e,
            collectedData: e.collectedData.concat(t.payload.data)
        };
    case sn.SaveVerification:
        {
            const {verification: n} = t.payload;
            return {
                ...e,
                verifications: [...e.verifications.filter(r => r.id !== n.id), n],
                verificationsForSession: [...e.verificationsForSession.filter(r => r.id !== n.id), n]
            }
        }
    case sn.LoadDocuments:
        {
            const {documents: n} = t.payload;
            return {
                ...e,
                documents: n
            }
        }
    case sn.UpdateDocumentAtIndex:
        {
            const {document: n, documentNumber: r} = t.payload;
            return {
                ...e,
                documents: kC(r, n, e.documents)
            }
        }
    case sn.SaveTemplate:
        {
            const {template: n} = t.payload;
            return {
                ...e,
                template: n
            }
        }
    case sn.SaveInquiryTemplateVersion:
        {
            const {inquiryTemplateVersion: n} = t.payload;
            return {
                ...e,
                inquiryTemplateVersion: n
            }
        }
    case sn.SaveInquiry:
        {
            const {inquiry: n} = t.payload;
            return {
                ...e,
                inquiry: n
            }
        }
    case sn.SaveOrganization:
        {
            const {organization: n} = t.payload;
            return {
                ...e,
                organization: n
            }
        }
    case sn.SaveTheme:
        {
            const {theme: n} = t.payload;
            return {
                ...e,
                theme: n
            }
        }
    case sn.SaveIsWebGLIncompatible:
        {
            const {isWebGLIncompatible: n} = t.payload;
            return {
                ...e,
                isWebGLIncompatible: n
            }
        }
    case sn.SavePopupUrl:
        {
            const {popupUrl: n} = t.payload;
            return {
                ...e,
                popupUrl: n
            }
        }
    case sn.SaveFeatureFlags:
        return {
            ...e,
            featureFlags: t.payload.featureFlags
        };
    case sn.SaveProductFeatures:
        return {
            ...e,
            productFeatures: t.payload.productFeatures
        };
    case sn.SetCurrentSession:
        return {
            ...e,
            currentSession: t.payload.session
        };
    case sn.SetCurrentStep:
        return {
            ...e,
            currentStep: t.payload.step
        };
    case sn.SetComponent:
        return {
            ...e,
            component: t.payload.component
        };
    default:
        return e
    }
}
const nB = {
    localeInfo: void 0
};
function iB(e=nB, t) {
    switch (t.type) {
    case Fp.SaveLocaleInfo:
        return {
            ...e,
            localeInfo: t.payload.localeInfo
        };
    default:
        return e
    }
}
const rB = {
    messages: []
};
function oB(e=rB, t) {
    switch (t.type) {
    case Qo.ShowMessage:
        return {
            messages: [t.payload, ...e.messages]
        };
    case Qo.ClearMessage:
        return {
            messages: NC(n => n.id === t.payload.id, e.messages)
        };
    case Qo.ClearMessages:
        return {
            messages: []
        };
    case Qo.ClearMessagesOnRouteChange:
        return {
            messages: e.messages.filter(n => n.persist).map(n => ({
                ...n,
                persist: !1
            }))
        };
    default:
        return e
    }
}
const aB = {
    phoneNumber: void 0,
    emailAddress: void 0
};
function sB(e=aB, t) {
    switch (t.type) {
    case bl.SavePhoneNumber:
        return {
            ...e,
            phoneNumber: t.payload.phoneNumber
        };
    case bl.SaveEmailAddress:
        return {
            ...e,
            emailAddress: t.payload.emailAddress
        };
    default:
        return e
    }
}
const cB = {
    forcedStatus: xs.sandboxToolsDisabled ? void 0 : Et.Passed
};
function lB(e=cB, t) {
    switch (t.type) {
    case zb.SaveForcedStatus:
        return {
            ...e,
            forcedStatus: t.payload.forcedStatus
        };
    default:
        return e
    }
}
const fr = {
    verification: void 0,
    submittedValues: void 0,
    capturedSelfies: [],
    clientExtractions: [],
    clientExtractionSource: void 0,
    cameraInspectionData: void 0,
    captureMethod: void 0,
    uploads: {},
    uploadProgress: 0,
    verificationType: void 0,
    governmentIdClass: void 0,
    videoConstraints: {},
    videoData: void 0,
    videoCaptureEnabled: !1,
    autoclassificationCountryCode: void 0,
    autoclassificationFailureReason: void 0,
    idClassesByCountries: [],
    didAutoclassificationIdSelection: !1
};
function dB(e=fr, t) {
    var n, r;
    switch (t.type) {
    case un.SaveCaptureMethod:
        return {
            ...e,
            captureMethod: t.payload.captureMethod
        };
    case un.SaveUploadProgress:
        return {
            ...e,
            uploadProgress: t.payload.progress
        };
    case un.SaveActiveVerificationType:
        return {
            ...e,
            verificationType: t.payload.verificationType
        };
    case un.SaveActiveVerification:
        return {
            ...e,
            verification: t.payload.verification
        };
    case un.SelectGovernmentIdClass:
        return {
            ...e,
            governmentIdClass: t.payload.governmentIdClass,
            clientExtractions: [],
            uploads: {}
        };
    case un.SaveSubmittedValues:
        return {
            ...e,
            submittedValues: t.payload.submittedValues
        };
    case un.SaveVideoConstraints:
        return {
            ...e,
            videoConstraints: t.payload.videoConstraints
        };
    case un.SaveVideoCaptureEnabled:
        return {
            ...e,
            videoCaptureEnabled: t.payload.videoCaptureEnabled
        };
    case un.SaveCapturedSelfie:
        {
            const {selfieStep: o, imageDataUrl: a, captureMethod: s, capturedAt: c} = t.payload;
            return {
                ...e,
                capturedSelfies: rd(e.capturedSelfies, o, a, s, c)
            }
        }
    case un.ClearCapturedSelfies:
        return {
            ...e,
            capturedSelfies: []
        };
    case un.UpdateCameraInspectionData:
        {
            const {cameraInspectionData: o} = t.payload;
            return o ? {
                ...e,
                cameraInspectionData: o
            } : e
        }
    case un.UploadFiles:
        {
            const {uploads: o} = e
              , {actionStep: a, clientExtractions: s=[], files: c, clientExtractionSource: l} = t.payload
              , d = {
                ...o,
                [a]: c
            }
              , u = jC(bp(m => m.type), fp(m => m.reduce( (h, p) => PC(h, p), {})), DC)([...e.clientExtractions, ...s]);
            return {
                ...e,
                clientExtractions: u,
                clientExtractionSource: l,
                uploads: d
            }
        }
    case un.SaveAutoclassificatonSuccessIdDetails:
        return {
            ...e,
            autoclassificationCountryCode: t.payload.autoclassificationCountryCode,
            governmentIdClass: t.payload.governmentIdClass,
            idClassesByCountries: (n = t.payload.idClassesByCountries) != null ? n : fr.idClassesByCountries,
            didAutoclassificationIdSelection: !1
        };
    case un.SaveAutoclassificatonFailureResult:
        return {
            ...e,
            autoclassificationFailureReason: t.payload.autoclassificationFailureReason,
            idClassesByCountries: (r = t.payload.idClassesByCountries) != null ? r : fr.idClassesByCountries
        };
    case un.SaveAutoclassificatonIdSelection:
        return {
            ...e,
            autoclassificationCountryCode: t.payload.autoclassificationCountryCode,
            governmentIdClass: t.payload.governmentIdClass,
            didAutoclassificationIdSelection: !0
        };
    case un.ClearAutoclassificatonIdSelection:
        return {
            ...e,
            autoclassificationCountryCode: fr.autoclassificationCountryCode,
            governmentIdClass: fr.governmentIdClass,
            didAutoclassificationIdSelection: fr.didAutoclassificationIdSelection,
            clientExtractions: fr.clientExtractions
        };
    default:
        return e
    }
}
const Yd = H0({
    initialEntries: [window.location.pathname + window.location.search]
})
  , uB = e => $0({
    form: Se.reducer,
    locale: iB,
    messages: oB,
    inquiry: tB,
    test: lB,
    oneTimeLink: sB,
    document: XM,
    verification: dB,
    router: G0(e),
    ui: ZM,
    createPersona: KM,
    verifyWithPersona: _v
})
  , mB = uB(Yd)
  , hB = q0({
    reducer: mB,
    middleware: e => e({
        immutableCheck: !1
    }).concat(W0(Yd))
});
Ti(oi, {
    retries: 3,
    retryDelay: Ti.exponentialDelay,
    retryCondition: Ti.isNetworkOrIdempotentRequestError
});
const pB = {
    type: "backend",
    init: function(e, t, n) {},
    read: async function(e, t, n) {
        n(null, await Kb(e, 3))
    },
    save: function(e, t, n) {},
    create: function(e, t, n, r) {}
};
async function Kb(e, t, n=0) {
    try {
        const r = await fB(`locales/translation.${e}.json`)
          , o = r.default || r;
        if (o == null)
            throw new Error("Failed to dynamic import resource bundle");
        return us({
            ...o
        })
    } catch {
        return n === t ? void 0 : new Promise(o => setTimeout( () => o(Kb(e, t, n + 1)), 500 * (n + 1)))
    }
}
function fB(e) {
    switch (e) {
    case "locales/translation.ar-EG":
    case "locales/translation.ar-EG.json":
        return it( () => import("./assets-DjJL2vde.js").then(t => t.ay), __vite__mapDeps([2, 1, 3]));
    case "locales/translation.bn":
    case "locales/translation.bn.json":
        return it( () => import("./assets-DjJL2vde.js").then(t => t.az), __vite__mapDeps([2, 1, 3]));
    case "locales/translation.cs":
    case "locales/translation.cs.json":
        return it( () => import("./assets-DjJL2vde.js").then(t => t.aA), __vite__mapDeps([2, 1, 3]));
    case "locales/translation.cy":
    case "locales/translation.cy.json":
        return it( () => import("./assets-DjJL2vde.js").then(t => t.aB), __vite__mapDeps([2, 1, 3]));
    case "locales/translation.da":
    case "locales/translation.da.json":
        return it( () => import("./assets-DjJL2vde.js").then(t => t.aC), __vite__mapDeps([2, 1, 3]));
    case "locales/translation.de":
    case "locales/translation.de.json":
        return it( () => import("./assets-DjJL2vde.js").then(t => t.aD), __vite__mapDeps([2, 1, 3]));
    case "locales/translation.el-GR":
    case "locales/translation.el-GR.json":
        return it( () => import("./assets-DjJL2vde.js").then(t => t.aE), __vite__mapDeps([2, 1, 3]));
    case "locales/translation.en-US":
    case "locales/translation.en-US.json":
        return it( () => import("./assets-DjJL2vde.js").then(t => t.ax), __vite__mapDeps([2, 1, 3]));
    case "locales/translation.es-MX":
    case "locales/translation.es-MX.json":
        return it( () => import("./assets-DjJL2vde.js").then(t => t.aF), __vite__mapDeps([2, 1, 3]));
    case "locales/translation.fi":
    case "locales/translation.fi.json":
        return it( () => import("./assets-DjJL2vde.js").then(t => t.aG), __vite__mapDeps([2, 1, 3]));
    case "locales/translation.fr":
    case "locales/translation.fr.json":
        return it( () => import("./assets-DjJL2vde.js").then(t => t.aH), __vite__mapDeps([2, 1, 3]));
    case "locales/translation.he":
    case "locales/translation.he.json":
        return it( () => import("./assets-DjJL2vde.js").then(t => t.aI), __vite__mapDeps([2, 1, 3]));
    case "locales/translation.hi":
    case "locales/translation.hi.json":
        return it( () => import("./assets-DjJL2vde.js").then(t => t.aJ), __vite__mapDeps([2, 1, 3]));
    case "locales/translation.hr":
    case "locales/translation.hr.json":
        return it( () => import("./assets-DjJL2vde.js").then(t => t.aK), __vite__mapDeps([2, 1, 3]));
    case "locales/translation.hu":
    case "locales/translation.hu.json":
        return it( () => import("./assets-DjJL2vde.js").then(t => t.aL), __vite__mapDeps([2, 1, 3]));
    case "locales/translation.id-ID":
    case "locales/translation.id-ID.json":
        return it( () => import("./assets-DjJL2vde.js").then(t => t.aM), __vite__mapDeps([2, 1, 3]));
    case "locales/translation.it":
    case "locales/translation.it.json":
        return it( () => import("./assets-DjJL2vde.js").then(t => t.aN), __vite__mapDeps([2, 1, 3]));
    case "locales/translation.ja":
    case "locales/translation.ja.json":
        return it( () => import("./assets-DjJL2vde.js").then(t => t.aO), __vite__mapDeps([2, 1, 3]));
    case "locales/translation.ko-KR":
    case "locales/translation.ko-KR.json":
        return it( () => import("./assets-DjJL2vde.js").then(t => t.aP), __vite__mapDeps([2, 1, 3]));
    case "locales/translation.lt":
    case "locales/translation.lt.json":
        return it( () => import("./assets-DjJL2vde.js").then(t => t.aQ), __vite__mapDeps([2, 1, 3]));
    case "locales/translation.ms":
    case "locales/translation.ms.json":
        return it( () => import("./assets-DjJL2vde.js").then(t => t.aR), __vite__mapDeps([2, 1, 3]));
    case "locales/translation.nl-NL":
    case "locales/translation.nl-NL.json":
        return it( () => import("./assets-DjJL2vde.js").then(t => t.aS), __vite__mapDeps([2, 1, 3]));
    case "locales/translation.no":
    case "locales/translation.no.json":
        return it( () => import("./assets-DjJL2vde.js").then(t => t.aT), __vite__mapDeps([2, 1, 3]));
    case "locales/translation.pl":
    case "locales/translation.pl.json":
        return it( () => import("./assets-DjJL2vde.js").then(t => t.aU), __vite__mapDeps([2, 1, 3]));
    case "locales/translation.pt-BR":
    case "locales/translation.pt-BR.json":
        return it( () => import("./assets-DjJL2vde.js").then(t => t.aV), __vite__mapDeps([2, 1, 3]));
    case "locales/translation.ro":
    case "locales/translation.ro.json":
        return it( () => import("./assets-DjJL2vde.js").then(t => t.aW), __vite__mapDeps([2, 1, 3]));
    case "locales/translation.ru":
    case "locales/translation.ru.json":
        return it( () => import("./assets-DjJL2vde.js").then(t => t.aX), __vite__mapDeps([2, 1, 3]));
    case "locales/translation.sk":
    case "locales/translation.sk.json":
        return it( () => import("./assets-DjJL2vde.js").then(t => t.aY), __vite__mapDeps([2, 1, 3]));
    case "locales/translation.sv":
    case "locales/translation.sv.json":
        return it( () => import("./assets-DjJL2vde.js").then(t => t.aZ), __vite__mapDeps([2, 1, 3]));
    case "locales/translation.ta":
    case "locales/translation.ta.json":
        return it( () => import("./assets-DjJL2vde.js").then(t => t.a_), __vite__mapDeps([2, 1, 3]));
    case "locales/translation.th":
    case "locales/translation.th.json":
        return it( () => import("./assets-DjJL2vde.js").then(t => t.a$), __vite__mapDeps([2, 1, 3]));
    case "locales/translation.tl":
    case "locales/translation.tl.json":
        return it( () => import("./assets-DjJL2vde.js").then(t => t.b0), __vite__mapDeps([2, 1, 3]));
    case "locales/translation.tr-TR":
    case "locales/translation.tr-TR.json":
        return it( () => import("./assets-DjJL2vde.js").then(t => t.b1), __vite__mapDeps([2, 1, 3]));
    case "locales/translation.uk-UA":
    case "locales/translation.uk-UA.json":
        return it( () => import("./assets-DjJL2vde.js").then(t => t.b2), __vite__mapDeps([2, 1, 3]));
    case "locales/translation.ur":
    case "locales/translation.ur.json":
        return it( () => import("./assets-DjJL2vde.js").then(t => t.b3), __vite__mapDeps([2, 1, 3]));
    case "locales/translation.vi":
    case "locales/translation.vi.json":
        return it( () => import("./assets-DjJL2vde.js").then(t => t.b4), __vite__mapDeps([2, 1, 3]));
    case "locales/translation.zh-CN":
    case "locales/translation.zh-CN.json":
        return it( () => import("./assets-DjJL2vde.js").then(t => t.b5), __vite__mapDeps([2, 1, 3]));
    case "locales/translation.zh-TW":
    case "locales/translation.zh-TW.json":
        return it( () => import("./assets-DjJL2vde.js").then(t => t.b6), __vite__mapDeps([2, 1, 3]));
    default:
        return new Promise(function(t, n) {
            (typeof queueMicrotask == "function" ? queueMicrotask : setTimeout)(n.bind(null, new Error("Unknown variable dynamic import: " + e)))
        }
        )
    }
}
const is = {
    ar: "ar-EG",
    el: "el-GR",
    en: "en-US",
    es: "es-MX",
    id: "id-ID",
    ko: "ko-KR",
    nl: "nl-NL",
    pt: "pt-BR",
    tr: "tr-TR",
    uk: "uk-UA",
    zh: "zh-CN"
};
function gB(e) {
    if (e in Sr)
        return e;
    if (e in is)
        return is[e];
    const t = e.split("-")[0];
    return t in Sr ? t : t in is ? is[t] : e
}
Es.on("languageChanged", e => document.documentElement.lang = e);
Es.use(Y0).use(z0).use(pB).init({
    compatibilityJSON: "v3",
    fallbackLng: {
        default: ["en-US"]
    },
    resources: {
        "en-US": K1
    },
    partialBundledLanguages: !0,
    detection: {
        lookupQuerystring: "language",
        convertDetectedLanguage: gB
    },
    load: "currentOnly",
    supportedLngs: Object.keys(Sr),
    interpolation: {
        escapeValue: !1
    },
    react: {
        bindI18n: "languageChanged loaded",
        bindI18nStore: "added removed",
        nsMode: "default",
        useSuspense: !1
    },
    debug: !1
});
K0({
    release: "persona-web-inquiry@13fb53b8b01-vite",
    environment: /^(.+\.)?withpersona-staging\.com$/i.test(window.location.hostname) ? "staging" : "production",
    dsn: "https://233a1fa0fc38474f8743ec12dbe3f2a4@o175220.ingest.sentry.io/5579484",
    ignoreErrors: ["TypeError: Load failed", "Failed to execute 'removeChild' on 'Node': The node to be removed is not a child of this node.", "Node.removeChild: The node to be removed is not a child of this node", "Error: No error message", "[IGNORED]", 'Could not load "util"', 'Could not load "stats".', "ResizeObserver loop limit exceeded", "ResizeObserver loop completed with undelivered notifications", "The operation couldnt be completed. Software caused connection abort", "Unexpected end of input", /^NotAllowedError/, "NotFoundError: Requested device not found", "TypeError: Cannot redefine property:", "can't access dead object", /^Failed to fetch$/, "ReferenceError: Can't find variable: zaloJSV2", "ReferenceError: zaloJSV2 is not defined", /LPContentScriptFeatures/, /metamask/, /Could not inject \w+ provider because it's not your default extension/, "ethereum", "solana", "webkit-masked-url://hidden/", /get-frame-manager-configuration/, "Not implemented on this platform", "Object Not Found Matching Id:", "grecaptcha", "__ybHasBeenPasswordField", "getReadModeRender", "getReadModeExtract", "getReadModeConfig", "window.webkit.messageHandlers"],
    beforeSend: (e, t) => {
        const {originalException: n} = t;
        return n instanceof Wl ? null : bB(e)
    }
});
switch ("production") {
case "test":
case "development":
    break;
case "production":
    Bi.getInstance().init("8f9fcc63055c35a7ba867e38e0738939", void 0, {
        storage: "none",
        saveEvents: !1
    });
    break
}
function bB(e) {
    return e.tags = {
        ...e.tags,
        rate_based: "True"
    },
    e
}
class CB extends f.Component {
    constructor() {
        super(...arguments),
        this.state = {
            hasError: !1
        }
    }
    render() {
        return i.jsx(i.Fragment, {
            children: i.jsxs(f.StrictMode, {
                children: [i.jsx(YM, {}), i.jsx(Q0, {
                    store: this.store,
                    children: i.jsx(Z0, {
                        history: this.history,
                        children: i.jsx(WM, {})
                    })
                })]
            })
        })
    }
    get history() {
        return this.props.history || Yd
    }
    get store() {
        return this.props.store || hB
    }
}
document.getElementById("inquiry-preload-no-op") || J0.render(i.jsx(CB, {}), document.getElementById("main-application"));
export {J as E, Tn as F, m_ as L, We as M, ct as T, xB as __vite_legacy_guard, ot as a, rt as u};
//# sourceMappingURL=inquiry-BqPZ-YU_.js.map
